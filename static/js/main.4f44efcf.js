/*! For license information please see main.4f44efcf.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},95:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AuthAdminApi:()=>Tt,AuthApiError:()=>We,AuthClient:()=>Pt,AuthError:()=>He,AuthImplicitGrantRedirectError:()=>Ze,AuthInvalidCredentialsError:()=>Qe,AuthInvalidTokenResponseError:()=>Xe,AuthPKCEGrantCodeExchangeError:()=>tt,AuthRetryableFetchError:()=>nt,AuthSessionMissingError:()=>Ke,AuthUnknownError:()=>Ye,AuthWeakPasswordError:()=>it,CustomAuthError:()=>Ge,FunctionRegion:()=>o,FunctionsError:()=>s,FunctionsFetchError:()=>i,FunctionsHttpError:()=>r,FunctionsRelayError:()=>a,GoTrueAdminApi:()=>yt,GoTrueClient:()=>Ct,NavigatorLockAcquireTimeoutError:()=>jt,PostgrestError:()=>g,REALTIME_CHANNEL_STATES:()=>U,REALTIME_LISTEN_TYPES:()=>F,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:()=>z,REALTIME_PRESENCE_LISTEN_EVENTS:()=>D,REALTIME_SUBSCRIBE_STATES:()=>$,RealtimeChannel:()=>H,RealtimeClient:()=>q,RealtimePresence:()=>B,SupabaseClient:()=>Mt,createClient:()=>Rt,isAuthApiError:()=>qe,isAuthError:()=>Ve,isAuthImplicitGrantRedirectError:()=>et,isAuthRetryableFetchError:()=>st,isAuthSessionMissingError:()=>Je,isAuthWeakPasswordError:()=>at,lockInternals:()=>_t,navigatorLock:()=>Nt});class s extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class i extends s{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends s{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class r extends s{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};class c{constructor(e){let{headers:t={},customFetch:s,region:i=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:s,method:o,body:l}=t;let c,d={},{region:u}=t;u||(u=this.region),u&&"any"!==u&&(d["x-region"]=u),l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",c=l):"string"===typeof l?(d["Content-Type"]="text/plain",c=l):"undefined"!==typeof FormData&&l instanceof FormData?c=l:(d["Content-Type"]="application/json",c=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:c}).catch((e=>{throw new i(e)})),f=h.headers.get("x-relay-error");if(f&&"true"===f)throw new a(h);if(!h.ok)throw new r(h);let m,p=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return m="application/json"===p?yield h.json():"application/octet-stream"===p?yield h.blob():"text/event-stream"===p?h:"multipart/form-data"===p?yield h.formData():yield h.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}}))}}var d=n(980);const{PostgrestClient:u,PostgrestQueryBuilder:h,PostgrestFilterBuilder:f,PostgrestTransformBuilder:m,PostgrestBuilder:p,PostgrestError:g}=d,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,x,_,w,j;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(x||(x={})),function(e){e.websocket="websocket"}(_||(_={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(w||(w={}));class N{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const r=n.decode(e.slice(a,a+s));a+=s;const o=n.decode(e.slice(a,a+i));a+=i;return{ref:null,topic:r,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class k{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(j||(j={}));const S=function(e,t){var n;const s=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,i)=>(n[i]=E(i,e,t,s),n)),{})},E=(e,t,n,s)=>{const i=t.find((t=>t.name===e)),a=null===i||void 0===i?void 0:i.type,r=n[e];return a&&!s.includes(a)?C(a,r):T(r)},C=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return M(t,n)}switch(e){case j.bool:return P(t);case j.float4:case j.float8:case j.int2:case j.int4:case j.int8:case j.numeric:case j.oid:return A(t);case j.json:case j.jsonb:return O(t);case j.timestamp:return R(t);case j.abstime:case j.date:case j.daterange:case j.int4range:case j.int8range:case j.money:case j.reltime:case j.text:case j.time:case j.timestamptz:case j.timetz:case j.tsrange:case j.tstzrange:default:return T(t)}},T=e=>e,P=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},M=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,s=e[n];if("{"===e[0]&&"}"===s){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch(i){s=a?a.split(","):[]}return s.map((e=>C(t,e)))}return e},R=e=>"string"===typeof e?e.replace(" ","T"):e,I=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class L{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D,z,F,$;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(D||(D={}));class B{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=B.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=B.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],s()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=B.syncDiff(this.state,e,t,n),s())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),r={},o={};return this.map(i,((e,t)=>{a[e]||(o[e]=t)})),this.map(a,((e,t)=>{const n=i[e];if(n){const s=t.map((e=>e.presence_ref)),i=n.map((e=>e.presence_ref)),a=t.filter((e=>i.indexOf(e.presence_ref)<0)),l=n.filter((e=>s.indexOf(e.presence_ref)<0));a.length>0&&(r[e]=a),l.length>0&&(o[e]=l)}else r[e]=t})),this.syncDiff(i,{joins:r,leaves:o},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,((t,s)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(s),a.length>0){const n=e[t].map((e=>e.presence_ref)),s=a.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...s)}n(t,a,s)})),this.map(a,((t,n)=>{let i=e[t];if(!i)return;const a=n.map((e=>e.presence_ref));i=i.filter((e=>a.indexOf(e.presence_ref)<0)),e[t]=i,s(t,i,n),0===i.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const s=e[n];return t[n]="metas"in s?s.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):s,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(z||(z={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(F||(F={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}($||($={}));const U=b;class H{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new L(this,x.join,this.params,this.timeout),this.rejoinTimer=new k((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(x.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new B(this),this.broadcastEndpointURL=I(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:r}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e($.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e($.CLOSED)));const o={},l={broadcast:i,presence:a,postgres_changes:null!==(s=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==s?s:[],private:r};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var s;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(s=null===t||void 0===t?void 0:t.length)&&void 0!==s?s:0,a=[];for(let s=0;s<i;s++){const i=t[s],{filter:{event:r,schema:o,table:l,filter:c}}=i,d=n&&n[s];if(!d||d.event!==r||d.schema!==o||d.table!==l||d.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e($.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:d.id}))}return this.bindings.postgres_changes=a,void(e&&e($.SUBSCRIBED))}null===e||void 0===e||e($.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e($.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e($.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,s;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var s,i,a;const r=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(s=this.params)||void 0===s?void 0:s.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),r.receive("ok",(()=>n("ok"))),r.receive("error",(()=>n("error"))),r.receive("timeout",(()=>n("timed out")))}));{const{event:a,payload:r}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(s=e.body)||void 0===s?void 0:s.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(x.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const s=new L(this,x.leave,{},e);s.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),s.send(),this._canPush()||s.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout((()=>s.abort()),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new L(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:r,error:o,leave:l,join:c}=x;if(n&&[r,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let d=this._onMessage(a,t,n);if(t&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(s=this.bindings.postgres_changes)||void 0===s||s.filter((e=>{var t,n,s;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(s=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===s?void 0:s.toLocaleLowerCase())===a})).map((e=>e.callback(d,n))):null===(i=this.bindings[a])||void 0===i||i.filter((e=>{var n,s,i,r,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,r=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(s=t.ids)||void 0===s?void 0:s.includes(a))&&("*"===r||(null===r||void 0===r?void 0:r.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(r=null===e||void 0===e?void 0:e.filter)||void 0===r?void 0:r.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a})).map((e=>{if("object"===typeof d&&"ids"in d){const e=d.data,{schema:t,table:n,commit_timestamp:s,type:i,errors:a}=e,r={schema:t,table:n,commit_timestamp:s,eventType:i,new:{},old:{},errors:a};d=Object.assign(Object.assign({},r),this._getPayloadRecords(e))}e.callback(d,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var s;return!((null===(s=e.type)||void 0===s?void 0:s.toLocaleLowerCase())===n&&H.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(x.close,{},e)}_onError(e){this._on(x.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=S(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=S(e.columns,e.old_record)),t}}const V=()=>{},W="undefined"!==typeof WebSocket;class q{constructor(e,t){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=V,this.conn=null,this.sendBuffer=[],this.serializer=new N,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${_.websocket}`,this.httpEndpoint=I(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(s=null===t||void 0===t?void 0:t.params)||void 0===s?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new k((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(W)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new Y(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return w.Connecting;case y.open:return w.Open;case y.closing:return w.Closing;default:return w.Closed}}isConnected(){return this.connectionState()===w.Open}channel(e){const t=new H(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(x.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:s,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,s),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,s,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(x.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class Y{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class G extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class J extends G{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class X extends G{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Q=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const Z=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},ee=e=>{if(Array.isArray(e))return e.map((e=>ee(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,s]=e;const i=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[i]=ee(s)})),t};var te=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const ne=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),se=(e,t,s)=>te(void 0,void 0,void 0,(function*(){const i=yield Q(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof i&&!(null===s||void 0===s?void 0:s.noResolveJson)?e.json().then((n=>{t(new J(ne(n),e.status||500))})).catch((e=>{t(new X(ne(e),e))})):t(new X(ne(e),e))}));function ie(e,t,n,s,i,a){return te(this,void 0,void 0,(function*(){return new Promise(((r,o)=>{e(n,((e,t,n,s)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))})(t,s,i,a)).then((e=>{if(!e.ok)throw e;return(null===s||void 0===s?void 0:s.noResolveJson)?e:e.json()})).then((e=>r(e))).catch((e=>se(e,o,s)))}))}))}function ae(e,t,n,s){return te(this,void 0,void 0,(function*(){return ie(e,"GET",t,n,s)}))}function re(e,t,n,s,i){return te(this,void 0,void 0,(function*(){return ie(e,"POST",t,s,i,n)}))}function oe(e,t,n,s,i){return te(this,void 0,void 0,(function*(){return ie(e,"DELETE",t,s,i,n)}))}var le=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const ce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},de={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Z(s)}uploadOrUpdate(e,t,n,s){return le(this,void 0,void 0,(function*(){try{let i;const a=Object.assign(Object.assign({},de),s);let r=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,r["cache-control"]=`max-age=${a.cacheControl}`,r["content-type"]=a.contentType,o&&(r["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===s||void 0===s?void 0:s.headers)&&(r=Object.assign(Object.assign({},r),s.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),d=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:r},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{})),u=yield d.json();if(d.ok)return{data:{path:l,id:u.Id,fullPath:u.Key},error:null};return{data:null,error:u}}catch(i){if(K(i))return{data:null,error:i};throw i}}))}upload(e,t,n){return le(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,s){return le(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),r=new URL(this.url+`/object/upload/sign/${a}`);r.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:de.upsert},s),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);const o=yield this.fetch(r.toString(),{method:"PUT",body:e,headers:a}),l=yield o.json();if(o.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(K(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return le(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(s["x-upsert"]="true");const i=yield re(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),r=a.searchParams.get("token");if(!r)throw new G("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:r},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}update(e,t,n){return le(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return le(this,void 0,void 0,(function*(){try{return{data:yield re(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}))}copy(e,t,n){return le(this,void 0,void 0,(function*(){try{return{data:{path:(yield re(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}))}createSignedUrl(e,t,n){return le(this,void 0,void 0,(function*(){try{let s=this._getFinalPath(e),i=yield re(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}))}createSignedUrls(e,t,n){return le(this,void 0,void 0,(function*(){try{const s=yield re(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:s.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null}))),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}))}download(e,t){return le(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=s?`?${s}`:"";try{const t=this._getFinalPath(e),s=yield ae(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield s.blob(),error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}}))}info(e){return le(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ae(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ee(e),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}exists(e){return le(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,s){return te(this,void 0,void 0,(function*(){return ie(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(K(n)&&n instanceof X){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&s.push(i);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==r&&s.push(r);let o=s.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return le(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}list(e,t,n){return le(this,void 0,void 0,(function*(){try{const s=Object.assign(Object.assign(Object.assign({},ce),t),{prefix:e||""});return{data:yield re(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(K(s))return{data:null,error:s};throw s}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const he={"X-Client-Info":"storage-js/2.7.1"};var fe=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};class me{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},he),t),this.fetch=Z(n)}listBuckets(){return fe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}getBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return fe(this,void 0,void 0,(function*(){try{return{data:yield re(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return fe(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,s,i){return te(this,void 0,void 0,(function*(){return ie(e,"PUT",t,s,i,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield re(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return fe(this,void 0,void 0,(function*(){try{return{data:yield oe(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}}class pe extends me{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ue(this.url,this.headers,e,this.fetch)}}let ge="";ge="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ve={headers:{"X-Client-Info":`supabase-js-${ge}/2.48.1`}},ye={schema:"public"},be={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xe={};var _e=n(630),we=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const je=e=>{let t;return t=e||("undefined"===typeof fetch?_e.default:fetch),function(){return t(...arguments)}},Ne=(e,t,n)=>{const s=je(n),i="undefined"===typeof Headers?_e.Headers:Headers;return(n,a)=>we(void 0,void 0,void 0,(function*(){var r;const o=null!==(r=yield t())&&void 0!==r?r:e;let l=new i(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),s(n,Object.assign(Object.assign({},a),{headers:l}))}))};var ke=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};const Se="2.67.3",Ee={"X-Client-Info":`gotrue-js/${Se}`},Ce="X-Supabase-Api-Version",Te={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"};const Pe=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ae={tested:!1,writable:!1},Oe=()=>{if(!Pe())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ae.tested)return Ae.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ae.tested=!0,Ae.writable=!0}catch(t){Ae.tested=!0,Ae.writable=!1}return Ae.writable};const Me=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},Re=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ie=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(s){return n}},Le=async(e,t)=>{await e.removeItem(t)};class De{constructor(){this.promise=new De.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function ze(e){const t=e.split(".");if(3!==t.length)throw new Error("JWT is not valid: not a JWT structure");if(!/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=t[1];return JSON.parse(function(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n,s,i,a,r,o,l,c="",d=0;for(e=e.replace("-","+").replace("_","/");d<e.length;)a=t.indexOf(e.charAt(d++)),r=t.indexOf(e.charAt(d++)),o=t.indexOf(e.charAt(d++)),l=t.indexOf(e.charAt(d++)),n=a<<2|r>>4,s=(15&r)<<4|o>>2,i=(3&o)<<6|l,c+=String.fromCharCode(n),64!=o&&0!=s&&(c+=String.fromCharCode(s)),64!=l&&0!=i&&(c+=String.fromCharCode(i));return c}(n))}function Fe(e){return("0"+e.toString(16)).substr(-2)}async function $e(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Be(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let s=0;s<56;s++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Fe).join("")}();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Re(e,`${t}-code-verifier`,i);const a=await $e(s);return[a,s===a?"plain":"s256"]}De.promiseConstructor=Promise;const Ue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;class He extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Ve(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class We extends He{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function qe(e){return Ve(e)&&"AuthApiError"===e.name}class Ye extends He{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ge extends He{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class Ke extends Ge{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Je(e){return Ve(e)&&"AuthSessionMissingError"===e.name}class Xe extends Ge{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qe extends Ge{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ze extends Ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function et(e){return Ve(e)&&"AuthImplicitGrantRedirectError"===e.name}class tt extends Ge{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nt extends Ge{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function st(e){return Ve(e)&&"AuthRetryableFetchError"===e.name}class it extends Ge{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}function at(e){return Ve(e)&&"AuthWeakPasswordError"===e.name}var rt=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};const ot=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lt=[502,503,504];async function ct(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new nt(ot(e),0);if(lt.includes(e.status))throw new nt(ot(e),e.status);let s,i;try{s=await e.json()}catch(r){throw new Ye(ot(r),r)}const a=function(e){const t=e.headers.get(Ce);if(!t)return null;if(!t.match(Ue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(r){return null}}(e);if(a&&a.getTime()>=Te.timestamp&&"object"===typeof s&&s&&"string"===typeof s.code?i=s.code:"object"===typeof s&&s&&"string"===typeof s.error_code&&(i=s.error_code),i){if("weak_password"===i)throw new it(ot(s),e.status,(null===(t=s.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Ke}else if("object"===typeof s&&s&&"object"===typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new it(ot(s),e.status,s.weak_password.reasons);throw new We(ot(s),e.status||500,i)}async function dt(e,t,n,s){var i;const a=Object.assign({},null===s||void 0===s?void 0:s.headers);a[Ce]||(a[Ce]=Te.name),(null===s||void 0===s?void 0:s.jwt)&&(a.Authorization=`Bearer ${s.jwt}`);const r=null!==(i=null===s||void 0===s?void 0:s.query)&&void 0!==i?i:{};(null===s||void 0===s?void 0:s.redirectTo)&&(r.redirect_to=s.redirectTo);const o=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await async function(e,t,n,s,i,a){const r=((e,t,n,s)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))})(t,s,i,a);let o;try{o=await e(n,Object.assign({},r))}catch(l){throw console.error(l),new nt(ot(l),0)}o.ok||await ct(o);if(null===s||void 0===s?void 0:s.noResolveJson)return o;try{return await o.json()}catch(l){await ct(l)}}(e,t,n+o,{headers:a,noResolveJson:null===s||void 0===s?void 0:s.noResolveJson},{},null===s||void 0===s?void 0:s.body);return(null===s||void 0===s?void 0:s.xform)?null===s||void 0===s?void 0:s.xform(l):{data:Object.assign({},l),error:null}}function ut(e){var t;let n=null;var s;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(s=e.expires_in,Math.round(Date.now()/1e3)+s)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function ht(e){const t=ut(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function ft(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function mt(e){return{data:e,error:null}}function pt(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,r=rt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},user:Object.assign({},r)},error:null}}function gt(e){return e}var vt=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};class yt{constructor(e){let{url:t="",headers:n={},fetch:s}=e;this.url=t,this.headers=n,this.fetch=Me(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await dt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ft})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=vt(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=null===n||void 0===n?void 0:n.newEmail,delete s.newEmail),await dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pt,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Ve(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ft})}catch(t){if(Ve(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,r,o;try{const l={nextPage:null,lastPage:0,total:0},c=await dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(s=null===e||void 0===e?void 0:e.perPage)||void 0===s?void 0:s.toString())&&void 0!==i?i:""},xform:gt});if(c.error)throw c.error;const d=await c.json(),u=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(r=c.headers.get("link"))||void 0===r?void 0:r.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(u)),{data:Object.assign(Object.assign({},d),l),error:null}}catch(l){if(Ve(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ft})}catch(t){if(Ve(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ft})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ft})}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}}const bt={getItem:e=>Oe()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Oe()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Oe()&&globalThis.localStorage.removeItem(e)}};function xt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const _t={debug:!!(globalThis&&Oe()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class wt extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class jt extends wt{}async function Nt(e,t,n){_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout((()=>{s.abort(),_t.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},(async s=>{if(!s){if(0===t)throw _t.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new jt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(_t.debug)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{_t.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const kt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ee,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},St=3e4;async function Et(e,t,n){return await n()}class Ct{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ct.nextInstanceID,Ct.nextInstanceID+=1,this.instanceID>0&&Pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kt),e);if(this.logDebugMessages=!!s.debug,"function"===typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new yt({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Me(s.fetch),this.lock=s.lock||Et,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Pe()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Nt:this.lock=Et,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Oe()?this.storage=bt:(this.memoryStorage={},this.storage=xt(this.memoryStorage)):(this.memoryStorage={},this.storage=xt(this.memoryStorage)),Pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Se}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(s){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Pe()&&this.detectSessionInUrl&&"none"!==n){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),et(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:r}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",r),await this._saveSession(a),setTimeout((async()=>{"recovery"===r?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Ve(t)?{error:t}:{error:new Ye("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(s=null===e||void 0===e?void 0:e.options)||void 0===s?void 0:s.captchaToken}},xform:ut}),{data:a,error:r}=i;if(r||!a)return{data:{user:null,session:null},error:r};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:n,password:s,options:a}=e;let r=null,o=null;"pkce"===this.flowType&&([r,o]=await Be(this.storage,this.storageKey)),i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:s,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:r,code_challenge_method:o},xform:ut})}else{if(!("phone"in e))throw new Qe("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:r}=e;i=await dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken}},xform:ut})}}const{data:a,error:r}=i;if(r||!a)return{data:{user:null,session:null},error:r};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(Ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:s,options:i}=e;t=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:s,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ht})}else{if(!("phone"in e))throw new Qe("You must provide either an email or phone number and a password");{const{phone:n,password:s,options:i}=e;t=await dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:s,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:ht})}}const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s}):{data:{user:null,session:null},error:new Xe}}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(s=e.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Ie(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ut});if(await Le(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==s&&void 0!==s?s:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Xe}}catch(i){if(Ve(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,r=await dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:ut}),{data:o,error:l}=r;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Xe}}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:s,options:i}=e;let a=null,r=null;"pkce"===this.flowType&&([a,r]=await Be(this.storage,this.storageKey));const{error:o}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:r},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:r,error:o}=await dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(s=null===n||void 0===n?void 0:n.data)&&void 0!==s?s:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===r||void 0===r?void 0:r.message_id},error:o}}throw new Qe("You must provide either an email or phone number.")}catch(r){if(Ve(r))return{data:{user:null,session:null},error:r};throw r}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:r}=await dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(r)throw r;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(s){if(Ve(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await Be(this.storage,this.storageKey)),await dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(s=null===e||void 0===e?void 0:e.options)||void 0===s?void 0:s.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:mt})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Ke;const{error:s}=await dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(Ve(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await dt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:r}=await dt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:r}}throw new Qe("You must provide either an email or phone number and a type")}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ie(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&e.expires_at<=Date.now()/1e3;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,s)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,s))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ft}):await this._useSession((async e=>{var t,n,s;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(s=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==s?s:void 0,xform:ft}):{data:{user:null},error:new Ke}}))}catch(t){if(Ve(t))return Je(t)&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Ke;const a=s.session;let r=null,o=null;"pkce"===this.flowType&&null!=e.email&&([r,o]=await Be(this.storage,this.storageKey));const{data:l,error:c}=await dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:r,code_challenge_method:o}),jwt:a.access_token,xform:ft});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(Ve(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return ze(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ke;const t=Date.now()/1e3;let n=t,s=!0,i=null;const a=ze(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:s,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:s.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Ve(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:s,error:i}=t;if(i)throw i;e=null!==(n=s.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Ke;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Ve(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Pe())throw new Ze("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ze(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new tt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Ze("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tt("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const s=new URL(window.location.href);return s.searchParams.delete("code"),window.history.replaceState(window.history.state,"",s.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:r,expires_at:o,token_type:l}=e;if(!i||!r||!a||!l)throw new Ze("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(r);let u=c+d;o&&(u=parseInt(o));const h=u-c;1e3*h<=St&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const f=u-d;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,u,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,u,c);const{data:m,error:p}=await this._getUser(i);if(p)throw p;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:u,refresh_token:a,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ie(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=null===(n=s.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!qe(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Le(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,s;try{const{data:{session:s},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(i){await(null===(s=this.stateChangeEmitters.get(e))||void 0===s?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,s=null;"pkce"===this.flowType&&([n,s]=await Be(this.storage,this.storageKey,!0));try{return await dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Ve(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession((async t=>{var n,s,i,a,r;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(s=e.options)||void 0===s?void 0:s.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await dt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(r=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==r?r:void 0})}));if(s)throw s;return Pe()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Ve(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(s=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==s?s:void 0})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),s=(e,t)=>{const n=200*Math.pow(2,e);return t&&st(t)&&Date.now()+n-i<St},new Promise(((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!s(a,null,t))return void e(t)}catch(i){if(!s(a,i))return void t(i)}})()})))}catch(i){if(this._debug(t,"error",i),Ve(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,s}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Pe()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await Ie(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const s=Math.round(Date.now()/1e3),i=(null!==(e=n.expires_at)&&void 0!==e?e:1/0)<s+10;if(this._debug(t,`session has${i?"":" not"} expired with margin of 10s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),st(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Ke;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new De;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Ke;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const s={session:t.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(s,"error",i),Ve(i)){const e={session:null,error:i};return st(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(i){s.push(i)}}));if(await Promise.all(i),s.length>0){for(let e=0;e<s.length;e+=1)console.error(s[e]);throw s[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Re(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Le(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Pe()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),St);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const s=Math.floor((1e3*n.expires_at-t)/St);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),s<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof wt))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pe()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await Be(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});s.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);s.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const r=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await dt(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(s=null===o||void 0===o?void 0:o.totp)||void 0===s?void 0:s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:r}=await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token});return r?{data:null,error:r}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:r})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===s||void 0===s?void 0:s.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Ve(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],s=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),i=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const a=this._decodeJWT(s.access_token);let r=null;a.aal&&(r=a.aal);let o=r;(null!==(n=null===(t=s.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:r,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))))}}Ct.nextInstanceID=0;const Tt=yt,Pt=Ct;class At extends Pt{constructor(e){super(e)}}var Ot=function(e,t,n,s){return new(n||(n=Promise))((function(i,a){function r(e){try{l(s.next(e))}catch(t){a(t)}}function o(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,o)}l((s=s.apply(e,t||[])).next())}))};class Mt{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const r=e.replace(/\/$/,"");this.realtimeUrl=`${r}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${r}/auth/v1`,this.storageUrl=`${r}/storage/v1`,this.functionsUrl=`${r}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:s,realtime:i,global:a}=e,{db:r,auth:o,realtime:l,global:c}=t,d={db:Object.assign(Object.assign({},r),n),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),a),accessToken:()=>ke(this,void 0,void 0,(function*(){return""}))};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!==n&&void 0!==n?n:{},{db:ye,realtime:xe,auth:Object.assign(Object.assign({},be),{storageKey:o}),global:ve});this.storageKey=null!==(s=l.auth.storageKey)&&void 0!==s?s:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=Ne(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new u(`${r}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Ot(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:s,persistSession:i,detectSessionInUrl:a,storage:r,storageKey:o,flowType:l,lock:c,debug:d}=e;const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new At({url:this.authUrl,headers:Object.assign(Object.assign({},u),t),storageKey:o,autoRefreshToken:s,persistSession:i,detectSessionInUrl:a,storage:r,flowType:l,lock:c,debug:d,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const Rt=(e,t,n)=>new Mt(e,t,n)},139:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=r(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)s.call(e,n)&&e[n]&&(t=r(t,n));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var s=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var s,a={},c=null,d=null;for(s in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,s)&&!l.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===a[s]&&(a[s]=t[s]);return{$$typeof:i,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,s){var i,a={},r=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)w.call(t,i)&&!N.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=s;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:r,ref:o,props:a,_owner:j.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,a,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case s:l=!0}}if(l)return r=r(l=e),e=""===a?"."+C(l,0):a,_(r)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),T(r,t,i,"",(function(e){return e}))):null!=r&&(S(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,i+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(E,"$&/")+"/")+e)),t.push(r)),1;if(l=0,a=""===a?".":a+":",_(e))for(var c=0;c<e.length;c++){var d=a+C(o=e[c],c);l+=T(o,t,i,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,d=a+C(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var s=[],i=0;return T(e,s,"","",(function(e){return t.call(n,e,i++)})),s}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},M={transition:null},R={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:M,ReactCurrentOwner:j};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=r,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=I,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),a=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=s;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:r,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(829)),a=s(n(736)),r=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:s=!1,get:i=!1,count:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;s||i?(t=s?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;o.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var s=n-1>>>1,i=e[s];if(!(0<a(i,t)))break e;e[s]=t,e[n]=i,n=s}}function s(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,i=e.length,r=i>>>1;s<r;){var o=2*(s+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<i&&0>a(d,l)?(e[s]=d,e[c]=n,s=c):(e[s]=l,e[o]=n,s=o);else{if(!(c<i&&0>a(d,n)))break e;e[s]=d,e[c]=n,s=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,f=3,m=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=s(d);null!==t;){if(null===t.callback)i(d);else{if(!(t.startTime<=e))break;i(d),t.sortIndex=t.expirationTime,n(c,t)}t=s(d)}}function _(e){if(g=!1,x(e),!p)if(null!==s(c))p=!0,M(w);else{var t=s(d);null!==t&&R(_,t.startTime-e)}}function w(e,n){p=!1,g&&(g=!1,y(S),S=-1),m=!0;var a=f;try{for(x(n),h=s(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var r=h.callback;if("function"===typeof r){h.callback=null,f=h.priorityLevel;var o=r(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===s(c)&&i(c),x(n)}else i(c);h=s(c)}if(null!==h)var l=!0;else{var u=s(d);null!==u&&R(_,u.startTime-n),l=!1}return l}finally{h=null,f=a,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,k=null,S=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function P(){if(null!==k){var e=t.unstable_now();C=e;var n=!0;try{n=k(!0,e)}finally{n?j():(N=!1,k=null)}}else N=!1}if("function"===typeof b)j=function(){b(P)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=P,j=function(){O.postMessage(null)}}else j=function(){v(P,0)};function M(e){k=e,N||(N=!0,j())}function R(e,n){S=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var r=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?r+a:r:a=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>r?(e.sortIndex=a,n(d,e),null===s(c)&&e===s(d)&&(g?(y(S),S=-1):g=!0,R(_,a-r))):(e.sortIndex=o,n(c,e),p||m||(p=!0,M(w))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},286:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(630)),a=s(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,s;let i=null,r=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(r="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const s=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");s&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(r)&&(r.length>1?(i={code:"PGRST116",details:`Results contain ${r.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,o=null,l=406,c="Not Acceptable"):r=1===r.length?r[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(r=[],i=null,l=200,c="OK")}catch(d){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(s=null===i||void 0===i?void 0:i.details)||void 0===s?void 0:s.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:r,count:o,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,s;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(s=null===e||void 0===e?void 0:e.code)&&void 0!==s?s:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}}},374:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(286));class a extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i?`${i}.order`:"order",r=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${r?`${r},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:s=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof s?"offset":`${s}.offset`,a="undefined"===typeof s?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(r=this.headers.Accept)&&void 0!==r?r:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,n)=>{"use strict";var s=n(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var s=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,r){if(r!==s){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>r,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>i});var s=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=s.fetch,a=s.fetch.bind(s),r=s.Headers,o=s.Request,l=s.Response},730:(e,t,n)=>{"use strict";var s=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,n,s,i,a,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,s){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,s){if(null===t||"undefined"===typeof t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,s)&&(n=null),s||null===i?function(e){return!!u.call(m,e)||!u.call(f,e)&&(h.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,s=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,D=Object.assign;function z(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function $(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=s.stack.split("\n"),r=i.length-1,o=a.length-1;1<=r&&0<=o&&i[r]!==a[o];)o--;for(;1<=r&&0<=o;r--,o--)if(i[r]!==a[o]){if(1!==r||1!==o)do{if(r--,0>--o||i[r]!==a[o]){var l="\n"+i[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case w:return"Portal";case k:return"Profiler";case N:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){s=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=W(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){X(e,t);var n=V(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(s&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),s=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=pe(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function ke(e){if(e=bi(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Se(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Ee(){if(je){var e=je,t=Ne;if(Ne=je=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Pe=!1;function Ae(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==je||null!==Ne)&&(Te(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var s=_i(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Me=!1;if(d)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(de){Me=!1}function Ie(e,t,n,s,i,a,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,De=null,ze=!1,Fe=null,$e={onError:function(e){Le=!0,De=e}};function Be(e,t,n,s,i,a,r,o,l){Le=!1,De=null,Ie.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(s=i.return)){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Ve(i),e;if(r===s)return Ve(i),t;r=r.sibling}throw Error(a(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,s=r;break}if(l===s){o=!0,s=i,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,s=i;break}if(l===s){o=!0,s=r,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==s)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,st=i.unstable_IdlePriority,it=null,at=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~i;0!==o?s=ut(o):0!==(a&=r)&&(s=ut(a))}else 0!==(r=n&~i)?s=ut(r):0!==a&&(s=ut(a));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&s)&&(s|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)i=1<<(n=31-rt(t)),s|=e[n],t&=~i;return s}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-rt(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,wt,jt,Nt,kt,St=!1,Et=[],Ct=null,Tt=null,Pt=null,At=new Map,Ot=new Map,Mt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,s,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&wt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){jt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var s=new(n=e.nativeEvent).constructor(n.type,n);xe=s,n.target.dispatchEvent(s),xe=null,t.shift()}return!0}function Ft(e,t,n){zt(e)&&n.delete(t)}function $t(){St=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Pt&&zt(Pt)&&(Pt=null),At.forEach(Ft),Ot.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var s=Et[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==Pt&&Bt(Pt,e),At.forEach(t),Ot.forEach(t),n=0;n<Mt.length;n++)(s=Mt[n]).blockedOn===e&&(s.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Mt.shift()}var Ht=x.ReactCurrentBatchConfig,Vt=!0;function Wt(e,t,n,s){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Yt(e,t,n,s)}finally{bt=i,Ht.transition=a}}function qt(e,t,n,s){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Yt(e,t,n,s)}finally{bt=i,Ht.transition=a}}function Yt(e,t,n,s){if(Vt){var i=Kt(e,t,n,s);if(null===i)Vs(e,t,s,Gt,n),It(e,s);else if(function(e,t,n,s,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,s,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,s,i),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Lt(At.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,s,i)),!0}return!1}(i,e,t,n,s))s.stopPropagation();else if(It(e,s),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&_t(a),null===(a=Kt(e,t,n,s))&&Vs(e,t,s,Gt,n),a===i)break;i=a}null!==i&&s.stopPropagation()}else Vs(e,t,s,null,n)}}var Gt=null;function Kt(e,t,n,s){if(Gt=null,null!==(e=yi(e=_e(s))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Xt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,s=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<s&&n[e]===i[e];e++);var r=s-e;for(t=1;t<=r&&n[s-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function sn(){return!1}function an(e){function t(t,n,s,i,a){for(var r in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(i):i[r]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:sn,this.isPropagationStopped=sn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(cn),un=D({},cn,{view:0,detail:0}),hn=an(un),fn=D({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=an(fn),pn=an(D({},fn,{dataTransfer:0})),gn=an(D({},un,{relatedTarget:0})),vn=an(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(D({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function kn(){return Nn}var Sn=D({},un,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Sn),Cn=an(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(D({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Pn=an(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Mn=[9,13,27,32],Rn=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var Ln=d&&"TextEvent"in window&&!In,Dn=d&&(!Rn||In&&8<In&&11>=In),zn=String.fromCharCode(32),Fn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,s){Se(s),0<(t=qs(t,"onChange")).length&&(n=new dn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Gn(e){zs(e,0)}function Kn(e){if(Y(xi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Qn;if(d){var Zn="oninput"in document;if(!Zn){var es=document.createElement("div");es.setAttribute("oninput","return;"),Zn="function"===typeof es.oninput}Qn=Zn}else Qn=!1;Xn=Qn&&(!document.documentMode||9<document.documentMode)}function ts(){qn&&(qn.detachEvent("onpropertychange",ns),Yn=qn=null)}function ns(e){if("value"===e.propertyName&&Kn(Yn)){var t=[];Wn(t,Yn,e,_e(e)),Ae(Gn,t)}}function ss(e,t,n){"focusin"===e?(ts(),Yn=n,(qn=t).attachEvent("onpropertychange",ns)):"focusout"===e&&ts()}function is(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Yn)}function as(e,t){if("click"===e)return Kn(t)}function rs(e,t){if("input"===e||"change"===e)return Kn(t)}var os="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(os(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!u.call(t,i)||!os(e[i],t[i]))return!1}return!0}function cs(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ds(e,t){var n,s=cs(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=cs(s)}}function us(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?us(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hs(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(s){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ms(e){var t=hs(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&us(n.ownerDocument.documentElement,n)){if(null!==s&&fs(n))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(s.start,i);s=void 0===s.end?a:Math.min(s.end,i),!e.extend&&a>s&&(i=s,s=a,a=i),i=ds(n,a);var r=ds(n,s);i&&r&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ps=d&&"documentMode"in document&&11>=document.documentMode,gs=null,vs=null,ys=null,bs=!1;function xs(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;bs||null==gs||gs!==G(s)||("selectionStart"in(s=gs)&&fs(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=qs(vs,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gs)))}function _s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ws={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionend:_s("Transition","TransitionEnd")},js={},Ns={};function ks(e){if(js[e])return js[e];if(!ws[e])return e;var t,n=ws[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ns)return js[e]=n[t];return e}d&&(Ns=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);var Ss=ks("animationend"),Es=ks("animationiteration"),Cs=ks("animationstart"),Ts=ks("transitionend"),Ps=new Map,As="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Os(e,t){Ps.set(e,t),l(t,[e])}for(var Ms=0;Ms<As.length;Ms++){var Rs=As[Ms];Os(Rs.toLowerCase(),"on"+(Rs[0].toUpperCase()+Rs.slice(1)))}Os(Ss,"onAnimationEnd"),Os(Es,"onAnimationIteration"),Os(Cs,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(Ts,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ls=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Ds(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,i,r,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var d=De;Le=!1,De=null,ze||(ze=!0,Fe=d)}}(s,t,void 0,e),e.currentTarget=null}function zs(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var r=s.length-1;0<=r;r--){var o=s[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Ds(i,o,c),a=l}else for(r=0;r<s.length;r++){if(l=(o=s[r]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Ds(i,o,c),a=l}}}if(ze)throw e=Fe,ze=!1,Fe=null,e}function Fs(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var s=e+"__bubble";n.has(s)||(Hs(t,e,2,!1),n.add(s))}function $s(e,t,n){var s=0;t&&(s|=4),Hs(n,e,s,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Us(e){if(!e[Bs]){e[Bs]=!0,r.forEach((function(t){"selectionchange"!==t&&(Ls.has(t)||$s(t,!1,e),$s(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bs]||(t[Bs]=!0,$s("selectionchange",!1,t))}}function Hs(e,t,n,s){switch(Jt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),s?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vs(e,t,n,s,i){var a=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var r=s.tag;if(3===r||4===r){var o=s.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===r)for(r=s.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;r=r.return}for(;null!==o;){if(null===(r=yi(o)))return;if(5===(l=r.tag)||6===l){s=a=r;continue e}o=o.parentNode}}s=s.return}Ae((function(){var s=a,i=_e(n),r=[];e:{var o=Ps.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Ss:case Es:case Cs:l=vn;break;case Ts:l=Pn;break;case"scroll":l=hn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=s;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==h&&(null!=(p=Oe(m,h))&&d.push(Ws(m,p,f)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,i),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[mi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=s,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=s),l!==c)){if(d=mn,p="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cn,p="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:xi(l),f=null==c?o:xi(c),(o=new d(p,m+"leave",l,n,i)).target=u,o.relatedTarget=f,p=null,yi(i)===s&&((d=new d(h,m+"enter",c,n,i)).target=f,d.relatedTarget=u,p=d),u=p,l&&c)e:{for(h=c,m=0,f=d=l;f;f=Ys(f))m++;for(f=0,p=h;p;p=Ys(p))f++;for(;0<m-f;)d=Ys(d),m--;for(;0<f-m;)h=Ys(h),f--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ys(d),h=Ys(h)}d=null}else d=null;null!==l&&Gs(r,o,l,d,!1),null!==c&&null!==u&&Gs(r,u,c,d,!0)}if("select"===(l=(o=s?xi(s):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Vn(o))if(Xn)g=rs;else{g=is;var v=ss}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=as);switch(g&&(g=g(e,s))?Wn(r,g,n,i):(v&&v(e,o,s),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=s?xi(s):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gs=v,vs=s,ys=null);break;case"focusout":ys=vs=gs=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,xs(r,n,i);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":xs(r,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Dn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Qt="value"in(Xt=i)?Xt.value:Xt.textContent,Un=!0)),0<(v=qs(s,b)).length&&(b=new xn(b,e,null,n,i),r.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&$n(e,t)?(e=en(),Zt=Qt=Xt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(s=qs(s,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),r.push({event:i,listeners:s}),i.data=y))}zs(r,t)}))}function Ws(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qs(e,t){for(var n=t+"Capture",s=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&s.unshift(Ws(e,a,i)),null!=(a=Oe(e,t))&&s.push(Ws(e,a,i))),e=e.return}return s}function Ys(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gs(e,t,n,s,i){for(var a=t._reactName,r=[];null!==n&&n!==s;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===s)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Oe(n,a))&&r.unshift(Ws(n,l,o)):i||null!=(l=Oe(n,a))&&r.push(Ws(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Ks=/\r\n?/g,Js=/\u0000|\uFFFD/g;function Xs(e){return("string"===typeof e?e:""+e).replace(Ks,"\n").replace(Js,"")}function Qs(e,t,n){if(t=Xs(t),Xs(e)!==t&&n)throw Error(a(425))}function Zs(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var si="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:si;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===s)return e.removeChild(i),void Ut(t);s--}else"$"!==n&&"$?"!==n&&"$!"!==n||s++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),hi="__reactFiber$"+ui,fi="__reactProps$"+ui,mi="__reactContainer$"+ui,pi="__reactEvents$"+ui,gi="__reactListeners$"+ui,vi="__reactHandles$"+ui;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[hi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _i(e){return e[fi]||null}var wi=[],ji=-1;function Ni(e){return{current:e}}function ki(e){0>ji||(e.current=wi[ji],wi[ji]=null,ji--)}function Si(e,t){ji++,wi[ji]=e.current,e.current=t}var Ei={},Ci=Ni(Ei),Ti=Ni(!1),Pi=Ei;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ei;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){ki(Ti),ki(Ci)}function Ri(e,t,n){if(Ci.current!==Ei)throw Error(a(168));Si(Ci,t),Si(Ti,n)}function Ii(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return n;for(var i in s=s.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return D({},n,s)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Pi=Ci.current,Si(Ci,e),Si(Ti,Ti.current),!0}function Di(e,t,n){var s=e.stateNode;if(!s)throw Error(a(169));n?(e=Ii(e,t,Pi),s.__reactInternalMemoizedMergedChildContext=e,ki(Ti),ki(Ci),Si(Ci,e)):ki(Ti),Si(Ti,n)}var zi=null,Fi=!1,$i=!1;function Bi(e){null===zi?zi=[e]:zi.push(e)}function Ui(){if(!$i&&null!==zi){$i=!0;var e=0,t=bt;try{var n=zi;for(bt=1;e<n.length;e++){var s=n[e];do{s=s(!0)}while(null!==s)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ye(Ze,Ui),i}finally{bt=t,$i=!1}}return null}var Hi=[],Vi=0,Wi=null,qi=0,Yi=[],Gi=0,Ki=null,Ji=1,Xi="";function Qi(e,t){Hi[Vi++]=qi,Hi[Vi++]=Wi,Wi=e,qi=t}function Zi(e,t,n){Yi[Gi++]=Ji,Yi[Gi++]=Xi,Yi[Gi++]=Ki,Ki=e;var s=Ji;e=Xi;var i=32-rt(s)-1;s&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var r=i-i%5;a=(s&(1<<r)-1).toString(32),s>>=r,i-=r,Ji=1<<32-rt(t)+i|n<<i|s,Xi=a+e}else Ji=1<<a|n<<i|s,Xi=e}function ea(e){null!==e.return&&(Qi(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=Hi[--Vi],Hi[Vi]=null,qi=Hi[--Vi],Hi[Vi]=null;for(;e===Ki;)Ki=Yi[--Gi],Yi[Gi]=null,Xi=Yi[--Gi],Yi[Gi]=null,Ji=Yi[--Gi],Yi[Gi]=null}var na=null,sa=null,ia=!1,aa=null;function ra(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,sa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,sa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,sa=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=sa;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var s=na;t&&oa(e,t)?ra(s,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!ia)return da(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=sa)){if(la(e))throw ha(),Error(a(418));for(;t;)ra(e,t),t=ci(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){sa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}sa=null}}else sa=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=sa;e;)e=ci(e.nextSibling)}function fa(){sa=na=null,ia=!1}function ma(e){null===aa?aa=[e]:aa.push(e)}var pa=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var s=n.stateNode}if(!s)throw Error(a(147,e));var i=s,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=i.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var s=t.deletions;null===s?(t.deletions=[n],t.flags|=16):s.push(n)}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function r(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags|=2,n):s:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Dc(n,e.mode,s)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,s){var a=n.type;return a===j?u(e,t,n.props.children,s,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&ya(a)===t.type)?((s=i(t,n.props)).ref=ga(e,t,n),s.return=e,s):((s=Rc(n.type,n.key,n.props,null,e.mode,s)).ref=ga(e,t,n),s.return=e,s)}function d(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,s)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,s,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,s,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case w:return(t=zc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function f(e,t,n,s){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,s);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,s):null;case w:return n.key===i?d(e,t,n,s):null;case O:return f(e,t,(i=n._init)(n._payload),s)}if(te(n)||I(n))return null!==i?null:u(e,t,n,s,null);va(e,n)}return null}function m(e,t,n,s,i){if("string"===typeof s&&""!==s||"number"===typeof s)return l(t,e=e.get(n)||null,""+s,i);if("object"===typeof s&&null!==s){switch(s.$$typeof){case _:return c(t,e=e.get(null===s.key?n:s.key)||null,s,i);case w:return d(t,e=e.get(null===s.key?n:s.key)||null,s,i);case O:return m(e,t,n,(0,s._init)(s._payload),i)}if(te(s)||I(s))return u(t,e=e.get(n)||null,s,i,null);va(t,s)}return null}function p(i,a,o,l){for(var c=null,d=null,u=a,p=a=0,g=null;null!==u&&p<o.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var v=f(i,u,o[p],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(i,u),a=r(v,a,p),null===d?c=v:d.sibling=v,d=v,u=g}if(p===o.length)return n(i,u),ia&&Qi(i,p),c;if(null===u){for(;p<o.length;p++)null!==(u=h(i,o[p],l))&&(a=r(u,a,p),null===d?c=u:d.sibling=u,d=u);return ia&&Qi(i,p),c}for(u=s(i,u);p<o.length;p++)null!==(g=m(u,i,p,o[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),a=r(g,a,p),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(i,e)})),ia&&Qi(i,p),c}function g(i,o,l,c){var d=I(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=f(i,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(i,p),o=r(b,o,g),null===u?d=b:u.sibling=b,u=b,p=v}if(y.done)return n(i,p),ia&&Qi(i,g),d;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=r(y,o,g),null===u?d=y:u.sibling=y,u=y);return ia&&Qi(i,g),d}for(p=s(i,p);!y.done;g++,y=l.next())null!==(y=m(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=r(y,o,g),null===u?d=y:u.sibling=y,u=y);return e&&p.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),d}return function e(s,a,r,l){if("object"===typeof r&&null!==r&&r.type===j&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case _:e:{for(var c=r.key,d=a;null!==d;){if(d.key===c){if((c=r.type)===j){if(7===d.tag){n(s,d.sibling),(a=i(d,r.props.children)).return=s,s=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&ya(c)===d.type){n(s,d.sibling),(a=i(d,r.props)).ref=ga(s,d,r),a.return=s,s=a;break e}n(s,d);break}t(s,d),d=d.sibling}r.type===j?((a=Ic(r.props.children,s.mode,l,r.key)).return=s,s=a):((l=Rc(r.type,r.key,r.props,null,s.mode,l)).ref=ga(s,a,r),l.return=s,s=l)}return o(s);case w:e:{for(d=r.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===r.containerInfo&&a.stateNode.implementation===r.implementation){n(s,a.sibling),(a=i(a,r.children||[])).return=s,s=a;break e}n(s,a);break}t(s,a),a=a.sibling}(a=zc(r,s.mode,l)).return=s,s=a}return o(s);case O:return e(s,a,(d=r._init)(r._payload),l)}if(te(r))return p(s,a,r,l);if(I(r))return g(s,a,r,l);va(s,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==a&&6===a.tag?(n(s,a.sibling),(a=i(a,r)).return=s,s=a):(n(s,a),(a=Dc(r,s.mode,l)).return=s,s=a),o(s)):n(s,a)}}var xa=ba(!0),_a=ba(!1),wa=Ni(null),ja=null,Na=null,ka=null;function Sa(){ka=Na=ja=null}function Ea(e){var t=wa.current;ki(wa),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ja=e,ka=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Pa(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===ja)throw Error(a(308));Na=e,ja.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var Aa=null;function Oa(e){null===Aa?Aa=[e]:Aa.push(e)}function Ma(e,t,n,s){var i=t.interleaved;return null===i?(n.next=n,Oa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,s)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function La(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function za(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Cl)){var i=s.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Ra(e,n)}return null===(i=s.interleaved)?(t.next=t,Oa(s)):(t.next=i.next,i.next=t),s.interleaved=t,Ra(e,n)}function $a(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ba(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=r:a=a.next=r,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,s){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?a=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=i.baseState;for(r=0,d=c=l=null,o=a;;){var h=o.lane,f=o.eventTime;if((s&h)===h){null!==d&&(d=d.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,f=n,p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=p.payload)?m.call(f,u,h):m)||void 0===h)break e;u=D({},u,h);break e;case 2:Ia=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,r|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===d&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,null!==(t=i.shared.interleaved)){i=t;do{r|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ll|=r,e.lanes=r,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!==typeof i)throw Error(a(191,i));i.call(s)}}}var Va={},Wa=Ni(Va),qa=Ni(Va),Ya=Ni(Va);function Ga(e){if(e===Va)throw Error(a(174));return e}function Ka(e,t){switch(Si(Ya,t),Si(qa,e),Si(Wa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(Wa),Si(Wa,t)}function Ja(){ki(Wa),ki(qa),ki(Ya)}function Xa(e){Ga(Ya.current);var t=Ga(Wa.current),n=le(t,e.type);t!==n&&(Si(qa,e),Si(Wa,n))}function Qa(e){qa.current===e&&(ki(Wa),ki(qa))}var Za=Ni(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var sr=x.ReactCurrentDispatcher,ir=x.ReactCurrentBatchConfig,ar=0,rr=null,or=null,lr=null,cr=!1,dr=!1,ur=0,hr=0;function fr(){throw Error(a(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function pr(e,t,n,s,i,r){if(ar=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sr.current=null===e||null===e.memoizedState?Qr:Zr,e=n(s,i),dr){r=0;do{if(dr=!1,ur=0,25<=r)throw Error(a(301));r+=1,lr=or=null,t.updateQueue=null,sr.current=eo,e=n(s,i)}while(dr)}if(sr.current=Xr,t=null!==or&&null!==or.next,ar=0,lr=or=rr=null,cr=!1,t)throw Error(a(300));return e}function gr(){var e=0!==ur;return ur=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function yr(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(a(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function br(e,t){return"function"===typeof t?t(e):t}function xr(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=or,i=s.baseQueue,r=n.pending;if(null!==r){if(null!==i){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(null!==i){r=i.next,s=s.baseState;var l=o=null,c=null,d=r;do{var u=d.lane;if((ar&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=s):c=c.next=h,rr.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==r);null===c?o=s:c.next=l,os(s,t.memoizedState)||(bo=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(null!==(e=n.interleaved)){i=e;do{r=i.lane,rr.lanes|=r,Ll|=r,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _r(e){var t=yr(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{r=e(r,o.action),o=o.next}while(o!==i);os(r,t.memoizedState)||(bo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function wr(){}function jr(e,t){var n=rr,s=yr(),i=t(),r=!os(s.memoizedState,i);if(r&&(s.memoizedState=i,bo=!0),s=s.queue,Ir(Sr.bind(null,n,s,e),[e]),s.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Pr(9,kr.bind(null,n,s,i,t),void 0,null),null===Tl)throw Error(a(349));0!==(30&ar)||Nr(n,t,i)}return i}function Nr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function kr(e,t,n,s){t.value=n,t.getSnapshot=s,Er(t)&&Cr(e)}function Sr(e,t,n){return n((function(){Er(t)&&Cr(e)}))}function Er(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!os(e,n)}catch(s){return!0}}function Cr(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Tr(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:br,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Pr(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Ar(){return yr().memoizedState}function Or(e,t,n,s){var i=vr();rr.flags|=e,i.memoizedState=Pr(1|t,n,void 0,void 0===s?null:s)}function Mr(e,t,n,s){var i=yr();s=void 0===s?null:s;var a=void 0;if(null!==or){var r=or.memoizedState;if(a=r.destroy,null!==s&&mr(s,r.deps))return void(i.memoizedState=Pr(t,n,a,s))}rr.flags|=e,i.memoizedState=Pr(1|t,n,a,s)}function Rr(e,t){return Or(8390656,8,e,t)}function Ir(e,t){return Mr(2048,8,e,t)}function Lr(e,t){return Mr(4,2,e,t)}function Dr(e,t){return Mr(4,4,e,t)}function zr(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fr(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mr(4,4,zr.bind(null,t,e),n)}function $r(){}function Br(e,t){var n=yr();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ur(e,t){var n=yr();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&mr(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Hr(e,t,n){return 0===(21&ar)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(os(n,t)||(n=pt(),rr.lanes|=n,Ll|=n,e.baseState=!0),t)}function Vr(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var s=ir.transition;ir.transition={};try{e(!1),t()}finally{bt=n,ir.transition=s}}function Wr(){return yr().memoizedState}function qr(e,t,n){var s=tc(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Gr(e))Kr(t,n);else if(null!==(n=Ma(e,t,n,s))){nc(n,e,s,ec()),Jr(n,t,s)}}function Yr(e,t,n){var s=tc(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gr(e))Kr(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=a(r,n);if(i.hasEagerState=!0,i.eagerState=o,os(o,r)){var l=t.interleaved;return null===l?(i.next=i,Oa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ma(e,t,i,s))&&(nc(n,e,s,i=ec()),Jr(n,t,s))}}function Gr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Kr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jr(e,t,n){if(0!==(4194240&n)){var s=t.lanes;n|=s&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xr={readContext:Pa,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},Qr={readContext:Pa,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Pa,useEffect:Rr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Or(4194308,4,zr.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Or(4194308,4,e,t)},useInsertionEffect:function(e,t){return Or(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=vr();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qr.bind(null,rr,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Tr,useDebugValue:$r,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Tr(!1),t=e[0];return e=Vr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=rr,i=vr();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Tl)throw Error(a(349));0!==(30&ar)||Nr(s,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,Rr(Sr.bind(null,s,r,e),[e]),s.flags|=2048,Pr(9,kr.bind(null,s,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=Tl.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-rt(Ji)-1)).toString(32)+n),0<(n=ur++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zr={readContext:Pa,useCallback:Br,useContext:Pa,useEffect:Ir,useImperativeHandle:Fr,useInsertionEffect:Lr,useLayoutEffect:Dr,useMemo:Ur,useReducer:xr,useRef:Ar,useState:function(){return xr(br)},useDebugValue:$r,useDeferredValue:function(e){return Hr(yr(),or.memoizedState,e)},useTransition:function(){return[xr(br)[0],yr().memoizedState]},useMutableSource:wr,useSyncExternalStore:jr,useId:Wr,unstable_isNewReconciler:!1},eo={readContext:Pa,useCallback:Br,useContext:Pa,useEffect:Ir,useImperativeHandle:Fr,useInsertionEffect:Lr,useLayoutEffect:Dr,useMemo:Ur,useReducer:_r,useRef:Ar,useState:function(){return _r(br)},useDebugValue:$r,useDeferredValue:function(e){var t=yr();return null===or?t.memoizedState=e:Hr(t,or.memoizedState,e)},useTransition:function(){return[_r(br)[0],yr().memoizedState]},useMutableSource:wr,useSyncExternalStore:jr,useId:Wr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,s){n=null===(n=n(s,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var so={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),a=za(s,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,s),$a(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ec(),i=tc(e),a=za(s,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Fa(e,a,i))&&(nc(t,e,i,s),$a(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),s=tc(e),i=za(n,s);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fa(e,i,s))&&(nc(t,e,s,n),$a(t,e,s))}};function io(e,t,n,s,i,a,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,a,r):!t.prototype||!t.prototype.isPureReactComponent||(!ls(n,s)||!ls(i,a))}function ao(e,t,n){var s=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Pa(a):(i=Oi(t)?Pi:Ci.current,a=(s=null!==(s=t.contextTypes)&&void 0!==s)?Ai(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=so,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ro(e,t,n,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&so.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},La(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Pa(a):(a=Oi(t)?Pi:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&so.enqueueReplaceState(i,i.state,null),Ua(e,n,i,s),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",s=t;do{n+=B(s),s=s.return}while(s);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=za(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Vl||(Vl=!0,Wl=s),uo(0,t)},n}function mo(e,t,n){(n=za(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof s&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function po(e,t,n){var s=e.pingCache;if(null===s){s=e.pingCache=new ho;var i=new Set;s.set(t,i)}else void 0===(i=s.get(t))&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,s,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=za(-1,1)).tag=2,Fa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,s){t.child=null===e?_a(t,null,n,s):xa(t,e.child,n,s)}function _o(e,t,n,s,i){n=n.render;var a=t.ref;return Ta(t,i),s=pr(e,t,n,s,a,i),n=gr(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,s,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function wo(e,t,n,s,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,s,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,jo(e,t,a,s,i))}if(a=e.child,0===(e.lanes&i)){var r=a.memoizedProps;if((n=null!==(n=n.compare)?n:ls)(r,s)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Mc(a,s)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,s,i){if(null!==e){var a=e.memoizedProps;if(ls(a,s)&&e.ref===t.ref){if(bo=!1,t.pendingProps=s=a,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return So(e,t,n,s,i)}function No(e,t,n){var s=t.pendingProps,i=s.children,a=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(Ml,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Si(Ml,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==a?a.baseLanes:n,Si(Ml,Ol),Ol|=s}else null!==a?(s=a.baseLanes|n,t.memoizedState=null):s=n,Si(Ml,Ol),Ol|=s;return xo(e,t,i,n),t.child}function ko(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function So(e,t,n,s,i){var a=Oi(n)?Pi:Ci.current;return a=Ai(t,a),Ta(t,i),n=pr(e,t,n,s,a,i),s=gr(),null===e||bo?(ia&&s&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Eo(e,t,n,s,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Ho(e,t),ao(t,n,s),oo(t,n,s,i),s=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Pa(c):c=Ai(t,c=Oi(n)?Pi:Ci.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;u||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==s||l!==c)&&ro(t,r,s,c),Ia=!1;var h=t.memoizedState;r.state=h,Ua(t,s,r,i),l=t.memoizedState,o!==s||h!==l||Ti.current||Ia?("function"===typeof d&&(no(t,n,d,s),l=t.memoizedState),(o=Ia||io(t,n,o,s,h,l,c))?(u||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),r.props=s,r.state=l,r.context=c,s=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,Da(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,u=t.pendingProps,h=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Pa(l):l=Ai(t,l=Oi(n)?Pi:Ci.current);var f=n.getDerivedStateFromProps;(d="function"===typeof f||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==u||h!==l)&&ro(t,r,s,l),Ia=!1,h=t.memoizedState,r.state=h,Ua(t,s,r,i);var m=t.memoizedState;o!==u||h!==m||Ti.current||Ia?("function"===typeof f&&(no(t,n,f,s),m=t.memoizedState),(c=Ia||io(t,n,c,s,h,m,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(s,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(s,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),r.props=s,r.state=m,r.context=l,s=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Co(e,t,n,s,a,i)}function Co(e,t,n,s,i,a){ko(e,t);var r=0!==(128&t.flags);if(!s&&!r)return i&&Di(t,n,!1),Vo(e,t,a);s=t.stateNode,yo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&r?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=s.state,i&&Di(t,n,!0),t.child}function To(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ka(e,t.containerInfo)}function Po(e,t,n,s,i){return fa(),ma(i),t.flags|=256,xo(e,t,n,s),t.child}var Ao,Oo,Mo,Ro,Io={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var s,i=t.pendingProps,r=Za.current,o=!1,l=0!==(128&t.flags);if((s=l)||(s=(null===e||null!==e.memoizedState)&&0!==(2&r)),s?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Si(Za,1&r),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,i,0,null),e=Ic(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Io,e):zo(t,l));if(null!==(r=e.memoizedState)&&null!==(s=r.dehydrated))return function(e,t,n,s,i,r,o){if(n)return 256&t.flags?(t.flags&=-257,Fo(e,t,o,s=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=s.fallback,i=t.mode,s=Lc({mode:"visible",children:s.children},i,0,null),(r=Ic(r,i,o,null)).flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Io,r);if(0===(1&t.mode))return Fo(e,t,o,null);if("$!"===i.data){if(s=i.nextSibling&&i.nextSibling.dataset)var l=s.dgst;return s=l,Fo(e,t,o,s=co(r=Error(a(419)),s,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(s=Tl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(s.suspendedLanes|o))?0:i)&&i!==r.retryLane&&(r.retryLane=i,Ra(e,i),nc(s,e,i,-1))}return pc(),Fo(e,t,o,s=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,sa=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Yi[Gi++]=Ji,Yi[Gi++]=Xi,Yi[Gi++]=Ki,Ji=e.id,Xi=e.overflow,Ki=t),t=zo(t,s.children),t.flags|=4096,t)}(e,t,l,i,s,r,n);if(o){o=i.fallback,l=t.mode,s=(r=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==r?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==s?o=Mc(s,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,i}return e=(o=e.child).sibling,i=Mc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fo(e,t,n,s){return null!==s&&ma(s),xa(t,e.child,null,n),(e=zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $o(e,t,n){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),Ca(e.return,t,n)}function Bo(e,t,n,s,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function Uo(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(xo(e,t,s.children,n),0!==(2&(s=Za.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$o(e,n,t);else if(19===e.tag)$o(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Si(Za,s),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===er(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bo(t,!0,n,null,a);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function qo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=14680064&i.subtreeFlags,s|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Yo(e,t,n){var s=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qo(t),null;case 1:case 17:return Oi(t.type)&&Mi(),qo(t),null;case 3:return s=t.stateNode,Ja(),ki(Ti),ki(Ci),nr(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(rc(aa),aa=null))),Oo(e,t),qo(t),null;case 5:Qa(t);var i=Ga(Ya.current);if(n=t.type,null!==e&&null!=t.stateNode)Mo(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(a(166));return qo(t),null}if(e=Ga(Wa.current),ua(t)){s=t.stateNode,n=t.type;var r=t.memoizedProps;switch(s[hi]=t,s[fi]=r,e=0!==(1&t.mode),n){case"dialog":Fs("cancel",s),Fs("close",s);break;case"iframe":case"object":case"embed":Fs("load",s);break;case"video":case"audio":for(i=0;i<Is.length;i++)Fs(Is[i],s);break;case"source":Fs("error",s);break;case"img":case"image":case"link":Fs("error",s),Fs("load",s);break;case"details":Fs("toggle",s);break;case"input":J(s,r),Fs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Fs("invalid",s);break;case"textarea":ie(s,r),Fs("invalid",s)}for(var l in ye(n,r),i=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?s.textContent!==c&&(!0!==r.suppressHydrationWarning&&Qs(s.textContent,c,e),i=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Qs(s.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fs("scroll",s)}switch(n){case"input":q(s),Z(s,r,!0);break;case"textarea":q(s),re(s);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(s.onclick=Zs)}s=i,t.updateQueue=s,null!==s&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),"select"===n&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=s,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,s),n){case"dialog":Fs("cancel",e),Fs("close",e),i=s;break;case"iframe":case"object":case"embed":Fs("load",e),i=s;break;case"video":case"audio":for(i=0;i<Is.length;i++)Fs(Is[i],e);i=s;break;case"source":Fs("error",e),i=s;break;case"img":case"image":case"link":Fs("error",e),Fs("load",e),i=s;break;case"details":Fs("toggle",e),i=s;break;case"input":J(e,s),i=K(e,s),Fs("invalid",e);break;case"option":default:i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=D({},s,{value:void 0}),Fs("invalid",e);break;case"textarea":ie(e,s),i=se(e,s),Fs("invalid",e)}for(r in ye(n,i),c=i)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Fs("scroll",e):null!=d&&b(e,r,d,l))}switch(n){case"input":q(e),Z(e,s,!1);break;case"textarea":q(e),re(e);break;case"option":null!=s.value&&e.setAttribute("value",""+V(s.value));break;case"select":e.multiple=!!s.multiple,null!=(r=s.value)?ne(e,!!s.multiple,r,!1):null!=s.defaultValue&&ne(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qo(t),null;case 6:if(e&&null!=t.stateNode)Ro(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(a(166));if(n=Ga(Ya.current),Ga(Wa.current),ua(t)){if(s=t.stateNode,n=t.memoizedProps,s[hi]=t,(r=s.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qs(s.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qs(s.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[hi]=t,t.stateNode=s}return qo(t),null;case 13:if(ki(Za),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==sa&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,r=!1;else if(r=ua(t),null!==s&&null!==s.dehydrated){if(null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qo(t),r=!1}else null!==aa&&(rc(aa),aa=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Za.current)?0===Rl&&(Rl=3):pc())),null!==t.updateQueue&&(t.flags|=4),qo(t),null);case 4:return Ja(),Oo(e,t),null===e&&Us(t.stateNode.containerInfo),qo(t),null;case 10:return Ea(t.type._context),qo(t),null;case 19:if(ki(Za),null===(r=t.memoizedState))return qo(t),null;if(s=0!==(128&t.flags),null===(l=r.rendering))if(s)Wo(r,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Wo(r,!1),null!==(s=l.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;null!==n;)e=s,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Si(Za,1&Za.current|2),t.child}e=e.sibling}null!==r.tail&&Xe()>Ul&&(t.flags|=128,s=!0,Wo(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=er(l))){if(t.flags|=128,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!ia)return qo(t),null}else 2*Xe()-r.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,s=!0,Wo(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Xe(),t.sibling=null,n=Za.current,Si(Za,s?1&n|2:1&n),t):(qo(t),null);case 22:case 23:return uc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(qo(t),6&t.subtreeFlags&&(t.flags|=8192)):qo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),ki(Ti),ki(Ci),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(ki(Za),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Za),null;case 4:return Ja(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oo=function(){},Mo=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,Ga(Wa.current);var a,r=null;switch(n){case"input":i=K(e,i),s=K(e,s),r=[];break;case"select":i=D({},i,{value:void 0}),s=D({},s,{value:void 0}),r=[];break;case"textarea":i=se(e,i),s=se(e,s),r=[];break;default:"function"!==typeof i.onClick&&"function"===typeof s.onClick&&(e.onclick=Zs)}for(d in ye(n,s),n=null,i)if(!s.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d])if("style"===d){var l=i[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in s){var c=s[d];if(l=null!=i?i[d]:void 0,s.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fs("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Ro=function(e,t,n,s){n!==s&&(t.flags|=4)};var Ko=!1,Jo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(s){Nc(e,t,s)}else n.current=null}function el(e,t,n){try{n()}catch(s){Nc(e,t,s)}}var tl=!1;function nl(e,t,n){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var i=s=s.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==s)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zs));else if(4!==s&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||Zo(n,t);case 6:var s=dl,i=ul;dl=null,hl(e,t,n),ul=i,null!==(dl=s)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(dl,n.stateNode));break;case 4:s=dl,i=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=s,ul=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(s=n.updateQueue)&&null!==(s=s.lastEffect))){i=s=s.next;do{var a=i,r=a.destroy;a=a.tag,void 0!==r&&(0!==(2&a)||0!==(4&a))&&el(n,t,r),i=i.next}while(i!==s)}hl(e,t,n);break;case 1:if(!Jo&&(Zo(n,t),"function"===typeof(s=n.stateNode).componentWillUnmount))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){Nc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Jo=(s=Jo)||null!==n.memoizedState,hl(e,t,n),Jo=s):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var s=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))}))}}function pl(e,t){var n=t.deletions;if(null!==n)for(var s=0;s<n.length;s++){var i=n[s];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));fl(r,o,i),dl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(d){Nc(i,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),vl(e),4&s){try{nl(3,e,e.return),sl(3,e)}catch(g){Nc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Nc(e,e.return,g)}}break;case 1:pl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return);break;case 5:if(pl(t,e),vl(e),512&s&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Nc(e,e.return,g)}}if(4&s&&null!=(i=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&X(i,r),be(l,o);var d=be(l,r);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?ge(i,h):"dangerouslySetInnerHTML"===u?ue(i,h):"children"===u?he(i,h):b(i,u,h,d)}switch(l){case"input":Q(i,r);break;case"textarea":ae(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(i,!!r.multiple,m,!1):f!==!!r.multiple&&(null!=r.defaultValue?ne(i,!!r.multiple,r.defaultValue,!0):ne(i,!!r.multiple,r.multiple?[]:"",!1))}i[fi]=r}catch(g){Nc(e,e.return,g)}}break;case 6:if(pl(t,e),vl(e),4&s){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(g){Nc(e,e.return,g)}}break;case 3:if(pl(t,e),vl(e),4&s&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Nc(e,e.return,g)}break;case 4:default:pl(t,e),vl(e);break;case 13:pl(t,e),vl(e),8192&(i=e.child).flags&&(r=null!==i.memoizedState,i.stateNode.isHidden=r,!r||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Xe())),4&s&&ml(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,pl(t,e),Jo=d):pl(t,e),vl(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Qo=e,u=e.child;null!==u;){for(h=Qo=u;null!==Qo;){switch(m=(f=Qo).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Zo(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){s=f,n=f.return;try{t=s,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Nc(s,n,g)}}break;case 5:Zo(f,f.return);break;case 22:if(null!==f.memoizedState){_l(h);continue}}null!==m?(m.return=f,Qo=m):_l(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{i=h.stateNode,d?"function"===typeof(r=i.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Nc(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){Nc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),vl(e),4&s&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var s=n;break e}n=n.return}throw Error(a(160))}switch(s.tag){case 5:var i=s.stateNode;32&s.flags&&(he(i,""),s.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var r=s.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(a(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var s=0!==(1&e.mode);null!==Qo;){var i=Qo,a=i.child;if(22===i.tag&&s){var r=null!==i.memoizedState||Ko;if(!r){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Ko;var c=Jo;if(Ko=r,(Jo=l)&&!c)for(Qo=i;null!==Qo;)l=(r=Qo).child,22===r.tag&&null!==r.memoizedState?wl(i):null!==l?(l.return=r,Qo=l):wl(i);for(;null!==a;)Qo=a,bl(a,t,n),a=a.sibling;Qo=i,Ko=o,Jo=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qo=a):xl(e)}}function xl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||sl(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Jo)if(null===n)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Ha(t,r,s);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&il(t)}catch(f){Nc(t,t.return,f)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function _l(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var i=t.return;try{s.componentDidMount()}catch(l){Nc(t,i,l)}}var a=t.return;try{il(t)}catch(l){Nc(t,a,l)}break;case 5:var r=t.return;try{il(t)}catch(l){Nc(t,r,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var jl,Nl=Math.ceil,kl=x.ReactCurrentDispatcher,Sl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Cl=0,Tl=null,Pl=null,Al=0,Ol=0,Ml=Ni(0),Rl=0,Il=null,Ll=0,Dl=0,zl=0,Fl=null,$l=null,Bl=0,Ul=1/0,Hl=null,Vl=!1,Wl=null,ql=null,Yl=!1,Gl=null,Kl=0,Jl=0,Xl=null,Ql=-1,Zl=0;function ec(){return 0!==(6&Cl)?Xe():-1!==Ql?Ql:Ql=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==pa.transition?(0===Zl&&(Zl=pt()),Zl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,s){if(50<Jl)throw Jl=0,Xl=null,Error(a(185));vt(e,n,s),0!==(2&Cl)&&e===Tl||(e===Tl&&(0===(2&Cl)&&(Dl|=n),4===Rl&&oc(e,Al)),sc(e,s),1===n&&0===Cl&&0===(1&t.mode)&&(Ul=Xe()+500,Fi&&Ui()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var r=31-rt(a),o=1<<r,l=i[r];-1===l?0!==(o&n)&&0===(o&s)||(i[r]=ft(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var s=ht(e,e===Tl?Al:0);if(0===s)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ri((function(){0===(6&Cl)&&Ui()})),n=null;else{switch(xt(s)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=st}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Zl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var s=ht(e,e===Tl?Al:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=gc(e,s);else{t=s;var i=Cl;Cl|=2;var r=mc();for(Tl===e&&Al===t||(Hl=null,Ul=Xe()+500,hc(e,t));;)try{yc();break}catch(l){fc(e,l)}Sa(),kl.current=r,Cl=i,null!==Pl?t=0:(Tl=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(s=i,t=ac(e,i))),1===t)throw n=Il,hc(e,0),oc(e,s),sc(e,Xe()),n;if(6===t)oc(e,s);else{if(i=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!os(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,s))&&(0!==(r=mt(e))&&(s=r,t=ac(e,r))),1===t))throw n=Il,hc(e,0),oc(e,s),sc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,$l,Hl);break;case 3:if(oc(e,s),(130023424&s)===s&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=si(_c.bind(null,e,$l,Hl),t);break}_c(e,$l,Hl);break;case 4:if(oc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-rt(s);r=1<<o,(o=t[o])>i&&(i=o),s&=~r}if(s=i,10<(s=(120>(s=Xe()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Nl(s/1960))-s)){e.timeoutHandle=si(_c.bind(null,e,$l,Hl),s);break}_c(e,$l,Hl);break;default:throw Error(a(329))}}}return sc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=$l,$l=n,null!==t&&rc(t)),e}function rc(e){null===$l?$l=e:$l.push.apply($l,e)}function oc(e,t){for(t&=~zl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),s=1<<n;e[n]=-1,t&=~s}}function lc(e){if(0!==(6&Cl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return sc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var s=mt(e);0!==s&&(t=s,n=ac(e,s))}if(1===n)throw n=Il,hc(e,0),oc(e,t),sc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,$l,Hl),sc(e,Xe()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Ul=Xe()+500,Fi&&Ui())}}function dc(e){null!==Gl&&0===Gl.tag&&0===(6&Cl)&&wc();var t=Cl;Cl|=1;var n=El.transition,s=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=s,El.transition=n,0===(6&(Cl=t))&&Ui()}}function uc(){Ol=Ml.current,ki(Ml)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var s=n;switch(ta(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Mi();break;case 3:Ja(),ki(Ti),ki(Ci),nr();break;case 5:Qa(s);break;case 4:Ja();break;case 13:case 19:ki(Za);break;case 10:Ea(s.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Pl=e=Mc(e.current,null),Al=Ol=t,Rl=0,Il=null,zl=Dl=Ll=0,$l=Fl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(s=(n=Aa[t]).interleaved)){n.interleaved=null;var i=s.next,a=n.pending;if(null!==a){var r=a.next;a.next=i,s.next=r}n.pending=s}Aa=null}return e}function fc(e,t){for(;;){var n=Pl;try{if(Sa(),sr.current=Xr,cr){for(var s=rr.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}cr=!1}if(ar=0,lr=or=rr=null,dr=!1,ur=0,Sl.current=null,null===n||null===n.return){Rl=1,Il=t,Pl=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&po(r,d,t),c=d;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){po(r,d,t),pc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ma(lo(c,l));break e}}r=c=lo(c,l),4!==Rl&&(Rl=2),null===Fl?Fl=[r]:Fl.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Ba(r,fo(0,c,t));break e;case 1:l=c;var y=r.type,b=r.stateNode;if(0===(128&r.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ql||!ql.has(b)))){r.flags|=65536,t&=-t,r.lanes|=t,Ba(r,mo(r,l,t));break e}}r=r.return}while(null!==r)}xc(n)}catch(x){t=x,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=Xr,null===e?Xr:e}function pc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Dl)||oc(Tl,Al)}function gc(e,t){var n=Cl;Cl|=2;var s=mc();for(Tl===e&&Al===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){fc(e,i)}if(Sa(),Cl=n,kl.current=s,null!==Pl)throw Error(a(261));return Tl=null,Al=0,Rl}function vc(){for(;null!==Pl;)bc(Pl)}function yc(){for(;null!==Pl&&!Ke();)bc(Pl)}function bc(e){var t=jl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Pl=t,Sl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Rl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Rl&&(Rl=5)}function _c(e,t,n){var s=bt,i=El.transition;try{El.transition=null,bt=1,function(e,t,n,s){do{wc()}while(null!==Gl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~a}}(e,r),e===Tl&&(Pl=Tl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Tc(tt,(function(){return wc(),null}))),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=El.transition,El.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Sl.current=null,function(e,t){if(ei=Vt,fs(e=hs())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(s&&0!==s.rangeCount){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,f=null;t:for(;;){for(var m;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==r||0!==s&&3!==h.nodeType||(c=o+s),3===h.nodeType&&(o+=h.nodeValue.length),null!==(m=h.firstChild);)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++d===i&&(l=o),f===r&&++u===s&&(c=o),null!==(m=h.nextSibling))break;f=(h=f).parentNode}h=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(_){Nc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}p=tl,tl=!1}(e,n),gl(n,e),ms(ti),Vt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Je(),Cl=l,bt=o,El.transition=r}else e.current=n;if(Yl&&(Yl=!1,Gl=e,Kl=i),r=e.pendingLanes,0===r&&(ql=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Xe()),null!==t)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&wc(),r=e.pendingLanes,0!==(1&r)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,Ui()}(e,t,n,s)}finally{El.transition=i,bt=s}return null}function wc(){if(null!==Gl){var e=xt(Kl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Gl)var s=!1;else{if(e=Gl,Gl=null,Kl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,Qo=e.current;null!==Qo;){var r=Qo,o=r.child;if(0!==(16&Qo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Qo=d;null!==Qo;){var u=Qo;switch(u.tag){case 0:case 11:case 15:nl(8,u,r)}var h=u.child;if(null!==h)h.return=u,Qo=h;else for(;null!==Qo;){var f=(u=Qo).sibling,m=u.return;if(al(u),u===d){Qo=null;break}if(null!==f){f.return=m,Qo=f;break}Qo=m}}}var p=r.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(r=Qo).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var y=r.sibling;if(null!==y){y.return=r.return,Qo=y;break e}Qo=r.return}}var b=e.current;for(Qo=b;null!==Qo;){var x=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Qo=x;else e:for(o=b;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(w){Nc(l,l.return,w)}if(l===o){Qo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qo=_;break e}Qo=l.return}}if(Cl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(w){}s=!0}return s}finally{bt=n,El.transition=t}}return!1}function jc(e,t,n){e=Fa(e,t=fo(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),sc(e,t))}function Nc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===ql||!ql.has(s))){t=Fa(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function kc(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Al&n)===n&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>Xe()-Bl?hc(e,0):zl|=n),sc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(vt(e,t,n),sc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(a(314))}null!==s&&s.delete(t),Sc(e,n)}function Tc(e,t){return Ye(e,t)}function Pc(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,s){return new Pc(e,t,n,s)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,s,i,r){var o=2;if(s=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Ic(n.children,i,r,t);case N:o=8,i|=8;break;case k:return(e=Ac(12,n,t,2|i)).elementType=k,e.lanes=r,e;case T:return(e=Ac(13,n,t,i)).elementType=T,e.lanes=r,e;case P:return(e=Ac(19,n,t,i)).elementType=P,e.lanes=r,e;case M:return Lc(n,i,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case E:o=9;break e;case C:o=11;break e;case A:o=14;break e;case O:o=16,s=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=s,t.lanes=r,t}function Ic(e,t,n,s){return(e=Ac(7,e,s,t)).lanes=n,e}function Lc(e,t,n,s){return(e=Ac(22,e,s,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,s,i,a,r,o,l){return e=new Fc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},La(a),e}function Bc(e){if(!e)return Ei;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Ii(e,n,t)}return t}function Uc(e,t,n,s,i,a,r,o,l){return(e=$c(n,s,!0,e,0,a,0,o,l)).context=Bc(null),n=e.current,(a=za(s=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fa(n,a,i),e.current.lanes=i,vt(e,i,s),sc(e,s),e}function Hc(e,t,n,s){var i=t.current,a=ec(),r=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=za(a,r)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Fa(i,t,r))&&(nc(e,i,r,a),$a(e,i,r)),r}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:To(t),fa();break;case 5:Xa(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Si(wa,s._currentValue),s._currentValue=i;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Si(Za,1&Za.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Si(Za,1&Za.current),null!==(e=Vo(e,t,n))?e.sibling:null);Si(Za,1&Za.current);break;case 19:if(s=0!==(n&t.childLanes),0!==(128&e.flags)){if(s)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Si(Za,Za.current),s)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&Zi(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ho(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Ta(t,n),i=pr(null,t,s,e,i,n);var r=gr();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(s)?(r=!0,Li(t)):r=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,La(t),i.updater=so,t.stateNode=i,i._reactInternals=t,oo(t,s,e,n),t=Co(null,t,s,!0,r,n)):(t.tag=0,ia&&r&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,s=(i=s._init)(s._payload),t.type=s,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(s),e=to(s,e),i){case 0:t=So(null,t,s,e,n);break e;case 1:t=Eo(null,t,s,e,n);break e;case 11:t=_o(null,t,s,e,n);break e;case 14:t=wo(null,t,s,to(s.type,e),n);break e}throw Error(a(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,So(e,t,s,i=t.elementType===s?i:to(s,i),n);case 1:return s=t.type,i=t.pendingProps,Eo(e,t,s,i=t.elementType===s?i:to(s,i),n);case 3:e:{if(To(t),null===e)throw Error(a(387));s=t.pendingProps,i=(r=t.memoizedState).element,Da(e,t),Ua(t,s,null,n);var o=t.memoizedState;if(s=o.element,r.isDehydrated){if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Po(e,t,s,n,i=lo(Error(a(423)),t));break e}if(s!==i){t=Po(e,t,s,n,i=lo(Error(a(424)),t));break e}for(sa=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=_a(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),s===i){t=Vo(e,t,n);break e}xo(e,t,s,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),s=t.type,i=t.pendingProps,r=null!==e?e.memoizedProps:null,o=i.children,ni(s,i)?o=null:null!==r&&ni(s,r)&&(t.flags|=32),ko(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Do(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=xa(t,null,s,n):xo(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,_o(e,t,s,i=t.elementType===s?i:to(s,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,Si(wa,s._currentValue),s._currentValue=o,null!==r)if(os(r.value,o)){if(r.children===i.children&&!Ti.current){t=Vo(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===s){if(1===r.tag){(c=za(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Ca(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ca(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Ta(t,n),s=s(i=Pa(i)),t.flags|=1,xo(e,t,s,n),t.child;case 14:return i=to(s=t.type,t.pendingProps),wo(e,t,s,i=to(s.type,i),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:to(s,i),Ho(e,t),t.tag=1,Oi(s)?(e=!0,Li(t)):e=!1,Ta(t,n),ao(t,s,i),oo(t,s,i,n),Co(null,t,s,!0,e,n);case 19:return Uo(e,t,n);case 22:return No(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,s,i){var a=n._reactRootContainer;if(a){var r=a;if("function"===typeof i){var o=i;i=function(){var e=Vc(r);o.call(e)}}Hc(t,r,e,i)}else r=function(e,t,n,s,i){if(i){if("function"===typeof s){var a=s;s=function(){var e=Vc(r);a.call(e)}}var r=Uc(t,s,e,0,null,!1,0,"",Qc);return e._reactRootContainer=r,e[mi]=r.current,Us(8===e.nodeType?e.parentNode:e),dc(),r}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof s){var o=s;s=function(){var e=Vc(l);o.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[mi]=l.current,Us(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,s)})),l}(n,t,e,i,s);return Vc(r)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[mi]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Dt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Xe()),0===(6&Cl)&&(Ul=Xe()+500,Ui()))}break;case 13:dc((function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},wt=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},Nt=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=_i(s);if(!i)throw Error(a(90));Y(s),Q(s,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[bi,xi,_i,Se,Ee,cc]},td={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{it=sd.inject(nd),at=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,s="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,s,i),e[mi]=t.current,Us(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var s=null!=n&&n.hydratedSources||null,i=!1,r="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,r,o),e[mi]=t.current,Us(e),s)for(e=0;e<s.length;e++)i=(i=(n=s[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Kc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(374));class a extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===s?i="pl":"phrase"===s?i="ph":"websearch"===s&&(i="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=a},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const s=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`}},829:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:s,fetch:i}=t;this.url=e,this.headers=n,this.schema=s,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=t?"HEAD":"GET";let a=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e))).join("");return this.url.searchParams.set("select",r),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),a||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=s(n(210));t.PostgrestClient=i.default;const a=s(n(829));t.PostgrestQueryBuilder=a.default;const r=s(n(736));t.PostgrestFilterBuilder=r.default;const o=s(n(374));t.PostgrestTransformBuilder=o.default;const l=s(n(286));t.PostgrestBuilder=l.default;const c=s(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},985:(e,t,n)=>{const{createClient:s}=n(95),i="https://aqdzmfhakqdwquszaqle.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ";const r=s(i,a);e.exports={createExecuteSqlFunction:async()=>{try{const e="\n      CREATE OR REPLACE FUNCTION execute_sql(sql text)\n      RETURNS void AS $$\n      BEGIN\n        EXECUTE sql;\n      END;\n      $$ LANGUAGE plpgsql SECURITY DEFINER;\n    ",{error:t}=await r.rpc("execute_sql",{sql:e});t&&console.warn("Warning: Could not create execute_sql function. It might already exist.")}catch(e){console.warn("Warning: Error creating execute_sql function:",e.message)}},insertSampleData:async()=>{try{console.log("Inserting sample data...");const e=[{name:"Hypertension",category:"Cardiovascular",description:"High blood pressure condition"},{name:"Diabetes",category:"Endocrine",description:"Blood sugar regulation disorder"},{name:"Asthma",category:"Respiratory",description:"Chronic respiratory condition"},{name:"Arthritis",category:"Musculoskeletal",description:"Joint inflammation condition"},{name:"Depression",category:"Mental Health",description:"Mood disorder"},{name:"Anxiety",category:"Mental Health",description:"Anxiety disorder"},{name:"Migraine",category:"Neurological",description:"Severe headache condition"},{name:"Allergies",category:"Immunological",description:"Immune system response"},{name:"Hypothyroidism",category:"Endocrine",description:"Underactive thyroid condition"},{name:"Hyperthyroidism",category:"Endocrine",description:"Overactive thyroid condition"}],{error:t}=await r.from("diseases").upsert(e);if(t)throw t;console.log("Sample data inserted successfully")}catch(e){throw console.error("Error inserting sample data:",e),e}},createStorageBuckets:async()=>{try{console.log("Creating storage buckets...");const t="\n      ALTER DATABASE postgres SET \"app.settings.storage.enabled\" TO 'true';\n    ";await r.rpc("execute_sql",{sql:t});const n=["profile-pictures","medical-reports","health-reports","chat-attachments","support-attachments"];for(const i of n)try{const{error:e}=await r.storage.createBucket(i,{public:!0});e&&!e.message.includes("already exists")&&console.warn(`Warning creating bucket ${i}:`,e.message)}catch(e){console.warn(`Error creating bucket ${i}:`,e.message)}const s="\n      DO $$ \n      BEGIN\n        CREATE POLICY \"Allow public access to profile pictures\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'profile-pictures');\n        \n        CREATE POLICY \"Allow public access to medical reports\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'medical-reports');\n        \n        CREATE POLICY \"Allow public access to health reports\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'health-reports');\n        \n        CREATE POLICY \"Allow public access to chat attachments\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'chat-attachments');\n        \n        CREATE POLICY \"Allow public access to support attachments\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'support-attachments');\n      EXCEPTION\n        WHEN others THEN\n          NULL;\n      END $$;\n    ";await r.rpc("execute_sql",{sql:s}),console.log("Storage buckets and policies created successfully")}catch(e){console.warn("Warning: Error setting up storage:",e.message)}}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var a=Object.create(null);n.r(a);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&s;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>r[e]=()=>s[e]));return r.default=()=>s,n.d(a,r),a}})(),n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,s)=>(n.f[s](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{198:"6056d451",453:"a0b1a081"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="digihealth:";n.l=(s,i,a,r)=>{if(e[s])e[s].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=s),e[s]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/DiGiHealthAdv/",(()=>{var e={792:0};n.f.j=(t,s)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var a=new Promise(((n,s)=>i=e[t]=[n,s]));s.push(i[2]=a);var r=n.p+n.u(t),o=new Error;n.l(r,(s=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=s&&("load"===s.type?"missing":s.type),r=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",o.name="ChunkLoadError",o.type=a,o.request=r,i[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{var i,a,r=s[0],o=s[1],l=s[2],c=0;if(r.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(s);c<r.length;c++)a=r[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},s=self.webpackChunkdigihealth=self.webpackChunkdigihealth||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e,t=n(43),s=n.t(t,2),i=n(391),a=n(950),r=n.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,s){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function p(t,n,s,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:r=!1}=i,d=a.history,m=e.Pop,p=null,g=v();function v(){return(d.state||{idx:null}).idx}function y(){m=e.Pop;let t=v(),n=null==t?null:t-g;g=t,p&&p({action:m,location:x.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,d.replaceState(o({},d.state,{idx:g}),""));let x={get action(){return m},get location(){return t(a,d)},listen(e){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),p=e,()=>{a.removeEventListener(l,y),p=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){m=e.Push;let i=h(x.location,t,n);s&&s(i,t),g=v()+1;let o=u(i,g),l=x.createHref(i);try{d.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}r&&p&&p({action:m,location:x.location,delta:1})},replace:function(t,n){m=e.Replace;let i=h(x.location,t,n);s&&s(i,t),g=v();let a=u(i,g),o=x.createHref(i);d.replaceState(a,"",o),r&&p&&p({action:m,location:x.location,delta:0})},go:e=>d.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,s){let i=O(("string"===typeof t?m(t):t).pathname||"/",n);if(null==i)return null;let a=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let r=null;for(let o=0;null==r&&o<a.length;++o){let e=A(i);r=T(a[o],e,s)}return r}function b(e,t,n,s){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s="");let i=(e,i,a)=>{let r={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};r.relativePath.startsWith("/")&&(c(r.relativePath.startsWith(s),'Absolute route path "'+r.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),r.relativePath=r.relativePath.slice(s.length));let o=D([s,r.relativePath]),l=n.concat(r);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let s of x(e.path))i(e,t,s);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===s.length)return i?[a,""]:[a];let r=x(s.join("/")),o=[];return o.push(...r.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...r),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,w=3,j=2,N=1,k=10,S=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),s=n.length;return n.some(E)&&(s+=S),t&&(s+=j),n.filter((e=>!E(e))).reduce(((e,t)=>e+(_.test(t)?w:""===t?N:k)),s)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:s}=e,i={},a="/",r=[];for(let o=0;o<s.length;++o){let e=s[o],l=o===s.length-1,c="/"===a?t:t.slice(a.length)||"/",d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!s[s.length-1].route.index&&(d=P({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),r.push({params:i,pathname:D([a,d.pathname]),pathnameBase:z(D([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=D([a,d.pathnameBase]))}return r}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(s.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,s]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=s.reduce(((e,t,n)=>{let{paramName:s,isOptional:i}=t;if("*"===s){let e=o[n]||"";r=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[s]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:r,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&"/"!==s?null:e.slice(n)||"/"}function M(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,s){let i;void 0===s&&(s=!1),"string"===typeof e?i=m(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let a,r=""===e||""===i.pathname,l=r?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:s="",hash:i=""}="string"===typeof e?m(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(s),hash:$(i)}}(i,a),u=l&&"/"!==l&&l.endsWith("/"),h=(r||"."===l)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!h||(d.pathname+="/"),d}const D=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",$=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},V.apply(this,arguments)}const W=t.createContext(null);const q=t.createContext(null);const Y=t.createContext(null);const G=t.createContext(null);const K=t.createContext({outlet:null,matches:[],isDataRoute:!1});const J=t.createContext(null);function X(){return null!=t.useContext(G)}function Q(){return X()||c(!1),t.useContext(G).location}function Z(e){t.useContext(Y).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(K);return e?function(){let{router:e}=de(le.UseNavigateStable),n=he(ce.UseNavigateStable),s=t.useRef(!1);Z((()=>{s.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),s.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){X()||c(!1);let e=t.useContext(W),{basename:n,future:s,navigator:i}=t.useContext(Y),{matches:a}=t.useContext(K),{pathname:r}=Q(),o=JSON.stringify(I(a,s.v7_relativeSplatPath)),l=t.useRef(!1);Z((()=>{l.current=!0}));let d=t.useCallback((function(t,s){if(void 0===s&&(s={}),!l.current)return;if("number"===typeof t)return void i.go(t);let a=L(t,JSON.parse(o),r,"path"===s.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:D([n,a.pathname])),(s.replace?i.replace:i.push)(a,s.state,s)}),[n,i,o,r,e]);return d}()}function te(e,n){let{relative:s}=void 0===n?{}:n,{future:i}=t.useContext(Y),{matches:a}=t.useContext(K),{pathname:r}=Q(),o=JSON.stringify(I(a,i.v7_relativeSplatPath));return t.useMemo((()=>L(e,JSON.parse(o),r,"path"===s)),[e,o,r,s])}function ne(n,s,i,a){X()||c(!1);let{navigator:r,static:o}=t.useContext(Y),{matches:l}=t.useContext(K),d=l[l.length-1],u=d?d.params:{},h=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let f,p=Q();if(s){var g;let e="string"===typeof s?m(s):s;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),f=e}else f=p;let y=f.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!o&&i&&i.matches&&i.matches.length>0?i.matches:v(n,{pathname:b});let _=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([h,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:D([h,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,a);return s&&_?t.createElement(G.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},_):_}function se(){let e=function(){var e;let n=t.useContext(J),s=ue(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=s.errors)?void 0:e[i]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),s?t.createElement("pre",{style:a},s):null,null)}const ie=t.createElement(se,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(K.Provider,{value:this.props.routeContext},t.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:n,match:s,children:i}=e,a=t.useContext(W);return a&&a.static&&a.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=s.route.id),t.createElement(K.Provider,{value:n},i)}function oe(e,n,s,i){var a;if(void 0===n&&(n=[]),void 0===s&&(s=null),void 0===i&&(i=null),null==e){var r;if(!s)return null;if(s.errors)e=s.matches;else{if(!(null!=(r=i)&&r.v7_partialHydration&&0===n.length&&!s.initialized&&s.matches.length>0))return null;e=s.matches}}let o=e,l=null==(a=s)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let d=!1,u=-1;if(s&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=t),e.route.id){let{loaderData:t,errors:n}=s,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){d=!0,o=u>=0?o.slice(0,u+1):[o[0]];break}}}return o.reduceRight(((e,i,a)=>{let r,c=!1,h=null,f=null;var m;s&&(r=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,d&&(u<0&&0===a?(m="route-fallback",!1||fe[m]||(fe[m]=!0),c=!0,f=null):u===a&&(c=!0,f=i.route.hydrateFallbackElement||null)));let p=n.concat(o.slice(0,a+1)),g=()=>{let n;return n=r?h:c?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(re,{match:i,routeContext:{outlet:e,matches:p,isDataRoute:null!=s},children:n})};return s&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ae,{location:s.location,revalidation:s.revalidation,component:h,error:r,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let n=t.useContext(W);return n||c(!1),n}function ue(e){let n=t.useContext(q);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(K);return e||c(!1),e}(),s=n.matches[n.matches.length-1];return s.route.id||c(!1),s.route.id}const fe={};function me(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function pe(e){let{to:n,replace:s,state:i,relative:a}=e;X()||c(!1);let{future:r,static:o}=t.useContext(Y),{matches:l}=t.useContext(K),{pathname:d}=Q(),u=ee(),h=L(n,I(l,r.v7_relativeSplatPath),d,"path"===a),f=JSON.stringify(h);return t.useEffect((()=>u(JSON.parse(f),{replace:s,state:i,relative:a})),[u,f,a,s,i]),null}function ge(e){c(!1)}function ve(n){let{basename:s="/",children:i=null,location:a,navigationType:r=e.Pop,navigator:o,static:l=!1,future:d}=n;X()&&c(!1);let u=s.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:o,static:l,future:V({v7_relativeSplatPath:!1},d)})),[u,d,o,l]);"string"===typeof a&&(a=m(a));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=a,b=t.useMemo((()=>{let e=O(f,u);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:r}}),[u,f,p,g,v,y,r]);return null==b?null:t.createElement(Y.Provider,{value:h},t.createElement(G.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let s=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void s.push.apply(s,be(e.props.children,a));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let r={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(r.children=be(e.props.children,a)),s.push(r)})),s}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xe.apply(this,arguments)}function _e(e,t){if(null==e)return{};var n,s,i={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(zf){}new Map;const je=s.startTransition;r.flushSync,s.useId;function Ne(e){let{basename:n,children:s,future:i,window:a}=e,r=t.useRef();null==r.current&&(r.current=function(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:s,hash:i}=e.location;return h("",{pathname:n,search:s,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:f(t)}),null,e)}({window:a,v5Compat:!0}));let o=r.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:d}=i||{},u=t.useCallback((e=>{d&&je?je((()=>c(e))):c(e)}),[c,d]);return t.useLayoutEffect((()=>o.listen(u)),[o,u]),t.useEffect((()=>me(i)),[i]),t.createElement(ve,{basename:n,children:s,location:l.location,navigationType:l.action,navigator:o,future:i})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Se=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=t.forwardRef((function(e,n){let s,{onClick:i,relative:a,reloadDocument:r,replace:o,state:l,target:d,to:u,preventScrollReset:h,viewTransition:m}=e,p=_e(e,we),{basename:g}=t.useContext(Y),v=!1;if("string"===typeof u&&Se.test(u)&&(s=u,ke))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=O(t.pathname,g);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:v=!0}catch(zf){}let y=function(e,n){let{relative:s}=void 0===n?{}:n;X()||c(!1);let{basename:i,navigator:a}=t.useContext(Y),{hash:r,pathname:o,search:l}=te(e,{relative:s}),d=o;return"/"!==i&&(d="/"===o?i:D([i,o])),a.createHref({pathname:d,search:l,hash:r})}(u,{relative:a}),b=function(e,n){let{target:s,replace:i,state:a,preventScrollReset:r,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),d=Q(),u=te(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,s)){t.preventDefault();let n=void 0!==i?i:f(d)===f(u);c(e,{replace:n,state:a,preventScrollReset:r,relative:o,viewTransition:l})}}),[d,c,u,i,a,s,e,r,o,l])}(u,{replace:o,state:l,target:d,preventScrollReset:h,relative:a,viewTransition:m});return t.createElement("a",xe({},p,{href:s||y,onClick:v||r?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:d}))}));var Ce,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Pe=n(95);const Ae=(0,Pe.createClient)("https://aqdzmfhakqdwquszaqle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ");var Oe=n(579);const Me=(0,t.createContext)();function Re(){return(0,t.useContext)(Me)}function Ie(e){let{children:n}=e;const[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)(!0);(0,t.useEffect)((()=>{Ae.auth.getSession().then((e=>{var t;let{data:{session:n}}=e;i(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),r(!1)}));const{data:{subscription:e}}=Ae.auth.onAuthStateChange(((e,t)=>{var n;i(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),r(!1)}));return()=>e.unsubscribe()}),[]);const o={user:s,loading:a,signUp:e=>Ae.auth.signUp(e),signIn:e=>Ae.auth.signInWithPassword(e),signOut:()=>Ae.auth.signOut()};return(0,Oe.jsx)(Me.Provider,{value:o,children:!a&&n})}function Le(e){var t,n,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Le(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}const De=function(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Le(e))&&(s&&(s+=" "),s+=t);return s};!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var ze=e=>"number"==typeof e&&!isNaN(e),Fe=e=>"string"==typeof e,$e=e=>"function"==typeof e,Be=e=>Fe(e)||$e(e)?e:null,Ue=(e,t)=>!1===e||ze(e)&&e>0?e:t,He=e=>(0,t.isValidElement)(e)||Fe(e)||$e(e)||ze(e);function Ve(e){let{enter:n,exit:s,appendPosition:i=!1,collapse:a=!0,collapseDuration:r=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h,playToast:f}=e,m=i?`${n}--${l}`:n,p=i?`${s}--${l}`:s,g=(0,t.useRef)(0);return(0,t.useLayoutEffect)((()=>{let e=u.current,t=m.split(" "),n=s=>{s.target===u.current&&(f(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==s.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,t.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:s,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=s+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,d,r):d()};h||(c?t():(g.current=1,e.className+=` ${p}`,e.addEventListener("animationend",t)))}),[h]),t.createElement(t.Fragment,null,o)}}function We(e,t){return{content:qe(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function qe(e,n){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!Fe(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:s}):$e(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:s}):e}function Ye(e){let{delay:n,isRunning:s,closeToast:i,type:a="default",hide:r,className:o,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:h}=e,f=r||l&&0===c,m={animationDuration:`${n}ms`,animationPlayState:s?"running":"paused"};l&&(m.transform=`scaleX(${c})`);let p=De("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":d}),g=$e(o)?o({rtl:d,type:a,defaultClassName:p}):De(p,o),v={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&i()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},t.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${a}`}),t.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:m,...v}))}var Ge=1,Ke=()=>""+Ge++;function Je(e,t,n){let s=1,i=0,a=[],r=[],o=t,l=new Map,c=new Set,d=()=>{r=Array.from(l.values()),c.forEach((e=>e()))},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},f=e=>{var t,s;let{toastId:i,updateId:a}=e.props,r=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(i,e),d(),n(We(e,r?"added":"updated")),r&&(null==(s=(t=e.props).onOpen)||s.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach((n=>{var s;(null==t||t===n.props.toastId)&&(null==(s=n.toggle)||s.call(n,e))}))},removeToast:h,toasts:l,clearQueue:()=>{i-=a.length,a=[]},buildToast:(t,r)=>{if((t=>{let{containerId:n,toastId:s,updateId:i}=t,a=n?n!==e:1!==e,r=l.has(s)&&null==i;return a||r})(r))return;let{toastId:c,updateId:u,data:m,staleId:p,delay:g}=r,v=null==u;v&&i++;let y={...o,style:o.toastStyle,key:s++,...Object.fromEntries(Object.entries(r).filter((e=>{let[t,n]=e;return null!=n}))),toastId:c,updateId:u,data:m,isIn:!1,className:Be(r.className||o.toastClassName),progressClassName:Be(r.progressClassName||o.progressClassName),autoClose:!r.isLoading&&Ue(r.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(We(e,"removed")),l.delete(c),i--,i<0&&(i=0),a.length>0)return void f(a.shift());d()}}};y.closeButton=o.closeButton,!1===r.closeButton||He(r.closeButton)?y.closeButton=r.closeButton:!0===r.closeButton&&(y.closeButton=!He(o.closeButton)||o.closeButton);let b={content:t,props:y,staleId:p};o.limit&&o.limit>0&&i>o.limit&&v?a.push(b):ze(g)?setTimeout((()=>{f(b)}),g):f(b)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>r}}var Xe=new Map,Qe=[],Ze=new Set,et=e=>Ze.forEach((t=>t(e))),tt=()=>Xe.size>0;function nt(e,t){var n;if(t)return!(null==(n=Xe.get(t))||!n.isToastActive(e));let s=!1;return Xe.forEach((t=>{t.isToastActive(e)&&(s=!0)})),s}function st(e){if(tt()){if(null==e||(e=>Fe(e)||ze(e))(e))Xe.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=Xe.get(e.containerId);t?t.removeToast(e.id):Xe.forEach((t=>{t.removeToast(e.id)}))}}else Qe=Qe.filter((t=>null!=e&&t.options.toastId!==e))}function it(e,t){He(e)&&(tt()||Qe.push({content:e,options:t}),Xe.forEach((n=>{n.buildToast(e,t)})))}function at(e,t){Xe.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function rt(e){let t=e.containerId||1;return{subscribe(n){let s=Je(t,e,et);Xe.set(t,s);let i=s.observe(n);return Qe.forEach((e=>it(e.content,e.options))),Qe=[],()=>{i(),Xe.delete(t)}},setProps(e){var n;null==(n=Xe.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Xe.get(t))?void 0:e.getSnapshot()}}}function ot(e){return e&&(Fe(e.toastId)||ze(e.toastId))?e.toastId:Ke()}function lt(e,t){return it(e,t),t.toastId}function ct(e,t){return{...t,type:t&&t.type||e,toastId:ot(t)}}function dt(e){return(t,n)=>lt(t,ct(e,n))}function ut(e,t){return lt(e,ct("default",t))}function ht(e){let[n,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(!1),r=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=e;function f(){s(!0)}function m(){s(!1)}function p(t){let s=r.current;if(o.canDrag&&s){o.didMove=!0,n&&m(),"x"===e.draggableDirection?o.delta=t.clientX-o.start:o.delta=t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1);let i="x"===e.draggableDirection?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;s.style.transform=`translate3d(${i},0)`,s.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance))}}function g(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",g);let t=r.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Xe.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:s}),(0,t.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||m(),window.addEventListener("focus",f),window.addEventListener("blur",m),()=>{window.removeEventListener("focus",f),window.removeEventListener("blur",m)}}),[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",g);let n=r.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:s,left:i,right:a}=r.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=i&&t.clientX<=a&&t.clientY>=n&&t.clientY<=s?m():f()}};return l&&c&&(v.onMouseEnter=m,e.stacked||(v.onMouseLeave=f)),h&&(v.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:f,pauseToast:m,isRunning:n,preventExitTransition:i,toastRef:r,eventHandlers:v}}ut.loading=(e,t)=>lt(e,ct("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),ut.promise=function(e,t,n){let s,{pending:i,error:a,success:r}=t;i&&(s=Fe(i)?ut.loading(i,n):ut.loading(i.render,{...n,...i}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void ut.dismiss(s);let a={type:e,...o,...n,data:i},r=Fe(t)?{render:t}:t;return s?ut.update(s,{...a,...r}):ut(r.render,{...a,...r}),i},c=$e(e)?e():e;return c.then((e=>l("success",r,e))).catch((e=>l("error",a,e))),c},ut.success=dt("success"),ut.info=dt("info"),ut.error=dt("error"),ut.warning=dt("warning"),ut.warn=ut.warning,ut.dark=(e,t)=>lt(e,ct("default",{theme:"dark",...t})),ut.dismiss=function(e){st(e)},ut.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Xe.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},ut.isActive=nt,ut.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var s;return null==(s=Xe.get(n||1))?void 0:s.toasts.get(e)})(e,t);if(n){let{props:s,content:i}=n,a={delay:100,...s,...t,toastId:t.toastId||e,updateId:Ke()};a.toastId!==e&&(a.staleId=e);let r=a.render||i;delete a.render,lt(r,a)}},ut.done=e=>{ut.update(e,{progress:1})},ut.onChange=function(e){return Ze.add(e),()=>{Ze.delete(e)}},ut.play=e=>at(!0,e),ut.pause=e=>at(!1,e);var ft="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,mt=e=>{let{theme:n,type:s,isLoading:i,...a}=e;return t.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":`var(--toastify-icon-color-${s})`,...a})};var pt={info:function(e){return t.createElement(mt,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(mt,{...e},t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(mt,{...e},t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(mt,{...e},t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function gt(e){let{theme:n,type:s,isLoading:i,icon:a}=e,r=null,o={theme:n,type:s};return!1===a||($e(a)?r=a({...o,isLoading:i}):(0,t.isValidElement)(a)?r=(0,t.cloneElement)(a,o):i?r=pt.spinner():(e=>e in pt)(s)&&(r=pt[s](o))),r}var vt=e=>{let{isRunning:n,preventExitTransition:s,toastRef:i,eventHandlers:a,playToast:r}=ht(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:f,transition:m,position:p,className:g,style:v,progressClassName:y,updateId:b,role:x,progress:_,rtl:w,toastId:j,deleteToast:N,isIn:k,isLoading:S,closeOnClick:E,theme:C,ariaLabel:T}=e,P=De("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":E}),A=$e(g)?g({rtl:w,position:p,type:u,defaultClassName:P}):De(P,g),O=gt(e),M=!!_||!c,R={closeToast:f,type:u,theme:C},I=null;return!1===o||(I=$e(o)?o(R):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,R):function(e){let{closeToast:n,theme:s,ariaLabel:i="close"}=e;return t.createElement("button",{className:`Toastify__close-button Toastify__close-button--${s}`,type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":i},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(R)),t.createElement(m,{isIn:k,done:N,position:p,preventExitTransition:s,nodeRef:i,playToast:r},t.createElement("div",{id:j,tabIndex:0,onClick:d,"data-in":k,className:A,...a,style:v,ref:i,...k&&{role:x,"aria-label":T}},null!=O&&t.createElement("div",{className:De("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},O),qe(l,e,!n),I,!e.customProgressBar&&t.createElement(Ye,{...b&&!M?{key:`p-${b}`}:{},rtl:w,theme:C,delay:c,isRunning:n,isIn:k,closeToast:f,hide:h,type:u,className:y,controlledProgress:M,progress:_||0})))},yt=function(e){return{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},bt=Ve(yt("bounce",!0)),xt=(Ve(yt("slide",!0)),Ve(yt("zoom")),Ve(yt("flip")),{position:"top-right",transition:bt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function _t(e){let n={...xt,...e},s=e.stacked,[i,a]=(0,t.useState)(!0),r=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var n;let{subscribe:s,getSnapshot:i,setProps:a}=(0,t.useRef)(rt(e)).current;a(e);let r=null==(n=(0,t.useSyncExternalStore)(s,i,i))?void 0:n.slice();return{getToastToRender:function(t){if(!r)return[];let n=new Map;return e.newestOnTop&&r.reverse(),r.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:nt,count:null==r?void 0:r.length}}(n),{className:d,style:u,rtl:h,containerId:f,hotKeys:m}=n;function p(e){let t=De("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return $e(d)?d({position:e,rtl:h,defaultClassName:t}):De(t,Be(d))}function g(){s&&(a(!0),ut.play())}return ft((()=>{var e;if(s){let t=r.current.querySelectorAll('[data-in="true"]'),s=12,a=null==(e=n.position)?void 0:e.includes("top"),o=0,l=0;Array.from(t).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed=`${i}`),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let r=o*(i?.2:1)+(i?0:s*t);n.style.setProperty("--y",`${a?r:-1*r}px`),n.style.setProperty("--g",`${s}`),n.style.setProperty("--s",""+(1-(i?l:0))),o+=n.offsetHeight,l+=.025}))}}),[i,c,s]),(0,t.useEffect)((()=>{function e(e){var t;let n=r.current;m(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),ut.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),ut.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[m]),t.createElement("section",{ref:r,className:"Toastify",id:f,onMouseEnter:()=>{s&&(a(!1),ut.pause())},onMouseLeave:g,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},o(((e,n)=>{let i=n.length?{...u}:{...u,pointerEvents:"none"};return t.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":s,style:i,key:`c-${e}`},n.map((e=>{let{content:n,props:i}=e;return t.createElement(vt,{...i,stacked:s,collapseAll:g,isIn:l(i.toastId,i.containerId),key:`t-${i.key}`},n)})))})))}function wt(){const e=document.querySelectorAll(".menu-item"),t=document.querySelector(".overlay");e.forEach((e=>{e.classList.remove("active");const t=e.querySelector(".sub-menu");t&&t.classList.remove("active")})),t&&t.classList.remove("active"),document.body.style.overflow=""}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("health-overview");e&&e.addEventListener("click",(()=>{window.location.href="view-reports.html"}))}));const jt=()=>{const e=ee(),[n,s]=(0,t.useState)(!1);(0,t.useEffect)((()=>{!function(){const e=document.querySelectorAll(".menu-item"),t=document.querySelector(".overlay");e.forEach((e=>{e.addEventListener("click",(n=>{n.preventDefault();const s=e.querySelector(".sub-menu");s&&(s.classList.toggle("active"),e.classList.toggle("active"),t&&t.classList.toggle("active"),document.body.style.overflow=s.classList.contains("active")?"hidden":"")}))})),t&&t.addEventListener("click",wt)}(),i()}),[]);const i=async()=>{try{var e;const{data:{user:t}}=await Ae.auth.getUser();t&&"admin"===(null===(e=t.user_metadata)||void 0===e?void 0:e.role)&&s(!0)}catch(t){console.error("Error checking user role:",t)}},a=t=>{t.preventDefault();switch(t.currentTarget.id){case"health-overview":e("/health-overview");break;case"medical-history":e("/medical-history");break;case"chronic-disease-management":e("/chronic-disease-management");break;case"vaccination-history":e("/vaccination-history");break;case"health-analytics":e("/health-analytics");break;case"medication-tracker":e("/medication-tracker");break;case"profile-settings":e("/profile");break;case"upcoming-appointments":e("/appointments/upcoming");break;case"appointment-history":e("/appointments/history");break;case"telehealth-consultations":e("/appointments/telehealth");break;case"appointment-reminders":e("/appointments/reminders");break;case"help-center":e("/help-center");break;case"contact-support":e("/support/contact");break;case"live-chat":e("/support/chat");break;case"security-settings":e("/settings/security");break;case"data-backup":e("/settings/backup");break;case"database-setup":e("/admin/database-setup");break;case"logout-div":r()}},r=async()=>{try{const{error:t}=await Ae.auth.signOut();if(t)throw t;e("/")}catch(t){console.error("Error logging out:",t.message)}};return(0,Oe.jsxs)("nav",{id:"menu",children:[(0,Oe.jsx)("div",{className:"logo",children:(0,Oe.jsx)(Ee,{to:"/dashboard",children:(0,Oe.jsx)("img",{src:"/DiGiHealthAdv/favicon_io/android-chrome-512x512-Photoroom.png",alt:"Logo",className:"logo"})})}),(0,Oe.jsxs)("div",{className:"menu-item",children:[(0,Oe.jsx)("div",{className:"menu-text",children:(0,Oe.jsx)("a",{href:"#","data-link":!0,children:"Your Journey"})}),(0,Oe.jsxs)("div",{className:"sub-menu triple",children:[(0,Oe.jsxs)("div",{className:"icon-box",id:"health-overview",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-hospital-user"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Health Overview"}),(0,Oe.jsx)("div",{className:"sub-text",children:"See, add and update your Journey"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"medical-history",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-timeline"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Medical History"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Through your Journey"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"chronic-disease-management",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-diagnoses"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Chronic Disease Management"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Manage your chronic conditions"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"vaccination-history",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-syringe"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Vaccination History"}),(0,Oe.jsx)("div",{className:"sub-text",children:"View and manage vaccinations"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"medication-tracker",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-pills"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Medication Tracker"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Track prescribed medications"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"health-analytics",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-chart-line"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Health Analytics"}),(0,Oe.jsx)("div",{className:"sub-text",children:"View your health trends"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"menu-item",children:[(0,Oe.jsx)("div",{className:"menu-text",children:(0,Oe.jsx)("a",{href:"#","data-link":!0,children:"Appointments"})}),(0,Oe.jsxs)("div",{className:"sub-menu double",children:[(0,Oe.jsxs)("div",{className:"icon-box",id:"upcoming-appointments",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-calendar-check"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Upcoming Appointments"}),(0,Oe.jsx)("div",{className:"sub-text",children:"View and manage appointments"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"appointment-history",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-history"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Appointment History"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Check past appointments"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"telehealth-consultations",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-phone-alt"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Telehealth Consultations"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Book virtual appointments"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"appointment-reminders",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-clock"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Appointment Reminders"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Set and manage reminders"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"menu-item",children:[(0,Oe.jsx)("div",{className:"menu-text",children:(0,Oe.jsx)("a",{href:"#","data-link":!0,children:"Support"})}),(0,Oe.jsxs)("div",{className:"sub-menu double",children:[(0,Oe.jsxs)("div",{className:"icon-box",id:"help-center",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-book"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Help Center"}),(0,Oe.jsx)("div",{className:"sub-text",children:"FAQs and tutorials"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"contact-support",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-life-ring"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Contact Support"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Reach out to our team"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"live-chat",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-comment-dots"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Live Chat"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Chat with support agents"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"menu-item",children:[(0,Oe.jsx)("div",{className:"menu-text",children:(0,Oe.jsx)("a",{href:"#","data-link":!0,children:"AI Tools"})}),(0,Oe.jsxs)("div",{className:"sub-menu double",children:[(0,Oe.jsxs)("div",{className:"icon-box",id:"ai-image-analysis",onClick:t=>{t.preventDefault(),e("/ai/image-analysis")},children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-microscope"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Medical Image Analysis"}),(0,Oe.jsx)("div",{className:"sub-text",children:"AI analysis of medical images"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"ai-health-assistant",onClick:t=>{t.preventDefault(),e("/ai/health-assistant")},children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-robot"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Health Assistant"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Chat with our AI assistant"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"ai-recommendations",onClick:t=>{t.preventDefault(),e("/ai/health-recommendations")},children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-lightbulb"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Health Recommendations"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Get personalized AI recommendations"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"ai-symptom-checker",onClick:t=>{t.preventDefault(),e("/ai/symptom-checker")},children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-stethoscope"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Symptom Checker"}),(0,Oe.jsx)("div",{className:"sub-text",children:"AI analysis of symptoms"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"menu-item",children:[(0,Oe.jsx)("div",{className:"menu-text",children:(0,Oe.jsx)("a",{href:"#","data-link":!0,children:"Account"})}),(0,Oe.jsxs)("div",{className:"sub-menu double",children:[(0,Oe.jsxs)("div",{className:"icon-box",id:"profile-settings",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-user-cog"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Profile Settings"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Edit your personal details"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"security-settings",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-lock"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Security Settings"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Manage passwords and 2FA"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"data-backup",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-download"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Data Backup & Export"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Backup and download your data"})]})]}),n&&(0,Oe.jsxs)("div",{className:"icon-box",id:"database-setup",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa fa-database"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Database Setup"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Reset and setup database tables"})]})]}),(0,Oe.jsxs)("div",{className:"icon-box",id:"logout-div",onClick:a,children:[(0,Oe.jsx)("div",{className:"icon",children:(0,Oe.jsx)("i",{className:"fa-solid fa-arrow-right-from-bracket"})}),(0,Oe.jsxs)("div",{className:"text",children:[(0,Oe.jsx)("div",{className:"title",children:"Logout"}),(0,Oe.jsx)("div",{className:"sub-text",children:"Logout your account"})]})]})]})]})]})},Nt=()=>(0,Oe.jsx)("footer",{style:{position:"relative",backgroundImage:"linear-gradient(0deg, #2AF598 0%, #08AEEA 100%)",width:"100%",textAlign:"center",padding:"1rem",marginTop:"auto",color:"#fff"},children:(0,Oe.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," DiGiHealth. All rights reserved."]})}),kt=e=>{let{children:t}=e;return(0,Oe.jsxs)("div",{className:"dashboard-layout",children:[(0,Oe.jsx)(jt,{}),(0,Oe.jsx)("main",{children:t}),(0,Oe.jsx)(Nt,{})]})},St=(0,Pe.createClient)("https://aqdzmfhakqdwquszaqle.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ"),Et=()=>{const[e,n]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),b=ee(),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log(`Notification: ${e}, Type: ${t}`),i({message:e,type:t}),setTimeout((()=>i(null)),3e3)};return(0,Oe.jsxs)("div",{id:"app",children:[(0,Oe.jsx)("header",{children:(0,Oe.jsx)("img",{src:"/DiGiHealthAdv/favicon_io/android-chrome-512x512-Photoroom.png",alt:"Logo",className:"logo",style:{width:"250px",height:"100%"}})}),s&&(0,Oe.jsx)("div",{className:`alert alert-${s.type} alert-dismissible fade show`,role:"alert",children:s.message}),(0,Oe.jsx)("div",{id:"login-signup",children:e?(0,Oe.jsx)("div",{id:"signup-form",children:(0,Oe.jsxs)("form",{className:"form",onSubmit:async e=>{if(e.preventDefault(),p===v)try{const{data:e,error:t}=await St.auth.signUp({email:f,password:p,options:{data:{first_name:c,last_name:u}}});if(t)throw t;if(e.user){const{error:t}=await St.from("detailed_profiles").insert([{id:e.user.id,first_name:c,last_name:u,email:f,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]);if(t)throw t}x("Account created successfully!","success"),b("/dashboard")}catch(t){console.error("Signup error:",t.message),x(t.message,"danger")}else x("Passwords don't match","error")},children:[(0,Oe.jsx)("p",{className:"message",children:"Signup now"}),(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"firstname",type:"text",className:"input",placeholder:" ",value:c,onChange:e=>d(e.target.value)}),(0,Oe.jsx)("span",{children:"Firstname"})]}),(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"lastname",type:"text",className:"input",placeholder:" ",value:u,onChange:e=>h(e.target.value)}),(0,Oe.jsx)("span",{children:"Lastname"})]})]}),(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"email",type:"email",className:"input",id:"signup-email",placeholder:" ",value:f,onChange:e=>m(e.target.value)}),(0,Oe.jsx)("span",{children:"Email"})]}),(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"password",type:"password",className:"input",id:"signup-password",placeholder:" ",value:p,onChange:e=>g(e.target.value)}),(0,Oe.jsx)("span",{children:"Password"})]}),(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"confirmPassword",type:"password",className:"input",placeholder:" ",value:v,onChange:e=>y(e.target.value)}),(0,Oe.jsx)("span",{children:"Confirm password"})]}),(0,Oe.jsx)("button",{type:"submit",className:"submit",children:"Submit"}),(0,Oe.jsxs)("p",{className:"signin",children:["Already have an account?"," ",(0,Oe.jsx)("a",{href:"/",onClick:()=>n(!1),children:"Signin"})]})]})}):(0,Oe.jsxs)("div",{id:"login-form",children:[(0,Oe.jsx)("h2",{children:"Login"}),(0,Oe.jsxs)("form",{className:"form1",onSubmit:async e=>{e.preventDefault();try{const{error:e}=await St.auth.signInWithPassword({email:a,password:o});if(e)throw e;x("Login successful!","success"),setTimeout((()=>{b("/dashboard")}),3e3)}catch(t){console.error("Login error:",t.message),x(t.message,"danger")}},children:[(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"email",type:"email",className:"input",id:"login-email",autoComplete:"new-password",value:a,onChange:e=>r(e.target.value)}),(0,Oe.jsx)("span",{children:"Email"})]}),(0,Oe.jsxs)("label",{children:[(0,Oe.jsx)("input",{required:!0,name:"password",type:"password",className:"input",id:"login-password",autoComplete:"login-password",value:o,onChange:e=>l(e.target.value)}),(0,Oe.jsx)("span",{children:"Password"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("button",{type:"submit",id:"login-button",children:"Login"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>n(!0),children:"Sign Up"})]})]})]})})]})};var Ct={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Tt=t.createContext&&t.createContext(Ct),Pt=["attr","size","title"];function At(e,t){if(null==e)return{};var n,s,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ot.apply(this,arguments)}function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lt(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Rt({key:n},e.attr),Lt(e.child))))}function Dt(e){return n=>t.createElement(zt,Ot({attr:Rt({},e.attr)},n),Lt(e.child))}function zt(e){var n=n=>{var s,{attr:i,size:a,title:r}=e,o=At(e,Pt),l=a||n.size||"1em";return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),t.createElement("svg",Ot({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:s,style:Rt(Rt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),e.children)};return void 0!==Tt?t.createElement(Tt.Consumer,null,(e=>n(e))):n(Ct)}function Ft(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function $t(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function Bt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(e)}function Ut(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Ht(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function Vt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Wt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function qt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Yt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Gt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Kt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Jt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Xt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 256c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm-176-80c48.5 0 88-39.5 88-88S368.5 0 320 0s-88 39.5-88 88 39.5 88 88 88zM59.8 364c10.2 15.3 29.3 17.8 42.9 9.8 16.2-9.6 56.2-31.7 105.3-48.6V416h224v-90.7c49.1 16.8 89.1 39 105.3 48.6 13.6 8 32.7 5.3 42.9-9.8l17.8-26.7c8.8-13.2 7.6-34.6-10-45.1-11.9-7.1-29.7-17-51.1-27.4-28.1 46.1-99.4 17.8-87.7-35.1C409.3 217.2 365.1 208 320 208c-57 0-112.9 14.5-160 32.2-.2 40.2-47.6 63.3-79.2 36-11.2 6-21.3 11.6-28.7 16-17.6 10.5-18.8 31.8-10 45.1L59.8 364zM368 344c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-96-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-160 8c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm512 192H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Qt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Zt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function en(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function tn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function nn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function sn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function an(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 160v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8z"},child:[]}]})(e)}function rn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function on(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 80v352c0 26.5 21.5 48 48 48h48V32H48C21.5 32 0 53.5 0 80zm128 400h320V32H128v448zm64-248c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48zM528 32h-48v448h48c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function ln(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(e)}function cn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function dn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function un(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function hn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function fn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z"},child:[]}]})(e)}function mn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function pn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function gn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function vn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M636.11 390.15C614.44 308.85 580.07 231 534.1 159.13 511.98 124.56 498.03 96 454.05 96 415.36 96 384 125.42 384 161.71v60.11l-32.88-21.92a15.996 15.996 0 0 1-7.12-13.31V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v170.59c0 5.35-2.67 10.34-7.12 13.31L256 221.82v-60.11C256 125.42 224.64 96 185.95 96c-43.98 0-57.93 28.56-80.05 63.13C59.93 231 25.56 308.85 3.89 390.15 1.3 399.84 0 409.79 0 419.78c0 61.23 62.48 105.44 125.24 88.62l59.5-15.95c42.18-11.3 71.26-47.47 71.26-88.62v-87.49l-85.84 57.23a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09L320 235.23l167.59 111.72a7.994 7.994 0 0 1 2.22 11.09l-8.88 13.31a7.994 7.994 0 0 1-11.09 2.22L384 316.34v87.49c0 41.15 29.08 77.31 71.26 88.62l59.5 15.95C577.52 525.22 640 481.01 640 419.78c0-9.99-1.3-19.94-3.89-29.63z"},child:[]}]})(e)}function yn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function bn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function xn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function _n(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(e)}function wn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function jn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Nn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function kn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Sn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function En(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Cn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(e)}function Tn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function Pn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function An(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function On(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function Mn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Rn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function In(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Ln(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 96 128a128 128 0 0 0 128 128zm96 64a63.08 63.08 0 0 1 8.1-30.5c-4.8-.5-9.5-1.5-14.5-1.5h-16.7a174.08 174.08 0 0 1-145.8 0h-16.7A134.43 134.43 0 0 0 0 422.4V464a48 48 0 0 0 48 48h280.9a63.54 63.54 0 0 1-8.9-32zm288-32h-32v-80a80 80 0 0 0-160 0v80h-32a32 32 0 0 0-32 32v160a32 32 0 0 0 32 32h224a32 32 0 0 0 32-32V320a32 32 0 0 0-32-32zM496 432a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm32-144h-64v-80a32 32 0 0 1 64 0z"},child:[]}]})(e)}function Dn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function zn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function Fn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(e)}function $n(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function Bn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(e)}const Un=()=>{const e=ee(),[n,s]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"patient"}),[i,a]=(0,t.useState)(null),[r,o]=(0,t.useState)(!1),l=e=>{s({...n,[e.target.name]:e.target.value})};return(0,Oe.jsx)("div",{className:"container mt-5",children:(0,Oe.jsx)("div",{className:"row justify-content-center",children:(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)("div",{className:"card shadow",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h2",{className:"text-center mb-4",children:"Register"}),i&&(0,Oe.jsx)("div",{className:"alert alert-danger",role:"alert",children:i}),(0,Oe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a(null),o(!0),n.password!==n.confirmPassword)return a("Passwords do not match"),void o(!1);try{const{data:t,error:s}=await Ae.auth.signUp({email:n.email,password:n.password,options:{data:{first_name:n.firstName,last_name:n.lastName,role:n.role}}});if(s)throw s;if(t.user){const{error:e}=await Ae.from("detailed_profiles").insert([{id:t.user.id,first_name:n.firstName,last_name:n.lastName,email:n.email,created_at:(new Date).toISOString()}]);if(e)throw e;const{error:s}=await Ae.from("profiles").insert([{id:t.user.id,full_name:`${n.firstName} ${n.lastName}`,email:n.email,role:n.role,created_at:(new Date).toISOString()}]);if(s)throw s}e("/dashboard")}catch(i){a(i.message)}finally{o(!1)}},children:[(0,Oe.jsxs)("div",{className:"row mb-3",children:[(0,Oe.jsxs)("div",{className:"col-md-6",children:[(0,Oe.jsx)("label",{className:"form-label",children:"First Name"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(zn,{})}),(0,Oe.jsx)("input",{type:"text",className:"form-control",name:"firstName",value:n.firstName,onChange:l,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Last Name"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(zn,{})}),(0,Oe.jsx)("input",{type:"text",className:"form-control",name:"lastName",value:n.lastName,onChange:l,required:!0})]})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Email"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(en,{})}),(0,Oe.jsx)("input",{type:"email",className:"form-control",name:"email",value:n.email,onChange:l,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Password"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(gn,{})}),(0,Oe.jsx)("input",{type:"password",className:"form-control",name:"password",value:n.password,onChange:l,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(gn,{})}),(0,Oe.jsx)("input",{type:"password",className:"form-control",name:"confirmPassword",value:n.confirmPassword,onChange:l,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Role"}),(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(Dn,{})}),(0,Oe.jsxs)("select",{className:"form-select",name:"role",value:n.role,onChange:l,children:[(0,Oe.jsx)("option",{value:"patient",children:"Patient"}),(0,Oe.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Oe.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:r,children:r?"Registering...":"Register"})]}),(0,Oe.jsxs)("div",{className:"text-center mt-3",children:["Already have an account?"," ",(0,Oe.jsx)("a",{href:"/",className:"text-decoration-none",children:"Login"})]})]})})})})})},Hn=()=>(0,Oe.jsx)("div",{className:"spinner-overlay",children:(0,Oe.jsxs)("div",{className:"medical-spinner",children:[(0,Oe.jsxs)("div",{className:"spinner-container",children:[(0,Oe.jsxs)("div",{className:"cross-container",children:[(0,Oe.jsx)("div",{className:"cross-horizontal"}),(0,Oe.jsx)("div",{className:"cross-vertical"})]}),(0,Oe.jsx)("div",{className:"spinner-ring"})]}),(0,Oe.jsx)("div",{className:"heartbeat-container",children:(0,Oe.jsx)("svg",{viewBox:"0 0 400 100",className:"ecg-line",children:(0,Oe.jsx)("polyline",{className:"ecg-path",points:"0,50 30,50 45,50 60,20 75,80 90,50 105,50 120,50 150,50 170,50 185,50 200,20 215,80 230,50 245,50 270,50 300,50 320,50 335,50 350,20 365,80 380,50 395,50 400,50",fill:"none",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Oe.jsx)("div",{className:"spinner-text",children:"Loading..."})]})});function Vn(e){return e+.5|0}const Wn=(e,t,n)=>Math.max(Math.min(e,n),t);function qn(e){return Wn(Vn(2.55*e),0,255)}function Yn(e){return Wn(Vn(255*e),0,255)}function Gn(e){return Wn(Vn(e/2.55)/100,0,1)}function Kn(e){return Wn(Vn(100*e),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Xn=[..."0123456789ABCDEF"],Qn=e=>Xn[15&e],Zn=e=>Xn[(240&e)>>4]+Xn[15&e],es=e=>(240&e)>>4===(15&e);function ts(e){var t=(e=>es(e.r)&&es(e.g)&&es(e.b)&&es(e.a))(e)?Qn:Zn;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const ns=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ss(e,t,n){const s=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-s*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function is(e,t,n){const s=function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(s+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[s(5),s(3),s(1)]}function as(e,t,n){const s=ss(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function rs(e){const t=e.r/255,n=e.g/255,s=e.b/255,i=Math.max(t,n,s),a=Math.min(t,n,s),r=(i+a)/2;let o,l,c;return i!==a&&(c=i-a,l=r>.5?c/(2-i-a):c/(i+a),o=function(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}(t,n,s,c,i),o=60*o+.5),[0|o,l||0,r]}function os(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(Yn)}function ls(e,t,n){return os(ss,e,t,n)}function cs(e){return(e%360+360)%360}function ds(e){const t=ns.exec(e);let n,s=255;if(!t)return;t[5]!==n&&(s=t[6]?qn(+t[5]):Yn(+t[5]));const i=cs(+t[2]),a=+t[3]/100,r=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return os(as,e,t,n)}(i,a,r):"hsv"===t[1]?function(e,t,n){return os(is,e,t,n)}(i,a,r):ls(i,a,r),{r:n[0],g:n[1],b:n[2],a:s}}const us={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hs={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let fs;function ms(e){fs||(fs=function(){const e={},t=Object.keys(hs),n=Object.keys(us);let s,i,a,r,o;for(s=0;s<t.length;s++){for(r=o=t[s],i=0;i<n.length;i++)a=n[i],o=o.replace(a,us[a]);a=parseInt(hs[r],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),fs.transparent=[0,0,0,0]);const t=fs[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const ps=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const gs=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,vs=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function ys(e,t,n){if(e){let s=rs(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,0===t?360:1)),s=ls(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function bs(e,t){return e?Object.assign(t||{},e):e}function xs(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Yn(e[3]))):(t=bs(e,{r:0,g:0,b:0,a:1})).a=Yn(t.a),t}function _s(e){return"r"===e.charAt(0)?function(e){const t=ps.exec(e);let n,s,i,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?qn(e):Wn(255*e,0,255)}return n=+t[1],s=+t[3],i=+t[5],n=255&(t[2]?qn(n):Wn(n,0,255)),s=255&(t[4]?qn(s):Wn(s,0,255)),i=255&(t[6]?qn(i):Wn(i,0,255)),{r:n,g:s,b:i,a:a}}}(e):ds(e)}class ws{constructor(e){if(e instanceof ws)return e;const t=typeof e;let n;"object"===t?n=xs(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Jn[e[1]],g:255&17*Jn[e[2]],b:255&17*Jn[e[3]],a:5===n?17*Jn[e[4]]:255}:7!==n&&9!==n||(t={r:Jn[e[1]]<<4|Jn[e[2]],g:Jn[e[3]]<<4|Jn[e[4]],b:Jn[e[5]]<<4|Jn[e[6]],a:9===n?Jn[e[7]]<<4|Jn[e[8]]:255})),t}(e)||ms(e)||_s(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=bs(this._rgb);return e&&(e.a=Gn(e.a)),e}set rgb(e){this._rgb=xs(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Gn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?ts(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=rs(e),n=t[0],s=Kn(t[1]),i=Kn(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${Gn(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,s=e.rgb;let i;const a=t===i?.5:t,r=2*a-1,o=n.a-s.a,l=((r*o===-1?r:(r+o)/(1+r*o))+1)/2;i=1-l,n.r=255&l*n.r+i*s.r+.5,n.g=255&l*n.g+i*s.g+.5,n.b=255&l*n.b+i*s.b+.5,n.a=a*n.a+(1-a)*s.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const s=vs(Gn(e.r)),i=vs(Gn(e.g)),a=vs(Gn(e.b));return{r:Yn(gs(s+n*(vs(Gn(t.r))-s))),g:Yn(gs(i+n*(vs(Gn(t.g))-i))),b:Yn(gs(a+n*(vs(Gn(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new ws(this.rgb)}alpha(e){return this._rgb.a=Yn(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=Vn(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ys(this._rgb,2,e),this}darken(e){return ys(this._rgb,2,-e),this}saturate(e){return ys(this._rgb,1,e),this}desaturate(e){return ys(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=rs(e);n[0]=cs(n[0]+t),n=ls(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function js(){}const Ns=(()=>{let e=0;return()=>e++})();function ks(e){return null===e||void 0===e}function Ss(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Es(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Cs(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Ts(e,t){return Cs(e)?e:t}function Ps(e,t){return"undefined"===typeof e?t:e}const As=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Os(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Ms(e,t,n,s){let i,a,r;if(Ss(e))if(a=e.length,s)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(Es(e))for(r=Object.keys(e),a=r.length,i=0;i<a;i++)t.call(n,e[r[i]],r[i])}function Rs(e,t){let n,s,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function Is(e){if(Ss(e))return e.map(Is);if(Es(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Is(e[n[i]]);return t}return e}function Ls(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Ds(e,t,n,s){if(!Ls(e))return;const i=t[e],a=n[e];Es(i)&&Es(a)?zs(i,a,s):t[e]=Is(a)}function zs(e,t,n){const s=Ss(t)?t:[t],i=s.length;if(!Es(e))return e;const a=(n=n||{}).merger||Ds;let r;for(let o=0;o<i;++o){if(r=s[o],!Es(r))continue;const t=Object.keys(r);for(let s=0,i=t.length;s<i;++s)a(t[s],e,r,n)}return e}function Fs(e,t){return zs(e,t,{merger:$s})}function $s(e,t,n){if(!Ls(e))return;const s=t[e],i=n[e];Es(s)&&Es(i)?Fs(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Is(i))}const Bs={"":e=>e,x:e=>e.x,y:e=>e.y};function Us(e,t){const n=Bs[t]||(Bs[t]=function(e){const t=function(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function Hs(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Vs=e=>"undefined"!==typeof e,Ws=e=>"function"===typeof e,qs=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Ys=Math.PI,Gs=2*Ys,Ks=Gs+Ys,Js=Number.POSITIVE_INFINITY,Xs=Ys/180,Qs=Ys/2,Zs=Ys/4,ei=2*Ys/3,ti=Math.log10,ni=Math.sign;function si(e,t,n){return Math.abs(e-t)<n}function ii(e){const t=Math.round(e);e=si(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ti(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function ai(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ri(e,t,n){let s,i,a;for(s=0,i=e.length;s<i;s++)a=e[s][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function oi(e){return e*(Ys/180)}function li(e){return e*(180/Ys)}function ci(e){if(!Cs(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function di(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let a=Math.atan2(s,n);return a<-.5*Ys&&(a+=Gs),{angle:a,distance:i}}function ui(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hi(e,t){return(e-t+Ks)%Gs-Ys}function fi(e){return(e%Gs+Gs)%Gs}function mi(e,t,n,s){const i=fi(e),a=fi(t),r=fi(n),o=fi(a-i),l=fi(r-i),c=fi(i-a),d=fi(i-r);return i===a||i===r||s&&a===r||o>l&&c<d}function pi(e,t,n){return Math.max(t,Math.min(n,e))}function gi(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function vi(e,t,n){n=n||(n=>e[n]<t);let s,i=e.length-1,a=0;for(;i-a>1;)s=a+i>>1,n(s)?a=s:i=s;return{lo:a,hi:i}}const yi=(e,t,n,s)=>vi(e,n,s?s=>{const i=e[s][t];return i<n||i===n&&e[s+1][t]===n}:s=>e[s][t]<n),bi=(e,t,n)=>vi(e,n,(s=>e[s][t]>=n));const xi=["push","pop","shift","splice","unshift"];function _i(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);-1!==i&&s.splice(i,1),s.length>0||(xi.forEach((t=>{delete e[t]})),delete e._chartjs)}function wi(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ji="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ni(e,t){let n=[],s=!1;return function(){for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];n=a,s||(s=!0,ji.call(window,(()=>{s=!1,e.apply(t,n)})))}}const ki=e=>"start"===e?"left":"end"===e?"right":"center",Si=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function Ei(e,t,n){const s=t.length;let i=0,a=s;if(e._sorted){const{iScale:r,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:u,max:h,minDefined:f,maxDefined:m}=r.getUserBounds();if(f){if(i=Math.min(yi(l,d,u).lo,n?s:yi(t,d,r.getPixelForValue(u)).lo),c){const e=l.slice(0,i+1).reverse().findIndex((e=>!ks(e[o.axis])));i-=Math.max(0,e)}i=pi(i,0,s-1)}if(m){let e=Math.max(yi(l,r.axis,h,!0).hi+1,n?0:yi(t,d,r.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex((e=>!ks(e[o.axis])));e+=Math.max(0,t)}a=pi(e,i,s)-i}else a=s-i}return{start:i,count:a}}function Ci(e){const{xScale:t,yScale:n,_scaleRanges:s}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!s)return e._scaleRanges=i,!0;const a=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,i),a}const Ti=e=>0===e||1===e,Pi=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Gs/n),Ai=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Gs/n)+1,Oi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Qs),easeOutSine:e=>Math.sin(e*Qs),easeInOutSine:e=>-.5*(Math.cos(Ys*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Ti(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Ti(e)?e:Pi(e,.075,.3),easeOutElastic:e=>Ti(e)?e:Ai(e,.075,.3),easeInOutElastic(e){const t=.1125;return Ti(e)?e:e<.5?.5*Pi(2*e,t,.45):.5+.5*Ai(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Oi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*Oi.easeInBounce(2*e):.5*Oi.easeOutBounce(2*e-1)+.5};function Mi(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ri(e){return Mi(e)?e:new ws(e)}function Ii(e){return Mi(e)?e:new ws(e).saturate(.5).darken(.1).hexString()}const Li=["x","y","borderWidth","radius","tension"],Di=["color","borderColor","backgroundColor"];const zi=new Map;function Fi(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let s=zi.get(n);return s||(s=new Intl.NumberFormat(e,t),zi.set(n,s)),s}(t,n).format(e)}const $i={values:e=>Ss(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const s=this.chart.options.locale;let i,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const r=ti(Math.abs(a)),o=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Fi(e,s,l)},logarithmic(e,t,n){if(0===e)return"0";const s=n[t].significand||e/Math.pow(10,Math.floor(ti(e)));return[1,2,3,5,10,15].includes(s)||t>.8*n.length?$i.numeric.call(this,e,t,n):""}};var Bi={formatters:$i};const Ui=Object.create(null),Hi=Object.create(null);function Vi(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const t=n[s];e=e[t]||(e[t]=Object.create(null))}return e}function Wi(e,t,n){return"string"===typeof t?zs(Vi(e,t),n):zs(Vi(e,""),t)}class qi{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ii(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ii(t.borderColor),this.hoverColor=(e,t)=>Ii(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Wi(this,e,t)}get(e){return Vi(this,e)}describe(e,t){return Wi(Hi,e,t)}override(e,t){return Wi(Ui,e,t)}route(e,t,n,s){const i=Vi(this,e),a=Vi(this,n),r="_"+t;Object.defineProperties(i,{[r]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[r],t=a[s];return Es(e)?Object.assign({},t,e):Ps(e,t)},set(e){this[r]=e}}})}apply(e){e.forEach((e=>e(this)))}}var Yi=new qi({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Di},numbers:{type:"number",properties:Li}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bi.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Gi(e,t,n,s,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>s&&(s=a),s}function Ki(e,t,n,s){let i=(s=s||{}).data=s.data||{},a=s.garbageCollect=s.garbageCollect||[];s.font!==t&&(i=s.data={},a=s.garbageCollect=[],s.font=t),e.save(),e.font=t;let r=0;const o=n.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||Ss(u)){if(Ss(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||Ss(h)||(r=Gi(e,i,a,r,h))}else r=Gi(e,i,a,r,u);e.restore();const f=a.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[a[l]];a.splice(0,f)}return r}function Ji(e,t,n){const s=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function Xi(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Qi(e,t,n,s){Zi(e,t,n,s,null)}function Zi(e,t,n,s,i){let a,r,o,l,c,d,u,h;const f=t.pointStyle,m=t.rotation,p=t.radius;let g=(m||0)*Xs;if(f&&"object"===typeof f&&(a=f.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,s),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),f){default:i?e.ellipse(n,s,i/2,p,0,0,Gs):e.arc(n,s,p,0,Gs),e.closePath();break;case"triangle":d=i?i/2:p,e.moveTo(n+Math.sin(g)*d,s-Math.cos(g)*p),g+=ei,e.lineTo(n+Math.sin(g)*d,s-Math.cos(g)*p),g+=ei,e.lineTo(n+Math.sin(g)*d,s-Math.cos(g)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,r=Math.cos(g+Zs)*l,u=Math.cos(g+Zs)*(i?i/2-c:l),o=Math.sin(g+Zs)*l,h=Math.sin(g+Zs)*(i?i/2-c:l),e.arc(n-u,s-o,c,g-Ys,g-Qs),e.arc(n+h,s-r,c,g-Qs,g),e.arc(n+u,s+o,c,g,g+Qs),e.arc(n-h,s+r,c,g+Qs,g+Ys),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,d=i?i/2:l,e.rect(n-d,s-l,2*d,2*l);break}g+=Zs;case"rectRot":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,s-o),e.lineTo(n+h,s-r),e.lineTo(n+u,s+o),e.lineTo(n-h,s+r),e.closePath();break;case"crossRot":g+=Zs;case"cross":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,s-o),e.lineTo(n+u,s+o),e.moveTo(n+h,s-r),e.lineTo(n-h,s+r);break;case"star":u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,s-o),e.lineTo(n+u,s+o),e.moveTo(n+h,s-r),e.lineTo(n-h,s+r),g+=Zs,u=Math.cos(g)*(i?i/2:p),r=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),e.moveTo(n-u,s-o),e.lineTo(n+u,s+o),e.moveTo(n+h,s-r),e.lineTo(n-h,s+r);break;case"line":r=i?i/2:Math.cos(g)*p,o=Math.sin(g)*p,e.moveTo(n-r,s-o),e.lineTo(n+r,s+o);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(g)*(i?i/2:p),s+Math.sin(g)*p);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function ea(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ta(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function na(e){e.restore()}function sa(e,t,n,s,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else"after"===i!==!!s?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function ia(e,t,n,s){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function aa(e,t,n,s,i){if(i.strikethrough||i.underline){const a=e.measureText(s),r=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(o,d),e.stroke()}}function ra(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function oa(e,t,n,s,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const r=Ss(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),ks(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<r.length;++l)c=r[l],a.backdrop&&ra(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),ks(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,s,a.maxWidth)),e.fillText(c,n,s,a.maxWidth),aa(e,n,s,c,a),s+=Number(i.lineHeight);e.restore()}function la(e,t){const{x:n,y:s,w:i,h:a,radius:r}=t;e.arc(n+r.topLeft,s+r.topLeft,r.topLeft,1.5*Ys,Ys,!0),e.lineTo(n,s+a-r.bottomLeft),e.arc(n+r.bottomLeft,s+a-r.bottomLeft,r.bottomLeft,Ys,Qs,!0),e.lineTo(n+i-r.bottomRight,s+a),e.arc(n+i-r.bottomRight,s+a-r.bottomRight,r.bottomRight,Qs,0,!0),e.lineTo(n+i,s+r.topRight),e.arc(n+i-r.topRight,s+r.topRight,r.topRight,0,-Qs,!0),e.lineTo(n+r.topLeft,s)}const ca=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,da=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ua(e,t){const n=(""+e).match(ca);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function ha(e,t){const n={},s=Es(t),i=s?Object.keys(t):t,a=Es(e)?s?n=>Ps(e[n],e[t[n]]):t=>e[t]:()=>e;for(const r of i)n[r]=+a(r)||0;return n}function fa(e){return ha(e,{top:"y",right:"x",bottom:"y",left:"x"})}function ma(e){return ha(e,["topLeft","topRight","bottomLeft","bottomRight"])}function pa(e){const t=fa(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ga(e,t){e=e||{},t=t||Yi.font;let n=Ps(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let s=Ps(e.style,t.style);s&&!(""+s).match(da)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Ps(e.family,t.family),lineHeight:ua(Ps(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Ps(e.weight,t.weight),string:""};return i.string=function(e){return!e||ks(e.size)||ks(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function va(e,t,n,s){let i,a,r,o=!0;for(i=0,a=e.length;i<a;++i)if(r=e[i],void 0!==r&&(void 0!==t&&"function"===typeof r&&(r=r(t),o=!1),void 0!==n&&Ss(r)&&(r=r[n%r.length],o=!1),void 0!==r))return s&&!o&&(s.cacheable=!1),r}function ya(e,t){return Object.assign(Object.create(e),t)}function ba(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const i=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=Pa("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:s,override:s=>ba([s,...e],t,i,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,s)=>Na(n,s,(()=>function(e,t,n,s){let i;for(const a of t)if(i=Pa(wa(a,e),n),"undefined"!==typeof i)return ja(e,i)?Ca(n,s,e,i):i}(s,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Aa(e).includes(t),ownKeys:e=>Aa(e),set(e,t,n){const i=e._storage||(e._storage=s());return e[t]=i[t]=n,delete e._keys,!0}})}function xa(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:_a(e,s),setContext:t=>xa(e,t,n,s),override:i=>xa(e.override(i),t,n,s)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Na(e,t,(()=>function(e,t,n){const{_proxy:s,_context:i,_subProxy:a,_descriptors:r}=e;let o=s[t];Ws(o)&&r.isScriptable(t)&&(o=function(e,t,n,s){const{_proxy:i,_context:a,_subProxy:r,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,r||s);o.delete(e),ja(e,l)&&(l=Ca(i._scopes,i,e,l));return l}(t,o,e,n));Ss(o)&&o.length&&(o=function(e,t,n,s){const{_proxy:i,_context:a,_subProxy:r,_descriptors:o}=n;if("undefined"!==typeof a.index&&s(e))return t[a.index%t.length];if(Es(t[0])){const n=t,s=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Ca(s,i,e,l);t.push(xa(n,a,r&&r[e],o))}}return t}(t,o,e,r.isIndexable));ja(t,o)&&(o=xa(o,i,a&&a[t],r));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,s)=>(e[n]=s,delete t[n],!0)})}function _a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:Ws(n)?n:()=>n,isIndexable:Ws(s)?s:()=>s}}const wa=(e,t)=>e?e+Hs(t):t,ja=(e,t)=>Es(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Na(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const s=n();return e[t]=s,s}function ka(e,t,n){return Ws(e)?e(t,n):e}const Sa=(e,t)=>!0===e?t:"string"===typeof e?Us(t,e):void 0;function Ea(e,t,n,s,i){for(const a of t){const t=Sa(n,a);if(t){e.add(t);const a=ka(t._fallback,n,i);if("undefined"!==typeof a&&a!==n&&a!==s)return a}else if(!1===t&&"undefined"!==typeof s&&n!==s)return null}return!1}function Ca(e,t,n,s){const i=t._rootScopes,a=ka(t._fallback,n,s),r=[...e,...i],o=new Set;o.add(s);let l=Ta(o,r,n,a||n,s);return null!==l&&(("undefined"===typeof a||a===n||(l=Ta(o,r,a,l,s),null!==l))&&ba(Array.from(o),[""],i,a,(()=>function(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];if(Ss(i)&&Es(n))return n;return i||{}}(t,n,s))))}function Ta(e,t,n,s,i){for(;n;)n=Ea(e,t,n,s,i);return n}function Pa(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function Aa(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Oa(e,t,n,s){const{iScale:i}=e,{key:a="r"}=this._parsing,r=new Array(s);let o,l,c,d;for(o=0,l=s;o<l;++o)c=o+n,d=t[c],r[o]={r:i.parse(Us(d,a),c)};return r}const Ma=Number.EPSILON||1e-14,Ra=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ia=e=>"x"===e?"y":"x";function La(e,t,n,s){const i=e.skip?t:e,a=t,r=n.skip?t:n,o=ui(a,i),l=ui(r,a);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=s*c,h=s*d;return{previous:{x:a.x-u*(r.x-i.x),y:a.y-u*(r.y-i.y)},next:{x:a.x+h*(r.x-i.x),y:a.y+h*(r.y-i.y)}}}function Da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Ia(t),s=e.length,i=Array(s).fill(0),a=Array(s);let r,o,l,c=Ra(e,0);for(r=0;r<s;++r)if(o=l,l=c,c=Ra(e,r+1),l){if(c){const e=c[t]-l[t];i[r]=0!==e?(c[n]-l[n])/e:0}a[r]=o?c?ni(i[r-1])!==ni(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}!function(e,t,n){const s=e.length;let i,a,r,o,l,c=Ra(e,0);for(let d=0;d<s-1;++d)l=c,c=Ra(e,d+1),l&&c&&(si(t[d],0,Ma)?n[d]=n[d+1]=0:(i=n[d]/t[d],a=n[d+1]/t[d],o=Math.pow(i,2)+Math.pow(a,2),o<=9||(r=3/Math.sqrt(o),n[d]=i*r*t[d],n[d+1]=a*r*t[d])))}(e,i,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const s=Ia(n),i=e.length;let a,r,o,l=Ra(e,0);for(let c=0;c<i;++c){if(r=o,o=l,l=Ra(e,c+1),!o)continue;const i=o[n],d=o[s];r&&(a=(i-r[n])/3,o[`cp1${n}`]=i-a,o[`cp1${s}`]=d-a*t[c]),l&&(a=(l[n]-i)/3,o[`cp2${n}`]=i+a,o[`cp2${s}`]=d+a*t[c])}}(e,a,t)}function za(e,t,n){return Math.max(Math.min(e,n),t)}function Fa(e,t,n,s,i){let a,r,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)Da(e,i);else{let n=s?e[e.length-1]:e[0];for(a=0,r=e.length;a<r;++a)o=e[a],l=La(n,o,e[Math.min(a+1,r-(s?0:1))%r],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,s,i,a,r,o=ea(e[0],t);for(n=0,s=e.length;n<s;++n)r=a,a=o,o=n<s-1&&ea(e[n+1],t),a&&(i=e[n],r&&(i.cp1x=za(i.cp1x,t.left,t.right),i.cp1y=za(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=za(i.cp2x,t.left,t.right),i.cp2y=za(i.cp2y,t.top,t.bottom)))}(e,n)}function $a(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Ba(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Ua(e,t,n){let s;return"string"===typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[n])):s=e,s}const Ha=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Va=["top","right","bottom","left"];function Wa(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=Va[i];s[a]=parseFloat(e[t+"-"+a+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function qa(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=Ha(n),a="border-box"===i.boxSizing,r=Wa(i,"padding"),o=Wa(i,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=s;let r,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,a,e.target))r=i,o=a;else{const e=t.getBoundingClientRect();r=s.clientX-e.left,o=s.clientY-e.top,l=!0}return{x:r,y:o,box:l}}(e,n),u=r.left+(d&&o.left),h=r.top+(d&&o.top);let{width:f,height:m}=t;return a&&(f-=r.width+o.width,m-=r.height+o.height),{x:Math.round((l-u)/f*n.width/s),y:Math.round((c-h)/m*n.height/s)}}const Ya=e=>Math.round(10*e)/10;function Ga(e,t,n,s){const i=Ha(e),a=Wa(i,"margin"),r=Ua(i.maxWidth,e,"clientWidth")||Js,o=Ua(i.maxHeight,e,"clientHeight")||Js,l=function(e,t,n){let s,i;if(void 0===t||void 0===n){const a=e&&Ba(e);if(a){const e=a.getBoundingClientRect(),r=Ha(a),o=Wa(r,"border","width"),l=Wa(r,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,s=Ua(r.maxWidth,a,"clientWidth"),i=Ua(r.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:s||Js,maxHeight:i||Js}}(e,t,n);let{width:c,height:d}=l;if("content-box"===i.boxSizing){const e=Wa(i,"border","width"),t=Wa(i,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,s?c/s:d-a.height),c=Ya(Math.min(c,r,l.maxWidth)),d=Ya(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Ya(c/2));return(void 0!==t||void 0!==n)&&s&&l.height&&d>l.height&&(d=l.height,c=Ya(Math.floor(d*s))),{width:c,height:d}}function Ka(e,t,n){const s=t||1,i=Math.floor(e.height*s),a=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(n||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||r.height!==i||r.width!==a)&&(e.currentDevicePixelRatio=s,r.height=i,r.width=a,e.ctx.setTransform(s,0,0,s,0,0),!0)}const Ja=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};$a()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(zf){}return e}();function Xa(e,t){const n=function(e,t){return Ha(e).getPropertyValue(t)}(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function Qa(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Za(e,t,n,s){return{x:e.x+n*(t.x-e.x),y:"middle"===s?n<.5?e.y:t.y:"after"===s?n<1?e.y:t.y:n>0?t.y:e.y}}function er(e,t,n,s){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},r=Qa(e,i,n),o=Qa(i,a,n),l=Qa(a,t,n),c=Qa(r,o,n),d=Qa(o,l,n);return Qa(c,d,n)}function tr(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function nr(e,t){let n,s;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function sr(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function ir(e){return"angle"===e?{between:mi,compare:hi,normalize:fi}:{between:gi,compare:(e,t)=>e-t,normalize:e=>e}}function ar(e){let{start:t,end:n,count:s,loop:i,style:a}=e;return{start:t%s,end:n%s,loop:i&&(n-t+1)%s===0,style:a}}function rr(e,t,n){if(!n)return[e];const{property:s,start:i,end:a}=n,r=t.length,{compare:o,between:l,normalize:c}=ir(s),{start:d,end:u,loop:h,style:f}=function(e,t,n){const{property:s,start:i,end:a}=n,{between:r,normalize:o}=ir(s),l=t.length;let c,d,{start:u,end:h,loop:f}=e;if(f){for(u+=l,h+=l,c=0,d=l;c<d&&r(o(t[u%l][s]),i,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:f,style:e.style}}(e,t,n),m=[];let p,g,v,y=!1,b=null;const x=()=>y||l(i,v,p)&&0!==o(i,v),_=()=>!y||0===o(a,p)||l(a,v,p);for(let w=d,j=d;w<=u;++w)g=t[w%r],g.skip||(p=c(g[s]),p!==v&&(y=l(p,i,a),null===b&&x()&&(b=0===o(p,i)?w:j),null!==b&&_()&&(m.push(ar({start:b,end:w,loop:h,count:r,style:f})),b=null),j=w,v=p));return null!==b&&m.push(ar({start:b,end:u,loop:h,count:r,style:f})),m}function or(e,t){const n=[],s=e.segments;for(let i=0;i<s.length;i++){const a=rr(s[i],e.points,t);a.length&&n.push(...a)}return n}function lr(e,t,n,s){return s&&s.setContext&&n?function(e,t,n,s){const i=e._chart.getContext(),a=cr(e.options),{_datasetIndex:r,options:{spanGaps:o}}=e,l=n.length,c=[];let d=a,u=t[0].start,h=u;function f(e,t,s,i){const a=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:s,style:i}),d=i,u=t%l)}}for(const m of t){u=o?u:m.start;let e,t=n[u%l];for(h=u+1;h<=m.end;h++){const a=n[h%l];e=cr(s.setContext(ya(i,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:r}))),dr(e,d)&&f(u,h-1,m.loop,d),t=a,d=e}u<h-1&&f(u,h-1,m.loop,d)}return c}(e,t,n,s):t}function cr(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function dr(e,t){if(!t)return!1;const n=[],s=function(e,t){return Mi(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,s)!==JSON.stringify(t,s)}class ur{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,s){const i=t.listeners[s],a=t.duration;i.forEach((s=>s({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=ji.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,s)=>{if(!n.running||!n.items.length)return;const i=n.items;let a,r=i.length-1,o=!1;for(;r>=0;--r)a=i[r],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(i[r]=i[i.length-1],i.pop());o&&(s.draw(),this._notify(s,n,e,"progress")),i.length||(n.running=!1,this._notify(s,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let s=n.length-1;for(;s>=0;--s)n[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var hr=new ur;const fr="transparent",mr={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const s=Ri(e||fr),i=s.valid&&Ri(t||fr);return i&&i.valid?i.mix(s,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class pr{constructor(e,t,n,s){const i=t[n];s=va([e.to,s,i,e.from]);const a=va([e.from,i,s]);this._active=!0,this._fn=e.fn||mr[e.type||typeof a],this._easing=Oi[e.easing]||Oi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const s=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=va([e.to,t,s,e.from]),this._from=va([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,s=this._prop,i=this._from,a=this._loop,r=this._to;let o;if(this._active=i!==r&&(a||t<n),!this._active)return this._target[s]=r,void this._notify(!0);t<0?this._target[s]=i:(o=t/n%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[s]=this._fn(i,r,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][t]()}}class gr{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Es(e))return;const t=Object.keys(Yi.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((s=>{const i=e[s];if(!Es(i))return;const a={};for(const e of t)a[e]=i[e];(Ss(i.properties)&&i.properties||[s]).forEach((e=>{e!==s&&n.has(e)||n.set(e,a)}))}))}_animateOptions(e,t){const n=t.options,s=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!s)return[];const i=this._createAnimations(s,n);return n.$shared&&function(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const t=e[s[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,s=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),r=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(e,t));continue}const c=t[l];let d=i[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,r);continue}d.cancel()}u&&u.duration?(i[l]=d=new pr(u,e,l,c),s.push(d)):e[l]=c}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(hr.add(this._chart,n),!0):void 0}}function vr(e,t){const n=e&&e.options||{},s=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:s?a:i,end:s?i:a}}function yr(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=s.length;i<a;++i)n.push(s[i].index);return n}function br(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===s.mode;let r,o,l,c;if(null===t)return;let d=!1;for(r=0,o=i.length;r<o;++r){if(l=+i[r],l===n){if(d=!0,s.all)continue;break}c=e.values[l],Cs(c)&&(a||0===t||ni(t)===ni(c))&&(t+=c)}return d||s.all?t:0}function xr(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function _r(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function wr(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function jr(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:r,index:o}=s,l=a.axis,c=r.axis,d=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(a,r,s),u=t.length;let h;for(let f=0;f<u;++f){const e=t[f],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=_r(i,d,n),h[o]=a,h._top=wr(h,r,!0,s.type),h._bottom=wr(h,r,!1,s.type);(h._visualValues||(h._visualValues={}))[o]=a}}function Nr(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function kr(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][n])return;delete t[s][n],void 0!==t[s]._visualValues&&void 0!==t[s]._visualValues[n]&&delete t[s]._visualValues[n]}}}const Sr=e=>"reset"===e||"none"===e,Er=(e,t)=>t?e:Object.assign({},e);class Cr{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=xr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&kr(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),s=(e,t,n,s)=>"x"===e?t:"r"===e?s:n,i=t.xAxisID=Ps(n.xAxisID,Nr(e,"x")),a=t.yAxisID=Ps(n.yAxisID,Nr(e,"y")),r=t.rAxisID=Ps(n.rAxisID,Nr(e,"r")),o=t.indexAxis,l=t.iAxisID=s(o,i,a,r),c=t.vAxisID=s(o,a,i,r);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(r),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&_i(this._data,this),e._stacked&&kr(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Es(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:s}=t,i="x"===n.axis?"x":"y",a="x"===s.axis?"x":"y",r=Object.keys(e),o=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],o[l]={[i]:d,[a]:e[d]};return o}(t,e)}else if(n!==t){if(n){_i(n,this);const e=this._cachedMeta;kr(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(s=t)._chartjs?s._chartjs.listeners.push(i):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),xi.forEach((e=>{const t="_onData"+Hs(e),n=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];const r=n.apply(this,i);return s._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),r}})})))),this._syncList=[],this._data=t}var s,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let s=!1;this._dataCheck();const i=t._stacked;t._stacked=xr(t.vScale,t),t.stack!==n.stack&&(s=!0,kr(t),t.stack=n.stack),this._resyncElements(e),(s||i!==t._stacked)&&(jr(this,t._parsed),t._stacked=xr(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:s}=this,{iScale:i,_stacked:a}=n,r=i.axis;let o,l,c,d=0===e&&t===s.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=s,n._sorted=!0,c=s;else{c=Ss(s[e])?this.parseArrayData(n,s,e,t):Es(s[e])?this.parseObjectData(n,s,e,t):this.parsePrimitiveData(n,s,e,t);const i=()=>null===l[r]||u&&l[r]<u[r];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(i()&&(d=!1),u=l);n._sorted=d}a&&jr(this,c)}parsePrimitiveData(e,t,n,s){const{iScale:i,vScale:a}=e,r=i.axis,o=a.axis,l=i.getLabels(),c=i===a,d=new Array(s);let u,h,f;for(u=0,h=s;u<h;++u)f=u+n,d[u]={[r]:c||i.parse(l[f],f),[o]:a.parse(t[f],f)};return d}parseArrayData(e,t,n,s){const{xScale:i,yScale:a}=e,r=new Array(s);let o,l,c,d;for(o=0,l=s;o<l;++o)c=o+n,d=t[c],r[o]={x:i.parse(d[0],c),y:a.parse(d[1],c)};return r}parseObjectData(e,t,n,s){const{xScale:i,yScale:a}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+n,h=t[u],l[c]={x:i.parse(Us(h,r),u),y:a.parse(Us(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const s=this.chart,i=this._cachedMeta,a=t[e.axis];return br({keys:yr(s,!0),values:t._stacks[e.axis]._visualValues},a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,s){const i=n[t.axis];let a=null===i?NaN:i;const r=s&&n._stacks[t.axis];s&&r&&(s.values=r,a=br(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,s=n._parsed,i=n._sorted&&e===n.iScale,a=s.length,r=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:yr(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(r);let u,h;function f(){h=s[u];const t=h[r.axis];return!Cs(h[e.axis])||c>t||d<t}for(u=0;u<a&&(f()||(this.updateRangeFromParsed(l,e,h,o),!i));++u);if(i)for(u=a-1;u>=0;--u)if(!f()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let s,i,a;for(s=0,i=t.length;s<i;++s)a=t[s][e.axis],Cs(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,s=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,s,i;return Es(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:!1===e}}(Ps(this.options.clip,function(e,t,n){if(!1===n)return!1;const s=vr(e,n),i=vr(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,s=n.data||[],i=t.chartArea,a=[],r=this._drawStart||0,o=this._drawCount||s.length-r,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,r,o),c=r;c<r+o;++c){const t=s[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return ya(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return ya(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const s="active"===t,i=this._cachedDataOpts,a=e+"-"+t,r=i[a],o=this.enableOptionSharing&&Vs(n);if(r)return Er(r,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Yi.elements[e]),f=l.resolveNamedOptions(u,h,(()=>this.getContext(n,s,t)),d);return f.$shared&&(f.$shared=o,i[a]=Object.freeze(Er(f,o))),f}_resolveAnimations(e,t,n){const s=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,r=i[a];if(r)return r;let o;if(!1!==s.options.animation){const s=this.chart.config,i=s.datasetAnimationScopeKeys(this._type,t),a=s.getOptionScopes(this.getDataset(),i);o=s.createResolver(a,this.getContext(e,n,t))}const l=new gr(s,o&&o.animations);return o&&o._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Sr(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),s=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==s;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,s){Sr(s)?Object.assign(e,n):this._resolveAnimations(t,s).update(e,n)}updateSharedOptions(e,t,n){e&&!Sr(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,s){e.active=s;const i=this.getStyle(t,s);this._resolveAnimations(t,n,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[r,o,l]of this._syncList)this[r](o,l);this._syncList=[];const s=n.length,i=t.length,a=Math.min(i,s);a&&this.parse(0,a),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=this._cachedMeta,i=s.data,a=e+t;let r;const o=e=>{for(e.length+=t,r=e.length-1;r>=a;r--)e[r]=e[r-t]};for(o(i),r=e;r<a;++r)i[r]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,s){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const s=n._parsed.splice(e,t);n._stacked&&kr(n,s)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,s]=e;this[t](n,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Tr(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let t=0,i=n.length;t<i;t++)s=s.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=wi(s.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let s,i,a,r,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(Vs(r)&&(o=Math.min(o,Math.abs(a-r)||o)),r=a)};for(s=0,i=n.length;s<i;++s)a=t.getPixelForValue(n[s]),l();for(r=void 0,s=0,i=t.ticks.length;s<i;++s)a=t.getPixelForTick(s),l();return o}function Pr(e,t,n,s){return Ss(e)?function(e,t,n,s){const i=n.parse(e[0],s),a=n.parse(e[1],s),r=Math.min(i,a),o=Math.max(i,a);let l=r,c=o;Math.abs(r)>Math.abs(o)&&(l=o,c=r),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:r,max:o}}(e,t,n,s):t[n.axis]=n.parse(e,s),t}function Ar(e,t,n,s){const i=e.iScale,a=e.vScale,r=i.getLabels(),o=i===a,l=[];let c,d,u,h;for(c=n,d=n+s;c<d;++c)h=t[c],u={},u[i.axis]=o||i.parse(r[c],c),l.push(Pr(h,u,a,c));return l}function Or(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Mr(e,t,n,s){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:r,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,s,i,a;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:s,reverse:t,top:i,bottom:a}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=d:(a[Rr(d,r,o,l)]=!0,i=c)),a[Rr(i,r,o,l)]=!0,e.borderSkipped=a}function Rr(e,t,n,s){var i,a,r;return s?(r=n,e=Ir(e=(i=e)===(a=t)?r:i===r?a:i,n,t)):e=Ir(e,t,n),e}function Ir(e,t,n){return"start"===e?t:"end"===e?n:e}function Lr(e,t,n){let{inflateAmount:s}=t;e.inflateAmount="auto"===s?1===n?.33:0:s}class Dr extends Cr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,n,s){return Ar(e,t,n,s)}parseArrayData(e,t,n,s){return Ar(e,t,n,s)}parseObjectData(e,t,n,s){const{iScale:i,vScale:a}=e,{xAxisKey:r="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?r:o,c="x"===a.axis?r:o,d=[];let u,h,f,m;for(u=n,h=n+s;u<h;++u)m=t[u],f={},f[i.axis]=i.parse(Us(m,l),u),d.push(Pr(Us(m,c),f,a,u));return d}updateRangeFromParsed(e,t,n,s){super.updateRangeFromParsed(e,t,n,s);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:s}=t,i=this.getParsed(e),a=i._custom,r=Or(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:r}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,s){const i="reset"===s,{index:a,_cachedMeta:{vScale:r}}=this,o=r.getBasePixel(),l=r.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,s);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||ks(t[r.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),f=this._calculateBarIndexPixels(h,c),m=(t._stacks||{})[r.axis],p={horizontal:l,base:n.base,enableBorderRadius:!m||Or(t._custom)||a===m._top||a===m._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};u&&(p.options=d||this.resolveDataElementOptions(h,e[h].active?"active":s));const g=p.options||e[h].options;Mr(p,g,m,a),Lr(p,g,c.ratio),this.updateElement(e[h],h,p,s)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,a=[],r=this._cachedMeta.controller.getParsed(t),o=r&&r[n.axis],l=e=>{const t=e._parsed.find((e=>e[n.axis]===o)),s=t&&t[e.vScale.axis];if(ks(s)||isNaN(s))return!0};for(const c of s)if((void 0===t||!l(c))&&((!1===i||-1===a.indexOf(c.stack)||void 0===i&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const s=this._getStacks(e,n),i=void 0!==t?s.indexOf(t):-1;return-1===i?s.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,s=[];let i,a;for(i=0,a=t.data.length;i<a;++i)s.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const r=e.barThickness;return{min:r||Tr(t),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:r?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:s},options:{base:i,minBarLength:a}}=this,r=i||0,o=this.getParsed(e),l=o._custom,c=Or(l);let d,u,h=o[t.axis],f=0,m=n?this.applyStack(t,o,n):h;m!==h&&(f=m-h,m=h),c&&(h=l.barStart,m=l.barEnd-l.barStart,0!==h&&ni(h)!==ni(l.barEnd)&&(f=0),f+=h);const p=ks(i)||c?f:i;let g=t.getPixelForValue(p);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(f+m):g,u=d-g,Math.abs(u)<a){u=function(e,t,n){return 0!==e?ni(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,r)*a,h===r&&(g-=u/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),l=Math.min(e,i),f=Math.max(e,i);g=Math.max(Math.min(g,f),l),d=g+u,n&&!c&&(o._stacks[t.axis]._visualValues[s]=t.getValueForPixel(d)-t.getValueForPixel(g))}if(g===t.getPixelForValue(r)){const e=ni(u)*t.getLineWidthForValue(r)/2;g+=e,u-=e}return{size:u,base:g,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,s=this.options,i=s.skipNull,a=Ps(s.maxBarThickness,1/0);let r,o;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===s.barThickness?function(e,t,n,s){const i=t.pixels,a=i[e];let r=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===r&&(r=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-r);const c=a-(a-Math.min(r,o))/2*l;return{chunk:Math.abs(o-r)/2*l/s,ratio:n.barPercentage,start:c}}(e,t,s,n):function(e,t,n,s){const i=n.barThickness;let a,r;return ks(i)?(a=t.min*n.categoryPercentage,r=n.barPercentage):(a=i*s,r=1),{chunk:a/s,ratio:r,start:t.pixels[e]-a/2}}(e,t,s,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);r=l.start+l.chunk*c+l.chunk/2,o=Math.min(a,l.chunk*l.ratio)}else r=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(a,t.min*t.ratio);return{base:r-o/2,head:r+o/2,center:r,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,s=n.length;let i=0;for(;i<s;++i)null===this.getParsed(i)[t.axis]||n[i].hidden||n[i].draw(this._ctx)}}class zr extends Cr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:s}}=e.legend.options;return t.labels.map(((t,i)=>{const a=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:s,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=n;else{let i,a,r=e=>+n[e];if(Es(n[e])){const{key:e="value"}=this._parsing;r=t=>+Us(n[t],e)}for(i=e,a=e+t;i<a;++i)s._parsed[i]=r(i)}}_getRotation(){return oi(this.options.rotation-90)}_getCircumference(){return oi(this.options.circumference)}_getRotationExtents(){let e=Gs,t=-Gs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const s=this.chart.getDatasetMeta(n).controller,i=s._getRotation(),a=s._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,s=this._cachedMeta,i=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,r=Math.max((Math.min(n.width,n.height)-a)/2,0),o=Math.min((l=this.options.cutout,c=r,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:p,offsetY:g}=function(e,t,n){let s=1,i=1,a=0,r=0;if(t<Gs){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),f=(e,t,s)=>mi(e,o,l,!0)?1:Math.max(t,t*n,s,s*n),m=(e,t,s)=>mi(e,o,l,!0)?-1:Math.min(t,t*n,s,s*n),p=f(0,c,u),g=f(Qs,d,h),v=m(Ys,c,u),y=m(Ys+Qs,d,h);s=(p-v)/2,i=(g-y)/2,a=-(p+v)/2,r=-(g+y)/2}return{ratioX:s,ratioY:i,offsetX:a,offsetY:r}}(h,u,o),v=(n.width-a)/f,y=(n.height-a)/m,b=Math.max(Math.min(v,y)/2,0),x=As(this.options.radius,b),_=(x-Math.max(x*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*x,this.offsetY=g*x,s.total=this.calculateTotal(),this.outerRadius=x-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*d,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,s=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/Gs)}updateElements(e,t,n,s){const i="reset"===s,a=this.chart,r=a.chartArea,o=a.options.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=i&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:f,includeOptions:m}=this._getSharedOptions(t,s);let p,g=this._getRotation();for(p=0;p<t;++p)g+=this._circumference(p,i);for(p=t;p<t+n;++p){const t=this._circumference(p,i),n=e[p],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:u};m&&(a.options=f||this.resolveDataElementOptions(p,n.active?"active":s)),g+=t,this.updateElement(n,p,a,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,s=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(s+=Math.abs(i))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Gs*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,s=n.data.labels||[],i=Fi(t._parsed[e],n.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let s,i,a,r,o;if(!e)for(s=0,i=n.data.datasets.length;s<i;++s)if(n.isDatasetVisible(s)){a=n.getDatasetMeta(s),e=a.data,r=a.controller;break}if(!e)return 0;for(s=0,i=e.length;s<i;++s)o=r.resolveDataElementOptions(s),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,s=e.length;n<s;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(Ps(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Fr extends Cr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:s=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:r,count:o}=Ei(t,s,a);this._drawStart=r,this._drawCount=o,Ci(t)&&(r=0,o=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=s;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(s,r,o,e)}updateElements(e,t,n,s){const i="reset"===s,{iScale:a,vScale:r,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,s),u=a.axis,h=r.axis,{spanGaps:f,segment:m}=this.options,p=ai(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===s,v=t+n,y=e.length;let b=t>0&&this.getParsed(t-1);for(let x=0;x<y;++x){const n=e[x],f=g?n:{};if(x<t||x>=v){f.skip=!0;continue}const y=this.getParsed(x),_=ks(y[h]),w=f[u]=a.getPixelForValue(y[u],x),j=f[h]=i||_?r.getBasePixel():r.getPixelForValue(o?this.applyStack(r,y,o):y[h],x);f.skip=isNaN(w)||isNaN(j)||_,f.stop=x>0&&Math.abs(y[u]-b[u])>p,m&&(f.parsed=y,f.raw=l.data[x]),d&&(f.options=c||this.resolveDataElementOptions(x,n.active?"active":s)),g||this.updateElement(n,x,f,s),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return n;const i=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class $r extends zr{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class Br extends Cr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,s){return Oa.bind(this)(e,t,n,s)}update(e){const t=this._cachedMeta,n=t.dataset,s=t.data||[],i=t.iScale.getLabels();if(n.points=s,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===s.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,n,s){const i=this._cachedMeta.rScale,a="reset"===s;for(let r=t;r<t+n;r++){const t=e[r],n=this.resolveDataElementOptions(r,t.active?"active":s),o=i.getPointPositionForValue(r,this.getParsed(r).r),l=a?i.xCenter:o.x,c=a?i.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,r,d,s)}}}function Ur(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Hr{static override(e){Object.assign(Hr.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Ur()}parse(){return Ur()}format(){return Ur()}add(){return Ur()}diff(){return Ur()}startOf(){return Ur()}endOf(){return Ur()}}var Vr=Hr;function Wr(e,t,n,s){const{controller:i,data:a,_sorted:r}=e,o=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&r&&a.length){const r=o._reversePixels?bi:yi;if(!s){const s=r(a,t,n);if(l){const{vScale:t}=i._cachedMeta,{_parsed:n}=e,a=n.slice(0,s.lo+1).reverse().findIndex((e=>!ks(e[t.axis])));s.lo-=Math.max(0,a);const r=n.slice(s.hi).findIndex((e=>!ks(e[t.axis])));s.hi+=Math.max(0,r)}return s}if(i._sharedOptions){const e=a[0],s="function"===typeof e.getRange&&e.getRange(t);if(s){const e=r(a,t,n-s),i=r(a,t,n+s);return{lo:e.lo,hi:i.hi}}}}return{lo:0,hi:a.length-1}}function qr(e,t,n,s,i){const a=e.getSortedVisibleDatasetMetas(),r=n[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:n}=a[o],{lo:l,hi:c}=Wr(a[o],t,r,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||s(i,e,t)}}}function Yr(e,t,n,s,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return qr(e,n,t,(function(n,r,o){(i||ea(n,e.chartArea,0))&&n.inRange(t.x,t.y,s)&&a.push({element:n,datasetIndex:r,index:o})}),!0),a}function Gr(e,t,n,s,i,a){let r=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,s){const i=t?Math.abs(e.x-s.x):0,a=n?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return qr(e,n,t,(function(n,c,d){const u=n.inRange(t.x,t.y,i);if(s&&!u)return;const h=n.getCenterPoint(i);if(!(!!a||e.isPointInArea(h))&&!u)return;const f=o(t,h);f<l?(r=[{element:n,datasetIndex:c,index:d}],l=f):f===l&&r.push({element:n,datasetIndex:c,index:d})})),r}function Kr(e,t,n,s,i,a){return a||e.isPointInArea(t)?"r"!==n||s?Gr(e,t,n,s,i,a):function(e,t,n,s){let i=[];return qr(e,n,t,(function(e,n,a){const{startAngle:r,endAngle:o}=e.getProps(["startAngle","endAngle"],s),{angle:l}=di(e,{x:t.x,y:t.y});mi(l,r,o)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function Jr(e,t,n,s,i){const a=[],r="x"===n?"inXRange":"inYRange";let o=!1;return qr(e,n,t,((e,s,l)=>{e[r]&&e[r](t[n],i)&&(a.push({element:e,datasetIndex:s,index:l}),o=o||e.inRange(t.x,t.y,i))})),s&&!o?[]:a}var Xr={evaluateInteractionItems:qr,modes:{index(e,t,n,s){const i=qa(t,e),a=n.axis||"x",r=n.includeInvisible||!1,o=n.intersect?Yr(e,i,a,s,r):Kr(e,i,a,!1,s,r),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,s){const i=qa(t,e),a=n.axis||"xy",r=n.includeInvisible||!1;let o=n.intersect?Yr(e,i,a,s,r):Kr(e,i,a,!1,s,r);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,s)=>Yr(e,qa(t,e),n.axis||"xy",s,n.includeInvisible||!1),nearest(e,t,n,s){const i=qa(t,e),a=n.axis||"xy",r=n.includeInvisible||!1;return Kr(e,i,a,n.intersect,s,r)},x:(e,t,n,s)=>Jr(e,qa(t,e),"x",n.intersect,s),y:(e,t,n,s)=>Jr(e,qa(t,e),"y",n.intersect,s)}};const Qr=["left","top","right","bottom"];function Zr(e,t){return e.filter((e=>e.pos===t))}function eo(e,t){return e.filter((e=>-1===Qr.indexOf(e.pos)&&e.box.axis===t))}function to(e,t){return e.sort(((e,n)=>{const s=t?n:e,i=t?e:n;return s.weight===i.weight?s.index-i.index:s.weight-i.weight}))}function no(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:s,stackWeight:i}=n;if(!e||!Qr.includes(s))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let a,r,o;for(a=0,r=e.length;a<r;++a){o=e[a];const{fullSize:r}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*s:r&&t.availableWidth,o.height=i):(o.width=s,o.height=c?c*i:r&&t.availableHeight)}return n}function so(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function io(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ao(e,t,n,s){const{pos:i,box:a}=n,r=e.maxPadding;if(!Es(i)){n.size&&(e[i]-=n.size);const t=s[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[i]+=n.size}a.getPadding&&io(r,a.getPadding());const o=Math.max(0,t.outerWidth-so(r,e,"left","right")),l=Math.max(0,t.outerHeight-so(r,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function ro(e,t){const n=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{s[e]=Math.max(t[e],n[e])})),s}return s(e?["left","right"]:["top","bottom"])}function oo(e,t,n,s){const i=[];let a,r,o,l,c,d;for(a=0,r=e.length,c=0;a<r;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,ro(o.horizontal,t));const{same:r,other:u}=ao(t,n,o,s);c|=r&&i.length,d=d||u,l.fullSize||i.push(o)}return c&&oo(i,t,n,s)||d}function lo(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function co(e,t,n,s){const i=n.padding;let{x:a,y:r}=t;for(const o of e){const e=o.box,l=s[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const s=t.w*c,a=l.size||e.height;Vs(l.start)&&(r=l.start),e.fullSize?lo(e,i.left,r,n.outerWidth-i.right-i.left,a):lo(e,t.left+l.placed,r,s,a),l.start=r,l.placed+=s,r=e.bottom}else{const s=t.h*c,r=l.size||e.width;Vs(l.start)&&(a=l.start),e.fullSize?lo(e,a,i.top,r,n.outerHeight-i.bottom-i.top):lo(e,a,t.top+l.placed,r,s),l.start=a,l.placed+=s,a=e.right}}t.x=a,t.y=r}var uo={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=pa(e.options.layout.padding),a=Math.max(t-i.width,0),r=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,s,i,a,r,o;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],({position:a,options:{stack:r,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&a+r,stackWeight:o});return t}(e),n=to(t.filter((e=>e.box.fullSize)),!0),s=to(Zr(t,"left"),!0),i=to(Zr(t,"right")),a=to(Zr(t,"top"),!0),r=to(Zr(t,"bottom")),o=eo(t,"x"),l=eo(t,"y");return{fullSize:n,leftAndTop:s.concat(a),rightAndBottom:i.concat(l).concat(r).concat(o),chartArea:Zr(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:a.concat(r).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;Ms(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const d=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:r,vBoxMaxWidth:a/2/d,hBoxMaxHeight:r/2}),h=Object.assign({},i);io(h,pa(s));const f=Object.assign({maxPadding:h,w:a,h:r,x:i.left,y:i.top},i),m=no(l.concat(c),u);oo(o.fullSize,f,u,m),oo(l,f,u,m),oo(c,f,u,m)&&oo(l,f,u,m),function(e){const t=e.maxPadding;function n(n){const s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),co(o.leftAndTop,f,u,m),f.x+=f.w,f.y+=f.h,co(o.rightAndBottom,f,u,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Ms(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class ho{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,s){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):n)}}isAttached(e){return!0}updateConfig(e){}}class fo extends ho{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const mo="$chartjs",po={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},go=e=>null===e||""===e;const vo=!!Ja&&{passive:!0};function yo(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,vo)}function bo(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function xo(e,t,n){const s=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||bo(n.addedNodes,s),t=t&&!bo(n.removedNodes,s);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function _o(e,t,n){const s=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||bo(n.removedNodes,s),t=t&&!bo(n.addedNodes,s);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const wo=new Map;let jo=0;function No(){const e=window.devicePixelRatio;e!==jo&&(jo=e,wo.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function ko(e,t,n){const s=e.canvas,i=s&&Ba(s);if(!i)return;const a=Ni(((e,t)=>{const s=i.clientWidth;n(e,t),s<i.clientWidth&&n()}),window),r=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,s=t.contentRect.height;0===n&&0===s||a(n,s)}));return r.observe(i),function(e,t){wo.size||window.addEventListener("resize",No),wo.set(e,t)}(e,a),r}function So(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){wo.delete(e),wo.size||window.removeEventListener("resize",No)}(e)}function Eo(e,t,n){const s=e.canvas,i=Ni((t=>{null!==e.ctx&&n(function(e,t){const n=po[e.type]||e.type,{x:s,y:i}=qa(e,t);return{type:n,chart:t,native:e,x:void 0!==s?s:null,y:void 0!==i?i:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,vo)}(s,t,i),i}class Co extends ho{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[mo]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",go(i)){const t=Xa(e,"width");void 0!==t&&(e.width=t)}if(go(s))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Xa(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[mo])return!1;const n=t[mo].initial;["height","width"].forEach((e=>{const s=n[e];ks(s)?t.removeAttribute(e):t.setAttribute(e,s)}));const s=n.style||{};return Object.keys(s).forEach((e=>{t.style[e]=s[e]})),t.width=t.width,delete t[mo],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),i={attach:xo,detach:_o,resize:ko}[t]||Eo;s[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),s=n[t];if(!s)return;({attach:So,detach:So,resize:So}[t]||yo)(e,t,s),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,s){return Ga(e,t,n,s)}isAttached(e){const t=e&&Ba(e);return!(!t||!t.isConnected)}}class To{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return ai(this.x)&&ai(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const s={};return e.forEach((e=>{s[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),s}}function Po(e,t){const n=e.options.ticks,s=function(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}(e),i=Math.min(n.maxTicksLimit||s,s),a=n.major.enabled?function(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}(t):[],r=a.length,o=a[0],l=a[r-1],c=[];if(r>i)return function(e,t,n,s){let i,a=0,r=n[0];for(s=Math.ceil(s),i=0;i<e.length;i++)i===r&&(t.push(e[i]),a++,r=n[a*s])}(t,c,a,r/i),c;const d=function(e,t,n){const s=function(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}(e),i=t.length/n;if(!s)return Math.max(i,1);const a=function(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(s);for(let r=0,o=a.length-1;r<o;r++){const e=a[r];if(e>i)return e}return Math.max(i,1)}(a,t,i);if(r>0){let e,n;const s=r>1?Math.round((l-o)/(r-1)):null;for(Ao(t,c,d,ks(s)?0:o-s,o),e=0,n=r-1;e<n;e++)Ao(t,c,d,a[e],a[e+1]);return Ao(t,c,d,l,ks(s)?t.length:l+s),c}return Ao(t,c,d),c}function Ao(e,t,n,s,i){const a=Ps(s,0),r=Math.min(Ps(i,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),i&&(o=i-s,n=o/Math.floor(o/n)),c=a;c<0;)d++,c=Math.round(a+d*n);for(l=Math.max(a,0);l<r;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*n))}const Oo=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,Mo=(e,t)=>Math.min(t||e,e);function Ro(e,t){const n=[],s=e.length/t,i=e.length;let a=0;for(;a<i;a+=s)n.push(e[Math.floor(a)]);return n}function Io(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),a=e._startPixel,r=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===s?Math.max(c-a,r-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-o||c>r+o)))return c}function Lo(e){return e.drawTicks?e.tickLength:0}function Do(e,t){if(!e.display)return 0;const n=ga(e.font,t),s=pa(e.padding);return(Ss(e.text)?e.text.length:1)*n.lineHeight+s.height}function zo(e,t,n){let s=ki(e);return(n&&"right"!==t||!n&&"right"===t)&&(s=(e=>"left"===e?"right":"right"===e?"left":e)(s)),s}class Fo extends To{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:s}=this;return e=Ts(e,Number.POSITIVE_INFINITY),t=Ts(t,Number.NEGATIVE_INFINITY),n=Ts(n,Number.POSITIVE_INFINITY),s=Ts(s,Number.NEGATIVE_INFINITY),{min:Ts(e,n),max:Ts(t,s),minDefined:Cs(e),maxDefined:Cs(t)}}getMinMax(e){let t,{min:n,max:s,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:n,max:s};const r=this.getMatchingVisibleMetas();for(let o=0,l=r.length;o<l;++o)t=r[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),a||(s=Math.max(s,t.max));return n=a&&n>s?s:n,s=i&&n>s?n:s,{min:Ts(n,Ts(s,n)),max:Ts(s,Ts(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Os(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:s,grace:i,ticks:a}=this.options,r=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:s,max:i}=e,a=As(t,(i-s)/2),r=(e,t)=>n&&0===e?0:e+t;return{min:r(s,-Math.abs(a)),max:r(i,a)}}(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=r<this.ticks.length;this._convertTicksToLabels(o?Ro(this.ticks,r):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Po(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Os(this.options.afterUpdate,[this])}beforeSetDimensions(){Os(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Os(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Os(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Os(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,s,i;for(n=0,s=e.length;n<s;n++)i=e[n],i.label=Os(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Os(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Os(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=Mo(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,i=t.maxRotation;let a,r,o,l=s;if(!this._isVisible()||!t.display||s>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=s);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=pi(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),d+6>a&&(a=h/(n-(e.offset?.5:1)),r=this.maxHeight-Lo(e.grid)-t.padding-Do(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=li(Math.min(Math.asin(pi((c.highest.height+6)/a,-1,1)),Math.asin(pi(r/o,-1,1))-Math.asin(pi(u/o,-1,1)))),l=Math.max(s,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Os(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Os(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:s,grid:i}}=this,a=this._isVisible(),r=this.isHorizontal();if(a){const a=Do(s,t.options.font);if(r?(e.width=this.maxWidth,e.height=Lo(i)+a):(e.height=this.maxHeight,e.width=Lo(i)+a),n.display&&this.ticks.length){const{first:t,last:s,widest:i,highest:a}=this._getLabelSizes(),o=2*n.padding,l=oi(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(r){const t=n.mirror?0:d*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,s,d,c)}}this._handleMargins(),r?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,s){const{ticks:{align:i,padding:a},position:r}=this.options,o=0!==this.labelRotation,l="top"!==r&&"x"===this.axis;if(this.isHorizontal()){const r=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=s*e.width,u=n*t.height):(d=n*e.height,u=s*t.width):"start"===i?u=t.width:"end"===i?d=e.width:"inner"!==i&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-r+a)*this.width/(this.width-r),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,s=e.height/2;"start"===i?(n=0,s=e.height):"end"===i&&(n=t.height,s=0),this.paddingTop=n+a,this.paddingBottom=s+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Os(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)ks(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Ro(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:s,_longestTextCache:i}=this,a=[],r=[],o=Math.floor(t/Mo(t,n));let l,c,d,u,h,f,m,p,g,v,y,b=0,x=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),s.font=f=h.string,m=i[f]=i[f]||{data:{},gc:[]},p=h.lineHeight,g=v=0,ks(u)||Ss(u)){if(Ss(u))for(c=0,d=u.length;c<d;++c)y=u[c],ks(y)||Ss(y)||(g=Gi(s,m.data,m.gc,g,y),v+=p)}else g=Gi(s,m.data,m.gc,g,u),v=p;a.push(g),r.push(v),b=Math.max(g,b),x=Math.max(v,x)}!function(e,t){Ms(e,(e=>{const n=e.gc,s=n.length/2;let i;if(s>t){for(i=0;i<s;++i)delete e.data[n[i]];n.splice(0,s)}}))}(i,t);const _=a.indexOf(b),w=r.indexOf(x),j=e=>({width:a[e]||0,height:r[e]||0});return{first:j(0),last:j(t-1),widest:j(_),highest:j(w),widths:a,heights:r}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return pi(this._alignToPixels?Ji(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return ya(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=ya(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=oi(this.labelRotation),n=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,r=i?i.widest.width+a:0,o=i?i.highest.height+a:0;return this.isHorizontal()?o*n>r*s?r/n:o/s:o*s<r*n?o/n:r/s}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,s=this.options,{grid:i,position:a,border:r}=s,o=i.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=Lo(i),u=[],h=r.setContext(this.getContext()),f=h.display?h.width:0,m=f/2,p=function(e){return Ji(n,e,f)};let g,v,y,b,x,_,w,j,N,k,S,E;if("top"===a)g=p(this.bottom),_=this.bottom-d,j=g-m,k=p(e.top)+m,E=e.bottom;else if("bottom"===a)g=p(this.top),k=e.top,E=p(e.bottom)-m,_=g+m,j=this.top+d;else if("left"===a)g=p(this.right),x=this.right-d,w=g-m,N=p(e.left)+m,S=e.right;else if("right"===a)g=p(this.left),N=e.left,S=p(e.right)-m,x=g+m,w=this.left+d;else if("x"===t){if("center"===a)g=p((e.top+e.bottom)/2+.5);else if(Es(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}k=e.top,E=e.bottom,_=g+m,j=_+d}else if("y"===t){if("center"===a)g=p((e.left+e.right)/2);else if(Es(a)){const e=Object.keys(a)[0],t=a[e];g=p(this.chart.scales[e].getPixelForValue(t))}x=g-m,w=x-d,N=e.left,S=e.right}const C=Ps(s.ticks.maxTicksLimit,c),T=Math.max(1,Math.ceil(c/C));for(v=0;v<c;v+=T){const e=this.getContext(v),t=i.setContext(e),s=r.setContext(e),a=t.lineWidth,c=t.color,d=s.dash||[],h=s.dashOffset,f=t.tickWidth,m=t.tickColor,p=t.tickBorderDash||[],g=t.tickBorderDashOffset;y=Io(this,v,o),void 0!==y&&(b=Ji(n,y,a),l?x=w=N=S=b:_=j=k=E=b,u.push({tx1:x,ty1:_,tx2:w,ty2:j,x1:N,y1:k,x2:S,y2:E,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:f,tickColor:m,tickBorderDash:p,tickBorderDashOffset:g}))}return this._ticksLength=c,this._borderValue=g,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:s,ticks:i}=n,a=this.isHorizontal(),r=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=i,u=Lo(n.grid),h=u+c,f=d?-c:h,m=-oi(this.labelRotation),p=[];let g,v,y,b,x,_,w,j,N,k,S,E,C="middle";if("top"===s)_=this.bottom-f,w=this._getXAxisLabelAlignment();else if("bottom"===s)_=this.top+f,w=this._getXAxisLabelAlignment();else if("left"===s){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,x=e.x}else if("right"===s){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,x=e.x}else if("x"===t){if("center"===s)_=(e.top+e.bottom)/2+h;else if(Es(s)){const e=Object.keys(s)[0],t=s[e];_=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)x=(e.left+e.right)/2-h;else if(Es(s)){const e=Object.keys(s)[0],t=s[e];x=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const T=this._getLabelSizes();for(g=0,v=r.length;g<v;++g){y=r[g],b=y.label;const e=i.setContext(this.getContext(g));j=this.getPixelForTick(g)+i.labelOffset,N=this._resolveTickFontOptions(g),k=N.lineHeight,S=Ss(b)?b.length:1;const t=S/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(a?(x=j,"inner"===w&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===s?"near"===l||0!==m?-S*k+k/2:"center"===l?-T.highest.height/2-t*k+k:-T.highest.height+k/2:"near"===l||0!==m?k/2:"center"===l?T.highest.height/2-t*k:T.highest.height-S*k,d&&(E*=-1),0===m||e.showLabelBackdrop||(x+=k/2*Math.sin(m))):(_=j,E=(1-S)*k/2),e.showLabelBackdrop){const t=pa(e.backdropPadding),n=T.heights[g],s=T.widths[g];let i=E-t.top,a=0-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(w){case"center":a-=s/2;break;case"right":a-=s;break;case"inner":g===v-1?a-=s:g>0&&(a-=s/2)}u={left:a,top:i,width:s+t.width,height:n+t.height,color:e.backdropColor}}p.push({label:b,font:N,textOffset:E,options:{rotation:m,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:C,translation:[x,_],backdrop:u}})}return p}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-oi(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:s,padding:i}}=this.options,a=e+i,r=this._getLabelSizes().widest.width;let o,l;return"left"===t?s?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l+=r)):(l=this.right-a,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l=this.left)):"right"===t?s?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=r/2):(o="left",l-=r)):(l=this.left+a,"near"===n?o="left":"center"===n?(o="center",l+=r/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:s,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,s,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const r=(e,t,s)=>{s.width&&s.color&&(n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.setLineDash(s.borderDash||[]),n.lineDashOffset=s.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=s.length;i<a;++i){const e=s[i];t.drawOnChartArea&&r({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&r({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:s}}=this,i=n.setContext(this.getContext()),a=n.display?i.width:0;if(!a)return;const r=s.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Ji(e,this.left,a)-a/2,c=Ji(e,this.right,r)+r/2,d=u=o):(d=Ji(e,this.top,a)-a/2,u=Ji(e,this.bottom,r)+r/2,l=c=o),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ta(t,n);const s=this.getLabelItems(e);for(const i of s){const e=i.options,n=i.font;oa(t,i.label,0,i.textOffset,n,e)}n&&na(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:s}}=this;if(!n.display)return;const i=ga(n.font),a=pa(n.padding),r=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||Es(t)?(o+=a.bottom,Ss(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,s){const{top:i,left:a,bottom:r,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,f,m=0;const p=r-i,g=o-a;if(e.isHorizontal()){if(h=Si(s,a,o),Es(n)){const e=Object.keys(n)[0],s=n[e];f=d[e].getPixelForValue(s)+p-t}else f="center"===n?(c.bottom+c.top)/2+p-t:Oo(e,n,t);u=o-a}else{if(Es(n)){const e=Object.keys(n)[0],s=n[e];h=d[e].getPixelForValue(s)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:Oo(e,n,t);f=Si(s,r,i),m="left"===n?-Qs:Qs}return{titleX:h,titleY:f,maxWidth:u,rotation:m}}(this,o,t,r);oa(e,n.text,0,0,i,{color:n.color,maxWidth:d,rotation:u,textAlign:zo(r,t,s),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=Ps(e.grid&&e.grid.z,-1),s=Ps(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Fo.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[n]!==this.id||e&&a.type!==e||s.push(a)}return s}_resolveTickFontOptions(e){return ga(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class $o{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const s=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,function(e,t,n){const s=zs(Object.create(null),[n?Yi.get(n):{},Yi.get(t),e.defaults]);Yi.set(t,s),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const s=n.split("."),i=s.pop(),a=[e].concat(s).join("."),r=t[n].split("."),o=r.pop(),l=r.join(".");Yi.route(a,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&Yi.describe(t,e.descriptors)}(e,a,n),this.override&&Yi.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,s=this.scope;n in t&&delete t[n],s&&n in Yi[s]&&(delete Yi[s][n],this.override&&delete Ui[n])}}class Bo{constructor(){this.controllers=new $o(Cr,"datasets",!0),this.elements=new $o(To,"elements"),this.plugins=new $o(Object,"plugins"),this.scales=new $o(Fo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const s=n||this._getRegistryForType(t);n||s.isForType(t)||s===this.plugins&&t.id?this._exec(e,s,t):Ms(t,(t=>{const s=n||this._getRegistryForType(t);this._exec(e,s,t)}))}))}_exec(e,t,n){const s=Hs(e);Os(n["before"+s],[],n),t[e](n),Os(n["after"+s],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+n+".");return s}}var Uo=new Bo;class Ho{constructor(){this._init=[]}notify(e,t,n,s){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,s){s=s||{};for(const i of e){const e=i.plugin;if(!1===Os(e[n],[t,s,i.options],e)&&s.cancelable)return!1}return!0}invalidate(){ks(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,s=Ps(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],s=Object.keys(Uo.plugins.items);for(let a=0;a<s.length;a++)n.push(Uo.getPlugin(s[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==s||t?function(e,t,n,s){let{plugins:i,localIds:a}=t;const r=[],o=e.getContext();for(const l of i){const t=l.id,i=Vo(n[t],s);null!==i&&r.push({plugin:l,options:Wo(e.config,{plugin:l,local:a[t]},i,o)})}return r}(e,i,s,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,s=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(s(t,n),e,"stop"),this._notify(s(n,t),e,"start")}}function Vo(e,t){return t||!1!==e?!0===e?{}:e:null}function Wo(e,t,n,s){let{plugin:i,local:a}=t;const r=e.pluginScopeKeys(i),o=e.getOptionScopes(n,r);return a&&i.defaults&&o.push(i.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function qo(e,t){const n=Yi.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function Yo(e){if("x"===e||"y"===e||"r"===e)return e}function Go(e){if(Yo(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];for(const a of n){const t=a.axis||("top"===(i=a.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.length>1&&Yo(e[0].toLowerCase());if(t)return t}var i;throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Ko(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function Jo(e,t){const n=Ui[e.type]||{scales:{}},s=t.scales||{},i=qo(e.type,t),a=Object.create(null);return Object.keys(s).forEach((t=>{const r=s[t];if(!Es(r))return console.error(`Invalid scale configuration for scale: ${t}`);if(r._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=Go(t,r,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter((t=>t.xAxisID===e||t.yAxisID===e));if(n.length)return Ko(e,"x",n[0])||Ko(e,"y",n[0])}return{}}(t,e),Yi.scales[r.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};a[t]=Fs(Object.create(null),[{axis:o},r,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,r=n.indexAxis||qo(i,t),o=(Ui[i]||{}).scales||{};Object.keys(o).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,r),i=n[t+"AxisID"]||t;a[i]=a[i]||Object.create(null),Fs(a[i],[{axis:t},s[i],o[e]])}))})),Object.keys(a).forEach((e=>{const t=a[e];Fs(t,[Yi.scales[t.type],Yi.scale])})),a}function Xo(e){const t=e.options||(e.options={});t.plugins=Ps(t.plugins,{}),t.scales=Jo(e,t)}function Qo(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Zo=new Map,el=new Set;function tl(e,t){let n=Zo.get(e);return n||(n=t(),Zo.set(e,n),el.add(n)),n}const nl=(e,t,n)=>{const s=Us(t,n);void 0!==s&&e.add(s)};class sl{constructor(e){this._config=function(e){return(e=e||{}).data=Qo(e.data),Xo(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qo(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Xo(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return tl(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return tl(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return tl(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return tl(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let s=n.get(e);return s&&!t||(s=new Map,n.set(e,s)),s}getOptionScopes(e,t,n){const{options:s,type:i}=this,a=this._cachedScopes(e,n),r=a.get(t);if(r)return r;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>nl(o,e,t)))),t.forEach((e=>nl(o,s,e))),t.forEach((e=>nl(o,Ui[i]||{},e))),t.forEach((e=>nl(o,Yi,e))),t.forEach((e=>nl(o,Hi,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),el.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ui[t]||{},Yi.datasets[t]||{},{type:t},Yi,Hi]}resolveNamedOptions(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:r}=il(this._resolverCache,e,s);let o=a;if(function(e,t){const{isScriptable:n,isIndexable:s}=_a(e);for(const i of t){const t=n(i),a=s(i),r=(a||t)&&e[i];if(t&&(Ws(r)||al(r))||a&&Ss(r))return!0}return!1}(a,t)){i.$shared=!1;o=xa(a,n=Ws(n)?n():n,this.createResolver(e,n,r))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],s=arguments.length>3?arguments[3]:void 0;const{resolver:i}=il(this._resolverCache,e,n);return Es(t)?xa(i,t,void 0,s):i}}function il(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let a=s.get(i);if(!a){a={resolver:ba(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},s.set(i,a)}return a}const al=e=>Es(e)&&Object.getOwnPropertyNames(e).some((t=>Ws(e[t])));const rl=["top","bottom","left","right","chartArea"];function ol(e,t){return"top"===e||"bottom"===e||-1===rl.indexOf(e)&&"x"===t}function ll(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function cl(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Os(n&&n.onComplete,[e],t)}function dl(e){const t=e.chart,n=t.options.animation;Os(n&&n.onProgress,[e],t)}function ul(e){return $a()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const hl={},fl=e=>{const t=ul(e);return Object.values(hl).filter((e=>e.canvas===t)).pop()};function ml(e,t,n){const s=Object.keys(e);for(const i of s){const s=+i;if(s>=t){const a=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=a)}}}function pl(e,t,n){return e.options.clip?e[n]:t[n]}class gl{static defaults=(()=>Yi)();static instances=(()=>hl)();static overrides=(()=>Ui)();static registry=(()=>Uo)();static version="4.4.8";static getChart=(()=>fl)();static register(){Uo.add(...arguments),vl()}static unregister(){Uo.remove(...arguments),vl()}constructor(e,t){const n=this.config=new sl(t),s=ul(e),i=fl(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!$a()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?fo:Co}(s)),this.platform.updateConfig(n);const r=this.platform.acquireContext(s,a.aspectRatio),o=r&&r.canvas,l=o&&o.height,c=o&&o.width;this.id=Ns(),this.ctx=r,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Ho,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],hl[this.id]=this,r&&o?(hr.listen(this,"complete",cl),hr.listen(this,"progress",dl),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:s,_aspectRatio:i}=this;return ks(e)?t&&i?i:s?n/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Uo}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ka(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xi(this.canvas,this.ctx),this}stop(){return hr.stop(this),this}resize(e,t){hr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,s=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,e,t,i),r=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Ka(this,r,!0)&&(this.notifyPlugins("resize",{size:a}),Os(n.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){Ms(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,s=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],s=Go(e,n),i="r"===s,a="x"===s;return{options:n,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),Ms(i,(t=>{const i=t.options,a=i.id,r=Go(a,i),o=Ps(i.type,t.dtype);void 0!==i.position&&ol(i.position,r)===ol(t.dposition)||(i.position=t.dposition),s[a]=!0;let l=null;if(a in n&&n[a].type===o)l=n[a];else{l=new(Uo.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),Ms(s,((e,t)=>{e||delete n[t]})),Ms(n,(e=>{uo.configure(this,e,e.options),uo.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ll("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,s;for(this._removeUnreferencedMetasets(),n=0,s=t.length;n<s;n++){const s=t[n];let i=this.getDatasetMeta(n);const a=s.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=a,i.indexAxis=s.indexAxis||qo(a,this.options),i.order=s.order||0,i.index=n,i.label=""+s.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=Uo.getController(a),{datasetElementType:s,dataElementType:r}=Yi.datasets[a];Object.assign(t,{dataElementType:Uo.getElement(r),datasetElementType:s&&Uo.getElement(s)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){Ms(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!s&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),s||Ms(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ll("z","_idx"));const{_active:r,_lastEvent:o}=this;o?this._eventHandler(o,!0):r.length&&this._updateHoverStyles(r,r,!0),this.render()}_updateScales(){Ms(this.scales,(e=>{uo.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);qs(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:s,count:i}of t){ml(e,s,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),s=n(0);for(let i=1;i<t;i++)if(!qs(s,n(i)))return;return Array.from(s).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;uo.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],Ms(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Ws(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),s={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(n.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(hr.has(this)?this.attached&&!hr.running(this)&&hr.start(this):(this.draw(),cl({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let s,i;for(s=0,i=t.length;s<i;++s){const i=t[s];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,s=!n.disabled,i=function(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:pl(n,t,"left"),right:pl(n,t,"right"),top:pl(s,t,"top"),bottom:pl(s,t,"bottom")}:t}(e,this.chartArea),a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(s&&ta(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),s&&na(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return ea(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,s){const i=Xr.modes[t];return"function"===typeof i?i(this,e,n,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let s=n.filter((e=>e&&e._dataset===t)).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const s=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,s);Vs(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?s:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),hr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Xi(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete hl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,s)=>{t.addEventListener(this,n,s),e[n]=s},s=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};Ms(this.options.events,(e=>n(e,s)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,s)=>{t.addEventListener(this,n,s),e[n]=s},s=(n,s)=>{e[n]&&(t.removeEventListener(this,n,s),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const r=()=>{s("attach",r),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),n("attach",r)},t.isAttached(this.canvas)?r():a()}unbindEvents(){Ms(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},Ms(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const s=n?"set":"remove";let i,a,r,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),r=0,o=e.length;r<o;++r){a=e[r];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const s=this.getDatasetMeta(t);if(!s)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:s.data[n],index:n}}));!Rs(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter((t=>t.plugin.id===e)).length}_updateHoverStyles(e,t,n){const s=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=i(t,e),r=n?e:i(e,t);a.length&&this.updateHoverStyle(a,s.mode,!1),r.length&&s.mode&&this.updateHoverStyle(r,s.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,s))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:s=[],options:i}=this,a=t,r=this._getActiveElements(e,s,n,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,s){return n&&"mouseout"!==e.type?s?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,Os(i.onHover,[e,r,this],this),o&&Os(i.onClick,[e,r,this],this));const c=!Rs(r,s);return(c||t)&&(this._active=r,this._updateHoverStyles(r,s,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,s){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}}function vl(){return Ms(gl.instances,(e=>e._plugins.invalidate()))}function yl(e,t,n,s){const i=ha(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,r=Math.min(a,s*t/2),o=e=>{const t=(n-Math.min(a,e))*s/2;return pi(e,0,Math.min(a,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:pi(i.innerStart,0,r),innerEnd:pi(i.innerEnd,0,r)}}function bl(e,t,n,s){return{x:n+e*Math.cos(t),y:s+e*Math.sin(t)}}function xl(e,t,n,s,i,a){const{x:r,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+s+n-c,0),h=d>0?d+s+n+c:0;let f=0;const m=i-l;if(s){const e=((d>0?d-s:0)+(u>0?u-s:0))/2;f=(m-(0!==e?m*e/(e+s):m))/2}const p=(m-Math.max(.001,m*u-n/Ys)/u)/2,g=l+p+f,v=i-p-f,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:_}=yl(t,h,u,v-g),w=u-y,j=u-b,N=g+y/w,k=v-b/j,S=h+x,E=h+_,C=g+x/S,T=v-_/E;if(e.beginPath(),a){const t=(N+k)/2;if(e.arc(r,o,u,N,t),e.arc(r,o,u,t,k),b>0){const t=bl(j,k,r,o);e.arc(t.x,t.y,b,k,v+Qs)}const n=bl(E,v,r,o);if(e.lineTo(n.x,n.y),_>0){const t=bl(E,T,r,o);e.arc(t.x,t.y,_,v+Qs,T+Math.PI)}const s=(v-_/h+(g+x/h))/2;if(e.arc(r,o,h,v-_/h,s,!0),e.arc(r,o,h,s,g+x/h,!0),x>0){const t=bl(S,C,r,o);e.arc(t.x,t.y,x,C+Math.PI,g-Qs)}const i=bl(w,g,r,o);if(e.lineTo(i.x,i.y),y>0){const t=bl(w,N,r,o);e.arc(t.x,t.y,y,g-Qs,N)}}else{e.moveTo(r,o);const t=Math.cos(N)*u+r,n=Math.sin(N)*u+o;e.lineTo(t,n);const s=Math.cos(k)*u+r,i=Math.sin(k)*u+o;e.lineTo(s,i)}e.closePath()}function _l(e,t,n,s,i){const{fullCircles:a,startAngle:r,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(a){xl(e,t,n,s,m,i);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=r+(o%Gs||Gs))}f&&function(e,t,n){const{startAngle:s,pixelMargin:i,x:a,y:r,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(a,r,o,s-c,n+c),l>i?(c=i/l,e.arc(a,r,l,n+c,s-c,!0)):e.arc(a,r,i,n+Qs,s-Qs),e.closePath(),e.clip()}(e,t,m),a||(xl(e,t,n,s,m,i),e.stroke())}class wl extends To{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.getProps(["x","y"],n),{angle:i,distance:a}=di(s,{x:e,y:t}),{startAngle:r,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=Ps(d,o-r),f=mi(i,r,o)&&r!==o,m=h>=Gs||f,p=gi(a,l+u,c+u);return m&&p}getCenterPoint(e){const{x:t,y:n,startAngle:s,endAngle:i,innerRadius:a,outerRadius:r}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(s+i)/2,d=(a+r+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,s=(t.offset||0)/4,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Gs?Math.floor(n/Gs):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const r=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(r)*s,Math.sin(r)*s);const o=s*(1-Math.sin(Math.min(Ys,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,s,i){const{fullCircles:a,startAngle:r,circumference:o}=t;let l=t.endAngle;if(a){xl(e,t,n,s,l,i);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=r+(o%Gs||Gs))}xl(e,t,n,s,l,i),e.fill()}(e,this,o,i,a),_l(e,this,o,i,a),e.restore()}}function jl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Ps(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Ps(n.borderDash,t.borderDash)),e.lineDashOffset=Ps(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Ps(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Ps(n.borderWidth,t.borderWidth),e.strokeStyle=Ps(n.borderColor,t.borderColor)}function Nl(e,t,n){e.lineTo(n.x,n.y)}function kl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length,{start:i=0,end:a=s-1}=n,{start:r,end:o}=t,l=Math.max(i,r),c=Math.min(a,o),d=i<r&&a<r||i>o&&a>o;return{count:s,start:l,loop:t.loop,ilen:c<l&&!d?s+c-l:c-l}}function Sl(e,t,n,s){const{points:i,options:a}=t,{count:r,start:o,loop:l,ilen:c}=kl(i,n,s),d=function(e){return e.stepped?sa:e.tension||"monotone"===e.cubicInterpolationMode?ia:Nl}(a);let u,h,f,{move:m=!0,reverse:p}=s||{};for(u=0;u<=c;++u)h=i[(o+(p?c-u:u))%r],h.skip||(m?(e.moveTo(h.x,h.y),m=!1):d(e,f,h,p,a.stepped),f=h);return l&&(h=i[(o+(p?c:0))%r],d(e,f,h,p,a.stepped)),!!l}function El(e,t,n,s){const i=t.points,{count:a,start:r,ilen:o}=kl(i,n,s),{move:l=!0,reverse:c}=s||{};let d,u,h,f,m,p,g=0,v=0;const y=e=>(r+(c?o-e:e))%a,b=()=>{f!==m&&(e.lineTo(g,m),e.lineTo(g,f),e.lineTo(g,p))};for(l&&(u=i[y(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=i[y(d)],u.skip)continue;const t=u.x,n=u.y,s=0|t;s===h?(n<f?f=n:n>m&&(m=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=s,v=0,f=m=n),p=n}b()}function Cl(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?El:Sl}const Tl="function"===typeof Path2D;function Pl(e,t,n,s){Tl&&!t.options.segment?function(e,t,n,s){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,s)&&i.closePath()),jl(e,t.options),e.stroke(i)}(e,t,n,s):function(e,t,n,s){const{segments:i,options:a}=t,r=Cl(t);for(const o of i)jl(e,a,o.style),e.beginPath(),r(e,t,o,{start:n,end:n+s-1})&&e.closePath(),e.stroke()}(e,t,n,s)}class Al extends To{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const s=n.spanGaps?this._loop:this._fullLoop;Fa(this._points,n,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,s=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:r,end:o}=function(e,t,n,s){let i=0,a=t-1;if(n&&!s)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(n,i,a,s);return lr(e,!0===s?[{start:r,end:o,loop:a}]:function(e,t,n,s){const i=e.length,a=[];let r,o=t,l=e[t];for(r=t+1;r<=n;++r){const n=e[r%i];n.skip||n.stop?l.skip||(s=!1,a.push({start:t%i,end:(r-1)%i,loop:s}),t=o=n.stop?r:null):(o=r,l.skip&&(t=r)),l=n}return null!==o&&a.push({start:t%i,end:o%i,loop:s}),a}(n,r,o<r?o+i:o,!!e._fullLoop&&0===r&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,s=e[t],i=this.points,a=or(this,{property:t,start:s,end:s});if(!a.length)return;const r=[],o=function(e){return e.stepped?Za:e.tension||"monotone"===e.cubicInterpolationMode?er:Qa}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=i[c],h=i[d];if(u===h){r.push(u);continue}const f=o(u,h,Math.abs((s-u[t])/(h[t]-u[t])),n.stepped);f[t]=e[t],r.push(f)}return 1===r.length?r[0]:r}pathSegment(e,t,n){return Cl(this)(e,this,t,n)}path(e,t,n){const s=this.segments,i=Cl(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const r of s)a&=i(e,this,r,{start:t,end:t+n-1});return!!a}draw(e,t,n,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Pl(e,this,n,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ol(e,t,n,s){const i=e.options,{[n]:a}=e.getProps([n],s);return Math.abs(t-a)<i.radius+i.hitRadius}class Ml extends To{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const s=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return Ol(this,e,"x",t)}inYRange(e,t){return Ol(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!ea(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Qi(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Rl(e,t){const{x:n,y:s,base:i,width:a,height:r}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=r/2,o=Math.min(n,i),l=Math.max(n,i),c=s-u,d=s+u):(u=a/2,o=n-u,l=n+u,c=Math.min(s,i),d=Math.max(s,i)),{left:o,top:c,right:l,bottom:d}}function Il(e,t,n,s){return e?0:pi(t,n,s)}function Ll(e){const t=Rl(e),n=t.right-t.left,s=t.bottom-t.top,i=function(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,a=fa(s);return{t:Il(i.top,a.top,0,n),r:Il(i.right,a.right,0,t),b:Il(i.bottom,a.bottom,0,n),l:Il(i.left,a.left,0,t)}}(e,n/2,s/2),a=function(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=ma(i),r=Math.min(t,n),o=e.borderSkipped,l=s||Es(i);return{topLeft:Il(!l||o.top||o.left,a.topLeft,0,r),topRight:Il(!l||o.top||o.right,a.topRight,0,r),bottomLeft:Il(!l||o.bottom||o.left,a.bottomLeft,0,r),bottomRight:Il(!l||o.bottom||o.right,a.bottomRight,0,r)}}(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Dl(e,t,n,s){const i=null===t,a=null===n,r=e&&!(i&&a)&&Rl(e,s);return r&&(i||gi(t,r.left,r.right))&&(a||gi(n,r.top,r.bottom))}function zl(e,t){e.rect(t.x,t.y,t.w,t.h)}function Fl(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-s,r=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+a,h:e.h+r,radius:e.radius}}class $l extends To{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:s}}=this,{inner:i,outer:a}=Ll(this),r=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?la:zl;var o;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),r(e,Fl(a,t,i)),e.clip(),r(e,Fl(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),r(e,Fl(i,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,n){return Dl(this,e,t,n)}inXRange(e,t){return Dl(this,e,null,t)}inYRange(e,t){return Dl(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+s)/2:t,y:i?n:(n+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const Bl=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}};class Ul extends To{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Os(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,s=ga(n.font),i=s.size,a=this._computeTitleHeight(),{boxWidth:r,itemHeight:o}=Bl(n,i);let l,c;t.font=s.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,r,o)+10):(c=this.maxHeight,l=this._fitCols(a,s,r,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,s){const{ctx:i,maxWidth:a,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=s+r;let d=e;i.textAlign="left",i.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach(((e,f)=>{const m=n+t/2+i.measureText(e.text).width;(0===f||l[l.length-1]+m+2*r>a)&&(d+=c,l[l.length-(f>0?0:1)]=0,h+=c,u++),o[f]={left:0,top:h,row:u,width:m,height:s},l[l.length-1]+=m+r})),d}_fitCols(e,t,n,s){const{ctx:i,maxHeight:a,options:{labels:{padding:r}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=r,u=0,h=0,f=0,m=0;return this.legendItems.forEach(((e,a)=>{const{itemWidth:p,itemHeight:g}=function(e,t,n,s,i){const a=function(e,t,n,s){let i=e.text;i&&"string"!==typeof i&&(i=i.reduce(((e,t)=>e.length>t.length?e:t)));return t+n.size/2+s.measureText(i).width}(s,e,t,n),r=function(e,t,n){let s=e;"string"!==typeof t.text&&(s=Hl(t,n));return s}(i,s,t.lineHeight);return{itemWidth:a,itemHeight:r}}(n,t,i,e,s);a>0&&h+g+2*r>c&&(d+=u+r,l.push({width:u,height:h}),f+=u+r,m++,u=h=0),o[a]={left:f,top:h,col:m,width:p,height:g},u=Math.max(u,p),h+=g+r})),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:s},rtl:i}}=this,a=tr(i,this.left,this.width);if(this.isHorizontal()){let i=0,r=Si(n,this.left+s,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,r=Si(n,this.left+s,this.right-this.lineWidths[i])),o.top+=this.top+e+s,o.left=a.leftForLtr(a.x(r),o.width),r+=o.width+s}else{let i=0,r=Si(n,this.top+e+s,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,r=Si(n,this.top+e+s,this.bottom-this.columnSizes[i].height)),o.top=r,o.left+=this.left+s,o.left=a.leftForLtr(a.x(o.left),o.width),r+=o.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ta(e,this),this._draw(),na(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:s}=this,{align:i,labels:a}=e,r=Yi.color,o=tr(e.rtl,this.left,this.width),l=ga(a.font),{padding:c}=a,d=l.size,u=d/2;let h;this.drawTitle(),s.textAlign=o.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:p}=Bl(a,d),g=this.isHorizontal(),v=this._computeTitleHeight();h=g?{x:Si(i,this.left+c,this.right-n[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:Si(i,this.top+v+c,this.bottom-t[0].height),line:0},nr(this.ctx,e.textDirection);const y=p+c;this.legendItems.forEach(((b,x)=>{s.strokeStyle=b.fontColor,s.fillStyle=b.fontColor;const _=s.measureText(b.text).width,w=o.textAlign(b.textAlign||(b.textAlign=a.textAlign)),j=f+u+_;let N=h.x,k=h.y;o.setWidth(this.width),g?x>0&&N+j+c>this.right&&(k=h.y+=y,h.line++,N=h.x=Si(i,this.left+c,this.right-n[h.line])):x>0&&k+y>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,k=h.y=Si(i,this.top+v+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;s.save();const i=Ps(n.lineWidth,1);if(s.fillStyle=Ps(n.fillStyle,r),s.lineCap=Ps(n.lineCap,"butt"),s.lineDashOffset=Ps(n.lineDashOffset,0),s.lineJoin=Ps(n.lineJoin,"miter"),s.lineWidth=i,s.strokeStyle=Ps(n.strokeStyle,r),s.setLineDash(Ps(n.lineDash,[])),a.usePointStyle){const r={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);Zi(s,r,l,t+u,a.pointStyleWidth&&f)}else{const a=t+Math.max((d-m)/2,0),r=o.leftForLtr(e,f),l=ma(n.borderRadius);s.beginPath(),Object.values(l).some((e=>0!==e))?la(s,{x:r,y:a,w:f,h:m,radius:l}):s.rect(r,a,f,m),s.fill(),0!==i&&s.stroke()}s.restore()}(o.x(N),k,b),N=((e,t,n,s)=>e===(s?"left":"right")?n:"center"===e?(t+n)/2:t)(w,N+f+u,g?N+j:this.right,e.rtl),function(e,t,n){oa(s,n.text,e,t+p/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(N),k,b),g)h.x+=j+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=Hl(b,e)+c}else h.y+=y})),sr(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=ga(t.font),s=pa(t.padding);if(!t.display)return;const i=tr(e.rtl,this.left,this.width),a=this.ctx,r=t.position,o=n.size/2,l=s.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=Si(e.align,d,this.right-u);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+Si(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Si(r,d,d+u);a.textAlign=i.textAlign(ki(r)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,oa(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=ga(e.font),n=pa(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,s,i;if(gi(e,this.left,this.right)&&gi(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(s=i[n],gi(e,s.left,s.left+s.width)&&gi(t,s.top,s.top+s.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,r=(i=n,null!==(s=a)&&null!==i&&s.datasetIndex===i.datasetIndex&&s.index===i.index);a&&!r&&Os(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!r&&Os(t.onHover,[e,n,this],this)}else n&&Os(t.onClick,[e,n,this],this);var s,i}}function Hl(e,t){return t*(e.text?e.text.length:0)}var Vl={id:"legend",_element:Ul,start(e,t,n){const s=e.legend=new Ul({ctx:e.ctx,options:n,chart:e});uo.configure(e,s,n),uo.addBox(e,s)},stop(e){uo.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;uo.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:a,useBorderRadius:r,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const l=e.controller.getStyle(n?0:void 0),c=pa(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:r&&(o||l.borderRadius),datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Wl extends To{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const s=Ss(n.text)?n.text.length:1;this._padding=pa(n.padding);const i=s*ga(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:s,right:i,options:a}=this,r=a.align;let o,l,c,d=0;return this.isHorizontal()?(l=Si(r,n,i),c=t+e,o=i-n):("left"===a.position?(l=n+e,c=Si(r,s,t),d=-.5*Ys):(l=i-e,c=Si(r,t,s),d=.5*Ys),o=s-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=ga(t.font),s=n.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:r,rotation:o}=this._drawArgs(s);oa(e,t.text,0,0,n,{color:t.color,maxWidth:r,rotation:o,textAlign:ki(t.align),textBaseline:"middle",translation:[i,a]})}}var ql={id:"title",_element:Wl,start(e,t,n){!function(e,t){const n=new Wl({ctx:e.ctx,options:t,chart:e});uo.configure(e,n,t),uo.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;uo.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const s=e.titleBlock;uo.configure(e,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const Yl={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();s.add(e.x),i+=e.y,++a}}if(0===a||0===s.size)return!1;return{x:[...s].reduce(((e,t)=>e+t))/s.size,y:i/a}},nearest(e,t){if(!e.length)return!1;let n,s,i,a=t.x,r=t.y,o=Number.POSITIVE_INFINITY;for(n=0,s=e.length;n<s;++n){const s=e[n].element;if(s&&s.hasValue()){const e=ui(t,s.getCenterPoint());e<o&&(o=e,i=s)}}if(i){const e=i.tooltipPosition();a=e.x,r=e.y}return{x:a,y:r}}};function Gl(e,t){return t&&(Ss(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Kl(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Jl(e,t){const{element:n,datasetIndex:s,index:i}=t,a=e.getDatasetMeta(s).controller,{label:r,value:o}=a.getLabelAndValue(i);return{chart:e,label:r,parsed:a.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function Xl(e,t){const n=e.chart.ctx,{body:s,footer:i,title:a}=e,{boxWidth:r,boxHeight:o}=t,l=ga(t.bodyFont),c=ga(t.titleFont),d=ga(t.footerFont),u=a.length,h=i.length,f=s.length,m=pa(t.padding);let p=m.height,g=0,v=s.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),v){p+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*t.bodySpacing}h&&(p+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,Ms(e.title,b),n.font=l.string,Ms(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?r+2+t.boxPadding:0,Ms(s,(e=>{Ms(e.before,b),Ms(e.lines,b),Ms(e.after,b)})),y=0,n.font=d.string,Ms(e.footer,b),n.restore(),g+=m.width,{width:g,height:p}}function Ql(e,t,n,s){const{x:i,width:a}=n,{width:r,chartArea:{left:o,right:l}}=e;let c="center";return"center"===s?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=r-a/2&&(c="right"),function(e,t,n,s){const{x:i,width:a}=s,r=n.caretSize+n.caretPadding;return"left"===e&&i+a+r>t.width||"right"===e&&i-a-r<0||void 0}(c,e,t,n)&&(c="center"),c}function Zl(e,t,n){const s=n.yAlign||t.yAlign||function(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Ql(e,t,n,s),yAlign:s}}function ec(e,t,n,s){const{caretSize:i,caretPadding:a,cornerRadius:r}=e,{xAlign:o,yAlign:l}=n,c=i+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=ma(r);let m=function(e,t){let{x:n,width:s}=e;return"right"===t?n-=s:"center"===t&&(n-=s/2),n}(t,o);const p=function(e,t,n){let{y:s,height:i}=e;return"top"===t?s+=n:s-="bottom"===t?i+n:i/2,s}(t,l,c);return"center"===l?"left"===o?m+=c:"right"===o&&(m-=c):"left"===o?m-=Math.max(d,h)+i:"right"===o&&(m+=Math.max(u,f)+i),{x:pi(m,0,s.width-t.width),y:pi(p,0,s.height-t.height)}}function tc(e,t,n){const s=pa(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-s.right:e.x+s.left}function nc(e){return Gl([],Kl(e))}function sc(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const ic={beforeTitle:js,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:js,beforeBody:js,beforeLabel:js,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return ks(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:js,afterBody:js,beforeFooter:js,footer:js,afterFooter:js};function ac(e,t,n,s){const i=e[t].call(n,s);return"undefined"===typeof i?ic[t].call(n,s):i}class rc extends To{static positioners=(()=>Yl)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&t.options.animation&&n.animations,i=new gr(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,ya(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,s=ac(n,"beforeTitle",this,e),i=ac(n,"title",this,e),a=ac(n,"afterTitle",this,e);let r=[];return r=Gl(r,Kl(s)),r=Gl(r,Kl(i)),r=Gl(r,Kl(a)),r}getBeforeBody(e,t){return nc(ac(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,s=[];return Ms(e,(e=>{const t={before:[],lines:[],after:[]},i=sc(n,e);Gl(t.before,Kl(ac(i,"beforeLabel",this,e))),Gl(t.lines,ac(i,"label",this,e)),Gl(t.after,Kl(ac(i,"afterLabel",this,e))),s.push(t)})),s}getAfterBody(e,t){return nc(ac(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,s=ac(n,"beforeFooter",this,e),i=ac(n,"footer",this,e),a=ac(n,"afterFooter",this,e);let r=[];return r=Gl(r,Kl(s)),r=Gl(r,Kl(i)),r=Gl(r,Kl(a)),r}_createItems(e){const t=this._active,n=this.chart.data,s=[],i=[],a=[];let r,o,l=[];for(r=0,o=t.length;r<o;++r)l.push(Jl(this.chart,t[r]));return e.filter&&(l=l.filter(((t,s,i)=>e.filter(t,s,i,n)))),e.itemSort&&(l=l.sort(((t,s)=>e.itemSort(t,s,n)))),Ms(l,(t=>{const n=sc(e.callbacks,t);s.push(ac(n,"labelColor",this,t)),i.push(ac(n,"labelPointStyle",this,t)),a.push(ac(n,"labelTextColor",this,t))})),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),s=this._active;let i,a=[];if(s.length){const e=Yl[n.position].call(this,s,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=Xl(this,n),r=Object.assign({},e,t),o=Zl(this.chart,n,r),l=ec(n,r,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,s){const i=this.getCaretPosition(e,n,s);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:s,yAlign:i}=this,{caretSize:a,cornerRadius:r}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=ma(r),{x:u,y:h}=e,{width:f,height:m}=t;let p,g,v,y,b,x;return"center"===i?(b=h+m/2,"left"===s?(p=u,g=p-a,y=b+a,x=b-a):(p=u+f,g=p+a,y=b-a,x=b+a),v=p):(g="left"===s?u+Math.max(o,c)+a:"right"===s?u+f-Math.max(l,d)-a:this.caretX,"top"===i?(y=h,b=y-a,p=g-a,v=g+a):(y=h+m,b=y+a,p=g+a,v=g-a),x=y),{x1:p,x2:g,x3:v,y1:y,y2:b,y3:x}}drawTitle(e,t,n){const s=this.title,i=s.length;let a,r,o;if(i){const l=tr(n.rtl,this.x,this.width);for(e.x=tc(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=ga(n.titleFont),r=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,o=0;o<i;++o)t.fillText(s[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r,o+1===i&&(e.y+=n.titleMarginBottom-r)}}_drawColorBox(e,t,n,s,i){const a=this.labelColors[n],r=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=i,c=ga(i.bodyFont),d=tc(this,"left",i),u=s.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,f=t.y+h;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:1},n=s.leftForLtr(u,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,Qi(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Qi(e,t,n,c)}else{e.lineWidth=Es(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=s.leftForLtr(u,l),n=s.leftForLtr(s.xPlus(u,1),l-2),r=ma(a.borderRadius);Object.values(r).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,la(e,{x:t,y:f,w:l,h:o,radius:r}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),la(e,{x:n,y:f+1,w:l-2,h:o-2,radius:r}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:s}=this,{bodySpacing:i,bodyAlign:a,displayColors:r,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=ga(n.bodyFont);let u=d.lineHeight,h=0;const f=tr(n.rtl,this.x,this.width),m=function(n){t.fillText(n,f.x(e.x+h),e.y+u/2),e.y+=u+i},p=f.textAlign(a);let g,v,y,b,x,_,w;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=tc(this,p,n),t.fillStyle=n.bodyColor,Ms(this.beforeBody,m),h=r&&"right"!==p?"center"===a?l/2+c:l+2+c:0,b=0,_=s.length;b<_;++b){for(g=s[b],v=this.labelTextColors[b],t.fillStyle=v,Ms(g.before,m),y=g.lines,r&&y.length&&(this._drawColorBox(t,e,b,f,n),u=Math.max(d.lineHeight,o)),x=0,w=y.length;x<w;++x)m(y[x]),u=d.lineHeight;Ms(g.after,m)}h=0,u=d.lineHeight,Ms(this.afterBody,m),e.y-=i}drawFooter(e,t,n){const s=this.footer,i=s.length;let a,r;if(i){const o=tr(n.rtl,this.x,this.width);for(e.x=tc(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",a=ga(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,r=0;r<i;++r)t.fillText(s[r],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,s){const{xAlign:i,yAlign:a}=this,{x:r,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:f}=ma(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(r+d,o),"top"===a&&this.drawCaret(e,t,n,s),t.lineTo(r+l-u,o),t.quadraticCurveTo(r+l,o,r+l,o+u),"center"===a&&"right"===i&&this.drawCaret(e,t,n,s),t.lineTo(r+l,o+c-f),t.quadraticCurveTo(r+l,o+c,r+l-f,o+c),"bottom"===a&&this.drawCaret(e,t,n,s),t.lineTo(r+h,o+c),t.quadraticCurveTo(r,o+c,r,o+c-h),"center"===a&&"left"===i&&this.drawCaret(e,t,n,s),t.lineTo(r,o+d),t.quadraticCurveTo(r,o,r+d,o),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,s=n&&n.x,i=n&&n.y;if(s||i){const n=Yl[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=Xl(this,e),r=Object.assign({},n,this._size),o=Zl(t,e,r),l=ec(e,r,o,t);s._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=pa(t.padding),r=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&r&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,s,t),nr(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),sr(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,s=e.map((e=>{let{datasetIndex:t,index:n}=e;const s=this.chart.getDatasetMeta(t);if(!s)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:s.data[n],index:n}})),i=!Rs(n,s),a=this._positionChanged(s,t);(i||a)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),r=this._positionChanged(a,e),o=t||!Rs(a,i)||r;return o&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,s){const i=this.options;if("mouseout"===e.type)return[];if(!s)return t.filter((e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)));const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:s,options:i}=this,a=Yl[i.position].call(this,e,t);return!1!==a&&(n!==a.x||s!==a.y)}}var oc={id:"tooltip",_element:rc,positioners:Yl,afterInit(e,t,n){n&&(e.tooltip=new rc({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ic},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function lc(e,t,n,s){const i=e.indexOf(t);if(-1===i)return((e,t,n,s)=>("string"===typeof t?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,s);return i!==e.lastIndexOf(t)?n:i}function cc(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class dc extends Fo{static id="category";static defaults=(()=>({ticks:{callback:cc}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:s}of t)e[n]===s&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(ks(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:pi(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:lc(n,e,Ps(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,s=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)s.push({value:a});return s}getLabelForValue(e){return cc.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function uc(e,t){const n=[],{bounds:s,step:i,min:a,max:r,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=i||1,f=c-1,{min:m,max:p}=t,g=!ks(a),v=!ks(r),y=!ks(l),b=(p-m)/(d+1);let x,_,w,j,N=ii((p-m)/f/h)*h;if(N<1e-14&&!g&&!v)return[{value:m},{value:p}];j=Math.ceil(p/N)-Math.floor(m/N),j>f&&(N=ii(j*N/f/h)*h),ks(o)||(x=Math.pow(10,o),N=Math.ceil(N*x)/x),"ticks"===s?(_=Math.floor(m/N)*N,w=Math.ceil(p/N)*N):(_=m,w=p),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((r-a)/i,N/1e3)?(j=Math.round(Math.min((r-a)/N,c)),N=(r-a)/j,_=a,w=r):y?(_=g?a:_,w=v?r:w,j=l-1,N=(w-_)/j):(j=(w-_)/N,j=si(j,Math.round(j),N/1e3)?Math.round(j):Math.ceil(j));const k=Math.max(ci(N),ci(_));x=Math.pow(10,ks(o)?k:o),_=Math.round(_*x)/x,w=Math.round(w*x)/x;let S=0;for(g&&(u&&_!==a?(n.push({value:a}),_<a&&S++,si(Math.round((_+S*N)*x)/x,a,hc(a,b,e))&&S++):_<a&&S++);S<j;++S){const e=Math.round((_+S*N)*x)/x;if(v&&e>r)break;n.push({value:e})}return v&&u&&w!==r?n.length&&si(n[n.length-1].value,r,hc(r,b,e))?n[n.length-1].value=r:n.push({value:r}):v&&w!==r||n.push({value:w}),n}function hc(e,t,n){let{horizontal:s,minRotation:i}=n;const a=oi(i),r=(s?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class fc extends Fo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return ks(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this;const a=e=>s=t?s:e,r=e=>i=n?i:e;if(e){const e=ni(s),t=ni(i);e<0&&t<0?r(0):e>0&&t>0&&a(0)}if(s===i){let t=0===i?1:Math.abs(.05*i);r(i+t),e||a(s-t)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:s}=e;return s?(t=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const s=uc({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&ri(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const s=(n-t)/Math.max(e.length-1,1)/2;t-=s,n+=s}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return Fi(e,this.chart.options.locale,this.options.ticks.format)}}class mc extends fc{static id="linear";static defaults=(()=>({ticks:{callback:Bi.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Cs(e)?e:0,this.max=Cs(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=oi(this.options.ticks.minRotation),s=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Bi.formatters.logarithmic;function pc(e){const t=e.ticks;if(t.display&&e.display){const e=pa(t.backdropPadding);return Ps(t.font&&t.font.size,Yi.font.size)+e.height}return 0}function gc(e,t,n,s,i){return e===s||e===i?{start:t-n/2,end:t+n/2}:e<s||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function vc(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),s=[],i=[],a=e._pointLabels.length,r=e.options.pointLabels,o=r.centerPointLabels?Ys/a:0;for(let u=0;u<a;u++){const a=r.setContext(e.getPointLabelContext(u));i[u]=a.padding;const h=e.getPointPosition(u,e.drawingArea+i[u],o),f=ga(a.font),m=(l=e.ctx,c=f,d=Ss(d=e._pointLabels[u])?d:[d],{w:Ki(l,c.string,d),h:d.length*c.lineHeight});s[u]=m;const p=fi(e.getIndexAngle(u)+o),g=Math.round(li(p));yc(n,t,p,gc(g,h.x,m.w,0,180),gc(g,h.y,m.h,90,270))}var l,c,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const s=[],i=e._pointLabels.length,a=e.options,{centerPointLabels:r,display:o}=a.pointLabels,l={extra:pc(a)/2,additionalAngle:r?Ys/i:0};let c;for(let d=0;d<i;d++){l.padding=n[d],l.size=t[d];const i=bc(e,d,l);s.push(i),"auto"===o&&(i.visible=xc(i,c),i.visible&&(c=i))}return s}(e,s,i)}function yc(e,t,n,s,i){const a=Math.abs(Math.sin(n)),r=Math.abs(Math.cos(n));let o=0,l=0;s.start<t.l?(o=(t.l-s.start)/a,e.l=Math.min(e.l,t.l-o)):s.end>t.r&&(o=(s.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function bc(e,t,n){const s=e.drawingArea,{extra:i,additionalAngle:a,padding:r,size:o}=n,l=e.getPointPosition(t,s+i+r,a),c=Math.round(li(fi(l.angle+Qs))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function xc(e,t){if(!t)return!0;const{left:n,top:s,right:i,bottom:a}=e;return!(ea({x:n,y:s},t)||ea({x:n,y:a},t)||ea({x:i,y:s},t)||ea({x:i,y:a},t))}function _c(e,t,n){const{left:s,top:i,right:a,bottom:r}=n,{backdropColor:o}=t;if(!ks(o)){const n=ma(t.borderRadius),l=pa(t.backdropPadding);e.fillStyle=o;const c=s-l.left,d=i-l.top,u=a-s+l.width,h=r-i+l.height;Object.values(n).some((e=>0!==e))?(e.beginPath(),la(e,{x:c,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(c,d,u,h)}}function wc(e,t,n,s){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,Gs);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let a=1;a<s;a++)n=e.getPointPosition(a,t),i.lineTo(n.x,n.y)}}class jc extends fc{static id="radialLinear";static defaults=(()=>({display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bi.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}))();static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=pa(pc(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=Cs(e)&&!isNaN(e)?e:0,this.max=Cs(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pc(this.options))}generateTickLabels(e){fc.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=Os(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?vc(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,s))}getIndexAngle(e){return fi(e*(Gs/(this._pointLabels.length||1))+oi(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(ks(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(ks(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return ya(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this.getIndexAngle(e)-Qs+n;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:s,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:s,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),wc(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:s,border:i}=t,a=this._pointLabels.length;let r,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:s}}=e;for(let i=t-1;i>=0;i--){const t=e._pointLabelItems[i];if(!t.visible)continue;const a=s.setContext(e.getPointLabelContext(i));_c(n,a,t);const r=ga(a.font),{x:o,y:l,textAlign:c}=t;oa(n,e._pointLabels[i],o,l+r.lineHeight/2,r,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),s.display&&this.ticks.forEach(((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),r=s.setContext(n),l=i.setContext(n);!function(e,t,n,s,i){const a=e.ctx,r=t.circular,{color:o,lineWidth:l}=t;!r&&!s||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(i.dash||[]),a.lineDashOffset=i.dashOffset,a.beginPath(),wc(e,n,r,s),a.closePath(),a.stroke(),a.restore())}(this,r,o,a,l)}})),n.display){for(e.save(),r=a-1;r>=0;r--){const s=n.setContext(this.getPointLabelContext(r)),{color:i,lineWidth:a}=s;a&&i&&(e.lineWidth=a,e.strokeStyle=i,e.setLineDash(s.borderDash),e.lineDashOffset=s.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(r,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const s=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((s,r)=>{if(0===r&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(r)),l=ga(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[r].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(s.label).width,e.fillStyle=o.backdropColor;const t=pa(o.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}oa(e,s.label,0,-i,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})})),e.restore()}drawTitle(){}}const Nc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},kc=Object.keys(Nc);function Sc(e,t){return e-t}function Ec(e,t){if(ks(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:a}=e._parseOpts;let r=t;return"function"===typeof s&&s(r),Cs(r)||("string"===typeof s?n.parse(r,s):n.parse(r)),null===r?null:(i&&("week"!==i||!ai(a)&&!0!==a?n.startOf(r,i):n.startOf(r,"isoWeek",a)),+r)}function Cc(e,t,n,s){const i=kc.length;for(let a=kc.indexOf(e);a<i-1;++a){const e=Nc[kc[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=s)return kc[a]}return kc[i-1]}function Tc(e,t,n){if(n){if(n.length){const{lo:s,hi:i}=vi(n,t);e[n[s]>=t?n[s]:n[i]]=!0}}else e[t]=!0}function Pc(e,t,n){const s=[],i={},a=t.length;let r,o;for(0;r<a;++r)t[r],i[o]=r,s.push({value:o,major:!1});return 0!==a&&n?function(e,t,n,s){const i=e._adapter,a=+i.startOf(t[0].value,s),r=t[t.length-1].value;let o,l;for(a;o<=r;+i.add(o,1,s))n[o],l>=0&&(t[l].major=!0);return t}(e,s,i,n):s}class Ac extends Fo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),s=this._adapter=new Vr(e.adapters.date);s.init(t),Fs(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Ec(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:s,max:i,minDefined:a,maxDefined:r}=this.getUserBounds();function o(e){a||isNaN(e.min)||Math.min(s,e.min),r||isNaN(e.max)||Math.max(i,e.max)}a&&r||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),Cs(s)&&!isNaN(s)?s:+t.startOf(Date.now(),n),Cs(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(e[0],e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,s="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,a=function(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)0;for(;i>s&&e[i-1]>n;)0;return s>0||i<e.length?e.slice(s,i):e}(s,i,this.max);return this._unit=t.unit||(n.autoSkip?Cc(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,s,i){for(let a=kc.length-1;a>=kc.indexOf(n);a--){const n=kc[a];if(Nc[n].common&&e._adapter.diff(i,s,n)>=t-1)return n}return kc[n?kc.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=kc.indexOf(e)+1,n=kc.length;t<n;++t)if(Nc[kc[t]].common)return kc[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&a.reverse(),Pc(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=0,i=0;this.options.offset&&n.length&&(this.getDecimalForValue(n[0]),1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,this.getDecimalForValue(n[n.length-1]),1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;pi(s,0,a),pi(i,0,a),this._offsets={start:s,end:i,factor:1/(s+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,s=this.options,i=s.time,a=i.unit||Cc(i.minUnit,t,n,this._getLabelCapacity(t)),r=Ps(s.ticks.stepSize,1),o="week"===a&&i.isoWeekday,l=ai(o)||!0===o,c={};let d,u,h=t;if(l&&+e.startOf(h,"isoWeek",o),+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*r)throw new Error(t+" and "+n+" are too far apart with stepSize of "+r+" "+a);const f="data"===s.ticks.source&&this.getDataTimestamps();for(0;d<n;+e.add(d,r,a),u++)Tc(c,d,f);return d!==n&&"ticks"!==s.bounds&&1!==u||Tc(c,d,f),Object.keys(c).sort(Sc).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,s=this._unit,i=t||n[s];return this._adapter.format(e,i)}_tickFormatFunction(e,t,n,s){const i=this.options,a=i.ticks.callback;if(a)return Os(a,[e,t,n],this);const r=i.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&r[o],d=l&&r[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,s||(h?d:c))}generateTickLabels(e){let t,n,s;for(e.length;t<n;++t)e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,s=oi(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(s),a=Math.sin(s),r=this._resolveTickFontOptions(0).size;return{w:n*i+r*a,h:n*a+r*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,s=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Pc(this,[e],this._majorUnit),s),a=this._getLabelSize(i),r=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return r>0?r:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(s.length;e<t;++e)n.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const s=this.getLabels();for(s.length;t<n;++t)e.push(Ec(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return wi(e.sort(Sc))}}gl.register(dc,mc,Ml,Al,wl,ql,oc,Vl);const Oc=()=>{var e;const n=ee(),{user:s}=Re(),[i,a]=(0,t.useState)(null),[r,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({vitals:[],medications:[],appointments:[],conditions:[],alerts:[],profile:null}),[d,u]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const{data:{user:e},error:t}=await St.auth.getUser();if(t||!e)return void n("/");const{data:s,error:i}=await St.from("detailed_profiles").select("*").eq("id",e.id).single();if(i){if("PGRST116"!==i.code)throw i;{const{data:t,error:n}=await St.from("detailed_profiles").insert([{id:e.id}]).select().single();if(n)throw n;c((e=>({...e,profile:t})))}}else c((e=>({...e,profile:s})))}catch(d){console.error("Error fetching data:",d),u("Failed to load dashboard data")}finally{o(!1)}})()}),[n]);return r?(0,Oe.jsx)(Hn,{}):d?(0,Oe.jsx)("div",{className:"alert alert-danger",children:d}):(0,Oe.jsxs)("div",{className:"dashboard container-fluid py-4",children:[(0,Oe.jsx)("div",{className:"row mb-4",children:(0,Oe.jsxs)("div",{className:"col",children:[(0,Oe.jsxs)("h1",{className:"h3",children:["Welcome, ",(null===(e=l.profile)||void 0===e?void 0:e.first_name)||"User","!"]}),(0,Oe.jsx)("p",{className:"text-muted",children:"Here's an overview of your health information"})]})}),(0,Oe.jsx)("div",{className:"row mb-4"}),(0,Oe.jsx)("h4",{className:"mb-3",children:"Main Features"}),(0,Oe.jsx)("div",{className:"row g-4 mb-5",children:[{title:"Profile",icon:"fa-user",description:"View and manage your profile information",link:"/profile",color:"primary"},{title:"Health Records",icon:"fa-file-medical",description:"Access your health records and history",link:"/health-records",color:"info"},{title:"Appointments",icon:"fa-calendar-check",description:"Schedule and manage appointments",link:"/appointments",color:"success"},{title:"Medications",icon:"fa-pills",description:"Track your medications and prescriptions",link:"/medications",color:"warning"}].map(((e,t)=>(0,Oe.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Oe.jsx)(Ee,{to:e.link,className:"text-decoration-none",children:(0,Oe.jsx)("div",{className:`card h-100 border-${e.color} shadow-sm hover-card`,children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Oe.jsx)("div",{className:`icon-circle bg-${e.color} text-white`,children:(0,Oe.jsx)("i",{className:`fas ${e.icon}`})}),(0,Oe.jsx)("h5",{className:"card-title mb-0 ms-3",children:e.title})]}),(0,Oe.jsx)("p",{className:"card-text text-muted",children:e.description})]})})})},t)))}),(0,Oe.jsx)("h4",{className:"mb-3",children:"AI-Powered Features"}),(0,Oe.jsx)("div",{className:"row g-4 mb-5",children:[{title:"Health Recommendations",icon:"fa-chart-line",description:"AI-powered health recommendations based on your profile",link:"/ai/health-recommendations",color:"primary"},{title:"Medical Image Analysis",icon:"fa-microscope",description:"AI analysis of medical images",link:"/ai/image-analysis",color:"info"},{title:"Health Assistant",icon:"fa-robot",description:"Chat with our AI health assistant",link:"/ai/health-assistant",color:"success"},{title:"Symptom Checker",icon:"fa-stethoscope",description:"AI-powered symptom analysis",link:"/ai/symptom-checker",color:"danger"}].map(((e,t)=>(0,Oe.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Oe.jsx)(Ee,{to:e.link,className:"text-decoration-none",children:(0,Oe.jsx)("div",{className:`card h-100 border-${e.color} shadow-sm hover-card`,children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Oe.jsx)("div",{className:`icon-circle bg-${e.color} text-white`,children:(0,Oe.jsx)("i",{className:`fas ${e.icon}`})}),(0,Oe.jsx)("h5",{className:"card-title mb-0 ms-3",children:e.title})]}),(0,Oe.jsx)("p",{className:"card-text text-muted",children:e.description})]})})})},t)))}),(0,Oe.jsx)("div",{className:"row mt-4",children:(0,Oe.jsx)("div",{className:"col-12",children:(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:"Quick Actions"}),(0,Oe.jsxs)("div",{className:"row g-2",children:[(0,Oe.jsx)("div",{className:"col-6 col-md-3",children:(0,Oe.jsxs)(Ee,{to:"/appointments/new",className:"btn btn-outline-primary w-100",children:[(0,Oe.jsx)("i",{className:"fas fa-plus-circle me-2"}),"New Appointment"]})}),(0,Oe.jsx)("div",{className:"col-6 col-md-3",children:(0,Oe.jsxs)(Ee,{to:"/medications/add",className:"btn btn-outline-success w-100",children:[(0,Oe.jsx)("i",{className:"fas fa-pills me-2"}),"Add Medication"]})}),(0,Oe.jsx)("div",{className:"col-6 col-md-3",children:(0,Oe.jsxs)(Ee,{to:"/reports/upload",className:"btn btn-outline-info w-100",children:[(0,Oe.jsx)("i",{className:"fas fa-upload me-2"}),"Upload Report"]})}),(0,Oe.jsx)("div",{className:"col-6 col-md-3",children:(0,Oe.jsxs)(Ee,{to:"/ai/health-assistant",className:"btn btn-outline-danger w-100",children:[(0,Oe.jsx)("i",{className:"fas fa-robot me-2"}),"AI Assistant"]})})]})]})})})})]})};var Mc=n(139),Rc=n.n(Mc);const Ic=["xxl","xl","lg","md","sm","xs"],Lc="xs",Dc=t.createContext({prefixes:{},breakpoints:Ic,minBreakpoint:Lc}),{Consumer:zc,Provider:Fc}=Dc;function $c(e,n){const{prefixes:s}=(0,t.useContext)(Dc);return e||s[n]||n}function Bc(){const{breakpoints:e}=(0,t.useContext)(Dc);return e}function Uc(){const{minBreakpoint:e}=(0,t.useContext)(Dc);return e}const Hc=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:s=!1,as:i="div",className:a,...r}=e;const o=$c(n,"container"),l="string"===typeof s?`-${s}`:"-fluid";return(0,Oe.jsx)(i,{ref:t,...r,className:Rc()(a,s?`${o}${l}`:o)})}));Hc.displayName="Container";const Vc=Hc,Wc=["as","disabled"];function qc(e){let{tagName:t,disabled:n,href:s,target:i,rel:a,role:r,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=s||null!=i||null!=a?"a":"button");const d={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},d];const u=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(s))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(s||(s="#"),n&&(s=void 0)),[{role:null!=r?r:"button",disabled:void 0,tabIndex:n?void 0:l,href:s,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:u,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),u(e))}},d]}const Yc=t.forwardRef(((e,t)=>{let{as:n,disabled:s}=e,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,Wc);const[a,{tagName:r}]=qc(Object.assign({tagName:n,disabled:s},i));return(0,Oe.jsx)(r,Object.assign({},i,a,{ref:t}))}));Yc.displayName="Button";const Gc=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:s,variant:i="primary",size:a,active:r=!1,disabled:o=!1,className:l,...c}=e;const d=$c(s,"btn"),[u,{tagName:h}]=qc({tagName:n,disabled:o,...c}),f=h;return(0,Oe.jsx)(f,{...u,...c,ref:t,disabled:o,className:Rc()(l,d,r&&"active",i&&`${d}-${i}`,a&&`${d}-${a}`,c.href&&o&&"disabled")})}));Gc.displayName="Button";const Kc=Gc,Jc=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,as:i="div",...a}=e;const r=$c(n,"row"),o=Bc(),l=Uc(),c=`${r}-cols`,d=[];return o.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const s=e!==l?`-${e}`:"";null!=n&&d.push(`${c}${s}-${n}`)})),(0,Oe.jsx)(i,{ref:t,...a,className:Rc()(s,r,...d)})}));Jc.displayName="Row";const Xc=Jc;const Qc=t.forwardRef(((e,t)=>{const[{className:n,...s},{as:i="div",bsPrefix:a,spans:r}]=function(e){let{as:t,bsPrefix:n,className:s,...i}=e;n=$c(n,"col");const a=Bc(),r=Uc(),o=[],l=[];return a.forEach((e=>{const t=i[e];let s,a,c;delete i[e],"object"===typeof t&&null!=t?({span:s,offset:a,order:c}=t):s=t;const d=e!==r?`-${e}`:"";s&&o.push(!0===s?`${n}${d}`:`${n}${d}-${s}`),null!=c&&l.push(`order${d}-${c}`),null!=a&&l.push(`offset${d}-${a}`)})),[{...i,className:Rc()(s,...o,...l)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,Oe.jsx)(i,{...s,ref:t,className:Rc()(n,!r.length&&a)})}));Qc.displayName="Col";const Zc=Qc,ed=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"card-body"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));ed.displayName="CardBody";const td=ed,nd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"card-footer"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));nd.displayName="CardFooter";const sd=nd,id=t.createContext(null);id.displayName="CardHeaderContext";const ad=id,rd=t.forwardRef(((e,n)=>{let{bsPrefix:s,className:i,as:a="div",...r}=e;const o=$c(s,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,Oe.jsx)(ad.Provider,{value:l,children:(0,Oe.jsx)(a,{ref:n,...r,className:Rc()(i,o)})})}));rd.displayName="CardHeader";const od=rd,ld=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,variant:i,as:a="img",...r}=e;const o=$c(n,"card-img");return(0,Oe.jsx)(a,{ref:t,className:Rc()(i?`${o}-${i}`:o,s),...r})}));ld.displayName="CardImg";const cd=ld,dd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"card-img-overlay"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));dd.displayName="CardImgOverlay";const ud=dd,hd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="a",...a}=e;return s=$c(s,"card-link"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));hd.displayName="CardLink";const fd=hd,md=e=>t.forwardRef(((t,n)=>(0,Oe.jsx)("div",{...t,ref:n,className:Rc()(t.className,e)}))),pd=md("h6"),gd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i=pd,...a}=e;return s=$c(s,"card-subtitle"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));gd.displayName="CardSubtitle";const vd=gd,yd=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="p",...a}=e;return s=$c(s,"card-text"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));yd.displayName="CardText";const bd=yd,xd=md("h5"),_d=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i=xd,...a}=e;return s=$c(s,"card-title"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));_d.displayName="CardTitle";const wd=_d,jd=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,bg:i,text:a,border:r,body:o=!1,children:l,as:c="div",...d}=e;const u=$c(n,"card");return(0,Oe.jsx)(c,{ref:t,...d,className:Rc()(s,u,i&&`bg-${i}`,a&&`text-${a}`,r&&`border-${r}`),children:o?(0,Oe.jsx)(td,{children:l}):l})}));jd.displayName="Card";const Nd=Object.assign(jd,{Img:cd,Title:wd,Subtitle:vd,Body:td,Link:fd,Text:bd,Header:od,Footer:sd,ImgOverlay:ud}),kd=!("undefined"===typeof window||!window.document||!window.document.createElement);var Sd=!1,Ed=!1;try{var Cd={get passive(){return Sd=!0},get once(){return Ed=Sd=!0}};kd&&(window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,!0))}catch(zf){}const Td=function(e,t,n,s){if(s&&"boolean"!==typeof s&&!Ed){var i=s.once,a=s.capture,r=n;!Ed&&i&&(r=n.__once||function e(s){this.removeEventListener(t,e,a),n.call(this,s)},n.__once=r),e.addEventListener(t,r,Sd?s:a)}e.addEventListener(t,n,s)};function Pd(e){return e&&e.ownerDocument||document}const Ad=function(e,t,n,s){var i=s&&"boolean"!==typeof s?s.capture:s;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Od;function Md(e){if((!Od&&0!==Od||e)&&kd){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Od=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Od}const Rd=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Id(e){const n=Rd(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ld=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Dd=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=Ld(e),s=Ld(t);return e=>{n&&n(e),s&&s(e)}}(e,n)),[e,n])};function zd(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function Fd(e,t){return function(e){var t=Pd(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var $d=/([A-Z])/g;var Bd=/^ms-/;function Ud(e){return function(e){return e.replace($d,"-$1").toLowerCase()}(e).replace(Bd,"-ms-")}var Hd=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Vd=function(e,t){var n="",s="";if("string"===typeof t)return e.style.getPropertyValue(Ud(t))||Fd(e).getPropertyValue(Ud(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Hd.test(e))}(i)?n+=Ud(i)+": "+a+";":s+=i+"("+a+") ":e.style.removeProperty(Ud(i))})),s&&(n+="transform: "+s+";"),e.style.cssText+=";"+n};const Wd=function(e,t,n,s){return Td(e,t,n,s),function(){Ad(e,t,n,s)}};function qd(e,t,n){void 0===n&&(n=5);var s=!1,i=setTimeout((function(){s||function(e,t,n,s){if(void 0===n&&(n=!1),void 0===s&&(s=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,s),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Wd(e,"transitionend",(function(){s=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Yd(e,t,n,s){null==n&&(n=function(e){var t=Vd(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=qd(e,n,s),a=Wd(e,"transitionend",t);return function(){i(),a()}}function Gd(e){void 0===e&&(e=Pd());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(zf){return e.body}}function Kd(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Jd(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const Xd=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Qd(e){const n=Xd(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Zd=`data-rr-ui-${"modal-open"}`;const eu=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[n]:s.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(Vd(s,n)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(Zd,""),Vd(s,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Zd),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},tu=(0,t.createContext)(kd?window:void 0);tu.Provider;function nu(){return(0,t.useContext)(tu)}const su=(e,t)=>kd?null==e?(t||Pd()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const iu=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const au=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=iu(e),s=iu(t);return e=>{n&&n(e),s&&s(e)}}(e,n)),[e,n])},ru="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ou="undefined"!==typeof document||ru?t.useLayoutEffect:t.useEffect;function lu(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const cu=function(e){let{children:n,in:s,onExited:i,mountOnEnter:a,unmountOnExit:r}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(s),c=Qd(i);(0,t.useEffect)((()=>{s?l.current=!0:c(o.current)}),[s,c]);const d=au(o,lu(n)),u=(0,t.cloneElement)(n,{ref:d});return s?u:r||!l.current&&a?null:u},du=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const uu=["component"];const hu=t.forwardRef(((e,n)=>{let{component:s}=e,i=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,uu);const a=function(e){let{onEnter:n,onEntering:s,onEntered:i,onExit:a,onExiting:r,onExited:o,addEndListener:l,children:c}=e,d=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,du);const u=(0,t.useRef)(null),h=au(u,lu(c)),f=e=>t=>{e&&u.current&&e(u.current,t)},m=(0,t.useCallback)(f(n),[n]),p=(0,t.useCallback)(f(s),[s]),g=(0,t.useCallback)(f(i),[i]),v=(0,t.useCallback)(f(a),[a]),y=(0,t.useCallback)(f(r),[r]),b=(0,t.useCallback)(f(o),[o]),x=(0,t.useCallback)(f(l),[l]);return Object.assign({},d,{nodeRef:u},n&&{onEnter:m},s&&{onEntering:p},i&&{onEntered:g},a&&{onExit:v},r&&{onExiting:y},o&&{onExited:b},l&&{addEndListener:x},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(c,{ref:h})})}(i);return(0,Oe.jsx)(s,Object.assign({ref:n},a))})),fu=hu;function mu(e){let{children:n,in:s,onExited:i,onEntered:a,transition:r}=e;const[o,l]=(0,t.useState)(!s);s&&o&&l(!1);const c=function(e){let{in:n,onTransition:s}=e;const i=(0,t.useRef)(null),a=(0,t.useRef)(!0),r=Qd(s);return ou((()=>{if(!i.current)return;let e=!1;return r({in:n,element:i.current,initial:a.current,isStale:()=>e}),()=>{e=!0}}),[n,r]),ou((()=>(a.current=!1,()=>{a.current=!0})),[]),i}({in:!!s,onTransition:e=>{Promise.resolve(r(e)).then((()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),d=au(c,lu(n));return o&&!s?null:(0,t.cloneElement)(n,{ref:d})}function pu(e,t,n){return e?(0,Oe.jsx)(fu,Object.assign({},n,{component:e})):t?(0,Oe.jsx)(mu,Object.assign({},n,{transition:t})):(0,Oe.jsx)(cu,Object.assign({},n))}const gu=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let vu;function yu(e){const n=nu(),s=e||function(e){return vu||(vu=new eu({ownerDocument:null==e?void 0:e.document})),vu}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>s.add(i.current),remove:()=>s.remove(i.current),isTopModal:()=>s.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const bu=(0,t.forwardRef)(((e,n)=>{let{show:s=!1,role:i="dialog",className:r,style:o,children:l,backdrop:c=!0,keyboard:d=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:f,runTransition:m,backdropTransition:p,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:x,renderDialog:_,renderBackdrop:w=e=>(0,Oe.jsx)("div",Object.assign({},e)),manager:j,container:N,onShow:k,onHide:S=()=>{},onExit:E,onExited:C,onExiting:T,onEnter:P,onEntering:A,onEntered:O}=e,M=function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}(e,gu);const R=nu(),I=function(e,n){const s=nu(),[i,a]=(0,t.useState)((()=>su(e,null==s?void 0:s.document)));if(!i){const t=su(e);t&&a(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=su(e);t!==i&&a(t)}),[e,i]),i}(N),L=yu(j),D=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),z=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(s),[F,$]=(0,t.useState)(!s),B=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>L),[L]),kd&&!z&&s&&(B.current=Gd(null==R?void 0:R.document)),s&&F&&$(!1);const U=Qd((()=>{if(L.add(),G.current=Wd(document,"keydown",q),Y.current=Wd(document,"focus",(()=>setTimeout(V)),!0),k&&k(),v){var e,t;const n=Gd(null!=(e=null==(t=L.dialog)?void 0:t.ownerDocument)?e:null==R?void 0:R.document);L.dialog&&n&&!Kd(L.dialog,n)&&(B.current=n,L.dialog.focus())}})),H=Qd((()=>{var e;(L.remove(),null==G.current||G.current(),null==Y.current||Y.current(),b)&&(null==(e=B.current)||null==e.focus||e.focus(x),B.current=null)}));(0,t.useEffect)((()=>{s&&I&&U()}),[s,I,U]),(0,t.useEffect)((()=>{F&&H()}),[F,H]),Jd((()=>{H()}));const V=Qd((()=>{if(!y||!D()||!L.isTopModal())return;const e=Gd(null==R?void 0:R.document);L.dialog&&e&&!Kd(L.dialog,e)&&L.dialog.focus()})),W=Qd((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===c&&S())})),q=Qd((e=>{d&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&L.isTopModal()&&(null==h||h(e),e.defaultPrevented||S())})),Y=(0,t.useRef)(),G=(0,t.useRef)();if(!I)return null;const K=Object.assign({role:i,ref:L.setDialogRef,"aria-modal":"dialog"===i||void 0},M,{style:o,className:r,tabIndex:-1});let J=_?_(K):(0,Oe.jsx)("div",Object.assign({},K,{children:t.cloneElement(l,{role:"document"})}));J=pu(f,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!s,onExit:E,onExiting:T,onExited:function(){$(!0),null==C||C(...arguments)},onEnter:P,onEntering:A,onEntered:O,children:J});let X=null;return c&&(X=w({ref:L.setBackdropRef,onClick:W}),X=pu(p,g,{in:!!s,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,Oe.jsx)(Oe.Fragment,{children:a.createPortal((0,Oe.jsxs)(Oe.Fragment,{children:[X,J]}),I)})}));bu.displayName="Modal";const xu=Object.assign(bu,{Manager:eu});var _u=Function.prototype.bind.call(Function.prototype.call,[].slice);function wu(e,t){return _u(e.querySelectorAll(t))}function ju(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Nu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ku=".sticky-top",Su=".navbar-toggler";class Eu extends eu{adjustAndStore(e,t,n){const s=t.style[e];t.dataset[e]=s,Vd(t,{[e]:`${parseFloat(Vd(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Vd(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,s;if(s="modal-open",(n=t).classList?n.classList.add(s):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,s)||("string"===typeof n.className?n.className=n.className+" "+s:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+s)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";wu(t,Nu).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),wu(t,ku).forEach((t=>this.adjustAndStore(a,t,-e.scrollBarWidth))),wu(t,Su).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,s;s="modal-open",(n=t).classList?n.classList.remove(s):"string"===typeof n.className?n.className=ju(n.className,s):n.setAttribute("class",ju(n.className&&n.className.baseVal||"",s));const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";wu(t,Nu).forEach((e=>this.restore(i,e))),wu(t,ku).forEach((e=>this.restore(a,e))),wu(t,Su).forEach((e=>this.restore(a,e)))}}let Cu;function Tu(e,t){return Tu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tu(e,t)}const Pu=!1,Au=t.createContext(null);var Ou="unmounted",Mu="exited",Ru="entering",Iu="entered",Lu="exiting",Du=function(e){var n,s;function i(t,n){var s;s=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return s.appearStatus=null,t.in?a?(i=Mu,s.appearStatus=Ru):i=Iu:i=t.unmountOnExit||t.mountOnEnter?Ou:Mu,s.state={status:i},s.nextCallback=null,s}s=e,(n=i).prototype=Object.create(s.prototype),n.prototype.constructor=n,Tu(n,s),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ou?{status:Mu}:null};var r=i.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ru&&n!==Iu&&(t=Ru):n!==Ru&&n!==Iu||(t=Lu)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,s=this.props.timeout;return e=t=n=s,null!=s&&"number"!==typeof s&&(e=s.exit,t=s.enter,n=void 0!==s.appear?s.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ru){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mu&&this.setState({status:Ou})},r.performEnter=function(e){var t=this,n=this.props.enter,s=this.context?this.context.isMounting:e,i=this.props.nodeRef?[s]:[a.findDOMNode(this),s],r=i[0],o=i[1],l=this.getTimeouts(),c=s?l.appear:l.enter;!e&&!n||Pu?this.safeSetState({status:Iu},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:Ru},(function(){t.props.onEntering(r,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:Iu},(function(){t.props.onEntered(r,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),s=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!Pu?(this.props.onExit(s),this.safeSetState({status:Lu},(function(){e.props.onExiting(s),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Mu},(function(){e.props.onExited(s)}))}))}))):this.safeSetState({status:Mu},(function(){e.props.onExited(s)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(s){n&&(n=!1,t.nextCallback=null,e(s))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),s=null==e&&!this.props.addEndListener;if(n&&!s){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=i[0],o=i[1];this.props.addEndListener(r,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ou)return null;var n=this.props,s=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,function(e,t){if(null==e)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(-1!==t.indexOf(s))continue;n[s]=e[s]}return n}(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Au.Provider,{value:null},"function"===typeof s?s(e,i):t.cloneElement(t.Children.only(s),i))},i}(t.Component);function zu(){}Du.contextType=Au,Du.propTypes={},Du.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zu,onEntering:zu,onEntered:zu,onExit:zu,onExiting:zu,onExited:zu},Du.UNMOUNTED=Ou,Du.EXITED=Mu,Du.ENTERING=Ru,Du.ENTERED=Iu,Du.EXITING=Lu;const Fu=Du;function $u(e,t){const n=Vd(e,t)||"",s=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*s}function Bu(e,t){const n=$u(e,"transitionDuration"),s=$u(e,"transitionDelay"),i=Yd(e,(n=>{n.target===e&&(i(),t(n))}),n+s)}const Uu=t.forwardRef(((e,n)=>{let{onEnter:s,onEntering:i,onEntered:r,onExit:o,onExiting:l,onExited:c,addEndListener:d,children:u,childRef:h,...f}=e;const m=(0,t.useRef)(null),p=Dd(m,h),g=e=>{var t;p((t=e)&&"setState"in t?a.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&m.current&&e(m.current,t)},y=(0,t.useCallback)(v(s),[s]),b=(0,t.useCallback)(v(i),[i]),x=(0,t.useCallback)(v(r),[r]),_=(0,t.useCallback)(v(o),[o]),w=(0,t.useCallback)(v(l),[l]),j=(0,t.useCallback)(v(c),[c]),N=(0,t.useCallback)(v(d),[d]);return(0,Oe.jsx)(Fu,{ref:n,...f,onEnter:y,onEntered:x,onEntering:b,onExit:_,onExited:j,onExiting:w,addEndListener:N,nodeRef:m,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:g}):t.cloneElement(u,{ref:g})})})),Hu=Uu,Vu={[Ru]:"show",[Iu]:"show"},Wu=t.forwardRef(((e,n)=>{let{className:s,children:i,transitionClasses:a={},onEnter:r,...o}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=(0,t.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==r||r(e,t)}),[r]);return(0,Oe.jsx)(Hu,{ref:n,addEndListener:Bu,...l,onEnter:c,childRef:lu(i),children:(e,n)=>t.cloneElement(i,{...n,className:Rc()("fade",s,i.props.className,Vu[e],a[e])})})}));Wu.displayName="Fade";const qu=Wu,Yu=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"modal-body"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));Yu.displayName="ModalBody";const Gu=Yu,Ku=t.createContext({onHide(){}}),Ju=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,contentClassName:i,centered:a,size:r,fullscreen:o,children:l,scrollable:c,...d}=e;n=$c(n,"modal");const u=`${n}-dialog`,h="string"===typeof o?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return(0,Oe.jsx)("div",{...d,ref:t,className:Rc()(u,s,r&&`${n}-${r}`,a&&`${u}-centered`,c&&`${u}-scrollable`,o&&h),children:(0,Oe.jsx)("div",{className:Rc()(`${n}-content`,i),children:l})})}));Ju.displayName="ModalDialog";const Xu=Ju,Qu=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"modal-footer"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));Qu.displayName="ModalFooter";const Zu=Qu;var eh=n(173),th=n.n(eh);const nh={"aria-label":th().string,onClick:th().func,variant:th().oneOf(["white"])},sh=t.forwardRef(((e,t)=>{let{className:n,variant:s,"aria-label":i="Close",...a}=e;return(0,Oe.jsx)("button",{ref:t,type:"button",className:Rc()("btn-close",s&&`btn-close-${s}`,n),"aria-label":i,...a})}));sh.displayName="CloseButton",sh.propTypes=nh;const ih=sh,ah=t.forwardRef(((e,n)=>{let{closeLabel:s="Close",closeVariant:i,closeButton:a=!1,onHide:r,children:o,...l}=e;const c=(0,t.useContext)(Ku),d=Id((()=>{null==c||c.onHide(),null==r||r()}));return(0,Oe.jsxs)("div",{ref:n,...l,children:[o,a&&(0,Oe.jsx)(ih,{"aria-label":s,variant:i,onClick:d})]})})),rh=ah,oh=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,closeLabel:i="Close",closeButton:a=!1,...r}=e;return n=$c(n,"modal-header"),(0,Oe.jsx)(rh,{ref:t,...r,className:Rc()(s,n),closeLabel:i,closeButton:a})}));oh.displayName="ModalHeader";const lh=oh,ch=md("h4"),dh=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i=ch,...a}=e;return s=$c(s,"modal-title"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));dh.displayName="ModalTitle";const uh=dh;function hh(e){return(0,Oe.jsx)(qu,{...e,timeout:null})}function fh(e){return(0,Oe.jsx)(qu,{...e,timeout:null})}const mh=t.forwardRef(((e,n)=>{let{bsPrefix:s,className:i,style:a,dialogClassName:r,contentClassName:o,children:l,dialogAs:c=Xu,"data-bs-theme":d,"aria-labelledby":u,"aria-describedby":h,"aria-label":f,show:m=!1,animation:p=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:x,container:_,autoFocus:w=!0,enforceFocus:j=!0,restoreFocus:N=!0,restoreFocusOptions:k,onEntered:S,onExit:E,onExiting:C,onEnter:T,onEntering:P,onExited:A,backdropClassName:O,manager:M,...R}=e;const[I,L]=(0,t.useState)({}),[D,z]=(0,t.useState)(!1),F=(0,t.useRef)(!1),$=(0,t.useRef)(!1),B=(0,t.useRef)(null),[U,H]=(0,t.useState)(null),V=Dd(n,H),W=Id(x),q=function(){const{dir:e}=(0,t.useContext)(Dc);return"rtl"===e}();s=$c(s,"modal");const Y=(0,t.useMemo)((()=>({onHide:W})),[W]);function G(){return M||function(e){return Cu||(Cu=new Eu(e)),Cu}({isRTL:q})}function K(e){if(!kd)return;const t=G().getScrollbarWidth()>0,n=e.scrollHeight>Pd(e).documentElement.clientHeight;L({paddingRight:t&&!n?Md():void 0,paddingLeft:!t&&n?Md():void 0})}const J=Id((()=>{U&&K(U.dialog)}));zd((()=>{Ad(window,"resize",J),null==B.current||B.current()}));const X=()=>{F.current=!0},Q=e=>{F.current&&U&&e.target===U.dialog&&($.current=!0),F.current=!1},Z=()=>{z(!0),B.current=Yd(U.dialog,(()=>{z(!1)}))},ee=e=>{"static"!==g?$.current||e.target!==e.currentTarget?$.current=!1:null==x||x():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,t.useCallback)((e=>(0,Oe.jsx)("div",{...e,className:Rc()(`${s}-backdrop`,O,!p&&"show")})),[p,O,s]),ne={...a,...I};ne.display="block";return(0,Oe.jsx)(Ku.Provider,{value:Y,children:(0,Oe.jsx)(xu,{show:m,ref:V,backdrop:g,container:_,keyboard:!0,autoFocus:w,enforceFocus:j,restoreFocus:N,restoreFocusOptions:k,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&Z())},onShow:b,onHide:x,onEnter:(e,t)=>{e&&K(e),null==T||T(e,t)},onEntering:(e,t)=>{null==P||P(e,t),Td(window,"resize",J)},onEntered:S,onExit:e=>{null==B.current||B.current(),null==E||E(e)},onExiting:C,onExited:e=>{e&&(e.style.display=""),null==A||A(e),Ad(window,"resize",J)},manager:G(),transition:p?hh:void 0,backdropTransition:p?fh:void 0,renderBackdrop:te,renderDialog:e=>(0,Oe.jsx)("div",{role:"dialog",...e,style:ne,className:Rc()(i,s,D&&`${s}-static`,!p&&"show"),onClick:g?ee:void 0,onMouseUp:Q,"data-bs-theme":d,"aria-label":f,"aria-labelledby":u,"aria-describedby":h,children:(0,Oe.jsx)(c,{...R,onMouseDown:X,className:r,contentClassName:o,children:l})})})})}));mh.displayName="Modal";const ph=Object.assign(mh,{Body:Gu,Header:lh,Title:uh,Footer:Zu,Dialog:Xu,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),gh={type:th().string,tooltip:th().bool,as:th().elementType},vh=t.forwardRef(((e,t)=>{let{as:n="div",className:s,type:i="valid",tooltip:a=!1,...r}=e;return(0,Oe.jsx)(n,{...r,ref:t,className:Rc()(s,`${i}-${a?"tooltip":"feedback"}`)})}));vh.displayName="Feedback",vh.propTypes=gh;const yh=vh,bh=t.createContext({}),xh=t.forwardRef(((e,n)=>{let{id:s,bsPrefix:i,className:a,type:r="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...d}=e;const{controlId:u}=(0,t.useContext)(bh);return i=$c(i,"form-check-input"),(0,Oe.jsx)(c,{...d,ref:n,type:r,id:s||u,className:Rc()(a,i,o&&"is-valid",l&&"is-invalid")})}));xh.displayName="FormCheckInput";const _h=xh,wh=t.forwardRef(((e,n)=>{let{bsPrefix:s,className:i,htmlFor:a,...r}=e;const{controlId:o}=(0,t.useContext)(bh);return s=$c(s,"form-check-label"),(0,Oe.jsx)("label",{...r,ref:n,htmlFor:a||o,className:Rc()(i,s)})}));wh.displayName="FormCheckLabel";const jh=wh;const Nh=t.forwardRef(((e,n)=>{let{id:s,bsPrefix:i,bsSwitchPrefix:a,inline:r=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:u=!1,feedback:h,feedbackType:f,className:m,style:p,title:g="",type:v="checkbox",label:y,children:b,as:x="input",..._}=e;i=$c(i,"form-check"),a=$c(a,"form-switch");const{controlId:w}=(0,t.useContext)(bh),j=(0,t.useMemo)((()=>({controlId:s||w})),[w,s]),N=!b&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(b,jh),k=(0,Oe.jsx)(_h,{..._,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:d,disabled:l,as:x});return(0,Oe.jsx)(bh.Provider,{value:j,children:(0,Oe.jsx)("div",{style:p,className:Rc()(m,N&&i,r&&`${i}-inline`,o&&`${i}-reverse`,"switch"===v&&a),children:b||(0,Oe.jsxs)(Oe.Fragment,{children:[k,N&&(0,Oe.jsx)(jh,{title:g,children:y}),h&&(0,Oe.jsx)(yh,{type:f,tooltip:u,children:h})]})})})}));Nh.displayName="FormCheck";const kh=Object.assign(Nh,{Input:_h,Label:jh});n(440);const Sh=t.forwardRef(((e,n)=>{let{bsPrefix:s,type:i,size:a,htmlSize:r,id:o,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:u,readOnly:h,as:f="input",...m}=e;const{controlId:p}=(0,t.useContext)(bh);return s=$c(s,"form-control"),(0,Oe.jsx)(f,{...m,type:i,size:r,ref:n,readOnly:h,id:o||p,className:Rc()(l,u?`${s}-plaintext`:s,a&&`${s}-${a}`,"color"===i&&`${s}-color`,c&&"is-valid",d&&"is-invalid")})}));Sh.displayName="FormControl";const Eh=Object.assign(Sh,{Feedback:yh}),Ch=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:s,as:i="div",...a}=e;return s=$c(s,"form-floating"),(0,Oe.jsx)(i,{ref:t,className:Rc()(n,s),...a})}));Ch.displayName="FormFloating";const Th=Ch,Ph=t.forwardRef(((e,n)=>{let{controlId:s,as:i="div",...a}=e;const r=(0,t.useMemo)((()=>({controlId:s})),[s]);return(0,Oe.jsx)(bh.Provider,{value:r,children:(0,Oe.jsx)(i,{...a,ref:n})})}));Ph.displayName="FormGroup";const Ah=Ph,Oh=t.forwardRef(((e,n)=>{let{as:s="label",bsPrefix:i,column:a=!1,visuallyHidden:r=!1,className:o,htmlFor:l,...c}=e;const{controlId:d}=(0,t.useContext)(bh);i=$c(i,"form-label");let u="col-form-label";"string"===typeof a&&(u=`${u} ${u}-${a}`);const h=Rc()(o,i,r&&"visually-hidden",a&&u);return l=l||d,a?(0,Oe.jsx)(Zc,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,Oe.jsx)(s,{ref:n,className:h,htmlFor:l,...c})}));Oh.displayName="FormLabel";const Mh=Oh,Rh=t.forwardRef(((e,n)=>{let{bsPrefix:s,className:i,id:a,...r}=e;const{controlId:o}=(0,t.useContext)(bh);return s=$c(s,"form-range"),(0,Oe.jsx)("input",{...r,type:"range",ref:n,className:Rc()(i,s),id:a||o})}));Rh.displayName="FormRange";const Ih=Rh,Lh=t.forwardRef(((e,n)=>{let{bsPrefix:s,size:i,htmlSize:a,className:r,isValid:o=!1,isInvalid:l=!1,id:c,...d}=e;const{controlId:u}=(0,t.useContext)(bh);return s=$c(s,"form-select"),(0,Oe.jsx)("select",{...d,size:a,ref:n,className:Rc()(r,s,i&&`${s}-${i}`,o&&"is-valid",l&&"is-invalid"),id:c||u})}));Lh.displayName="FormSelect";const Dh=Lh,zh=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,as:i="small",muted:a,...r}=e;return n=$c(n,"form-text"),(0,Oe.jsx)(i,{...r,ref:t,className:Rc()(s,n,a&&"text-muted")})}));zh.displayName="FormText";const Fh=zh,$h=t.forwardRef(((e,t)=>(0,Oe.jsx)(kh,{...e,ref:t,type:"switch"})));$h.displayName="Switch";const Bh=Object.assign($h,{Input:kh.Input,Label:kh.Label}),Uh=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:s,children:i,controlId:a,label:r,...o}=e;return n=$c(n,"form-floating"),(0,Oe.jsxs)(Ah,{ref:t,className:Rc()(s,n),controlId:a,...o,children:[i,(0,Oe.jsx)("label",{htmlFor:a,children:r})]})}));Uh.displayName="FloatingLabel";const Hh=Uh,Vh={_ref:th().any,validated:th().bool,as:th().elementType},Wh=t.forwardRef(((e,t)=>{let{className:n,validated:s,as:i="form",...a}=e;return(0,Oe.jsx)(i,{...a,ref:t,className:Rc()(n,s&&"was-validated")})}));Wh.displayName="Form",Wh.propTypes=Vh;const qh=Object.assign(Wh,{Group:Ah,Control:Eh,Floating:Th,Check:kh,Switch:Bh,Label:Mh,Text:Fh,Range:Ih,Select:Dh,FloatingLabel:Hh}),Yh={actionButton:{display:"inline-block",opacity:1,visibility:"visible"}},Gh=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)({first_name:"",last_name:"",email:""}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({disease_id:"",since:"",file:null}),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)([]),[_,w]=(0,t.useState)([]),[j,N]=(0,t.useState)({}),[k,S]=(0,t.useState)(!1),[E,C]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{y(!0);const{data:{user:e},error:t}=await St.auth.getUser();t||(e&&(i(e.id),O(e.id),A(e.id),T(e.id),P(e.id)),y(!1))})()}),[]);const T=async e=>{const{data:t,error:n}=await St.from("user_diseases").select("*").eq("user_id",e);n||x(t)},P=async e=>{const{data:t,error:n}=await St.from("user_parameters").select("*").eq("user_id",e);n||w(t)},A=async e=>{const{data:t,error:n}=await St.from("profiles").select("first_name, last_name, email").eq("id",e).single();n||r(t)},O=async e=>{y(!0);try{const{data:t,error:s}=await St.from("healthrecords").select("\n          *,\n          user_diseases(disease_name)\n        ").eq("user_id",e);if(s)return console.error("Error fetching health data:",s),void M(`Error loading health data: ${s.message}`,"danger");n(t)}catch(t){console.error("Exception fetching health data:",t),M(`Error: ${t.message}`,"danger")}finally{y(!1)}},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;p&&clearTimeout(p),m({message:e,type:t});const s=setTimeout((()=>{m(null)}),n);g(s)};return(0,t.useEffect)((()=>()=>{p&&clearTimeout(p)}),[p]),(0,Oe.jsxs)(Vc,{className:"py-4",children:[v&&(0,Oe.jsx)(Hn,{}),f&&(0,Oe.jsxs)("div",{className:`alert alert-${f.type} position-fixed d-flex justify-content-between align-items-center`,style:{top:"20px",right:"20px",zIndex:1050,minWidth:"300px",maxWidth:"500px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},role:"alert",children:[(0,Oe.jsx)("span",{children:f.message}),(0,Oe.jsx)("button",{type:"button",className:"btn-close ms-3",onClick:()=>m(null),"aria-label":"Close"})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Oe.jsx)("h2",{className:"text-primary",children:"Health Reports"}),(0,Oe.jsx)(Kc,{variant:"primary",onClick:()=>l(!0),children:"+ Upload Report"})]}),(0,Oe.jsx)(Xc,{children:e.map((e=>{var t;return(0,Oe.jsx)(Zc,{md:3,sm:6,className:"mb-3",children:(0,Oe.jsx)(Nd,{className:"shadow-sm border-0",children:(0,Oe.jsxs)(Nd.Body,{children:[(0,Oe.jsxs)(Nd.Title,{children:["Disease: ",null===(t=e.user_diseases)||void 0===t?void 0:t.disease_name]}),(0,Oe.jsxs)(Nd.Text,{children:["Since: ",e.since]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)(Kc,{variant:"danger",size:"md",className:"m-2",style:Yh.actionButton,onClick:()=>{return t=e.id,C(t),void S(!0);var t},children:"Delete"}),(0,Oe.jsx)(Kc,{variant:"info",size:"md",className:"m-2",style:Yh.actionButton,onClick:()=>window.open(e.document_url,"_blank"),children:"View"})]})]})})},e.id)}))}),(0,Oe.jsxs)(ph,{show:o,onHide:()=>l(!1),centered:!0,children:[(0,Oe.jsx)(ph.Header,{closeButton:!0,children:(0,Oe.jsx)(ph.Title,{children:"Upload New Report"})}),(0,Oe.jsx)(ph.Body,{children:(0,Oe.jsxs)(qh,{onSubmit:async e=>{e.preventDefault(),y(!0);try{var t,n,i,a,r,o;if(!c.file)throw new Error("Please select a file to upload");if(!c.disease_id)throw new Error("Please select a disease");if(!c.since)throw new Error("Please select a date");const e=c.file.name.split(".").pop(),u=`${s}/${Date.now()}.${e}`;console.log("Uploading file to Supabase storage:",u);const{data:f,error:m}=await St.storage.from("health-reports").upload(u,c.file);if(m)throw console.error("Supabase storage upload error:",m),new Error(`Error uploading file: ${m.message}`);const{data:{publicUrl:p}}=St.storage.from("health-reports").getPublicUrl(u);console.log("File uploaded successfully, public URL:",p);const g={user_id:s,disease_id:c.disease_id,since:c.since,document_url:p,created_at:(new Date).toISOString(),ai_summary:(null===j||void 0===j||null===(t=j.aiAnalysis)||void 0===t?void 0:t.summary)||null};console.log("Inserting report data:",g);const{data:v,error:y}=await St.from("healthrecords").insert([g]).select().single();if(y)throw console.error("Error inserting report data:",y),new Error(`Error saving report: ${y.message}`);if(console.log("Report inserted successfully:",v),!v||!v.id)throw new Error("Failed to get report ID from database");let b=!1,x=[];if(null!==j&&void 0!==j&&j.parameters&&Object.keys(j.parameters).length>0){const e=Object.entries(j.parameters).map((e=>{let[t,n]=e;return{user_id:s,record_id:v.id,parameter_name:t,parameter_value:String(n||"N/A"),created_at:(new Date).toISOString()}}));console.log("Saving parameters:",e.length);const{error:t}=await St.from("health_parameters").insert(e);t&&(console.error("Error saving parameters:",t),b=!0,x.push(`Parameters: ${t.message}`))}else console.log("No parameters to save");if((null===j||void 0===j||null===(n=j.aiAnalysis)||void 0===n||null===(i=n.conditions)||void 0===i?void 0:i.length)>0){const e=j.aiAnalysis.conditions.filter((e=>e&&e.trim())).map((e=>({record_id:v.id,condition_name:e.trim(),user_id:s,created_at:(new Date).toISOString()})));console.log("Saving conditions:",e.length);const{error:t}=await St.from("report_conditions").insert(e);t&&(console.error("Error saving conditions:",t),b=!0,x.push(`Conditions: ${t.message}`))}else console.log("No conditions to save");if((null===j||void 0===j||null===(a=j.aiAnalysis)||void 0===a||null===(r=a.medications)||void 0===r?void 0:r.length)>0){const e=j.aiAnalysis.medications.filter((e=>e&&e.trim())).map((e=>({record_id:v.id,medication_name:e.trim(),user_id:s,created_at:(new Date).toISOString()})));console.log("Saving medications:",e.length);const{error:t}=await St.from("report_medications").insert(e);t&&(console.error("Error saving medications:",t),b=!0,x.push(`Medications: ${t.message}`))}else console.log("No medications to save");if(null!==j&&void 0!==j&&null!==(o=j.aiAnalysis)&&void 0!==o&&o.recommendations){console.log("Saving recommendations");const{error:e}=await St.from("report_recommendations").insert([{record_id:v.id,recommendation_text:j.aiAnalysis.recommendations,user_id:s,created_at:(new Date).toISOString()}]);e&&(console.error("Error saving recommendations:",e),b=!0,x.push(`Recommendations: ${e.message}`))}else console.log("No recommendations to save");await O(s),l(!1),d({disease_id:"",since:"",file:null}),h(null),N({}),b?M(`Report uploaded but some data couldn't be saved: ${x.join(", ")}`,"warning"):M("Report uploaded successfully!","success")}catch(u){console.error("Error uploading report:",u),M(`Error uploading report: ${u.message}`,"danger")}finally{y(!1)}},children:[(0,Oe.jsxs)(qh.Group,{className:"mb-3",children:[(0,Oe.jsx)(qh.Label,{children:"Select Disease"}),(0,Oe.jsxs)(qh.Select,{value:c.disease_id,onChange:e=>d({...c,disease_id:e.target.value}),required:!0,children:[(0,Oe.jsx)("option",{value:"",children:"Select a disease"}),b.map((e=>(0,Oe.jsx)("option",{value:e.id,children:e.disease_name},e.id)))]})]}),(0,Oe.jsxs)(qh.Group,{className:"mb-3",children:[(0,Oe.jsx)(qh.Label,{children:"Since"}),(0,Oe.jsx)(qh.Control,{type:"date",value:c.since,onChange:e=>d({...c,since:e.target.value}),required:!0})]}),(0,Oe.jsxs)(qh.Group,{className:"mb-3",children:[(0,Oe.jsx)(qh.Label,{children:"Upload File"}),(0,Oe.jsx)(qh.Control,{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:async e=>{const t=e.target.files[0];if(t){d({...c,file:t}),y(!0);try{var n,s,i,a,r,o,l,u;if(t.type.startsWith("image/"))return M("Image processing is temporarily unavailable. Please use PDF files for now.","warning"),void y(!1);h(null);const c=new FormData;c.append("file",t);try{const e=await fetch("https://digihealth-backend.onrender.com/api/check-env");if(e.ok){const t=await e.json();if(console.log("Backend environment status:",t),t.environment&&"not set"===t.environment.OPENAI_API_KEY)return M("The AI service is currently unavailable. File upload will proceed without AI analysis.","warning",1e4),N({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}}),void y(!1)}else console.warn("Backend environment check failed",await e.text())}catch(f){console.error("Error checking backend environment:",f)}console.log("Sending file to backend:",t.name,t.type,t.size);const d=await fetch("https://digihealth-backend.onrender.com/api/process-file",{method:"POST",body:c});if(!d.ok){let t,n="Error processing file";try{if(t=await d.json(),console.error("Backend error response:",t),n=t.error||n,t.details&&(t.details.includes("API key")||t.details.includes("authentication")||t.details.includes("401")))return M("The AI service is temporarily unavailable. Your file will be uploaded but not analyzed.","warning",1e4),N({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}}),void y(!1)}catch(e){console.error("Failed to parse error response",e)}throw new Error(n)}let p,g;try{p=await d.json(),console.log("Backend response:",p)}catch(m){throw console.error("Failed to parse response JSON:",m),new Error("Failed to parse server response. The file may be too large or in an unsupported format.")}if(!p||0===Object.keys(p).length)throw console.error("Empty response structure:",p),new Error("Server returned an empty response");if(!p.parameters&&!p.aiAnalysis)throw console.error("Invalid response structure:",p),new Error("Server returned an invalid response structure");N(p),g=p.parameters&&Object.keys(p.parameters).length>0?"File processed successfully. Review the extracted information below.":p.aiAnalysis&&(p.aiAnalysis.summary&&p.aiAnalysis.summary.length>0||p.aiAnalysis.conditions&&p.aiAnalysis.conditions.length>0||p.aiAnalysis.medications&&p.aiAnalysis.medications.length>0||p.aiAnalysis.recommendations&&p.aiAnalysis.recommendations.length>0)?"No specific parameters were extracted, but AI analysis is available.":"File processed, but limited information could be extracted. You can still upload it.",M(g,"success"),console.log("Backend response structure details:",{hasParameters:Boolean(p.parameters)&&Object.keys(p.parameters).length>0,parametersCount:p.parameters?Object.keys(p.parameters).length:0,hasAiAnalysis:Boolean(p.aiAnalysis),summaryLength:(null===(n=p.aiAnalysis)||void 0===n||null===(s=n.summary)||void 0===s?void 0:s.length)||0,conditionsLength:(null===(i=p.aiAnalysis)||void 0===i||null===(a=i.conditions)||void 0===a?void 0:a.length)||0,medicationsLength:(null===(r=p.aiAnalysis)||void 0===r||null===(o=r.medications)||void 0===o?void 0:o.length)||0,recommendationsLength:(null===(l=p.aiAnalysis)||void 0===l||null===(u=l.recommendations)||void 0===u?void 0:u.length)||0})}catch(p){console.error("Error processing file:",p),p.message.includes("API key")||p.message.includes("OpenAI")?(M("AI service is unavailable. Your file will be uploaded without analysis.","warning"),N({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}})):(M(`Error processing file: ${p.message}`,"danger"),N({}))}finally{y(!1)}}},required:!0})]}),u&&(0,Oe.jsx)("img",{src:u,alt:"Preview",className:"img-fluid rounded mb-3"}),j&&(!j.parameters||0===Object.keys(j.parameters).length)&&(!j.aiAnalysis||0===Object.keys(j.aiAnalysis).length)&&(0,Oe.jsxs)("div",{className:"alert alert-info mt-3",children:[(0,Oe.jsx)("i",{className:"bi bi-info-circle me-2"}),"No parameters or analysis could be extracted from this document. You can still upload it for record-keeping."]}),j.parameters&&Object.keys(j.parameters).length>0&&(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("h5",{children:"Extracted Parameters:"}),(0,Oe.jsx)("ul",{className:"list-group",children:Object.entries(j.parameters).map((e=>{let[t,n]=e;return(0,Oe.jsxs)("li",{className:"list-group-item",children:[t,": ",n]},t)}))})]}),null!==j&&void 0!==j&&j.aiAnalysis?(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("h5",{children:"AI Analysis"}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsx)("div",{className:"card-body",children:j.aiAnalysis.summary?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("h6",{children:"Summary"}),(0,Oe.jsx)("p",{children:j.aiAnalysis.summary})]}):(0,Oe.jsx)("p",{className:"text-muted",children:"No summary available for this document."})})})]}):null,(0,Oe.jsx)(Kc,{type:"submit",variant:"primary",disabled:v,children:v?"Uploading...":"Upload Report"})]})})]}),(0,Oe.jsxs)(ph,{show:k,onHide:()=>S(!1),centered:!0,children:[(0,Oe.jsx)(ph.Header,{closeButton:!0,children:(0,Oe.jsx)(ph.Title,{children:"Confirm Delete"})}),(0,Oe.jsxs)(ph.Body,{children:[(0,Oe.jsx)("p",{children:"Are you sure you want to delete this report?"}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,Oe.jsx)(Kc,{variant:"secondary",onClick:()=>S(!1),className:"me-2",children:"Cancel"}),(0,Oe.jsx)(Kc,{variant:"danger",onClick:async()=>{y(!0);try{const{data:i,error:a}=await St.from("healthrecords").select("*").eq("id",E).single();if(a)throw console.error("Error fetching report:",a),new Error(`Error fetching report: ${a.message}`);console.log("Report to delete:",i);try{const{error:e}=await St.from("health_parameters").delete().eq("record_id",E);e&&console.error("Error deleting health parameters:",e)}catch(t){console.error("Exception deleting health parameters:",t)}try{const{error:e}=await St.from("report_conditions").delete().eq("record_id",E);e&&console.error("Error deleting report conditions:",e)}catch(t){console.error("Exception deleting report conditions:",t)}try{const{error:e}=await St.from("report_medications").delete().eq("record_id",E);e&&console.error("Error deleting report medications:",e)}catch(t){console.error("Exception deleting report medications:",t)}try{const{error:e}=await St.from("report_recommendations").delete().eq("record_id",E);e&&console.error("Error deleting report recommendations:",e)}catch(t){console.error("Exception deleting report recommendations:",t)}try{const{error:e}=await St.from("report_ai_analysis").delete().eq("report_id",E);e&&console.error("Error deleting AI analysis:",e)}catch(t){console.error("Exception deleting AI analysis:",t)}if(i.document_url)try{const e=i.document_url.split("/").pop(),t=i.document_url.match(/health-reports\/([^\/]+)\/([^\/]+)$/);let n;if(t&&t.length>=3){const e=t[1];n=`${e}/${t[2]}`}else n=`${s}/${e}`;console.log("Attempting to delete file at path:",n);const{error:a}=await St.storage.from("health-reports").remove([n]);a?console.error("Error deleting file:",a):console.log("File deleted successfully")}catch(t){console.error("Exception during file deletion:",t)}const{error:r}=await St.from("healthrecords").delete().eq("id",E);if(r)throw console.error("Error deleting healthrecord:",r),new Error(`Error deleting report: ${r.message}`);console.log("Report deleted successfully"),n(e.filter((e=>e.id!==E))),O(s),M("Report deleted successfully","success")}catch(t){console.error("Error in delete process:",t),M(`Error deleting report: ${t.message}`,"danger")}finally{y(!1),S(!1),C(null)}},children:"Delete"})]})]})]})]})},Kh=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({id:null,condition:"",diagnosis_date:"",doctor:"",treatment:"",notes:""});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("medical_history").select("*").eq("user_id",e.id).order("diagnosis_date",{ascending:!1});if(s)throw s;n(t||[])}catch(e){console.error("Error fetching medical records:",e),r({message:"Error fetching medical records.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))},f=()=>{l(!1),d({id:null,condition:"",diagnosis_date:"",doctor:"",treatment:"",notes:""})};return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(dn,{className:"me-2"})," Medical History"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsx)("h3",{children:o?"Edit Medical Record":"Add New Medical Record"}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await St.from("medical_history").update({condition:c.condition,diagnosis_date:c.diagnosis_date,doctor:c.doctor,treatment:c.treatment,notes:c.notes}).eq("id",c.id);if(e)throw e;r({message:"Medical record updated successfully!",type:"success"})}else{const{error:t}=await St.from("medical_history").insert([{condition:c.condition,diagnosis_date:c.diagnosis_date,doctor:c.doctor,treatment:c.treatment,notes:c.notes,user_id:e.id}]);if(t)throw t;r({message:"Medical record added successfully!",type:"success"})}f(),u()}catch(t){console.error("Error saving medical record:",t),r({message:"Error saving medical record.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"condition",className:"form-label",children:"Condition/Diagnosis"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"condition",name:"condition",value:c.condition,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"diagnosis_date",className:"form-label",children:"Diagnosis Date"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"diagnosis_date",name:"diagnosis_date",value:c.diagnosis_date,onChange:h,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"doctor",className:"form-label",children:"Doctor/Healthcare Provider"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"doctor",name:"doctor",value:c.doctor,onChange:h})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"treatment",className:"form-label",children:"Treatment"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"treatment",name:"treatment",value:c.treatment,onChange:h})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Zt,{className:"me-2"})," Update Record"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{className:"me-2"})," Add Record"]})}),o&&(0,Oe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Your Medical History"}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No medical records found. Add your first record above."}):(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table table-striped",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Condition"}),(0,Oe.jsx)("th",{children:"Diagnosis Date"}),(0,Oe.jsx)("th",{children:"Doctor"}),(0,Oe.jsx)("th",{children:"Treatment"}),(0,Oe.jsx)("th",{children:"Actions"})]})}),(0,Oe.jsx)("tbody",{children:e.map((t=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:t.condition}),(0,Oe.jsx)("td",{children:new Date(t.diagnosis_date).toLocaleDateString()}),(0,Oe.jsx)("td",{children:t.doctor}),(0,Oe.jsx)("td",{children:t.treatment}),(0,Oe.jsxs)("td",{children:[(0,Oe.jsx)("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>(e=>{l(!0),d(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:(0,Oe.jsx)(Zt,{})}),(0,Oe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this record?")){i(!0);try{const{error:s}=await St.from("medical_history").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),r({message:"Medical record deleted successfully!",type:"success"})}catch(s){console.error("Error deleting medical record:",s),r({message:"Error deleting medical record.",type:"danger"})}finally{i(!1)}}})(t.id),children:(0,Oe.jsx)(Rn,{})})]})]},t.id)))})]})})]})},Jh=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({id:null,disease_name:"",diagnosis_date:"",severity:"Mild",medications:"",symptoms:"",notes:""});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("chronic_diseases").select("*").eq("user_id",e.id).order("diagnosis_date",{ascending:!1});if(s)throw s;n(t||[])}catch(e){console.error("Error fetching chronic diseases:",e),r({message:"Error fetching chronic diseases.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))},f=()=>{l(!1),d({id:null,disease_name:"",diagnosis_date:"",severity:"Mild",medications:"",symptoms:"",notes:""})},m=e=>{switch(e){case"Mild":return"bg-success";case"Moderate":return"bg-warning text-dark";case"Severe":return"bg-danger";default:return"bg-secondary"}};return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(Xt,{className:"me-2"})," Chronic Disease Management"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsx)("h3",{children:o?"Edit Chronic Disease":"Add New Chronic Disease"}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await St.from("chronic_diseases").update({disease_name:c.disease_name,diagnosis_date:c.diagnosis_date,severity:c.severity,medications:c.medications,symptoms:c.symptoms,notes:c.notes}).eq("id",c.id);if(e)throw e;r({message:"Chronic disease updated successfully!",type:"success"})}else{const{error:t}=await St.from("chronic_diseases").insert([{disease_name:c.disease_name,diagnosis_date:c.diagnosis_date,severity:c.severity,medications:c.medications,symptoms:c.symptoms,notes:c.notes,user_id:e.id}]);if(t)throw t;r({message:"Chronic disease added successfully!",type:"success"})}f(),u()}catch(t){console.error("Error saving chronic disease:",t),r({message:"Error saving chronic disease.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"disease_name",className:"form-label",children:"Disease Name"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"disease_name",name:"disease_name",value:c.disease_name,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"diagnosis_date",className:"form-label",children:"Diagnosis Date"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"diagnosis_date",name:"diagnosis_date",value:c.diagnosis_date,onChange:h,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"severity",className:"form-label",children:"Severity"}),(0,Oe.jsxs)("select",{className:"form-control",id:"severity",name:"severity",value:c.severity,onChange:h,children:[(0,Oe.jsx)("option",{value:"Mild",children:"Mild"}),(0,Oe.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,Oe.jsx)("option",{value:"Severe",children:"Severe"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"medications",className:"form-label",children:"Medications"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"medications",name:"medications",value:c.medications,onChange:h,placeholder:"Separate multiple medications with commas"})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"symptoms",className:"form-label",children:"Symptoms"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"symptoms",name:"symptoms",value:c.symptoms,onChange:h,placeholder:"Separate multiple symptoms with commas"})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Zt,{className:"me-2"})," Update Disease"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{className:"me-2"})," Add Disease"]})}),o&&(0,Oe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Your Chronic Diseases"}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No chronic diseases found. Add your first record above."}):(0,Oe.jsx)("div",{className:"row",children:e.map((t=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100 shadow",children:[(0,Oe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Oe.jsx)("h5",{className:"mb-0",children:t.disease_name}),(0,Oe.jsx)("span",{className:`badge ${m(t.severity)}`,children:t.severity})]}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Diagnosed:"})," ",new Date(t.diagnosis_date).toLocaleDateString()]}),t.medications&&(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Medications:"}),(0,Oe.jsx)("br",{}),t.medications.split(",").map(((e,t)=>(0,Oe.jsx)("span",{className:"badge bg-info text-dark me-1 mb-1",children:e.trim()},t)))]}),t.symptoms&&(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Symptoms:"}),(0,Oe.jsx)("br",{}),t.symptoms.split(",").map(((e,t)=>(0,Oe.jsx)("span",{className:"badge bg-secondary me-1 mb-1",children:e.trim()},t)))]}),t.notes&&(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Notes:"}),(0,Oe.jsx)("br",{}),t.notes]})]}),(0,Oe.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Oe.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),d(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Oe.jsx)(Zt,{className:"me-1"})," Edit"]}),(0,Oe.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this chronic disease record?")){i(!0);try{const{error:s}=await St.from("chronic_diseases").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),r({message:"Chronic disease deleted successfully!",type:"success"})}catch(s){console.error("Error deleting chronic disease:",s),r({message:"Error deleting chronic disease.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Oe.jsx)(Rn,{className:"me-1"})," Delete"]})]})]})},t.id)))})]})},Xh=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({id:null,vaccine_name:"",date_administered:"",administered_by:"",lot_number:"",next_dose_date:"",notes:""});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("vaccinations").select("*").eq("user_id",e.id).order("date_administered",{ascending:!1});if(s)throw s;n(t||[])}catch(e){console.error("Error fetching vaccinations:",e),r({message:"Error fetching vaccinations.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;d((e=>({...e,[t]:n})))},f=()=>{l(!1),d({id:null,vaccine_name:"",date_administered:"",administered_by:"",lot_number:"",next_dose_date:"",notes:""})},m=e=>{if(!e)return!1;const t=new Date,n=new Date(e)-t,s=Math.ceil(n/864e5);return s>=0&&s<=30},p=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t};return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(Cn,{className:"me-2"})," Vaccination History"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsx)("h3",{children:o?"Edit Vaccination Record":"Add New Vaccination"}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await St.from("vaccinations").update({vaccine_name:c.vaccine_name,date_administered:c.date_administered,administered_by:c.administered_by,lot_number:c.lot_number,next_dose_date:c.next_dose_date,notes:c.notes}).eq("id",c.id);if(e)throw e;r({message:"Vaccination record updated successfully!",type:"success"})}else{const{error:t}=await St.from("vaccinations").insert([{vaccine_name:c.vaccine_name,date_administered:c.date_administered,administered_by:c.administered_by,lot_number:c.lot_number,next_dose_date:c.next_dose_date,notes:c.notes,user_id:e.id}]);if(t)throw t;r({message:"Vaccination record added successfully!",type:"success"})}f(),u()}catch(t){console.error("Error saving vaccination record:",t),r({message:"Error saving vaccination record.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"vaccine_name",className:"form-label",children:"Vaccine Name"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"vaccine_name",name:"vaccine_name",value:c.vaccine_name,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"date_administered",className:"form-label",children:"Date Administered"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"date_administered",name:"date_administered",value:c.date_administered,onChange:h,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"administered_by",className:"form-label",children:"Administered By"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"administered_by",name:"administered_by",value:c.administered_by,onChange:h})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"lot_number",className:"form-label",children:"Lot Number"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"lot_number",name:"lot_number",value:c.lot_number,onChange:h})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"next_dose_date",className:"form-label",children:"Next Dose Date (if applicable)"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"next_dose_date",name:"next_dose_date",value:c.next_dose_date,onChange:h})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Zt,{className:"me-2"})," Update Record"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{className:"me-2"})," Add Record"]})}),o&&(0,Oe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),e.some((e=>m(e.next_dose_date)||p(e.next_dose_date)))&&(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-warning text-dark",children:(0,Oe.jsxs)("h3",{className:"mb-0",children:[(0,Oe.jsx)(Ht,{className:"me-2"})," Upcoming & Overdue Vaccinations"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Vaccine"}),(0,Oe.jsx)("th",{children:"Due Date"}),(0,Oe.jsx)("th",{children:"Status"})]})}),(0,Oe.jsx)("tbody",{children:e.filter((e=>m(e.next_dose_date)||p(e.next_dose_date))).map((e=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:e.vaccine_name}),(0,Oe.jsx)("td",{children:new Date(e.next_dose_date).toLocaleDateString()}),(0,Oe.jsx)("td",{children:p(e.next_dose_date)?(0,Oe.jsx)("span",{className:"badge bg-danger",children:"Overdue"}):(0,Oe.jsx)("span",{className:"badge bg-warning text-dark",children:"Due Soon"})})]},`upcoming-${e.id}`)))})]})})})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Your Vaccination History"}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No vaccination records found. Add your first record above."}):(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table table-striped",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Vaccine"}),(0,Oe.jsx)("th",{children:"Date"}),(0,Oe.jsx)("th",{children:"Administered By"}),(0,Oe.jsx)("th",{children:"Lot Number"}),(0,Oe.jsx)("th",{children:"Next Dose"}),(0,Oe.jsx)("th",{children:"Actions"})]})}),(0,Oe.jsx)("tbody",{children:e.map((t=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:t.vaccine_name}),(0,Oe.jsx)("td",{children:new Date(t.date_administered).toLocaleDateString()}),(0,Oe.jsx)("td",{children:t.administered_by}),(0,Oe.jsx)("td",{children:t.lot_number}),(0,Oe.jsx)("td",{children:t.next_dose_date?(0,Oe.jsxs)(Oe.Fragment,{children:[new Date(t.next_dose_date).toLocaleDateString(),p(t.next_dose_date)&&(0,Oe.jsx)("span",{className:"badge bg-danger ms-2",children:"Overdue"}),m(t.next_dose_date)&&!p(t.next_dose_date)&&(0,Oe.jsx)("span",{className:"badge bg-warning text-dark ms-2",children:"Due Soon"})]}):"N/A"}),(0,Oe.jsxs)("td",{children:[(0,Oe.jsx)("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>(e=>{l(!0),d(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:(0,Oe.jsx)(Zt,{})}),(0,Oe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this vaccination record?")){i(!0);try{const{error:s}=await St.from("vaccinations").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),r({message:"Vaccination record deleted successfully!",type:"success"})}catch(s){console.error("Error deleting vaccination record:",s),r({message:"Error deleting vaccination record.",type:"danger"})}finally{i(!1)}}})(t.id),children:(0,Oe.jsx)(Rn,{})})]})]},t.id)))})]})})]})},Qh=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)({name:"",frequency:"",customFrequency:"",quantity:""}),[a,r]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("medications").select("*").eq("user_id",e.id);if(s)throw s;n(t)}catch(e){console.error("Error fetching medications:",e)}finally{r(!1)}})()}),[]),(0,t.useEffect)((()=>{"granted"!==Notification.permission&&Notification.requestPermission().then((e=>{"granted"!==e&&console.warn("Notification permission not granted")}))}),[]);const c=e=>{const{name:t,value:n}=e.target;i((e=>({...e,[t]:n})))};return a?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[o&&(0,Oe.jsx)("div",{className:`alert alert-${o.type} text-center`,children:o.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(_n,{className:"me-2"})," Medication Tracker"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"name",className:"form-label",children:"Medication Name"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",value:s.name,onChange:c})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"quantity",className:"form-label",children:"Quantity (number of tablets)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",id:"quantity",name:"quantity",value:s.quantity,onChange:c})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"frequency",className:"form-label",children:"Frequency"}),(0,Oe.jsxs)("select",{className:"form-control",id:"frequency",name:"frequency",value:s.frequency,onChange:c,children:[(0,Oe.jsx)("option",{value:"",children:"Select frequency"}),(0,Oe.jsx)("option",{value:"Once a day",children:"Once a day"}),(0,Oe.jsx)("option",{value:"Twice a day",children:"Twice a day"}),(0,Oe.jsx)("option",{value:"Three times a day",children:"Three times a day"}),(0,Oe.jsx)("option",{value:"Every 6 hours",children:"Every 6 hours"}),(0,Oe.jsx)("option",{value:"Every 8 hours",children:"Every 8 hours"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"customFrequency",className:"form-label",children:"Custom Frequency"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"customFrequency",name:"customFrequency",placeholder:"e.g., Every 4 hours",value:s.customFrequency,onChange:c})]})]}),(0,Oe.jsxs)("button",{className:"btn btn-primary w-100",onClick:async()=>{r(!0);try{const{data:{user:t}}=await St.auth.getUser();if(!t)return void(window.location.href="/");const a=s.customFrequency||s.frequency,{data:r,error:o}=await St.from("medications").insert([{name:s.name,frequency:a,quantity:s.quantity,user_id:t.id,last_taken:(new Date).toISOString()}]).select();if(o)throw o;n([...e,...r]),i({name:"",frequency:"",customFrequency:"",quantity:""}),l({message:"Medication added successfully!",type:"success"}),new Notification("Medication added successfully!")}catch(t){console.error("Error adding medication:",t),l({message:"Error adding medication.",type:"danger"}),new Notification("Error adding medication.")}finally{r(!1)}},children:[(0,Oe.jsx)(wn,{className:"me-2"})," Add Medication"]})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Your Medications"}),(0,Oe.jsxs)("table",{className:"table table-striped",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Name"}),(0,Oe.jsx)("th",{children:"Frequency"}),(0,Oe.jsx)("th",{children:"Quantity"}),(0,Oe.jsx)("th",{children:"Action"})]})}),(0,Oe.jsx)("tbody",{children:e.map((t=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:t.name}),(0,Oe.jsx)("td",{children:t.frequency}),(0,Oe.jsx)("td",{children:t.quantity}),(0,Oe.jsx)("td",{children:(0,Oe.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(async t=>{r(!0);try{const{error:s}=await St.from("medications").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),l({message:"Medication deleted successfully!",type:"success"}),new Notification("Medication deleted successfully!")}catch(s){console.error("Error deleting medication:",s),l({message:"Error deleting medication.",type:"danger"}),new Notification("Error deleting medication.")}finally{r(!1)}})(t.id),children:(0,Oe.jsx)(Rn,{})})})]},t.id)))})]})]})},Zh="label";function ef(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function tf(e,t){e.labels=t}function nf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zh;const s=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!s.includes(i)?(s.push(i),Object.assign(i,t),i):{...t}}))}function sf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zh;const n={labels:[],datasets:[]};return tf(n,e.labels),nf(n,e.datasets,t),n}function af(e,n){const{height:s=150,width:i=300,redraw:a=!1,datasetIdKey:r,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...f}=e,m=(0,t.useRef)(null),p=(0,t.useRef)(null),g=()=>{m.current&&(p.current=new gl(m.current,{type:o,data:sf(l,r),options:c&&{...c},plugins:d}),ef(n,p.current))},v=()=>{ef(n,null),p.current&&(p.current.destroy(),p.current=null)};return(0,t.useEffect)((()=>{!a&&p.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(p.current,c)}),[a,c]),(0,t.useEffect)((()=>{!a&&p.current&&tf(p.current.config.data,l.labels)}),[a,l.labels]),(0,t.useEffect)((()=>{!a&&p.current&&l.datasets&&nf(p.current.config.data,l.datasets,r)}),[a,l.datasets]),(0,t.useEffect)((()=>{p.current&&(a?(v(),setTimeout(g)):p.current.update(h))}),[a,c,l.labels,l.datasets,h]),(0,t.useEffect)((()=>{p.current&&(v(),setTimeout(g))}),[o]),(0,t.useEffect)((()=>(g(),()=>v())),[]),t.createElement("canvas",{ref:m,role:"img",height:s,width:i,...f},u)}const rf=(0,t.forwardRef)(af);function of(e,n){return gl.register(n),(0,t.forwardRef)(((n,s)=>t.createElement(rf,{...n,ref:s,type:e})))}const lf=of("line",Fr),cf=of("bar",Dr),df=of("radar",Br),uf=of("pie",$r);gl.register(dc,mc,Ml,Al,ql,oc,Vl);const hf=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)("weight"),[c,d]=(0,t.useState)("6months"),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)({weight:"",heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",oxygen_saturation:"",recorded_at:(new Date).toISOString().split("T")[0]});(0,t.useEffect)((()=>{v()}),[]),(0,t.useEffect)((()=>{e.length>0&&b()}),[e,o,c]);const v=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("health_metrics").select("*").eq("user_id",e.id).order("recorded_at",{ascending:!0});if(s)throw s;n(t||[])}catch(e){console.error("Error fetching health data:",e),r({message:"Error fetching health data.",type:"danger"})}finally{i(!1)}},y=e=>{const{name:t,value:n}=e.target;g((e=>({...e,[t]:n})))},b=()=>{const t=new Date;let n=[...e];if("1month"===c){const s=new Date(t.setMonth(t.getMonth()-1));n=e.filter((e=>new Date(e.recorded_at)>=s))}else if("3months"===c){const s=new Date(t.setMonth(t.getMonth()-3));n=e.filter((e=>new Date(e.recorded_at)>=s))}else if("6months"===c){const s=new Date(t.setMonth(t.getMonth()-6));n=e.filter((e=>new Date(e.recorded_at)>=s))}else if("1year"===c){const s=new Date(t.setFullYear(t.getFullYear()-1));n=e.filter((e=>new Date(e.recorded_at)>=s))}const s=n.map((e=>new Date(e.recorded_at).toLocaleDateString())),i=n.map((e=>e[o]||0));let a="#4bc0c0",r="rgba(75, 192, 192, 0.2)";switch(o){case"weight":a="#4bc0c0",r="rgba(75, 192, 192, 0.2)";break;case"heart_rate":a="#ff6384",r="rgba(255, 99, 132, 0.2)";break;case"blood_pressure_systolic":case"blood_pressure_diastolic":a="#ff9f40",r="rgba(255, 159, 64, 0.2)";break;case"blood_sugar":a="#9966ff",r="rgba(153, 102, 255, 0.2)";break;case"oxygen_saturation":a="#36a2eb",r="rgba(54, 162, 235, 0.2)"}h({labels:s,datasets:[{label:x(o),data:i,borderColor:a,backgroundColor:r,tension:.1,fill:!0}]})},x=e=>{switch(e){case"weight":return"Weight (kg)";case"heart_rate":return"Heart Rate (bpm)";case"blood_pressure_systolic":return"Blood Pressure - Systolic (mmHg)";case"blood_pressure_diastolic":return"Blood Pressure - Diastolic (mmHg)";case"blood_sugar":return"Blood Sugar (mg/dL)";case"oxygen_saturation":return"Oxygen Saturation (%)";default:return e}},_=t=>{if(0===e.length)return"N/A";const n=[...e].sort(((e,t)=>new Date(t.recorded_at)-new Date(e.recorded_at))),s=n[0][t];if(void 0===s||null===s)return"N/A";switch(t){case"weight":return`${s} kg`;case"heart_rate":return`${s} bpm`;case"blood_pressure_systolic":return`${s}/${n[0].blood_pressure_diastolic||"N/A"} mmHg`;case"blood_pressure_diastolic":return`${n[0].blood_pressure_systolic||"N/A"}/${s} mmHg`;case"blood_sugar":return`${s} mg/dL`;case"oxygen_saturation":return`${s}%`;default:return s}};return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Oe.jsxs)("h1",{children:[(0,Oe.jsx)(Vt,{className:"me-2"})," Health Analytics"]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>m(!f),children:f?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Pn,{})," Cancel"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{})," Add New Metrics"]})}),e.length>0&&(0,Oe.jsx)("button",{className:"btn btn-success",onClick:()=>{const t=e.map((e=>[new Date(e.recorded_at).toLocaleDateString(),e.weight||"",e.heart_rate||"",`${e.blood_pressure_systolic||""}/${e.blood_pressure_diastolic||""}`,e.blood_sugar||"",e.oxygen_saturation?`${e.oxygen_saturation}%`:""])),n=[["Date","Weight (kg)","Heart Rate (bpm)","Blood Pressure (mmHg)","Blood Sugar (mg/dL)","Oxygen Saturation (%)"].join(","),...t.map((e=>e.join(",")))].join("\n"),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(s),a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("download",`health_metrics_${(new Date).toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"Export Data"})]})]}),f&&(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsx)("h3",{className:"mb-0",children:"Add New Health Metrics"})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const t=Object.fromEntries(Object.entries(p).filter((e=>{let[t,n]=e;return""!==n})));t.user_id=e.id;const{error:n}=await St.from("health_metrics").insert([t]);if(n)throw n;r({message:"Health metrics added successfully!",type:"success"}),m(!1),g({weight:"",heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",oxygen_saturation:"",recorded_at:(new Date).toISOString().split("T")[0]}),v()}catch(t){console.error("Error adding health metrics:",t),r({message:"Error adding health metrics.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"recorded_at",className:"form-label",children:"Date"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"recorded_at",name:"recorded_at",value:p.recorded_at,onChange:y,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Weight (kg)"}),(0,Oe.jsx)("input",{type:"number",step:"0.1",className:"form-control",id:"weight",name:"weight",value:p.weight,onChange:y,placeholder:"e.g. 70.5"})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"heart_rate",className:"form-label",children:"Heart Rate (bpm)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",id:"heart_rate",name:"heart_rate",value:p.heart_rate,onChange:y,placeholder:"e.g. 72"})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"oxygen_saturation",className:"form-label",children:"Oxygen Saturation (%)"}),(0,Oe.jsx)("input",{type:"number",min:"0",max:"100",className:"form-control",id:"oxygen_saturation",name:"oxygen_saturation",value:p.oxygen_saturation,onChange:y,placeholder:"e.g. 98"})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"blood_pressure_systolic",className:"form-label",children:"Blood Pressure - Systolic (mmHg)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",id:"blood_pressure_systolic",name:"blood_pressure_systolic",value:p.blood_pressure_systolic,onChange:y,placeholder:"e.g. 120"})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"blood_pressure_diastolic",className:"form-label",children:"Blood Pressure - Diastolic (mmHg)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",id:"blood_pressure_diastolic",name:"blood_pressure_diastolic",value:p.blood_pressure_diastolic,onChange:y,placeholder:"e.g. 80"})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"blood_sugar",className:"form-label",children:"Blood Sugar (mg/dL)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",id:"blood_sugar",name:"blood_sugar",value:p.blood_sugar,onChange:y,placeholder:"e.g. 100"})]}),(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Saving...":"Save Metrics"})]})})]}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No health data available. Please add health metrics to see analytics."}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("div",{className:"row mb-4",children:[(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card shadow h-100",children:(0,Oe.jsxs)("div",{className:"card-body text-center",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(Bn,{className:"me-2"})," Weight"]}),(0,Oe.jsx)("h2",{className:"card-text",children:_("weight")})]})})}),(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card shadow h-100",children:(0,Oe.jsxs)("div",{className:"card-body text-center",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(cn,{className:"me-2"})," Heart Rate"]}),(0,Oe.jsx)("h2",{className:"card-text",children:_("heart_rate")})]})})}),(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card shadow h-100",children:(0,Oe.jsxs)("div",{className:"card-body text-center",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(An,{className:"me-2"})," Blood Pressure"]}),(0,Oe.jsx)("h2",{className:"card-text",children:_("blood_pressure_systolic")})]})})})]}),(0,Oe.jsx)("div",{className:"card shadow mb-4",children:(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"metricSelect",className:"form-label",children:"Select Metric"}),(0,Oe.jsxs)("select",{id:"metricSelect",className:"form-select",value:o,onChange:e=>l(e.target.value),children:[(0,Oe.jsx)("option",{value:"weight",children:"Weight"}),(0,Oe.jsx)("option",{value:"heart_rate",children:"Heart Rate"}),(0,Oe.jsx)("option",{value:"blood_pressure_systolic",children:"Blood Pressure (Systolic)"}),(0,Oe.jsx)("option",{value:"blood_pressure_diastolic",children:"Blood Pressure (Diastolic)"}),(0,Oe.jsx)("option",{value:"blood_sugar",children:"Blood Sugar"}),(0,Oe.jsx)("option",{value:"oxygen_saturation",children:"Oxygen Saturation"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"timeRangeSelect",className:"form-label",children:"Time Range"}),(0,Oe.jsxs)("select",{id:"timeRangeSelect",className:"form-select",value:c,onChange:e=>d(e.target.value),children:[(0,Oe.jsx)("option",{value:"1month",children:"Last Month"}),(0,Oe.jsx)("option",{value:"3months",children:"Last 3 Months"}),(0,Oe.jsx)("option",{value:"6months",children:"Last 6 Months"}),(0,Oe.jsx)("option",{value:"1year",children:"Last Year"}),(0,Oe.jsx)("option",{value:"all",children:"All Time"})]})]})]})})}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h3",{className:"mb-0",children:[(e=>{switch(e){case"weight":return(0,Oe.jsx)(Bn,{});case"heart_rate":return(0,Oe.jsx)(cn,{});case"blood_pressure_systolic":case"blood_pressure_diastolic":case"blood_sugar":return(0,Oe.jsx)(An,{});case"oxygen_saturation":return(0,Oe.jsx)(vn,{});default:return(0,Oe.jsx)(Vt,{})}})(o)," ",x(o)," Trend"]})}),(0,Oe.jsx)("div",{className:"card-body",children:u?(0,Oe.jsx)(lf,{data:u,options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!1}}}}):(0,Oe.jsx)("p",{className:"text-center",children:"No data available for the selected metric and time range."})})]}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsx)("h3",{className:"mb-0",children:"Health Insights"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("p",{children:"This dashboard provides a visual representation of your health metrics over time. Track your progress and identify trends to better manage your health."}),(0,Oe.jsx)("p",{children:"For personalized health advice, please consult with your healthcare provider."})]})]})]})]})},ff=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({id:null,doctor_name:"",specialty:"",date:"",time:"",location:"",notes:"",reminder_set:!1});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:s,error:i}=await St.from("appointments").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(i)throw i;n(s||[])}catch(e){console.error("Error fetching appointments:",e),r({message:"Error fetching appointments.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n,type:s,checked:i}=e.target;d((e=>({...e,[t]:"checkbox"===s?i:n})))},f=()=>{l(!1),d({id:null,doctor_name:"",specialty:"",date:"",time:"",location:"",notes:"",reminder_set:!1})},m=e=>e===(new Date).toISOString().split("T")[0],p=e=>{const t=new Date,n=new Date(e)-t,s=Math.ceil(n/864e5);return s>0&&s<=3};return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(Ht,{className:"me-2"})," Upcoming Appointments"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsx)("h3",{children:o?"Edit Appointment":"Schedule New Appointment"}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await St.from("appointments").update({doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,location:c.location,notes:c.notes,reminder_set:c.reminder_set}).eq("id",c.id);if(e)throw e;r({message:"Appointment updated successfully!",type:"success"})}else{const{error:t}=await St.from("appointments").insert([{doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,location:c.location,notes:c.notes,reminder_set:c.reminder_set,user_id:e.id}]);if(t)throw t;r({message:"Appointment added successfully!",type:"success"})}f(),u()}catch(t){console.error("Error saving appointment:",t),r({message:"Error saving appointment.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"doctor_name",className:"form-label",children:"Doctor Name"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"doctor_name",name:"doctor_name",value:c.doctor_name,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"specialty",className:"form-label",children:"Specialty"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"specialty",name:"specialty",value:c.specialty,onChange:h})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:c.date,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),(0,Oe.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:c.time,onChange:h,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"location",name:"location",value:c.location,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Oe.jsxs)("div",{className:"mb-3 form-check",children:[(0,Oe.jsx)("input",{type:"checkbox",className:"form-check-input",id:"reminder_set",name:"reminder_set",checked:c.reminder_set,onChange:h}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"reminder_set",children:"Set Reminder"})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Zt,{className:"me-2"})," Update Appointment"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{className:"me-2"})," Schedule Appointment"]})}),o&&(0,Oe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),e.some((e=>m(e.date)))&&(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsxs)("h3",{className:"mb-0",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," Today's Appointments"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("div",{className:"row",children:e.filter((e=>m(e.date))).map((e=>(0,Oe.jsx)("div",{className:"col-md-6 mb-3",children:(0,Oe.jsx)("div",{className:"card h-100 border-primary",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:e.doctor_name}),(0,Oe.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.specialty}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," ",e.time,(0,Oe.jsx)("br",{}),(0,Oe.jsx)(yn,{className:"me-2"})," ",e.location]}),e.notes&&(0,Oe.jsx)("p",{className:"card-text",children:e.notes})]})})},`today-${e.id}`)))})})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"All Upcoming Appointments"}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming appointments. Schedule your first appointment above."}):(0,Oe.jsx)("div",{className:"row",children:e.map((t=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100 shadow "+(m(t.date)?"border-primary":p(t.date)?"border-warning":""),children:[(0,Oe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Oe.jsxs)("h5",{className:"mb-0",children:[(0,Oe.jsx)(Dn,{className:"me-2"})," ",t.doctor_name]}),m(t.date)&&(0,Oe.jsx)("span",{className:"badge bg-primary",children:"Today"}),p(t.date)&&!m(t.date)&&(0,Oe.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Oe.jsxs)("div",{className:"card-body",children:[t.specialty&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Specialty:"})," ",t.specialty]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Ht,{className:"me-2"})," ",new Date(t.date).toLocaleDateString()]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," ",t.time]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(yn,{className:"me-2"})," ",t.location]}),t.notes&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Notes:"}),(0,Oe.jsx)("br",{}),t.notes]}),t.reminder_set&&(0,Oe.jsx)("p",{className:"card-text",children:(0,Oe.jsx)("span",{className:"badge bg-info text-dark",children:"Reminder Set"})})]}),(0,Oe.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Oe.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),d(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Oe.jsx)(Zt,{className:"me-1"})," Edit"]}),(0,Oe.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this appointment?")){i(!0);try{const{error:s}=await St.from("appointments").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),r({message:"Appointment deleted successfully!",type:"success"})}catch(s){console.error("Error deleting appointment:",s),r({message:"Error deleting appointment.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Oe.jsx)(Rn,{className:"me-1"})," Cancel"]})]})]})},t.id)))})]})},mf=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[f,m]=(0,t.useState)("desc");(0,t.useEffect)((()=>{p()}),[]);const p=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:s,error:i}=await St.from("appointments").select("*").eq("user_id",e.id).lt("date",t).order("date",{ascending:!1});if(i)throw i;n(s||[])}catch(e){console.error("Error fetching appointment history:",e),r({message:"Error fetching appointment history.",type:"danger"})}finally{i(!1)}},g=e.filter((e=>{const t=""===o||e.doctor_name.toLowerCase().includes(o.toLowerCase())||e.specialty&&e.specialty.toLowerCase().includes(o.toLowerCase())||e.location&&e.location.toLowerCase().includes(o.toLowerCase())||e.notes&&e.notes.toLowerCase().includes(o.toLowerCase()),n=""===c||e.date===c,s=""===u||e.doctor_name.toLowerCase().includes(u.toLowerCase());return t&&n&&s})).sort(((e,t)=>{const n=new Date(e.date),s=new Date(t.date);return"desc"===f?s-n:n-s}));return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(dn,{className:"me-2"})," Appointment History"]}),(0,Oe.jsx)("div",{className:"card shadow mb-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"row mb-3",children:[(0,Oe.jsx)("div",{className:"col-md-6 mb-2",children:(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(kn,{})}),(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Search appointments...",value:o,onChange:e=>{l(e.target.value)}})]})}),(0,Oe.jsx)("div",{className:"col-md-3 mb-2",children:(0,Oe.jsx)("input",{type:"date",className:"form-control",placeholder:"Filter by date",value:c,onChange:e=>{d(e.target.value)}})}),(0,Oe.jsx)("div",{className:"col-md-3 mb-2",children:(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Filter by doctor",value:u,onChange:e=>{h(e.target.value)}})})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Oe.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>{m("desc"===f?"asc":"desc")},children:["Sort by Date: ","desc"===f?"Newest First":"Oldest First"]}),(0,Oe.jsxs)("button",{className:"btn btn-success",onClick:()=>{const e=g.map((e=>[e.doctor_name,e.specialty,new Date(e.date).toLocaleDateString(),e.time,e.location,e.notes])),t=[["Doctor","Specialty","Date","Time","Location","Notes"].join(","),...e.map((e=>e.map((e=>`"${e||""}"`)).join(",")))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",s),i.setAttribute("download",`appointment_history_${(new Date).toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},disabled:0===g.length,children:[(0,Oe.jsx)(sn,{className:"me-2"})," Export to CSV"]})]})]})}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No appointment history found."}):0===g.length?(0,Oe.jsx)("div",{className:"alert alert-warning text-center",children:"No appointments match your search criteria."}):(0,Oe.jsx)("div",{className:"row",children:g.map((e=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100 shadow",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h5",{className:"mb-0",children:[(0,Oe.jsx)(Dn,{className:"me-2"})," ",e.doctor_name]})}),(0,Oe.jsxs)("div",{className:"card-body",children:[e.specialty&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Specialty:"})," ",e.specialty]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Ut,{className:"me-2"})," ",new Date(e.date).toLocaleDateString()]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," ",e.time]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(yn,{className:"me-2"})," ",e.location]}),e.notes&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Notes:"}),(0,Oe.jsx)("br",{}),e.notes]})]})]})},e.id)))})]})},pf=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!0),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)({id:null,doctor_name:"",specialty:"",date:"",time:"",consultation_type:"video",meeting_link:"",notes:"",reminder_set:!1});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:s}=await St.from("telehealth_consultations").select("*").eq("user_id",e.id).order("date",{ascending:!0});if(s)throw s;n(t||[])}catch(e){console.error("Error fetching consultations:",e),r({message:"Error fetching consultations.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n,type:s,checked:i}=e.target;d((e=>({...e,[t]:"checkbox"===s?i:n})))},f=()=>{l(!1),d({id:null,doctor_name:"",specialty:"",date:"",time:"",consultation_type:"video",meeting_link:"",notes:"",reminder_set:!1})},m=e=>e===(new Date).toISOString().split("T")[0],p=e=>e<(new Date).toISOString().split("T")[0],g=e=>{const t=new Date,n=new Date(e)-t,s=Math.ceil(n/864e5);return s>0&&s<=3},v=e.filter((e=>!p(e.date))),y=e.filter((e=>p(e.date)));return s&&0===e.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[a&&(0,Oe.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)($n,{className:"me-2"})," Telehealth Consultations"]}),(0,Oe.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Oe.jsx)("h3",{children:o?"Edit Consultation":"Schedule New Consultation"}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await St.from("telehealth_consultations").update({doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,consultation_type:c.consultation_type,meeting_link:c.meeting_link,notes:c.notes,reminder_set:c.reminder_set}).eq("id",c.id);if(e)throw e;r({message:"Consultation updated successfully!",type:"success"})}else{const{error:t}=await St.from("telehealth_consultations").insert([{doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,consultation_type:c.consultation_type,meeting_link:c.meeting_link,notes:c.notes,reminder_set:c.reminder_set,user_id:e.id}]);if(t)throw t;r({message:"Consultation added successfully!",type:"success"})}f(),u()}catch(t){console.error("Error saving consultation:",t),r({message:"Error saving consultation.",type:"danger"})}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"doctor_name",className:"form-label",children:"Doctor Name"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"doctor_name",name:"doctor_name",value:c.doctor_name,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"specialty",className:"form-label",children:"Specialty"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"specialty",name:"specialty",value:c.specialty,onChange:h})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,Oe.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:c.date,onChange:h,required:!0})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),(0,Oe.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:c.time,onChange:h,required:!0})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"consultation_type",className:"form-label",children:"Consultation Type"}),(0,Oe.jsxs)("select",{className:"form-control",id:"consultation_type",name:"consultation_type",value:c.consultation_type,onChange:h,required:!0,children:[(0,Oe.jsx)("option",{value:"video",children:"Video Call"}),(0,Oe.jsx)("option",{value:"phone",children:"Phone Call"}),(0,Oe.jsx)("option",{value:"chat",children:"Chat"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"meeting_link",className:"form-label",children:"Meeting Link/Phone Number"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"meeting_link",name:"meeting_link",value:c.meeting_link,onChange:h,placeholder:"Enter meeting link or phone number"})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h,placeholder:"Reason for consultation, questions to ask, etc."})]}),(0,Oe.jsxs)("div",{className:"mb-3 form-check",children:[(0,Oe.jsx)("input",{type:"checkbox",className:"form-check-input",id:"reminder_set",name:"reminder_set",checked:c.reminder_set,onChange:h}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"reminder_set",children:"Set Reminder"})]}),(0,Oe.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Zt,{className:"me-2"})," Update Consultation"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(wn,{className:"me-2"})," Schedule Consultation"]})}),o&&(0,Oe.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:f,children:"Cancel"})]})]})]}),e.some((e=>m(e.date)))&&(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsxs)("h3",{className:"mb-0",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," Today's Consultations"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("div",{className:"row",children:e.filter((e=>m(e.date))).map((e=>(0,Oe.jsx)("div",{className:"col-md-6 mb-3",children:(0,Oe.jsx)("div",{className:"card h-100 border-primary",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:e.doctor_name}),(0,Oe.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.specialty}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," ",e.time,(0,Oe.jsx)("br",{}),"video"===e.consultation_type?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)($n,{className:"me-2"})," Video Call"]}):"phone"===e.consultation_type?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(xn,{className:"me-2"})," Phone Call"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(pn,{className:"me-2"})," Chat"]})]}),e.meeting_link&&(0,Oe.jsx)("p",{className:"card-text",children:(0,Oe.jsx)("a",{href:"video"===e.consultation_type?e.meeting_link:`tel:${e.meeting_link}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-success",children:"video"===e.consultation_type?"Join Meeting":"Call Now"})}),e.notes&&(0,Oe.jsx)("p",{className:"card-text",children:(0,Oe.jsx)("small",{children:e.notes})})]})})},`today-${e.id}`)))})})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Upcoming Consultations"}),0===v.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming consultations. Schedule your first consultation above."}):(0,Oe.jsx)("div",{className:"row",children:v.map((t=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100 shadow "+(m(t.date)?"border-primary":g(t.date)?"border-warning":""),children:[(0,Oe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Oe.jsxs)("h5",{className:"mb-0",children:[(0,Oe.jsx)(Dn,{className:"me-2"})," ",t.doctor_name]}),m(t.date)&&(0,Oe.jsx)("span",{className:"badge bg-primary",children:"Today"}),g(t.date)&&!m(t.date)&&(0,Oe.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Oe.jsxs)("div",{className:"card-body",children:[t.specialty&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Specialty:"})," ",t.specialty]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Time:"})," ",t.time]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Type:"})," ","video"===t.consultation_type?"Video Call":"phone"===t.consultation_type?"Phone Call":"Chat"]}),t.meeting_link&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Link/Number:"})," ",t.meeting_link]}),t.notes&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Notes:"}),(0,Oe.jsx)("br",{}),t.notes]}),t.reminder_set&&(0,Oe.jsx)("p",{className:"card-text",children:(0,Oe.jsx)("span",{className:"badge bg-info text-dark",children:"Reminder Set"})})]}),(0,Oe.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Oe.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),d(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Oe.jsx)(Zt,{className:"me-1"})," Edit"]}),(0,Oe.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this consultation?")){i(!0);try{const{error:s}=await St.from("telehealth_consultations").delete().eq("id",t);if(s)throw s;n(e.filter((e=>e.id!==t))),r({message:"Consultation deleted successfully!",type:"success"})}catch(s){console.error("Error deleting consultation:",s),r({message:"Error deleting consultation.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Oe.jsx)(Rn,{className:"me-1"})," Cancel"]})]})]})},t.id)))}),y.length>0&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("h2",{className:"text-center mb-3 mt-5",children:"Past Consultations"}),(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table table-striped",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Doctor"}),(0,Oe.jsx)("th",{children:"Specialty"}),(0,Oe.jsx)("th",{children:"Date"}),(0,Oe.jsx)("th",{children:"Time"}),(0,Oe.jsx)("th",{children:"Type"}),(0,Oe.jsx)("th",{children:"Notes"})]})}),(0,Oe.jsx)("tbody",{children:y.map((e=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:e.doctor_name}),(0,Oe.jsx)("td",{children:e.specialty}),(0,Oe.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,Oe.jsx)("td",{children:e.time}),(0,Oe.jsx)("td",{children:"video"===e.consultation_type?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)($n,{className:"me-1"})," Video"]}):"phone"===e.consultation_type?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(xn,{className:"me-1"})," Phone"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(pn,{className:"me-1"})," Chat"]})}),(0,Oe.jsx)("td",{children:e.notes})]},`past-${e.id}`)))})]})})]})]})},gf=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)([]),[a,r]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)({email_reminders:!0,sms_reminders:!1,browser_notifications:!0,reminder_time:"24",phone_number:""});(0,t.useEffect)((()=>{u()}),[]);const u=async()=>{try{r(!0);const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:s,error:a}=await St.from("appointments").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(a)throw a;const{data:o,error:l}=await St.from("telehealth_consultations").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(l)throw l;const c=[...(s||[]).map((e=>({...e,type:"appointment"}))),...(o||[]).map((e=>({...e,type:"telehealth",doctor_name:e.doctor_name})))].sort(((e,t)=>new Date(`${e.date}T${e.time}`)-new Date(`${t.date}T${t.time}`)));n(c);const{data:u,error:h}=await St.from("reminder_settings").select("*").eq("user_id",e.id).single();if(h&&"PGRST116"!==h.code)throw h;u&&d(u);const{data:f,error:m}=await St.from("reminders").select("*").eq("user_id",e.id).gte("reminder_time",(new Date).toISOString()).order("reminder_time",{ascending:!0});if(m)throw m;i(f||[])}catch(e){console.error("Error fetching data:",e),l({message:"Error fetching data.",type:"danger"})}finally{r(!1)}},h=e=>{const{name:t,value:n,type:s,checked:i}=e.target;d((e=>({...e,[t]:"checkbox"===s?i:n})))},f=e=>e===(new Date).toISOString().split("T")[0],m=e=>{const t=new Date,n=new Date(e)-t,s=Math.ceil(n/864e5);return s>0&&s<=3};return a&&0===e.length&&0===s.length?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[o&&(0,Oe.jsx)("div",{className:`alert alert-${o.type} text-center`,children:o.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(Ft,{className:"me-2"})," Appointment Reminders"]}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsx)("h3",{className:"mb-0",children:"Reminder Settings"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6 mb-3",children:(0,Oe.jsxs)("div",{className:"form-check form-switch",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"email_reminders",name:"email_reminders",checked:c.email_reminders,onChange:h}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"email_reminders",children:"Email Reminders"})]})}),(0,Oe.jsx)("div",{className:"col-md-6 mb-3",children:(0,Oe.jsxs)("div",{className:"form-check form-switch",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"browser_notifications",name:"browser_notifications",checked:c.browser_notifications,onChange:h}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"browser_notifications",children:"Browser Notifications"})]})})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6 mb-3",children:(0,Oe.jsxs)("div",{className:"form-check form-switch",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"sms_reminders",name:"sms_reminders",checked:c.sms_reminders,onChange:h}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"sms_reminders",children:"SMS Reminders"})]})}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"phone_number",className:"form-label",children:"Phone Number (for SMS)"}),(0,Oe.jsx)("input",{type:"tel",className:"form-control",id:"phone_number",name:"phone_number",value:c.phone_number,onChange:h,placeholder:"Enter your phone number",disabled:!c.sms_reminders})]})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"reminder_time",className:"form-label",children:"Send Reminders"}),(0,Oe.jsxs)("select",{className:"form-select",id:"reminder_time",name:"reminder_time",value:c.reminder_time,onChange:h,children:[(0,Oe.jsx)("option",{value:"1",children:"1 hour before"}),(0,Oe.jsx)("option",{value:"2",children:"2 hours before"}),(0,Oe.jsx)("option",{value:"6",children:"6 hours before"}),(0,Oe.jsx)("option",{value:"12",children:"12 hours before"}),(0,Oe.jsx)("option",{value:"24",children:"24 hours before"}),(0,Oe.jsx)("option",{value:"48",children:"2 days before"}),(0,Oe.jsx)("option",{value:"72",children:"3 days before"})]})]}),(0,Oe.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-end",children:(0,Oe.jsx)("button",{className:"btn btn-primary w-100",onClick:async()=>{try{r(!0);const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{error:t}=await St.from("reminder_settings").upsert({...c,user_id:e.id});if(t)throw t;l({message:"Reminder settings saved successfully!",type:"success"})}catch(e){console.error("Error saving reminder settings:",e),l({message:"Error saving reminder settings.",type:"danger"})}finally{r(!1)}},disabled:a,children:"Save Settings"})})]})]})]}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Active Reminders"}),0===s.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No active reminders. Set reminders for your appointments below."}):(0,Oe.jsx)("div",{className:"table-responsive mb-4",children:(0,Oe.jsxs)("table",{className:"table table-striped",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Appointment"}),(0,Oe.jsx)("th",{children:"Doctor"}),(0,Oe.jsx)("th",{children:"Appointment Time"}),(0,Oe.jsx)("th",{children:"Reminder Time"}),(0,Oe.jsx)("th",{children:"Actions"})]})}),(0,Oe.jsx)("tbody",{children:s.map((e=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:"telehealth"===e.appointment_type?"Telehealth":"In-person"}),(0,Oe.jsx)("td",{children:e.doctor_name}),(0,Oe.jsx)("td",{children:new Date(e.appointment_time).toLocaleString()}),(0,Oe.jsx)("td",{children:new Date(e.reminder_time).toLocaleString()}),(0,Oe.jsx)("td",{children:(0,Oe.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this reminder?"))try{r(!0);const{data:t,error:n}=await St.from("reminders").select("*").eq("id",e).single();if(n)throw n;if("appointment"===t.appointment_type){const{error:e}=await St.from("appointments").update({reminder_set:!1}).eq("id",t.appointment_id);if(e)throw e}else{const{error:e}=await St.from("telehealth_consultations").update({reminder_set:!1}).eq("id",t.appointment_id);if(e)throw e}const{error:s}=await St.from("reminders").delete().eq("id",e);if(s)throw s;l({message:"Reminder deleted successfully!",type:"success"}),u()}catch(t){console.error("Error deleting reminder:",t),l({message:"Error deleting reminder.",type:"danger"})}finally{r(!1)}})(e.id),children:(0,Oe.jsx)(Rn,{})})})]},e.id)))})]})}),(0,Oe.jsx)("h2",{className:"text-center mb-3",children:"Upcoming Appointments"}),0===e.length?(0,Oe.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming appointments found. Schedule appointments to set reminders."}):(0,Oe.jsx)("div",{className:"row",children:e.map((e=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100 shadow "+(f(e.date)?"border-primary":m(e.date)?"border-warning":""),children:[(0,Oe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Oe.jsxs)("h5",{className:"mb-0",children:[(0,Oe.jsx)(Dn,{className:"me-2"})," ",e.doctor_name]}),f(e.date)&&(0,Oe.jsx)("span",{className:"badge bg-primary",children:"Today"}),m(e.date)&&!f(e.date)&&(0,Oe.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Ut,{className:"me-2"})," ",new Date(e.date).toLocaleDateString()]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)(Gt,{className:"me-2"})," ",e.time]}),(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Type:"})," ","telehealth"===e.type?"Telehealth Consultation":"In-person Appointment"]}),e.location&&(0,Oe.jsxs)("p",{className:"card-text",children:[(0,Oe.jsx)("strong",{children:"Location:"})," ",e.location]})]}),(0,Oe.jsx)("div",{className:"card-footer",children:(0,Oe.jsx)("button",{className:"btn btn-block w-100",onClick:()=>(async e=>{try{r(!0);const{data:{user:t}}=await St.auth.getUser();if(!t)return void(window.location.href="/");if(e.reminder_set){if("appointment"===e.type){const{error:t}=await St.from("appointments").update({reminder_set:!1}).eq("id",e.id);if(t)throw t}else{const{error:t}=await St.from("telehealth_consultations").update({reminder_set:!1}).eq("id",e.id);if(t)throw t}const{error:t}=await St.from("reminders").delete().eq("appointment_id",e.id).eq("appointment_type",e.type);if(t)throw t;l({message:"Reminder removed successfully!",type:"success"})}else{const n=new Date(`${e.date}T${e.time}`),s=parseInt(c.reminder_time,10),i=new Date(n.getTime()-60*s*60*1e3);if("appointment"===e.type){const{error:t}=await St.from("appointments").update({reminder_set:!0}).eq("id",e.id);if(t)throw t}else{const{error:t}=await St.from("telehealth_consultations").update({reminder_set:!0}).eq("id",e.id);if(t)throw t}const{error:a}=await St.from("reminders").insert([{user_id:t.id,appointment_id:e.id,appointment_type:e.type,reminder_time:i.toISOString(),appointment_time:n.toISOString(),doctor_name:e.doctor_name,location:e.location||"",sent:!1}]);if(a)throw a;l({message:"Reminder set successfully!",type:"success"})}u()}catch(t){console.error("Error toggling reminder:",t),l({message:"Error toggling reminder.",type:"danger"})}finally{r(!1)}})(e),disabled:a,children:e.reminder_set?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Mn,{className:"me-2"})," Reminder On"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(On,{className:"me-2"})," Set Reminder"]})})})]})},e.id)))})]})},vf=()=>{const[e,n]=(0,t.useState)(""),[s,i]=(0,t.useState)("all"),[a,r]=(0,t.useState)({}),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(null),[p,g]=(0,t.useState)([]);(0,t.useEffect)((()=>{v()}),[]);const v=async()=>{try{h(!0);const{data:e,error:t}=await St.from("faqs").select("*").order("id");if(t)throw t;const{data:n,error:s}=await St.from("tutorials").select("*").order("id");if(s)throw s;l(e||[]),d(n||[]);const i=[...new Set(e.map((e=>e.category)))],a=[...new Set(n.map((e=>e.category)))],r=[...new Set([...i,...a])];g(r)}catch(e){console.error("Error fetching help center data:",e),m({message:"Error loading help center content.",type:"danger"}),l(y),d(b),g([...new Set([...y.map((e=>e.category)),...b.map((e=>e.category))])])}finally{h(!1)}},y=[{id:1,category:"account",question:"How do I create an account?",answer:'To create an account, click on the "Sign Up" button on the login page. Fill in your personal details, including your email address and a secure password. Follow the verification steps sent to your email to complete the registration process.'},{id:2,category:"account",question:"How do I reset my password?",answer:'If you forgot your password, click on the "Forgot Password" link on the login page. Enter your registered email address, and we will send you a password reset link. Follow the instructions in the email to create a new password.'},{id:3,category:"appointments",question:"How do I schedule an appointment?",answer:'To schedule an appointment, navigate to the "Appointments" section in the navigation menu and select "Upcoming Appointments". Click on the "Schedule New Appointment" button and fill in the required details such as doctor name, date, time, and location. Click "Schedule Appointment" to confirm.'},{id:4,category:"appointments",question:"How do I cancel or reschedule an appointment?",answer:'To cancel or reschedule an appointment, go to the "Upcoming Appointments" page. Find the appointment you want to modify, then click the "Edit" button to change the date or time, or click the "Cancel" button to cancel the appointment entirely.'},{id:5,category:"medical",question:"How do I add my medical history?",answer:'To add your medical history, navigate to the "Medical History" page from the "Your Journey" menu. Click on "Add New Medical Record" and fill in the details about your condition, diagnosis date, doctor, and treatment. Click "Add Record" to save the information.'},{id:6,category:"medical",question:"How do I track my medications?",answer:'To track your medications, go to the "Medication Tracker" page from the "Your Journey" menu. Enter the medication name, frequency, and quantity, then click "Add Medication". You can view and manage all your medications from this page.'},{id:7,category:"telehealth",question:"How do I join a telehealth consultation?",answer:'To join a telehealth consultation, go to the "Telehealth Consultations" page. On the day of your appointment, you will see your consultation listed under "Today\'s Consultations". Click the "Join Meeting" button at the scheduled time to enter the virtual consultation room.'},{id:8,category:"telehealth",question:"What equipment do I need for a telehealth consultation?",answer:"For a telehealth consultation, you need a device with a camera and microphone (smartphone, tablet, or computer), a stable internet connection, and a quiet, private space. Make sure your device is charged and your browser allows camera and microphone access."},{id:9,category:"data",question:"Is my health data secure?",answer:"Yes, your health data is secure. We use industry-standard encryption and security measures to protect your personal and medical information. Our platform complies with healthcare privacy regulations, and your data is only accessible to you and the healthcare providers you authorize."},{id:10,category:"data",question:"How do I export my health data?",answer:'To export your health data, go to the "Data Backup & Export" page under the "Account" menu. Select the type of data you want to export and the format (PDF, CSV, etc.). Click "Export Data" and follow the prompts to download your information.'}],b=[{id:1,category:"getting-started",title:"Getting Started with DigiHealth",type:"video",description:"Learn the basics of navigating the DigiHealth platform and setting up your profile.",link:"#"},{id:2,category:"appointments",title:"How to Schedule and Manage Appointments",type:"guide",description:"A step-by-step guide to scheduling, rescheduling, and canceling appointments.",link:"#"},{id:3,category:"medical",title:"Managing Your Medical Records",type:"video",description:"Learn how to add, edit, and organize your medical history and records.",link:"#"},{id:4,category:"telehealth",title:"Preparing for Your First Telehealth Consultation",type:"guide",description:"Tips and instructions for a successful virtual healthcare appointment.",link:"#"},{id:5,category:"data",title:"Understanding Your Health Analytics",type:"video",description:"How to interpret and use the health analytics features to monitor your well-being.",link:"#"},{id:6,category:"account",title:"Account Security Best Practices",type:"guide",description:"Learn how to keep your DigiHealth account secure with strong passwords and two-factor authentication.",link:"#"}],x=o.filter((t=>{const n=""===e||t.question.toLowerCase().includes(e.toLowerCase())||t.answer.toLowerCase().includes(e.toLowerCase()),i="all"===s||t.category===s;return n&&i})),_=c.filter((t=>{const n=""===e||t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()),i="all"===s||t.category===s;return n&&i}));return u?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"container mt-4",children:[f&&(0,Oe.jsx)("div",{className:`alert alert-${f.type} text-center`,children:f.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)($t,{className:"me-2"})," Help Center"]}),(0,Oe.jsx)("div",{className:"card shadow mb-4",children:(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-8 mb-3",children:(0,Oe.jsxs)("div",{className:"input-group",children:[(0,Oe.jsx)("span",{className:"input-group-text",children:(0,Oe.jsx)(kn,{})}),(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for help topics...",value:e,onChange:e=>n(e.target.value)})]})}),(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsxs)("select",{className:"form-select",value:s,onChange:e=>i(e.target.value),children:[(0,Oe.jsx)("option",{value:"all",children:"All Categories"}),p.map(((e,t)=>(0,Oe.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},t)))]})})]})})}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsxs)("h2",{className:"mb-0",children:[(0,Oe.jsx)(jn,{className:"me-2"})," Frequently Asked Questions"]})}),(0,Oe.jsx)("div",{className:"card-body",children:0===x.length?(0,Oe.jsx)("div",{className:"alert alert-info",children:"No FAQs match your search criteria. Try a different search term or category."}):(0,Oe.jsx)("div",{className:"accordion",children:x.map((e=>(0,Oe.jsxs)("div",{className:"card mb-2",children:[(0,Oe.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",onClick:()=>{var t;t=e.id,r((e=>({...e,[t]:!e[t]}))),(async e=>{try{a[e]||await St.from("faq_analytics").insert([{faq_id:e,viewed_at:(new Date).toISOString()}])}catch(t){console.error("Error tracking FAQ view:",t)}})(e.id)},style:{cursor:"pointer"},children:[(0,Oe.jsx)("h5",{className:"mb-0",children:e.question}),a[e.id]?(0,Oe.jsx)(Yt,{}):(0,Oe.jsx)(qt,{})]}),a[e.id]&&(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("p",{children:e.answer})})]},e.id)))})})]}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-success text-white",children:(0,Oe.jsxs)("h2",{className:"mb-0",children:[(0,Oe.jsx)($n,{className:"me-2"})," Tutorials & Guides"]})}),(0,Oe.jsx)("div",{className:"card-body",children:0===_.length?(0,Oe.jsx)("div",{className:"alert alert-info",children:"No tutorials match your search criteria. Try a different search term or category."}):(0,Oe.jsx)("div",{className:"row",children:_.map((e=>(0,Oe.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Oe.jsxs)("div",{className:"card h-100",children:[(0,Oe.jsxs)("div",{className:"card-header",children:["video"===e.type?(0,Oe.jsx)($n,{className:"me-2 text-danger"}):(0,Oe.jsx)(nn,{className:"me-2 text-primary"}),(0,Oe.jsx)("span",{className:"badge bg-secondary",children:e.category.replace("-"," ")})]}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:e.title}),(0,Oe.jsx)("p",{className:"card-text",children:e.description})]}),(0,Oe.jsx)("div",{className:"card-footer",children:(0,Oe.jsx)("a",{href:e.link,className:"btn btn-primary btn-sm w-100",onClick:()=>(async e=>{try{await St.from("tutorial_analytics").insert([{tutorial_id:e,clicked_at:(new Date).toISOString()}])}catch(t){console.error("Error tracking tutorial click:",t)}})(e.id),target:"_blank",rel:"noopener noreferrer",children:"video"===e.type?"Watch Video":"Read Guide"})})]})},e.id)))})})]}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-info text-white",children:(0,Oe.jsx)("h2",{className:"mb-0",children:"Need More Help?"})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card h-100 text-center",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h3",{children:"Contact Support"}),(0,Oe.jsx)("p",{children:"Reach out to our support team for personalized assistance."}),(0,Oe.jsx)("a",{href:"/contact-support",className:"btn btn-primary",children:"Contact Support"})]})})}),(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card h-100 text-center",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h3",{children:"Live Chat"}),(0,Oe.jsx)("p",{children:"Chat with our support agents in real-time for immediate help."}),(0,Oe.jsx)("a",{href:"/live-chat",className:"btn btn-primary",children:"Start Chat"})]})})}),(0,Oe.jsx)("div",{className:"col-md-4 mb-3",children:(0,Oe.jsx)("div",{className:"card h-100 text-center",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h3",{children:"Email Support"}),(0,Oe.jsx)("p",{children:"Send us an email and we'll get back to you within 24 hours."}),(0,Oe.jsx)("a",{href:"mailto:support@digihealth.com",className:"btn btn-primary",children:"Email Us"})]})})})]})})]})]})},yf=()=>{const[e,n]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)({subject:"",category:"general",priority:"medium",message:"",attachFile:null}),[c,d]=(0,t.useState)([]);(0,t.useEffect)((()=>{u()}),[]),(0,t.useEffect)((()=>{if(o.subject.length>3||o.message.length>10){const e=`${o.subject} ${o.message}`.toLowerCase(),t=[{question:"How do I reset my password?",answer:'Click on "Forgot Password" on the login page and follow the instructions sent to your email.',keywords:["password","reset","forgot","login","sign in","cannot access"]},{question:"How do I schedule an appointment?",answer:'Go to "Upcoming Appointments" and click "Schedule New Appointment".',keywords:["schedule","appointment","book","doctor","visit","consultation"]},{question:"How do I update my profile information?",answer:'Navigate to "Profile Settings" under the Account menu to edit your personal details.',keywords:["profile","update","change","information","details","personal"]},{question:"How do I export my health data?",answer:'Go to "Data Backup & Export" under the Account menu to download your information.',keywords:["export","download","data","backup","information","records"]},{question:"How do I join a telehealth consultation?",answer:'On the day of your appointment, go to "Telehealth Consultations" and click "Join Meeting".',keywords:["telehealth","virtual","video","call","consultation","join","meeting"]}].filter((t=>t.keywords.some((t=>e.includes(t)))));d(t.slice(0,3))}else d([])}),[o.subject,o.message]);const u=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:n}=await St.from("detailed_profiles").select("*").eq("id",e.id).single();if(n)throw n;r(t)}catch(e){console.error("Error fetching user profile:",e),i({message:"Error fetching user profile.",type:"danger"})}},h=e=>{const{name:t,value:n}=e.target;l((e=>({...e,[t]:n})))};return(0,Oe.jsxs)("div",{className:"container mt-4",children:[s&&(0,Oe.jsx)("div",{className:`alert alert-${s.type} text-center`,children:s.message}),(0,Oe.jsxs)("h1",{className:"text-center mb-4",children:[(0,Oe.jsx)(fn,{className:"me-2"})," Contact Support"]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-lg-8",children:(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsx)("h2",{className:"mb-0",children:"Submit a Support Request"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[c.length>0&&(0,Oe.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,Oe.jsxs)("h5",{children:[(0,Oe.jsx)(mn,{className:"me-2"})," Did you know?"]}),(0,Oe.jsx)("p",{children:"We found some help articles that might answer your question:"}),(0,Oe.jsx)("ul",{className:"mb-0",children:c.map(((e,t)=>(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:e.question})," - ",e.answer]},t)))})]}),(0,Oe.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(!0);try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void(window.location.href="/");let t=null;if(o.attachFile){const n=`${e.id}-${Date.now()}-${o.attachFile.name}`,{data:s,error:i}=await St.storage.from("support-attachments").upload(n,o.attachFile);if(i)throw i;const{data:a}=St.storage.from("support-attachments").getPublicUrl(n);t=a.publicUrl}const{error:n}=await St.from("support_tickets").insert([{user_id:e.id,subject:o.subject,category:o.category,priority:o.priority,message:o.message,attachment_url:t,status:"open",created_at:(new Date).toISOString()}]);if(n)throw n;i({message:"Support ticket submitted successfully! Our team will respond shortly.",type:"success"}),l({subject:"",category:"general",priority:"medium",message:"",attachFile:null}),document.getElementById("attachFile").value=""}catch(t){console.error("Error submitting support ticket:",t),i({message:"Error submitting support ticket. Please try again.",type:"danger"})}finally{n(!1)}},children:[(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),(0,Oe.jsx)("input",{type:"text",className:"form-control",id:"subject",name:"subject",value:o.subject,onChange:h,required:!0,placeholder:"Brief description of your issue"})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,Oe.jsxs)("select",{className:"form-select",id:"category",name:"category",value:o.category,onChange:h,children:[(0,Oe.jsx)("option",{value:"general",children:"General Question"}),(0,Oe.jsx)("option",{value:"account",children:"Account Issues"}),(0,Oe.jsx)("option",{value:"appointments",children:"Appointments"}),(0,Oe.jsx)("option",{value:"medical",children:"Medical Records"}),(0,Oe.jsx)("option",{value:"telehealth",children:"Telehealth"}),(0,Oe.jsx)("option",{value:"technical",children:"Technical Problem"}),(0,Oe.jsx)("option",{value:"billing",children:"Billing & Payments"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),(0,Oe.jsxs)("select",{className:"form-select",id:"priority",name:"priority",value:o.priority,onChange:h,children:[(0,Oe.jsx)("option",{value:"low",children:"Low - General Question"}),(0,Oe.jsx)("option",{value:"medium",children:"Medium - Need Help Soon"}),(0,Oe.jsx)("option",{value:"high",children:"High - Urgent Issue"})]})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"message",className:"form-label",children:"Message"}),(0,Oe.jsx)("textarea",{className:"form-control",id:"message",name:"message",rows:"6",value:o.message,onChange:h,required:!0,placeholder:"Please describe your issue in detail. Include any error messages or steps to reproduce the problem."})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"attachFile",className:"form-label",children:"Attach File (optional)"}),(0,Oe.jsx)("input",{type:"file",className:"form-control",id:"attachFile",onChange:e=>{l((t=>({...t,attachFile:e.target.files[0]})))}}),(0,Oe.jsx)("div",{className:"form-text",children:"You can attach screenshots or documents to help explain your issue (max 5MB)."})]}),(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Submitting..."]}):"Submit Support Request"})]})]})]})}),(0,Oe.jsxs)("div",{className:"col-lg-4",children:[(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-info text-white",children:(0,Oe.jsx)("h3",{className:"mb-0",children:"Contact Information"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Oe.jsx)(en,{className:"me-3 fs-4 text-primary"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"Email Support"}),(0,Oe.jsx)("p",{className:"mb-0",children:"support@digihealth.com"}),(0,Oe.jsx)("small",{className:"text-muted",children:"Response within 24 hours"})]})]}),(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Oe.jsx)(xn,{className:"me-3 fs-4 text-primary"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"Phone Support"}),(0,Oe.jsx)("p",{className:"mb-0",children:"1-800-DIGI-HEALTH"}),(0,Oe.jsx)("small",{className:"text-muted",children:"Mon-Fri, 9am-5pm EST"})]})]}),(0,Oe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Oe.jsx)(Kt,{className:"me-3 fs-4 text-primary"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"Live Chat"}),(0,Oe.jsx)("p",{className:"mb-0",children:(0,Oe.jsx)("a",{href:"/live-chat",className:"btn btn-sm btn-outline-primary mt-1",children:"Start Chat"})}),(0,Oe.jsx)("small",{className:"text-muted",children:"Available 24/7"})]})]})]})]}),(0,Oe.jsxs)("div",{className:"card shadow mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-success text-white",children:(0,Oe.jsx)("h3",{className:"mb-0",children:"Support Resources"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Oe.jsx)(jn,{className:"me-3 fs-4 text-success"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"Help Center"}),(0,Oe.jsx)("p",{className:"mb-0",children:(0,Oe.jsx)("a",{href:"/help-center",className:"btn btn-sm btn-outline-success mt-1",children:"Browse FAQs"})})]})]}),(0,Oe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Oe.jsx)(tn,{className:"me-3 fs-4 text-warning"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"System Status"}),(0,Oe.jsx)("p",{className:"mb-0",children:(0,Oe.jsx)("span",{className:"badge bg-success",children:"All Systems Operational"})})]})]})]})]})]})]})]})},bf=()=>{const{user:e}=Re(),[n,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(""),[r,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)("connecting"),[h,f]=(0,t.useState)(null),m=(0,t.useRef)(null);(0,t.useEffect)((()=>(p(),()=>{chatSubscription&&chatSubscription.unsubscribe()})),[e]),(0,t.useEffect)((()=>{g()}),[n]);const p=async()=>{try{const{data:t,error:n}=await St.from("chat_sessions").select("*").eq("user_id",e.id).eq("status","active").single();if(n&&"PGRST116"!==n.code)throw n;let i;if(t)i=t.id;else{const{data:t,error:n}=await St.from("chat_sessions").insert([{user_id:e.id,status:"active",created_at:(new Date).toISOString()}]).select().single();if(n)throw n;i=t.id}const{data:a,error:r}=await St.from("chat_messages").select("*").eq("session_id",i).order("created_at",{ascending:!0});if(r)throw r;s(a||[]);St.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`session_id=eq.${i}`},(e=>{s((t=>[...t,e.new]))})).subscribe();const{data:o,error:l}=await St.from("support_agents").select("*").eq("status","online").single();if(l&&"PGRST116"!==l.code)throw l;o?(f(o),u("connected")):u("waiting")}catch(t){console.error("Error initializing chat:",t),u("error")}},g=()=>{var e;null===(e=m.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})};return(0,Oe.jsx)("div",{className:"container-fluid h-100",children:(0,Oe.jsxs)("div",{className:"row h-100",children:[(0,Oe.jsxs)("div",{className:"col-md-3 p-0 border-end",children:[(0,Oe.jsxs)("div",{className:"p-3 border-bottom",children:[(0,Oe.jsx)("h5",{className:"mb-0",children:"Chat Information"}),(0,Oe.jsxs)("small",{className:"text-muted",children:["Status: ",(0,Oe.jsx)("span",{className:"text-"+("connected"===d?"success":"warning"),children:d.charAt(0).toUpperCase()+d.slice(1)})]})]}),h&&(0,Oe.jsxs)("div",{className:"p-3",children:[(0,Oe.jsx)("h6",{className:"mb-2",children:"Support Agent"}),(0,Oe.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Oe.jsx)("div",{className:"avatar-circle me-2",children:h.name.charAt(0)}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("div",{className:"fw-bold",children:h.name}),(0,Oe.jsx)("small",{className:"text-muted",children:h.role})]})]})]})]}),(0,Oe.jsxs)("div",{className:"col-md-9 p-0 d-flex flex-column",children:[(0,Oe.jsxs)("div",{className:"flex-grow-1 p-3 overflow-auto",style:{height:"calc(100vh - 200px)"},children:[n.map(((t,n)=>(0,Oe.jsx)("div",{className:`d-flex ${t.user_id===e.id?"justify-content-end":"justify-content-start"} mb-3`,children:(0,Oe.jsx)("div",{className:"chat-message "+(t.user_id===e.id?"bg-primary text-white":"bg-light"),children:"text"===t.type?(0,Oe.jsx)("p",{className:"mb-0",children:t.message}):"image"===t.type?(0,Oe.jsx)("img",{src:`https://aqdzmfhakqdwquszaqle.supabase.co/storage/v1/object/public/chat-attachments/${t.attachment_url}`,alt:"Shared image",className:"img-fluid rounded",style:{maxWidth:"200px"}}):(0,Oe.jsxs)("a",{href:`https://aqdzmfhakqdwquszaqle.supabase.co/storage/v1/object/public/chat-attachments/${t.attachment_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[(0,Oe.jsx)(rn,{className:"me-2"}),t.message]})})},n))),(0,Oe.jsx)("div",{ref:m})]}),(0,Oe.jsx)("div",{className:"p-3 border-top",children:(0,Oe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i.trim())try{const{data:t}=await St.from("chat_sessions").select("id").eq("user_id",e.id).eq("status","active").single();if(!t)throw new Error("No active chat session");const{error:n}=await St.from("chat_messages").insert([{session_id:t.id,user_id:e.id,message:i.trim(),type:"text",created_at:(new Date).toISOString()}]);if(n)throw n;a("")}catch(n){console.error("Error sending message:",n)}},className:"d-flex gap-2",children:[(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message...",value:i,onChange:e=>a(e.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1)}),(0,Oe.jsxs)("label",{className:"btn btn-outline-primary",children:[(0,Oe.jsx)("input",{type:"file",className:"d-none",onChange:async t=>{const n=t.target.files[0];if(n)try{const t=n.name.split(".").pop(),s=`${Math.random()}.${t}`,i=`${e.id}/${s}`,{error:a}=await St.storage.from("chat-attachments").upload(i,n);if(a)throw a;const{data:r}=await St.from("chat_sessions").select("id").eq("user_id",e.id).eq("status","active").single();if(!r)throw new Error("No active chat session");const{error:o}=await St.from("chat_messages").insert([{session_id:r.id,user_id:e.id,message:n.name,type:n.type.startsWith("image/")?"image":"file",attachment_url:i,created_at:(new Date).toISOString()}]);if(o)throw o}catch(s){console.error("Error uploading file:",s)}},accept:"image/*,.pdf,.doc,.docx"}),(0,Oe.jsx)(rn,{})]}),(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",children:(0,Oe.jsx)(bn,{})})]})})]})]})})},xf=()=>{const[e,n]=(0,t.useState)({first_name:null,last_name:null,email:null,date_of_birth:null,gender:null,blood_group:null,height:"",weight:"",allergies:[],medical_conditions:[],emergency_contact_name:null,emergency_contact_phone:null,emergency_contact_relationship:null,phone:null,address:null,bio:"",profile_picture:null}),[s,i]=(0,t.useState)([]),[a,r]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)({name:"",value:"",unit:""}),[u,h]=(0,t.useState)(!0),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)("profile"),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(""),[_,w]=(0,t.useState)([]),[j,N]=(0,t.useState)({name:"",severity:"mild"}),[k,S]=(0,t.useState)([]),[E,C]=(0,t.useState)(!0);(0,t.useEffect)((()=>{T()}),[]),(0,t.useEffect)((()=>{"diseases"===p?(P(),A(),O()):"parameters"===p&&M()}),[p]);const T=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:s}=await St.from("detailed_profiles").select("*").eq("id",e.id).single();if(s){if("PGRST116"!==s.code)throw s;{const{data:t,error:s}=await St.from("detailed_profiles").insert([{id:e.id}]).select().single();if(s)throw s;n(t||{})}}else n(t||{})}catch(e){ut.error("Error fetching profile: "+e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},P=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_diseases").select("*").eq("user_id",e.id);if(n)throw n;i(t||[])}catch(e){console.error("Error fetching diseases:",e)}},A=async()=>{try{const{data:e,error:t}=await St.from("common_diseases").select("*");if(t)throw t;S(e||[])}catch(e){console.error("Error fetching common diseases:",e)}},O=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_allergies").select("*").eq("user_id",e.id);if(n)throw n;w(t||[])}catch(e){console.error("Error fetching allergies:",e)}},M=async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_parameters").select("*").eq("user_id",e.id).order("date_recorded",{ascending:!1});if(n)throw n;l(t||[])}catch(e){console.error("Error fetching parameters:",e)}},R=e=>{const{name:t,value:s}=e.target;n((e=>({...e,[t]:s})))};return u?(0,Oe.jsx)(Hn,{}):(0,Oe.jsxs)("div",{className:"profile-page container-fluid",children:[b&&(0,Oe.jsxs)("div",{className:"alert alert-info alert-dismissible fade show",role:"alert",children:[b,(0,Oe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-lg-3 col-md-4",children:(0,Oe.jsxs)("div",{className:"profile-sidebar card mb-3",children:[(0,Oe.jsx)("div",{className:"d-lg-none",children:(0,Oe.jsxs)("button",{className:"btn btn-link w-100 text-start",onClick:()=>C(!E),children:[(0,Oe.jsx)("i",{className:"fas fa-bars me-2"}),"Menu"]})}),(0,Oe.jsxs)("div",{className:"card-body "+(E?"":"d-none d-lg-block"),children:[(0,Oe.jsxs)("div",{className:"profile-picture-container mb-3",children:[(0,Oe.jsx)("img",{src:e.profile_picture||"/default-profile.png",alt:"Profile",className:"profile-picture img-fluid rounded-circle mb-2"}),f&&(0,Oe.jsx)("div",{className:"mt-2",children:(0,Oe.jsx)("input",{type:"file",onChange:async e=>{try{y(!0);const t=e.target.files[0];if(!t)return;const{data:{user:s}}=await St.auth.getUser();if(!s)throw new Error("No user logged in");const i=t.name.split(".").pop(),a=`${s.id}/${Math.random()}.${i}`,{error:r}=await St.storage.from("profile-pictures").upload(a,t);if(r)throw r;const{data:{publicUrl:o}}=St.storage.from("profile-pictures").getPublicUrl(a);n((e=>({...e,profile_picture:o})));const{error:l}=await St.from("detailed_profiles").update({profile_picture:o}).eq("id",s.id);if(l)throw l;ut.success("Profile picture updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}catch(t){ut.error("Error uploading image: "+t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{y(!1)}},className:"form-control form-control-sm"})}),v&&(0,Oe.jsx)(Hn,{})]}),(0,Oe.jsxs)("h3",{className:"mb-0",children:[e.first_name," ",e.last_name]}),(0,Oe.jsx)("p",{className:"text-muted",children:e.email}),(0,Oe.jsx)("button",{onClick:()=>m(!f),className:`btn ${f?"btn-secondary":"btn-primary"} w-100`,children:f?"Cancel Editing":"Edit Profile"})]}),(0,Oe.jsxs)("div",{className:"list-group list-group-flush",children:[(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action "+("profile"===p?"active":""),onClick:()=>g("profile"),children:[(0,Oe.jsx)("i",{className:"fas fa-user me-2"})," Basic Information"]}),(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action "+("medical"===p?"active":""),onClick:()=>g("medical"),children:[(0,Oe.jsx)("i",{className:"fas fa-heartbeat me-2"})," Medical Information"]}),(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action "+("emergency"===p?"active":""),onClick:()=>g("emergency"),children:[(0,Oe.jsx)("i",{className:"fas fa-phone-alt me-2"})," Emergency Contacts"]}),(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action "+("diseases"===p?"active":""),onClick:()=>g("diseases"),children:[(0,Oe.jsx)("i",{className:"fas fa-notes-medical me-2"})," Diseases & Conditions"]}),(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action "+("parameters"===p?"active":""),onClick:()=>g("parameters"),children:[(0,Oe.jsx)("i",{className:"fas fa-chart-line me-2"})," Health Parameters"]})]})]})}),(0,Oe.jsx)("div",{className:"col-lg-9 col-md-8",children:(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:["profile"===p&&(0,Oe.jsxs)("div",{className:"profile-section",children:[(0,Oe.jsx)("h4",{className:"card-title mb-4",children:"Basic Information"}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"First Name:"}),f?(0,Oe.jsx)("input",{type:"text",name:"first_name",value:e.first_name,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.first_name})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Last Name:"}),f?(0,Oe.jsx)("input",{type:"text",name:"last_name",value:e.last_name,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.last_name})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Email:"}),f?(0,Oe.jsx)("input",{type:"email",name:"email",value:e.email,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.email})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Phone:"}),f?(0,Oe.jsx)("input",{type:"tel",name:"phone",value:e.phone,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.phone})]})}),(0,Oe.jsx)("div",{className:"col-12",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Address:"}),f?(0,Oe.jsx)("input",{type:"text",name:"address",value:e.address,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.address})]})}),(0,Oe.jsx)("div",{className:"col-12",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Bio:"}),f?(0,Oe.jsx)("textarea",{name:"bio",value:e.bio,onChange:R,className:"form-control",rows:"3"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.bio})]})})]})]}),"medical"===p&&(0,Oe.jsxs)("div",{className:"medical-section",children:[(0,Oe.jsx)("h4",{className:"card-title mb-4",children:"Medical Information"}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Date of Birth:"}),f?(0,Oe.jsx)("input",{type:"date",name:"date_of_birth",value:e.date_of_birth,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.date_of_birth})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Gender:"}),f?(0,Oe.jsxs)("select",{name:"gender",value:e.gender,onChange:R,className:"form-control",children:[(0,Oe.jsx)("option",{value:"",children:"Select Gender"}),(0,Oe.jsx)("option",{value:"male",children:"Male"}),(0,Oe.jsx)("option",{value:"female",children:"Female"}),(0,Oe.jsx)("option",{value:"other",children:"Other"})]}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.gender})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Blood Group:"}),f?(0,Oe.jsxs)("select",{name:"blood_group",value:e.blood_group,onChange:R,className:"form-control",children:[(0,Oe.jsx)("option",{value:"",children:"Select Blood Group"}),(0,Oe.jsx)("option",{value:"A+",children:"A+"}),(0,Oe.jsx)("option",{value:"A-",children:"A-"}),(0,Oe.jsx)("option",{value:"B+",children:"B+"}),(0,Oe.jsx)("option",{value:"B-",children:"B-"}),(0,Oe.jsx)("option",{value:"AB+",children:"AB+"}),(0,Oe.jsx)("option",{value:"AB-",children:"AB-"}),(0,Oe.jsx)("option",{value:"O+",children:"O+"}),(0,Oe.jsx)("option",{value:"O-",children:"O-"})]}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.blood_group})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Height (cm):"}),f?(0,Oe.jsx)("input",{type:"number",name:"height",value:e.height,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.height})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Weight (kg):"}),f?(0,Oe.jsx)("input",{type:"number",name:"weight",value:e.weight,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.weight})]})})]})]}),"emergency"===p&&(0,Oe.jsxs)("div",{className:"emergency-section",children:[(0,Oe.jsx)("h4",{className:"card-title mb-4",children:"Emergency Contact Information"}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Emergency Contact Name:"}),f?(0,Oe.jsx)("input",{type:"text",name:"emergency_contact_name",value:e.emergency_contact_name,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.emergency_contact_name})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Emergency Contact Phone:"}),f?(0,Oe.jsx)("input",{type:"tel",name:"emergency_contact_phone",value:e.emergency_contact_phone,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.emergency_contact_phone})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"profile-field",children:[(0,Oe.jsx)("label",{children:"Relationship:"}),f?(0,Oe.jsx)("input",{type:"text",name:"emergency_contact_relationship",value:e.emergency_contact_relationship,onChange:R,className:"form-control"}):(0,Oe.jsx)("p",{className:"form-control-plaintext",children:e.emergency_contact_relationship})]})})]})]}),"diseases"===p&&(0,Oe.jsxs)("div",{className:"diseases-section",children:[(0,Oe.jsx)("h4",{className:"card-title mb-4",children:"Diseases & Medical Conditions"}),(0,Oe.jsx)("div",{className:"row",children:(0,Oe.jsxs)("div",{className:"col-12",children:[(0,Oe.jsx)("div",{className:"disease-list mb-4",children:s.map((e=>(0,Oe.jsx)("span",{className:"badge bg-info me-2 mb-2 p-2",children:e.disease_name},e.id)))}),f&&(0,Oe.jsxs)("div",{className:"input-group mb-3",children:[(0,Oe.jsxs)("select",{className:"form-select",value:a,onChange:e=>r(e.target.value),children:[(0,Oe.jsx)("option",{value:"",children:"Select a disease"}),k.map((e=>(0,Oe.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Or enter a new disease",value:""===a?"":a,onChange:e=>r(e.target.value)}),(0,Oe.jsx)("button",{onClick:async()=>{if(a.trim())try{h(!0);const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_diseases").select("*").eq("user_id",e.id).eq("disease_name",a).single();if(n&&"PGRST116"!==n.code)throw n;if(t)ut.info("This disease is already in your list",{position:"top-right",autoClose:3e3});else{const{data:t,error:n}=await St.from("user_diseases").insert([{user_id:e.id,disease_name:a,date_diagnosed:(new Date).toISOString()}]).select();if(n)throw n;i([...s,...t]),ut.success("Disease added successfully!",{position:"top-right",autoClose:3e3})}r("")}catch(e){console.error("Error adding disease:",e),ut.error("Error adding disease: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}},className:"btn btn-primary",children:"Add"})]})]})}),(0,Oe.jsx)("h5",{className:"card-title mb-3 mt-4",children:"Allergies"}),(0,Oe.jsx)("div",{className:"row",children:(0,Oe.jsxs)("div",{className:"col-12",children:[(0,Oe.jsx)("div",{className:"allergy-list mb-4",children:_.map((e=>(0,Oe.jsxs)("span",{className:"badge bg-warning text-dark me-2 mb-2 p-2",children:[e.allergy_name," (",e.severity,")"]},e.id)))}),f&&(0,Oe.jsxs)("div",{className:"row g-2",children:[(0,Oe.jsx)("div",{className:"col-sm-6",children:(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Allergy name",value:j.name,onChange:e=>N({...j,name:e.target.value})})}),(0,Oe.jsx)("div",{className:"col-sm-4",children:(0,Oe.jsxs)("select",{className:"form-select",value:j.severity,onChange:e=>N({...j,severity:e.target.value}),children:[(0,Oe.jsx)("option",{value:"mild",children:"Mild"}),(0,Oe.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Oe.jsx)("option",{value:"severe",children:"Severe"})]})}),(0,Oe.jsx)("div",{className:"col-sm-2",children:(0,Oe.jsx)("button",{onClick:async()=>{if(j.name.trim())try{h(!0);const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_allergies").select("*").eq("user_id",e.id).eq("allergy_name",j.name).single();if(n&&"PGRST116"!==n.code)throw n;if(t)ut.info("This allergy is already in your list",{position:"top-right",autoClose:3e3});else{const{data:t,error:n}=await St.from("user_allergies").insert([{user_id:e.id,allergy_name:j.name,severity:j.severity}]).select();if(n)throw n;w([..._,...t]),ut.success("Allergy added successfully!",{position:"top-right",autoClose:3e3})}N({name:"",severity:"mild"})}catch(e){console.error("Error adding allergy:",e),ut.error("Error adding allergy: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}else ut.warning("Please enter an allergy name",{position:"top-right",autoClose:3e3})},className:"btn btn-primary w-100",children:"Add"})})]})]})})]}),"parameters"===p&&(0,Oe.jsxs)("div",{className:"parameters-section",children:[(0,Oe.jsx)("h4",{className:"card-title mb-4",children:"Health Parameters"}),(0,Oe.jsx)("div",{className:"row",children:(0,Oe.jsxs)("div",{className:"col-12",children:[(0,Oe.jsx)("div",{className:"parameter-list mb-4",children:o.map((e=>(0,Oe.jsxs)("div",{className:"badge bg-success me-2 mb-2 p-2",children:[e.parameter_name,": ",e.value," ",e.unit]},e.id)))}),f&&(0,Oe.jsxs)("div",{className:"row g-2",children:[(0,Oe.jsx)("div",{className:"col-sm-4",children:(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Parameter name",value:c.name,onChange:e=>d({...c,name:e.target.value})})}),(0,Oe.jsx)("div",{className:"col-sm-4",children:(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Value",value:c.value,onChange:e=>d({...c,value:e.target.value})})}),(0,Oe.jsx)("div",{className:"col-sm-2",children:(0,Oe.jsx)("input",{type:"text",className:"form-control",placeholder:"Unit",value:c.unit,onChange:e=>d({...c,unit:e.target.value})})}),(0,Oe.jsx)("div",{className:"col-sm-2",children:(0,Oe.jsx)("button",{onClick:async()=>{if(c.name.trim()&&c.value.trim())try{h(!0);const{data:{user:e}}=await St.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await St.from("user_parameters").insert([{user_id:e.id,parameter_name:c.name,value:c.value,unit:c.unit||"",date_recorded:(new Date).toISOString()}]).select();if(n)throw n;l([...o,...t]),d({name:"",value:"",unit:""}),ut.success("Parameter added successfully!",{position:"top-right",autoClose:3e3})}catch(e){console.error("Error adding parameter:",e),ut.error("Error adding parameter: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}else ut.warning("Please enter both parameter name and value",{position:"top-right",autoClose:3e3})},className:"btn btn-primary w-100",children:"Add"})})]})]})})]}),f&&(0,Oe.jsx)("div",{className:"mt-4 text-end",children:(0,Oe.jsx)("button",{onClick:async()=>{h(!0);try{const{data:{user:t}}=await St.auth.getUser();if(!t)throw new Error("No user logged in");const n={first_name:e.first_name||null,last_name:e.last_name||null,email:e.email||null,date_of_birth:e.date_of_birth||null,gender:e.gender||null,blood_group:e.blood_group||null,height:e.height||null,weight:e.weight||null,phone:e.phone||null,address:e.address||null,emergency_contact_name:e.emergency_contact_name||null,emergency_contact_phone:e.emergency_contact_phone||null,emergency_contact_relationship:e.emergency_contact_relationship||null,profile_picture:e.profile_picture||null,bio:e.bio||null,updated_at:(new Date).toISOString()},{error:s}=await St.from("detailed_profiles").update(n).eq("id",t.id);if(s)throw s;ut.success("Profile updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),m(!1)}catch(t){ut.error("Error updating profile: "+t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},className:"btn btn-success",children:"Save Changes"})})]})})})]})]})},_f=()=>{const[e,n]=(0,t.useState)({twoFactorEnabled:!1,emailNotifications:!0,loginNotifications:!0,passwordExpiry:90,maxLoginAttempts:5}),[s,i]=(0,t.useState)(!1),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{const{data:{user:e}}=await Ae.auth.getUser();if(!e)return;const{data:t,error:s}=await Ae.from("security_settings").select("*").eq("user_id",e.id).single();if(s)throw s;t&&n(t)}catch(a){r("Failed to load security settings")}},d=e=>{const{name:t,value:s,type:i,checked:a}=e.target;n((e=>({...e,[t]:"checkbox"===i?a:s})))};return(0,Oe.jsxs)("div",{className:"container mt-4",children:[(0,Oe.jsx)("h2",{className:"mb-4",children:"Security Settings"}),a&&(0,Oe.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}),o&&(0,Oe.jsx)("div",{className:"alert alert-success",role:"alert",children:o}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),r(null),l(null);try{const{data:{user:t}}=await Ae.auth.getUser();if(!t)throw new Error("No user found");const{error:n}=await Ae.from("security_settings").upsert({user_id:t.id,...e,updated_at:(new Date).toISOString()});if(n)throw n;l("Security settings updated successfully")}catch(a){r(a.message)}finally{i(!1)}},children:[(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(Sn,{className:"me-2"}),"Two-Factor Authentication"]}),(0,Oe.jsxs)("div",{className:"form-check form-switch",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"twoFactorEnabled",name:"twoFactorEnabled",checked:e.twoFactorEnabled,onChange:d}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"twoFactorEnabled",children:"Enable two-factor authentication"})]})]}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(Ln,{className:"me-2"}),"Login Security"]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Maximum Login Attempts"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",name:"maxLoginAttempts",value:e.maxLoginAttempts,onChange:d,min:"1",max:"10"})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Password Expiry (days)"}),(0,Oe.jsx)("input",{type:"number",className:"form-control",name:"passwordExpiry",value:e.passwordExpiry,onChange:d,min:"30",max:"365"})]})]}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(dn,{className:"me-2"}),"Activity Notifications"]}),(0,Oe.jsxs)("div",{className:"form-check mb-2",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"emailNotifications",name:"emailNotifications",checked:e.emailNotifications,onChange:d}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"emailNotifications",children:"Email notifications for security events"})]}),(0,Oe.jsxs)("div",{className:"form-check",children:[(0,Oe.jsx)("input",{className:"form-check-input",type:"checkbox",id:"loginNotifications",name:"loginNotifications",checked:e.loginNotifications,onChange:d}),(0,Oe.jsx)("label",{className:"form-check-label",htmlFor:"loginNotifications",children:"Notify on new device login"})]})]}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(hn,{className:"me-2"}),"Password Management"]}),(0,Oe.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{},children:"Change Password"})]}),(0,Oe.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:s,children:s?"Saving...":"Save Security Settings"})]})})})]})},wf=()=>{const[e,n]=(0,t.useState)([]),[s,i]=(0,t.useState)(!1),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{const{data:{user:e}}=await Ae.auth.getUser();if(!e)return;const{data:t,error:s}=await Ae.from("backup_history").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;n(t||[])}catch(a){r("Failed to load backup history")}};return(0,Oe.jsxs)("div",{className:"container mt-4",children:[(0,Oe.jsx)("h2",{className:"mb-4",children:"Data Backup & Restore"}),a&&(0,Oe.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}),o&&(0,Oe.jsx)("div",{className:"alert alert-success",role:"alert",children:o}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsxs)("div",{className:"col-md-6",children:[(0,Oe.jsx)("div",{className:"card mb-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(Qt,{className:"me-2"}),"Export Data"]}),(0,Oe.jsx)("p",{className:"card-text",children:"Download a backup of your health data, including profile information, health records, appointments, and medications."}),(0,Oe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{i(!0),r(null),l(null);try{const{data:{user:e}}=await Ae.auth.getUser();if(!e)throw new Error("No user found");const[{data:t},{data:n},{data:s},{data:i},{data:a},{data:r}]=await Promise.all([Ae.from("profiles").select("*").eq("id",e.id).single(),Ae.from("health_metrics").select("*").eq("user_id",e.id),Ae.from("appointments").select("*").eq("user_id",e.id),Ae.from("medications").select("*").eq("user_id",e.id),Ae.from("medical_conditions").select("*").eq("user_id",e.id),Ae.from("health_alerts").select("*").eq("user_id",e.id)]),{data:o,error:d}=await Ae.from("backup_history").insert([{user_id:e.id,type:"export",status:"completed",created_at:(new Date).toISOString(),backup_data:{profile:t,healthMetrics:n,appointments:s,medications:i,medicalConditions:a,healthAlerts:r}}]).select().single();if(d)throw d;const u={profile:t,healthMetrics:n,appointments:s,medications:i,medicalConditions:a,healthAlerts:r,exportDate:(new Date).toISOString()},h=new Blob([JSON.stringify(u,null,2)],{type:"application/json"}),f=window.URL.createObjectURL(h),m=document.createElement("a");m.href=f,m.download=`digihealth-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(m),m.click(),window.URL.revokeObjectURL(f),document.body.removeChild(m),l("Data exported successfully"),c()}catch(a){r(a.message)}finally{i(!1)}},disabled:s,children:s?"Exporting...":"Export Data"})]})}),(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(In,{className:"me-2"}),"Import Data"]}),(0,Oe.jsx)("p",{className:"card-text",children:"Restore your health data from a previous backup file."}),(0,Oe.jsx)("input",{type:"file",className:"form-control mb-3",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t){i(!0),r(null),l(null);try{const{data:{user:e}}=await Ae.auth.getUser();if(!e)throw new Error("No user found");const n=new FileReader;n.onload=async t=>{try{const n=JSON.parse(t.target.result),{data:s,error:i}=await Ae.from("backup_history").insert([{user_id:e.id,type:"import",status:"completed",created_at:(new Date).toISOString()}]).select().single();if(i)throw i;n.profile&&await Ae.from("profiles").upsert({...n.profile,id:e.id}),n.healthMetrics&&await Ae.from("health_metrics").upsert(n.healthMetrics.map((t=>({...t,user_id:e.id})))),n.appointments&&await Ae.from("appointments").upsert(n.appointments.map((t=>({...t,user_id:e.id})))),n.medications&&await Ae.from("medications").upsert(n.medications.map((t=>({...t,user_id:e.id})))),n.medicalConditions&&await Ae.from("medical_conditions").upsert(n.medicalConditions.map((t=>({...t,user_id:e.id})))),n.healthAlerts&&await Ae.from("health_alerts").upsert(n.healthAlerts.map((t=>({...t,user_id:e.id})))),l("Data imported successfully"),c()}catch(a){r("Invalid backup file format")}},n.readAsText(t)}catch(a){r(a.message)}finally{i(!1)}}},disabled:s})]})})]}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(dn,{className:"me-2"}),"Backup History"]}),(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Date"}),(0,Oe.jsx)("th",{children:"Type"}),(0,Oe.jsx)("th",{children:"Status"})]})}),(0,Oe.jsx)("tbody",{children:e.map((e=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,Oe.jsxs)("td",{children:["export"===e.type?(0,Oe.jsx)(Qt,{className:"me-1"}):(0,Oe.jsx)(In,{className:"me-1"}),e.type.charAt(0).toUpperCase()+e.type.slice(1)]}),(0,Oe.jsx)("td",{children:(0,Oe.jsx)("span",{className:"badge bg-"+("completed"===e.status?"success":"warning"),children:e.status})})]},e.id)))})]})})]})})})]})]})};var jf=n(985);const Nf=()=>{const[e,n]=(0,t.useState)(!1),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)([]),o=console.log,l=console.error,c=console.warn;return(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(Jt,{className:"me-2"}),"Database Setup"]}),(0,Oe.jsxs)("p",{className:"card-text",children:["This utility will delete all existing tables and buckets in your Supabase project and recreate them with the proper structure.",(0,Oe.jsx)("strong",{className:"text-danger",children:" Use with caution as this will delete all existing data!"})]}),s&&(0,Oe.jsxs)("div",{className:`alert ${s.success?"alert-success":"alert-danger"} mt-3`,role:"alert",children:[s.success?(0,Oe.jsx)(Wt,{className:"me-2"}):(0,Oe.jsx)(tn,{className:"me-2"}),s.message]}),(0,Oe.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,Oe.jsx)("button",{className:"btn btn-danger",onClick:async()=>{n(!0),i(null),r([]),console.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r((e=>[...e,{type:"info",message:t.join(" ")}])),o(...t)},console.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r((e=>[...e,{type:"error",message:t.join(" ")}])),l(...t)},console.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r((e=>[...e,{type:"warning",message:t.join(" ")}])),c(...t)};try{const e=await(0,jf.setupSupabaseTables)();i(e)}catch(e){i({success:!1,message:`Unexpected error: ${e.message}`})}finally{console.log=o,console.error=l,console.warn=c,n(!1)}},disabled:e,children:e?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(En,{className:"me-2 fa-spin"}),"Setting up database..."]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Jt,{className:"me-2"}),"Reset and Setup Database"]})})}),a.length>0&&(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("h6",{children:"Setup Logs:"}),(0,Oe.jsx)("div",{className:"border rounded p-3 bg-light",style:{maxHeight:"300px",overflow:"auto"},children:a.map(((e,t)=>(0,Oe.jsx)("div",{className:"mb-1 "+("error"===e.type?"text-danger":"warning"===e.type?"text-warning":""),children:e.message},t)))})]})]})})},kf=()=>{var e;const{user:n}=Re(),[s,i]=(0,t.useState)("");if(!n||"admin"!==(null===(e=n.user_metadata)||void 0===e?void 0:e.role))return(0,Oe.jsx)(pe,{to:"/dashboard"});return(0,Oe.jsxs)("div",{className:"container py-4",children:[(0,Oe.jsxs)("h1",{className:"mb-4",children:[(0,Oe.jsx)(Jt,{className:"me-2"}),"Database Management"]}),(0,Oe.jsxs)("div",{className:"alert alert-warning mb-4",role:"alert",children:[(0,Oe.jsx)(tn,{className:"me-2"}),(0,Oe.jsx)("strong",{children:"Warning:"})," This page is for administrators only. The actions performed here will affect all users of the application."]}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-8",children:(0,Oe.jsx)(Nf,{})}),(0,Oe.jsx)("div",{className:"col-md-4",children:(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h5",{className:"card-title",children:[(0,Oe.jsx)(un,{className:"me-2"}),"Database Information"]}),(0,Oe.jsx)("p",{className:"card-text",children:"The setup process will create the following resources:"}),(0,Oe.jsxs)("h6",{className:"mt-3",children:[(0,Oe.jsx)(Tn,{className:"me-2"}),"Tables"]}),(0,Oe.jsxs)("ul",{className:"list-group mb-3",children:[(0,Oe.jsx)("li",{className:"list-group-item",children:"detailed_profiles"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"profiles"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"conditions"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"medications"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"appointments"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"telehealth_consultations"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"vitals"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"diseases"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"medical_reports"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"support_tickets"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"chat_sessions"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"chat_messages"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"alerts"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"security_settings"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"backup_history"})]}),(0,Oe.jsxs)("h6",{className:"mt-3",children:[(0,Oe.jsx)(ln,{className:"me-2"}),"Storage Buckets"]}),(0,Oe.jsxs)("ul",{className:"list-group",children:[(0,Oe.jsx)("li",{className:"list-group-item",children:"profile-pictures"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"medical-reports"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"health-reports"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"chat-attachments"}),(0,Oe.jsx)("li",{className:"list-group-item",children:"support-attachments"})]})]})})})]}),(0,Oe.jsxs)("div",{className:"mt-5",children:[(0,Oe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{i("Setting up database...");const{error:e}=await St.rpc("setup_profiles_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS profiles (\n            id UUID REFERENCES auth.users ON DELETE CASCADE PRIMARY KEY,\n            first_name VARCHAR(255),\n            last_name VARCHAR(255),\n            date_of_birth DATE,\n            gender VARCHAR(50),\n            blood_group VARCHAR(10),\n            height DECIMAL,\n            weight DECIMAL,\n            allergies TEXT[],\n            medical_conditions TEXT[],\n            emergency_contact_name VARCHAR(255),\n            emergency_contact_phone VARCHAR(20),\n            emergency_contact_relationship VARCHAR(100),\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW()),\n            updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          -- Add RLS policies\n          ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own profile"\n            ON profiles FOR SELECT\n            USING (auth.uid() = id);\n\n          CREATE POLICY "Users can update their own profile"\n            ON profiles FOR UPDATE\n            USING (auth.uid() = id);\n\n          CREATE POLICY "Users can insert their own profile"\n            ON profiles FOR INSERT\n            WITH CHECK (auth.uid() = id);\n        '});if(e)throw e;const{error:t}=await St.rpc("setup_health_metrics_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS health_metrics (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            metric_type VARCHAR(50),\n            value DECIMAL,\n            unit VARCHAR(20),\n            recorded_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW()),\n            notes TEXT\n          );\n\n          ALTER TABLE health_metrics ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own health metrics"\n            ON health_metrics FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own health metrics"\n            ON health_metrics FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(t)throw t;const{error:n}=await St.rpc("setup_medical_analyses_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS medical_analyses (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            image_type VARCHAR(50),\n            image_url TEXT,\n            result TEXT,\n            confidence DECIMAL,\n            analyzed_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE medical_analyses ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own medical analyses"\n            ON medical_analyses FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own medical analyses"\n            ON medical_analyses FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(n)throw n;const{error:s}=await St.rpc("setup_chat_history_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS chat_history (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            message TEXT,\n            response TEXT,\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE chat_history ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own chat history"\n            ON chat_history FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert into their own chat history"\n            ON chat_history FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(s)throw s;const{error:a}=await St.rpc("setup_ai_recommendations_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS ai_recommendations (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            category VARCHAR(50),\n            recommendation TEXT,\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE ai_recommendations ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own recommendations"\n            ON ai_recommendations FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own recommendations"\n            ON ai_recommendations FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(a)throw a;i("Database setup completed successfully!")}catch(e){console.error("Database setup error:",e),i(`Error setting up database: ${e.message}`)}},children:"Initialize Database"}),(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("p",{children:s})})]})]})};gl.register(dc,mc,Ml,Al,ql,oc,Vl);const Sf=e=>{let{timeRange:n="1M"}=e;const{user:s}=Re(),[i,a]=(0,t.useState)([]),[r,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("bloodPressure"),d=[{value:"bloodPressure",label:"Blood Pressure"},{value:"bloodSugar",label:"Blood Sugar"},{value:"cholesterol",label:"Cholesterol"},{value:"heartRate",label:"Heart Rate"},{value:"temperature",label:"Temperature"},{value:"weight",label:"Weight"},{value:"oxygenSaturation",label:"Oxygen Saturation"}];(0,t.useEffect)((()=>{u()}),[n,l]);const u=async()=>{try{o(!0);const e={"1W":"7 days","1M":"30 days","3M":"90 days","6M":"180 days","1Y":"365 days"},{data:t,error:i}=await St.from("health_metrics").select("*").eq("user_id",s.id).gte("recorded_at",new Date(Date.now()-24*parseInt(e[n])*60*60*1e3).toISOString()).order("recorded_at",{ascending:!0});if(i)throw i;a(t||[])}catch(e){console.error("Error fetching metrics:",e)}finally{o(!1)}},h={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`${d.find((e=>e.value===l)).label} Trend`}},scales:{y:{beginAtZero:!1}}};return(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,Oe.jsx)("select",{className:"form-select w-auto",value:l,onChange:e=>c(e.target.value),children:d.map((e=>(0,Oe.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Oe.jsxs)("select",{className:"form-select w-auto",value:n,onChange:e=>setTimeRange(e.target.value),children:[(0,Oe.jsx)("option",{value:"1W",children:"1 Week"}),(0,Oe.jsx)("option",{value:"1M",children:"1 Month"}),(0,Oe.jsx)("option",{value:"3M",children:"3 Months"}),(0,Oe.jsx)("option",{value:"6M",children:"6 Months"}),(0,Oe.jsx)("option",{value:"1Y",children:"1 Year"})]})]}),r?(0,Oe.jsx)("div",{className:"text-center",children:"Loading..."}):i.length>0?(0,Oe.jsx)(lf,{data:(()=>{const e=i.map((e=>new Date(e.recorded_at).toLocaleDateString())),t=i.map((e=>{const t=e.metrics[l];if("bloodPressure"===l){const[e]=t.split("/");return parseInt(e)}return parseFloat(t)}));return{labels:e,datasets:[{label:d.find((e=>e.value===l)).label,data:t,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}})(),options:h}):(0,Oe.jsx)("div",{className:"text-center",children:"No data available for the selected period"})]})})},Ef=()=>{const{user:e}=Re(),[n,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),[r,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)("skin");return(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h3",{className:"card-title mb-4",children:"Medical Image Analysis"}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Image Type"}),(0,Oe.jsx)("select",{className:"form-select",value:d,onChange:e=>u(e.target.value),children:[{value:"skin",label:"Skin Condition"},{value:"xray",label:"X-Ray"},{value:"wound",label:"Wound/Injury"},{value:"eye",label:"Eye Condition"}].map((e=>(0,Oe.jsx)("option",{value:e.value,children:e.label},e.value)))})]}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsx)("label",{className:"form-label",children:"Upload Image"}),(0,Oe.jsx)("input",{type:"file",className:"form-control",accept:"image/*",onChange:t=>{const n=t.target.files[0];n&&(async t=>{s(!0),o(null);try{const n=`${e.id}/${Date.now()}-${t.name}`,{data:s,error:i}=await St.storage.from("medical-images").upload(n,t);if(i)throw i;const{data:{publicUrl:r}}=St.storage.from("medical-images").getPublicUrl(n);c(r);const o=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{NODE_ENV:"production",PUBLIC_URL:"/DiGiHealthAdv",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ",REACT_APP_SUPABASE_URL:"https://aqdzmfhakqdwquszaqle.supabase.co"}.REACT_APP_OPENAI_API_KEY}`},body:JSON.stringify({model:"gpt-4-vision-preview",messages:[{role:"system",content:`You are a medical image analyzer specialized in ${d} conditions. Provide a detailed analysis while being cautious not to make definitive diagnoses.`},{role:"user",content:[{type:"text",text:`Please analyze this ${d} image and provide insights about what you observe. Include potential concerns and recommendations for professional medical consultation if needed.`},{type:"image_url",image_url:r}]}],max_tokens:500})}),l=await o.json(),{error:u}=await St.from("medical_analyses").insert([{user_id:e.id,image_url:r,analysis_type:d,analysis_result:l.choices[0].message.content,created_at:(new Date).toISOString()}]);if(u)throw u;a(l.choices[0].message.content)}catch(r){console.error("Error analyzing image:",r),o(r.message)}finally{s(!1)}})(n)},disabled:n})]}),n&&(0,Oe.jsxs)("div",{className:"text-center mb-4",children:[(0,Oe.jsx)(En,{className:"spinner"}),(0,Oe.jsx)("p",{children:"Analyzing image..."})]}),l&&(0,Oe.jsx)("div",{className:"mb-4",children:(0,Oe.jsx)("img",{src:l,alt:"Uploaded medical image",className:"img-fluid rounded",style:{maxHeight:"300px"}})}),r&&(0,Oe.jsx)("div",{className:"alert alert-danger",role:"alert",children:r}),i&&(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("h5",{children:"Analysis Results:"}),(0,Oe.jsx)("div",{className:"card bg-light",children:(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("pre",{className:"mb-0",style:{whiteSpace:"pre-wrap"},children:i})})})]})]})})},Cf=()=>{const{user:e}=Re(),[n,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(""),[r,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)("chat"),d=(0,t.useRef)(null);(0,t.useEffect)((()=>{(()=>{var e;null===(e=d.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()}),[n]);const u=()=>{switch(l){case"diet":return"You are a nutritionist AI assistant. Provide personalized diet recommendations based on user's health conditions and goals. Always emphasize the importance of consulting healthcare providers before making significant dietary changes.";case"firstAid":return"You are a first aid instruction AI assistant. Provide clear, step-by-step first aid guidance for non-emergency situations. Always emphasize when professional medical attention is needed and include emergency contact recommendations when appropriate.";default:return"You are a helpful medical assistant. Explain medical terms in simple language and provide general health information. Always remind users to consult healthcare professionals for proper medical advice."}},h=async()=>{if(!i.trim())return;const t=i.trim();a(""),o(!0);const r={role:"user",content:t,timestamp:(new Date).toISOString()};s((e=>[...e,r]));try{const{data:i}=await St.from("profiles").select("medical_conditions, allergies, current_medications").eq("id",e.id).single(),a=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{NODE_ENV:"production",PUBLIC_URL:"/DiGiHealthAdv",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ",REACT_APP_SUPABASE_URL:"https://aqdzmfhakqdwquszaqle.supabase.co"}.REACT_APP_OPENAI_API_KEY}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:u()},{role:"user",content:`User's health context - Medical conditions: ${i.medical_conditions.join(", ")}, Allergies: ${i.allergies.join(", ")}, Current medications: ${i.current_medications.join(", ")}`},...n.map((e=>({role:e.role,content:e.content}))),{role:"user",content:t}],temperature:.7,max_tokens:500})}),r=await a.json();s((e=>[...e,{role:"assistant",content:r.choices[0].message.content,timestamp:(new Date).toISOString()}])),await St.from("chat_history").insert([{user_id:e.id,mode:l,message:t,response:r.choices[0].message.content,created_at:(new Date).toISOString()}])}catch(c){console.error("Error:",c),s((e=>[...e,{role:"assistant",content:"I apologize, but I encountered an error. Please try again.",timestamp:(new Date).toISOString()}]))}finally{o(!1)}};return(0,Oe.jsx)("div",{className:"card",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Oe.jsx)("h3",{className:"card-title mb-0",children:"diet"===l?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Fn,{className:"me-2"})," Diet Assistant"]}):"firstAid"===l?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(on,{className:"me-2"})," First Aid Guide"]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Nn,{className:"me-2"})," Health Assistant"]})}),(0,Oe.jsxs)("div",{className:"btn-group",children:[(0,Oe.jsx)("button",{className:"btn btn-"+("chat"===l?"primary":"outline-primary"),onClick:()=>c("chat"),children:"Chat"}),(0,Oe.jsx)("button",{className:"btn btn-"+("diet"===l?"primary":"outline-primary"),onClick:()=>c("diet"),children:"Diet"}),(0,Oe.jsx)("button",{className:"btn btn-"+("firstAid"===l?"primary":"outline-primary"),onClick:()=>c("firstAid"),children:"First Aid"})]})]}),(0,Oe.jsxs)("div",{className:"chat-container bg-light p-3 rounded",style:{height:"400px",overflowY:"auto"},children:[n.map(((e,t)=>(0,Oe.jsx)("div",{className:`d-flex ${"user"===e.role?"justify-content-end":"justify-content-start"} mb-3`,children:(0,Oe.jsxs)("div",{className:("user"===e.role?"bg-primary text-white":"bg-white")+" p-3 rounded shadow-sm",style:{maxWidth:"75%"},children:[(0,Oe.jsxs)("div",{className:"d-flex align-items-center mb-1",children:["user"===e.role?(0,Oe.jsx)(zn,{className:"me-2"}):(0,Oe.jsx)(Nn,{className:"me-2"}),(0,Oe.jsx)("small",{className:"text-muted",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Oe.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:e.content})]})},t))),(0,Oe.jsx)("div",{ref:d})]}),(0,Oe.jsxs)("div",{className:"mt-3 d-flex",children:[(0,Oe.jsx)("input",{type:"text",className:"form-control me-2",value:i,onChange:e=>a(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),placeholder:"diet"===l?"Ask about diet recommendations...":"firstAid"===l?"Ask about first aid instructions...":"Ask your health-related question...",disabled:r}),(0,Oe.jsx)("button",{className:"btn btn-primary",onClick:h,disabled:r||!i.trim(),children:r?(0,Oe.jsx)(En,{className:"spinner"}):(0,Oe.jsx)(bn,{})})]})]})})};gl.register(dc,mc,Ml,Al,$l,wl,jc,ql,oc,Vl);const Tf=()=>{const{user:e}=Re(),[n,s]=(0,t.useState)({healthTrends:[],imageAnalyses:[],chatHistory:[],recommendations:[]}),[i,a]=(0,t.useState)("week"),[r,o]=(0,t.useState)("all");(0,t.useEffect)((()=>{l()}),[e,i,r]);const l=async()=>{try{const[t,n,i,a]=await Promise.all([St.from("health_metrics").select("*").eq("user_id",e.id).order("recorded_at",{ascending:!1}),St.from("medical_analyses").select("*").eq("user_id",e.id).order("analyzed_at",{ascending:!1}),St.from("chat_history").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}),St.from("ai_recommendations").select("*").eq("user_id",e.id).order("created_at",{ascending:!1})]);s({healthTrends:t.data||[],imageAnalyses:n.data||[],chatHistory:i.data||[],recommendations:a.data||[]})}catch(t){console.error("Error fetching AI insights:",t)}};return(0,Oe.jsxs)("div",{className:"ai-insights-container",children:[(0,Oe.jsx)("h1",{className:"text-center mb-4",children:"AI Health Insights Dashboard"}),(0,Oe.jsxs)("div",{className:"controls-section mb-4",children:[(0,Oe.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"form-select me-2",children:[(0,Oe.jsx)("option",{value:"week",children:"Last Week"}),(0,Oe.jsx)("option",{value:"month",children:"Last Month"}),(0,Oe.jsx)("option",{value:"year",children:"Last Year"})]}),(0,Oe.jsxs)("select",{value:r,onChange:e=>o(e.target.value),className:"form-select",children:[(0,Oe.jsx)("option",{value:"all",children:"All Metrics"}),(0,Oe.jsx)("option",{value:"vitals",children:"Vital Signs"}),(0,Oe.jsx)("option",{value:"lab",children:"Lab Results"}),(0,Oe.jsx)("option",{value:"lifestyle",children:"Lifestyle"})]})]}),(0,Oe.jsxs)("div",{className:"card mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h3",{children:[(0,Oe.jsx)(Vt,{})," Health Trends Analysis"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)(lf,{data:{labels:n.healthTrends.map((e=>new Date(e.recorded_at).toLocaleDateString())),datasets:[{label:"Health Score",data:n.healthTrends.map((e=>e.value)),borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Health Metrics Over Time"}}}})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)(df,{data:{labels:["Blood Pressure","Heart Rate","Blood Sugar","Sleep","Exercise","Diet"],datasets:[{label:"Current Status",data:[65,75,70,80,60,85],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgb(75, 192, 192)",pointBackgroundColor:"rgb(75, 192, 192)"}]}})})]})})]}),(0,Oe.jsxs)("div",{className:"card mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h3",{children:[(0,Oe.jsx)(an,{})," Medical Image Analysis History"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)("div",{className:"table-responsive",children:(0,Oe.jsxs)("table",{className:"table",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{children:"Date"}),(0,Oe.jsx)("th",{children:"Image Type"}),(0,Oe.jsx)("th",{children:"Analysis Result"}),(0,Oe.jsx)("th",{children:"Confidence"})]})}),(0,Oe.jsx)("tbody",{children:n.imageAnalyses.map(((e,t)=>(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("td",{children:new Date(e.analyzed_at).toLocaleDateString()}),(0,Oe.jsx)("td",{children:e.image_type}),(0,Oe.jsx)("td",{children:e.result}),(0,Oe.jsxs)("td",{children:[e.confidence,"%"]})]},t)))})]})})})]}),(0,Oe.jsxs)("div",{className:"card mb-4",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h3",{children:[(0,Oe.jsx)(Bt,{})," AI Health Recommendations"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)(uf,{data:{labels:["Diet","Exercise","Sleep","Medication","Lifestyle"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},options:{plugins:{title:{display:!0,text:"Recommendation Categories"}}}})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsx)("div",{className:"recommendations-list",children:n.recommendations.slice(0,5).map(((e,t)=>(0,Oe.jsxs)("div",{className:"recommendation-item",children:[(0,Oe.jsx)("h5",{children:e.category}),(0,Oe.jsx)("p",{children:e.recommendation})]},t)))})})]})})]}),(0,Oe.jsxs)("div",{className:"card",children:[(0,Oe.jsx)("div",{className:"card-header",children:(0,Oe.jsxs)("h3",{children:[(0,Oe.jsx)(Nn,{})," Health Assistant Interactions"]})}),(0,Oe.jsx)("div",{className:"card-body",children:(0,Oe.jsx)(cf,{data:{labels:["Diet Queries","Symptom Analysis","Medical Terms","First Aid","General Health"],datasets:[{label:"Interaction Distribution",data:[45,32,28,15,30],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgb(75, 192, 192)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})})]})]})},Pf=()=>{const[e,n]=(0,t.useState)(!0),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{const{data:{user:e}}=await Ae.auth.getUser();if(!e)throw new Error("No user logged in");const t={weight:[{date:"2024-01-01",value:70},{date:"2024-02-01",value:69},{date:"2024-03-01",value:68}],bloodPressure:[{date:"2024-01-01",systolic:120,diastolic:80},{date:"2024-02-01",systolic:118,diastolic:78},{date:"2024-03-01",systolic:122,diastolic:82}],heartRate:[{date:"2024-01-01",value:72},{date:"2024-02-01",value:70},{date:"2024-03-01",value:71}]};r(t),d(t)}catch(s){console.error("Error fetching health metrics:",s),i("Failed to load health metrics")}finally{n(!1)}},d=e=>{l({weight:{trend:"decreasing",change:-2,recommendation:"Your weight shows a healthy decreasing trend. Keep up the good work!"},bloodPressure:{trend:"stable",recommendation:"Your blood pressure remains within normal range. Continue monitoring regularly."},heartRate:{trend:"stable",recommendation:"Your heart rate is consistent and within healthy range."},overall:{status:"Good",recommendations:["Maintain current lifestyle habits","Continue regular exercise","Keep monitoring your metrics"]}})};return e?(0,Oe.jsx)("div",{className:"text-center py-4",children:(0,Oe.jsx)(Hn,{})}):s?(0,Oe.jsx)("div",{className:"alert alert-danger m-4",children:s}):(0,Oe.jsx)("div",{className:"container py-4",children:(0,Oe.jsx)("div",{className:"row",children:(0,Oe.jsxs)("div",{className:"col-12",children:[(0,Oe.jsx)("h2",{className:"mb-4",children:"AI Health Metrics Analysis"}),a&&o&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("div",{className:"card mb-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsxs)("h4",{children:["Overall Health Status: ",(0,Oe.jsx)("span",{className:"text-success",children:o.overall.status})]}),(0,Oe.jsxs)("div",{className:"mt-3",children:[(0,Oe.jsx)("h5",{children:"Key Findings:"}),(0,Oe.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,Oe.jsxs)("li",{className:"list-group-item",children:[(0,Oe.jsx)("strong",{children:"Weight:"})," ",o.weight.recommendation]}),(0,Oe.jsxs)("li",{className:"list-group-item",children:[(0,Oe.jsx)("strong",{children:"Blood Pressure:"})," ",o.bloodPressure.recommendation]}),(0,Oe.jsxs)("li",{className:"list-group-item",children:[(0,Oe.jsx)("strong",{children:"Heart Rate:"})," ",o.heartRate.recommendation]})]})]})]})}),(0,Oe.jsx)("div",{className:"card mb-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h4",{children:"Recommendations"}),(0,Oe.jsx)("ul",{className:"list-group list-group-flush",children:o.overall.recommendations.map(((e,t)=>(0,Oe.jsxs)("li",{className:"list-group-item",children:[(0,Oe.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e]},t)))})]})}),(0,Oe.jsxs)("div",{className:"alert alert-info",children:[(0,Oe.jsx)("i",{className:"fas fa-info-circle me-2"}),"This analysis is based on your recorded health metrics. For personalized medical advice, please consult with your healthcare provider."]})]})]})})})},Af=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{const n=await fetch("https://digihealth-backend.onrender.com/api/analyze-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,...t})});if(!n.ok)throw new Error("API request failed");return await n.json()}catch(n){throw console.error("Error calling OpenAI API:",n),n}},Of=()=>{const[e,n]=(0,t.useState)(null),[s,i]=(0,t.useState)(null),[a,r]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[f,m]=(0,t.useState)("general"),p=(0,t.useRef)(null),g=e=>{const t="This AI analysis is not a substitute for professional medical diagnosis. Please consult with a healthcare provider for proper evaluation and diagnosis.";return{skin:t+" Skin conditions particularly require in-person examination as many can appear similar in images.",xray:t+" X-ray interpretation requires board-certified radiologists for official diagnosis.",scan:t+" CT/MRI scans are complex and require specialized medical training to properly diagnose.",pathology:t+" Pathology diagnosis requires microscopic examination by a certified pathologist."}[e]||t},v=async t=>{try{const{data:{user:n}}=await Ae.auth.getUser();if(!n)return;const s=e.name.split(".").pop(),i=`${n.id}/${Date.now()}.${s}`,{error:a}=await Ae.storage.from("medical-images").upload(i,e);if(a)throw a;const{data:{publicUrl:r}}=Ae.storage.from("medical-images").getPublicUrl(i);await Ae.from("image_analyses").insert({user_id:n.id,image_url:r,analysis_type:f,analysis_result:t,created_at:(new Date).toISOString()})}catch(c){console.error("Error saving analysis:",c)}};return(0,Oe.jsxs)("div",{className:"container-fluid py-4",children:[u&&(0,Oe.jsxs)("div",{className:`alert alert-${u.type} alert-dismissible fade show`,children:[u.message,(0,Oe.jsx)("button",{type:"button",className:"btn-close",onClick:()=>h(null)})]}),(0,Oe.jsx)("h1",{className:"mb-4",children:"Medical Image Analysis"}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-lg-6",children:(0,Oe.jsx)("div",{className:"card shadow-sm mb-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:"Upload Medical Image"}),(0,Oe.jsx)("p",{className:"card-text text-muted",children:"Upload a medical image for AI analysis. Supported types: X-rays, skin conditions, CT/MRI scans, pathology slides."}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"analysisType",className:"form-label",children:"Analysis Type"}),(0,Oe.jsxs)("select",{id:"analysisType",className:"form-select",value:f,onChange:e=>m(e.target.value),children:[(0,Oe.jsx)("option",{value:"general",children:"General Medical Image Analysis"}),(0,Oe.jsx)("option",{value:"skin",children:"Skin Condition/Lesion"}),(0,Oe.jsx)("option",{value:"xray",children:"X-Ray"}),(0,Oe.jsx)("option",{value:"scan",children:"CT/MRI Scan"}),(0,Oe.jsx)("option",{value:"pathology",children:"Pathology Slide"})]})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"imageUpload",className:"form-label",children:"Upload Image"}),(0,Oe.jsx)("input",{type:"file",className:"form-control",id:"imageUpload",accept:"image/*",onChange:e=>{const t=e.target.files[0];t&&(t.type.match("image.*")?(n(t),i(URL.createObjectURL(t)),l(null),d(null)):h({type:"danger",message:"Please upload a valid image file (JPEG, PNG, etc.)"}))},ref:p})]}),s&&(0,Oe.jsx)("div",{className:"mb-3 text-center",children:(0,Oe.jsx)("img",{src:s,alt:"Preview",className:"img-fluid mb-2 border rounded",style:{maxHeight:"300px"}})}),(0,Oe.jsxs)("div",{className:"d-grid gap-2",children:[(0,Oe.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(e){r(!0),d(null);try{const t=new FileReader;t.readAsDataURL(e),t.onloadend=async()=>{const e=t.result;try{const t=`\n            You are a medical imaging specialist AI. Analyze this medical image and provide detailed observations.\n            ${(e=>{const t="You are a medical imaging specialist AI. Analyze this medical image and provide detailed observations. ",n={general:t+"Describe what you see, potential abnormalities, and possible conditions it might indicate. Be thorough but cautious about making definitive diagnoses.",skin:t+"This is a skin-related image. Describe the lesion/condition characteristics, possible differential diagnoses, and any concerning features. Mention if further evaluation is recommended.",xray:t+"This is an X-ray image. Describe the visible structures, any abnormalities, potential fractures, lesions, or other findings. Interpret the image as thoroughly as possible.",scan:t+"This is a CT/MRI scan. Describe the visible anatomical structures, any abnormalities, masses, inflammations, or other noteworthy findings. Provide detailed analysis of tissue characteristics.",pathology:t+"This is a pathology slide. Describe the cellular structures, any abnormal cells, patterns, or markers of disease. Analyze tissue architecture and cellular morphology."};return n[e]||n.general})(f)}\n            \n            Please provide your analysis in this format:\n            {\n              "findings": [list of key findings],\n              "interpretation": [detailed analysis],\n              "recommendations": [any recommended follow-ups],\n              "differential_diagnosis": [possible conditions to consider]\n            }\n          `,n=await Af(t,{imageUrl:e,analysisType:f,isImageAnalysis:!0});l({analysis:n.interpretation||n,findings:n.findings||[],recommendations:n.recommendations||[],date:(new Date).toISOString(),disclaimer:g(f),imageType:f}),v(n.interpretation||n)}catch(n){console.error("API error:",n),d("Error analyzing image. Please try again or use a different image.")}r(!1)},t.onerror=()=>{d("Error reading image file. Please try again with a different image."),r(!1)}}catch(zf){console.error("Error processing image:",zf),d("Error processing image. Please try again."),r(!1)}}},disabled:!e||a,children:a?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Hn,{size:"sm"})," Analyzing..."]}):"Analyze Image"}),(0,Oe.jsx)("button",{className:"btn btn-outline-secondary",onClick:()=>{n(null),i(null),l(null),d(null),p.current&&(p.current.value="")},disabled:a,children:"Reset"})]})]})})}),(0,Oe.jsx)("div",{className:"col-lg-6",children:a?(0,Oe.jsx)("div",{className:"card shadow-sm mb-4",children:(0,Oe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Oe.jsx)(Hn,{}),(0,Oe.jsx)("p",{className:"mt-3",children:"Analyzing your medical image..."}),(0,Oe.jsx)("p",{className:"text-muted small",children:"This may take a moment"})]})}):o?(0,Oe.jsxs)("div",{className:"card shadow-sm mb-4",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsx)("h5",{className:"card-title mb-0",children:"Analysis Results"})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("div",{className:"analysis-content",children:o.analysis.split("\n").map(((e,t)=>e?(0,Oe.jsx)("p",{children:e},t):(0,Oe.jsx)("br",{},t)))}),(0,Oe.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,Oe.jsx)("strong",{children:"Important Disclaimer:"})," ",o.disclaimer]})]}),(0,Oe.jsx)("div",{className:"card-footer text-muted",children:(0,Oe.jsxs)("small",{children:["Analysis generated on ",new Date(o.date).toLocaleString()]})})]}):c?(0,Oe.jsx)("div",{className:"alert alert-danger",children:c}):(0,Oe.jsx)("div",{className:"card shadow-sm mb-4",children:(0,Oe.jsxs)("div",{className:"card-body p-5 text-center",children:[(0,Oe.jsx)("div",{className:"text-muted mb-3",children:(0,Oe.jsx)("i",{className:"fas fa-microscope fa-3x"})}),(0,Oe.jsx)("h5",{children:"Upload an image to see analysis results"}),(0,Oe.jsx)("p",{className:"text-muted",children:"The AI will analyze your medical image and provide insights."})]})})})]}),(0,Oe.jsx)("div",{className:"mt-4",children:(0,Oe.jsx)("div",{className:"card shadow-sm",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{children:"About Medical Image Analysis"}),(0,Oe.jsx)("p",{children:"This feature uses AI to analyze various types of medical images. Please note that this is not a substitute for professional medical diagnosis. Always consult with a healthcare provider for proper evaluation."}),(0,Oe.jsxs)("div",{className:"row g-4 mt-2",children:[(0,Oe.jsxs)("div",{className:"col-md-6",children:[(0,Oe.jsx)("h6",{children:"Common Uses"}),(0,Oe.jsxs)("ul",{children:[(0,Oe.jsx)("li",{children:"Preliminary analysis of skin conditions"}),(0,Oe.jsx)("li",{children:"Identifying potential areas of concern in X-rays"}),(0,Oe.jsx)("li",{children:"Understanding CT/MRI scan information"}),(0,Oe.jsx)("li",{children:"Analyzing pathology slides"})]})]}),(0,Oe.jsxs)("div",{className:"col-md-6",children:[(0,Oe.jsx)("h6",{children:"Limitations"}),(0,Oe.jsxs)("ul",{children:[(0,Oe.jsx)("li",{children:"Not a replacement for professional diagnosis"}),(0,Oe.jsx)("li",{children:"Quality of analysis depends on image quality"}),(0,Oe.jsx)("li",{children:"May not detect all conditions or abnormalities"}),(0,Oe.jsx)("li",{children:"Should be used for educational purposes only"})]})]})]})]})})})]})},Mf=()=>{var e;const[n,s]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),[r,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)([]),[h,f]=(0,t.useState)("general"),[m,p]=(0,t.useState)(""),[g,v]=(0,t.useState)(null),y=ee(),b=[{id:"general",label:"General Health"},{id:"nutrition",label:"Nutrition & Diet"},{id:"fitness",label:"Fitness & Exercise"},{id:"sleep",label:"Sleep Improvement"},{id:"stress",label:"Stress Management"},{id:"chronic",label:"Chronic Condition Management"}];(0,t.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await St.auth.getUser();if(!e)return void y("/login");a(e.id),x(e.id),_(e.id)}catch(g){console.error("Error checking authentication",g)}})()}),[y]);const x=async e=>{try{var t,n;const{data:s,error:i}=await St.from("profiles").select("\n          first_name, \n          last_name, \n          date_of_birth, \n          gender, \n          height, \n          weight,\n          user_conditions (\n            condition_name\n          ),\n          user_medications (\n            medication_name,\n            dosage\n          ),\n          health_metrics (*)\n        ").eq("id",e).single();if(i)throw i;let a=null;if(s.height&&s.weight){const e=s.height/100;a=(s.weight/(e*e)).toFixed(1)}o({...s,bmi:a,conditions:(null===(t=s.user_conditions)||void 0===t?void 0:t.map((e=>e.condition_name)))||[],medications:(null===(n=s.user_medications)||void 0===n?void 0:n.map((e=>e.medication_name)))||[]})}catch(g){console.error("Error fetching profile",g)}},_=async e=>{try{const{data:t,error:n}=await St.from("health_recommendations").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;u(t||[])}catch(g){console.error("Error fetching recommendation history",g)}},w=async e=>{try{const{error:t}=await St.from("health_recommendations").insert([{user_id:i,focus_area:e.focus_area,recommendations:JSON.stringify(e),created_at:e.created_at}]);if(t)throw t}catch(g){console.error("Error saving recommendations:",g)}},j=e=>{if(!e)return"Unknown";const t=new Date,n=new Date(e);let s=t.getFullYear()-n.getFullYear();const i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&s--,s};return(0,Oe.jsxs)("div",{className:"container py-4",children:[(0,Oe.jsx)("h1",{className:"mb-4",children:"AI Health Recommendations"}),g&&(0,Oe.jsx)("div",{className:"alert alert-danger",role:"alert",children:g}),(0,Oe.jsxs)("div",{className:"row",children:[(0,Oe.jsx)("div",{className:"col-lg-4 mb-4",children:(0,Oe.jsx)("div",{className:"card shadow-sm",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{className:"card-title",children:"Generate Recommendations"}),r?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"focusArea",className:"form-label",children:"Focus Area"}),(0,Oe.jsx)("select",{id:"focusArea",className:"form-select",value:h,onChange:e=>f(e.target.value),disabled:n,children:b.map((e=>(0,Oe.jsx)("option",{value:e.id,children:e.label},e.id)))})]}),(0,Oe.jsxs)("div",{className:"mb-3",children:[(0,Oe.jsx)("label",{htmlFor:"additionalContext",className:"form-label",children:"Additional Context (Optional)"}),(0,Oe.jsx)("textarea",{id:"additionalContext",className:"form-control",rows:"3",placeholder:"Add any specific concerns or goals...",value:m,onChange:e=>p(e.target.value),disabled:n})]}),(0,Oe.jsx)("button",{className:"btn btn-primary w-100",onClick:async()=>{if(s(!0),v(null),!r)return v("Please complete your health profile first."),void s(!1);try{const e=`\n        You are a health and wellness advisor. Based on the following user profile, provide personalized health recommendations.\n        \n        User Profile:\n        - Age: ${j(r.date_of_birth)}\n        - Gender: ${r.gender||"Not specified"}\n        - Height: ${r.height?`${r.height} cm`:"Not provided"}\n        - Weight: ${r.weight?`${r.weight} kg`:"Not provided"}\n        - BMI: ${r.bmi||"Not calculated"}\n        ${r.conditions.length>0?`- Medical Conditions: ${r.conditions.join(", ")}`:"- No medical conditions specified"}\n        ${r.medications.length>0?`- Medications: ${r.medications.join(", ")}`:"- No medications specified"}\n        \n        Focus area: ${h}\n        \n        ${m?`Additional context: ${m}`:""}\n        \n        Please provide detailed health recommendations specific to the focus area. Include:\n        1. A summary of key recommendations\n        2. Detailed explanations and guidance\n        3. Specific actionable steps\n        4. Any relevant warnings or precautions\n        \n        Format your response as a JSON object with these keys:\n        - summary: A brief summary of recommendations (1-2 sentences)\n        - recommendations: Array of specific recommendation objects, each with:\n          - title: Short title for the recommendation\n          - description: Detailed explanation\n          - action_steps: Array of specific action steps\n        - warnings: Any important precautions or warnings\n      `,t=await Af(e),n={focus_area:h,summary:t.summary||"",recommendations:t.recommendations||[],warnings:t.warnings||[],created_at:(new Date).toISOString()};c(n),await w(n),_(i)}catch(g){console.error("Error generating recommendations:",g),v("Failed to generate recommendations. Please try again later.")}finally{s(!1)}},disabled:n,children:n?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(Hn,{size:"sm"})," Generating..."]}):"Generate Recommendations"})]}):(0,Oe.jsxs)("div",{className:"alert alert-warning",children:["Please complete your health profile to receive personalized recommendations.",(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("button",{className:"btn btn-primary",onClick:()=>y("/profile"),children:"Complete Profile"})})]}),d.length>0&&(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("h6",{children:"Previous Recommendations"}),(0,Oe.jsx)("div",{className:"list-group",style:{maxHeight:"250px",overflowY:"auto"},children:d.map((e=>{var t;return(0,Oe.jsxs)("button",{className:"list-group-item list-group-item-action d-flex justify-content-between align-items-center",onClick:()=>(async e=>{try{const t=d.find((t=>t.id===e));t&&c(JSON.parse(t.recommendations))}catch(g){console.error("Error viewing historical recommendation:",g)}})(e.id),children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("div",{children:(null===(t=b.find((t=>t.id===e.focus_area)))||void 0===t?void 0:t.label)||e.focus_area}),(0,Oe.jsx)("small",{className:"text-muted",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Oe.jsx)("span",{className:"badge bg-primary rounded-pill",children:"View"})]},e.id)}))})]})]})})}),(0,Oe.jsxs)("div",{className:"col-lg-8",children:[n?(0,Oe.jsx)("div",{className:"card shadow-sm",children:(0,Oe.jsxs)("div",{className:"card-body text-center py-5",children:[(0,Oe.jsx)(Hn,{}),(0,Oe.jsx)("p",{className:"mt-3",children:"Generating personalized health recommendations..."}),(0,Oe.jsx)("p",{className:"text-muted small",children:"This may take a moment as our AI analyzes your health profile"})]})}):l?(0,Oe.jsxs)("div",{className:"card shadow-sm",children:[(0,Oe.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Oe.jsxs)("h5",{className:"mb-0",children:[(null===(e=b.find((e=>e.id===l.focus_area)))||void 0===e?void 0:e.label)||l.focus_area," Recommendations"]})}),(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("p",{className:"lead",children:l.summary}),(0,Oe.jsx)("div",{className:"recommendations-list mt-4",children:l.recommendations.map(((e,t)=>{var n;return(0,Oe.jsxs)("div",{className:"recommendation-item mb-4",children:[(0,Oe.jsx)("h5",{children:e.title}),(0,Oe.jsx)("p",{children:e.description}),(null===(n=e.action_steps)||void 0===n?void 0:n.length)>0&&(0,Oe.jsxs)("div",{className:"action-steps",children:[(0,Oe.jsx)("h6",{children:"Action Steps:"}),(0,Oe.jsx)("ul",{children:e.action_steps.map(((e,t)=>(0,Oe.jsx)("li",{children:e},t)))})]})]},t)}))}),l.warnings&&(0,Oe.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,Oe.jsx)("h6",{children:"Important Notes:"}),(0,Oe.jsx)("p",{children:l.warnings})]}),(0,Oe.jsx)("div",{className:"disclaimer mt-4",children:(0,Oe.jsxs)("small",{className:"text-muted",children:[(0,Oe.jsx)("strong",{children:"Disclaimer:"})," These recommendations are generated by AI based on your profile information. They are not a substitute for professional medical advice. Always consult with healthcare providers before making significant changes to your health regimen."]})})]}),(0,Oe.jsx)("div",{className:"card-footer text-muted",children:(0,Oe.jsxs)("small",{children:["Generated on ",new Date(l.created_at).toLocaleString()]})})]}):(0,Oe.jsx)("div",{className:"card shadow-sm",children:(0,Oe.jsxs)("div",{className:"card-body p-5 text-center",children:[(0,Oe.jsx)("div",{className:"text-muted mb-3",children:(0,Oe.jsx)("i",{className:"fas fa-lightbulb fa-3x"})}),(0,Oe.jsx)("h5",{children:"Select a focus area and generate recommendations"}),(0,Oe.jsx)("p",{className:"text-muted",children:"Our AI will analyze your health profile and provide personalized recommendations based on your specific needs and goals."})]})}),(0,Oe.jsx)("div",{className:"card shadow-sm mt-4",children:(0,Oe.jsxs)("div",{className:"card-body",children:[(0,Oe.jsx)("h5",{children:"How We Create Your Recommendations"}),(0,Oe.jsx)("p",{children:"Our AI-powered recommendation system uses multiple data points from your health profile to generate personalized health guidance:"}),(0,Oe.jsxs)("div",{className:"row g-4",children:[(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"d-flex mb-2",children:[(0,Oe.jsx)("div",{className:"me-3 text-primary",children:(0,Oe.jsx)("i",{className:"fas fa-user-circle fa-lg"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h6",{children:"Your Profile"}),(0,Oe.jsx)("p",{className:"text-muted small mb-0",children:"Age, gender, height, weight, and BMI are used to tailor recommendations to your body type and demographics."})]})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"d-flex mb-2",children:[(0,Oe.jsx)("div",{className:"me-3 text-primary",children:(0,Oe.jsx)("i",{className:"fas fa-notes-medical fa-lg"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h6",{children:"Medical Conditions"}),(0,Oe.jsx)("p",{className:"text-muted small mb-0",children:"Any conditions listed in your profile are considered to ensure recommendations are appropriate and safe."})]})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"d-flex mb-2",children:[(0,Oe.jsx)("div",{className:"me-3 text-primary",children:(0,Oe.jsx)("i",{className:"fas fa-chart-line fa-lg"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h6",{children:"Health Parameters"}),(0,Oe.jsx)("p",{className:"text-muted small mb-0",children:"Your recorded health metrics like blood pressure, cholesterol, and glucose levels inform specific health guidance."})]})]})}),(0,Oe.jsx)("div",{className:"col-md-6",children:(0,Oe.jsxs)("div",{className:"d-flex",children:[(0,Oe.jsx)("div",{className:"me-3 text-primary",children:(0,Oe.jsx)("i",{className:"fas fa-brain fa-lg"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h6",{children:"AI Analysis"}),(0,Oe.jsx)("p",{className:"text-muted small mb-0",children:"Advanced AI models analyze your complete health profile to generate evidence-based recommendations specific to your selected focus area."})]})]})})]}),(0,Oe.jsx)("div",{className:"alert alert-info mt-3 mb-0",children:(0,Oe.jsxs)("small",{children:[(0,Oe.jsx)("strong",{children:"Privacy Note:"})," Your health data is processed securely. We use anonymized data when communicating with AI services to ensure your privacy is protected."]})})]})})]})]})]})};const Rf=function(){return(0,Oe.jsx)(Ne,{basename:"/DiGiHealthAdv",children:(0,Oe.jsxs)(Ie,{children:[(0,Oe.jsx)(_t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),(0,Oe.jsxs)(ye,{children:[(0,Oe.jsx)(ge,{path:"/",element:(0,Oe.jsx)(Et,{})}),(0,Oe.jsx)(ge,{path:"/register",element:(0,Oe.jsx)(Un,{})}),(0,Oe.jsx)(ge,{path:"/dashboard",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Oc,{})})}),(0,Oe.jsx)(ge,{path:"/health-overview",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Gh,{})})}),(0,Oe.jsx)(ge,{path:"/medical-history",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Kh,{})})}),(0,Oe.jsx)(ge,{path:"/chronic-disease-management",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Jh,{})})}),(0,Oe.jsx)(ge,{path:"/vaccination-history",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Xh,{})})}),(0,Oe.jsx)(ge,{path:"/medication-tracker",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Qh,{})})}),(0,Oe.jsx)(ge,{path:"/health-analytics",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(hf,{})})}),(0,Oe.jsx)(ge,{path:"/appointments/upcoming",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(ff,{})})}),(0,Oe.jsx)(ge,{path:"/appointments/history",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(mf,{})})}),(0,Oe.jsx)(ge,{path:"/appointments/telehealth",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(pf,{})})}),(0,Oe.jsx)(ge,{path:"/appointments/reminders",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(gf,{})})}),(0,Oe.jsx)(ge,{path:"/help-center",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(vf,{})})}),(0,Oe.jsx)(ge,{path:"/support/contact",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(yf,{})})}),(0,Oe.jsx)(ge,{path:"/support/chat",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(bf,{})})}),(0,Oe.jsx)(ge,{path:"/profile",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(xf,{})})}),(0,Oe.jsx)(ge,{path:"/settings/security",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(_f,{})})}),(0,Oe.jsx)(ge,{path:"/settings/backup",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(wf,{})})}),(0,Oe.jsx)(ge,{path:"/admin/database-setup",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(kf,{})})}),(0,Oe.jsx)(ge,{path:"/health-metrics",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Sf,{})})}),(0,Oe.jsx)(ge,{path:"/image-analysis",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Ef,{})})}),(0,Oe.jsx)(ge,{path:"/health-assistant",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Cf,{})})}),(0,Oe.jsx)(ge,{path:"/ai-insights",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Tf,{})})}),(0,Oe.jsx)(ge,{path:"/health-metrics/upload",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Sf,{mode:"upload"})})}),(0,Oe.jsx)(ge,{path:"/image-analysis/history",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Ef,{mode:"history"})})}),(0,Oe.jsx)(ge,{path:"/health-assistant/recommendations",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Cf,{mode:"recommendations"})})}),(0,Oe.jsx)(ge,{path:"/ai/health-metrics",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Pf,{})})}),(0,Oe.jsx)(ge,{path:"/ai/image-analysis",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Of,{})})}),(0,Oe.jsx)(ge,{path:"/ai/health-assistant",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Cf,{})})}),(0,Oe.jsx)(ge,{path:"/ai/health-recommendations",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Mf,{})})}),(0,Oe.jsx)(ge,{path:"/ai/symptom-checker",element:(0,Oe.jsx)(kt,{children:(0,Oe.jsx)(Cf,{mode:"symptoms"})})}),(0,Oe.jsx)(ge,{path:"/ai/image-analysis",element:(0,Oe.jsx)(Of,{})}),(0,Oe.jsx)(ge,{path:"/ai/health-assistant",element:(0,Oe.jsx)(Cf,{})}),(0,Oe.jsx)(ge,{path:"/ai/health-recommendations",element:(0,Oe.jsx)(Mf,{})})]})]})})},If=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Lf(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const Df=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:s,getFCP:i,getLCP:a,getTTFB:r}=t;n(e),s(e),i(e),a(e),r(e)}))};i.createRoot(document.getElementById("root")).render((0,Oe.jsx)(t.StrictMode,{children:(0,Oe.jsx)(Rf,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/DiGiHealthAdv",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="/DiGiHealthAdv/service-worker.js";If?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const s=n.headers.get("content-type");404===n.status||null!=s&&-1===s.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):Lf(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Lf(t,e)}))}}(),Df()})()})();
//# sourceMappingURL=main.4f44efcf.js.map