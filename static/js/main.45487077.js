/*! For license information please see main.45487077.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},s=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,i)&&!j.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:s,ref:o,props:a,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===a?"."+C(l,0):a,w(s)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),O(s,t,i,"",(function(e){return e}))):null!=s&&(N(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+C(o=e[c],c);l+=O(o,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=O(o=o.value,t,i,u=a+C(o,c++),s);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function T(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},M={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=s,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=k.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!j.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:s,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},210:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(829)),a=r(n(736)),s=n(745);class o{constructor(e){let{headers:t={},schema:n,fetch:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=r}from(e){const t=new URL(`${this.url}/${e}`);return new i.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new o(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:r=!1,get:i=!1,count:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new URL(`${this.url}/rpc/${e}`);let l;r||i?(t=r?"HEAD":"GET",Object.entries(n).filter((e=>{let[t,n]=e;return void 0!==n})).map((e=>{let[t,n]=e;return[t,Array.isArray(n)?`{${n.join(",")}}`:`${n}`]})).forEach((e=>{let[t,n]=e;o.searchParams.append(t,n)}))):(t="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new a.default({method:t,url:o,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=o},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,R(_);else{var t=r(u);null!==t&&M(w,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,y(N),N=-1),f=!0;var a=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!O());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&M(w,d.startTime-n),l=!1}return l}finally{h=null,p=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,j=!1,S=null,N=-1,E=5,C=-1;function O(){return!(t.unstable_now()-C<E)}function T(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?k():(j=!1,S=null)}}else j=!1}if("function"===typeof b)k=function(){b(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=T,k=function(){P.postMessage(null)}}else k=function(){v(T,0)};function R(e){S=e,j||(j=!0,k())}function M(e,n){N=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(y(N),N=-1):g=!0,M(w,a-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,R(_))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},286:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(630)),a=r(n(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,n,r;let i=null,s=null,o=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(s="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const r=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),a=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");r&&a&&a.length>1&&(o=parseInt(a[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(s)&&(s.length>1?(i={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,o=null,l=406,c="Not Acceptable"):s=1===s.length?s[0]:null)}else{const t=await e.text();try{i=JSON.parse(t),Array.isArray(i)&&404===e.status&&(s=[],i=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):i={message:t}}if(i&&this.isMaybeSingle&&(null===(r=null===i||void 0===i?void 0:i.details)||void 0===r?void 0:r.includes("0 rows"))&&(i=null,l=200,c="OK"),i&&this.shouldThrowOnError)throw new a.default(i)}return{error:i,data:s,count:o,status:l,statusText:c}}));return this.shouldThrowOnError||(n=n.catch((e=>{var t,n,r;return{error:{message:`${null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError"}: ${null===e||void 0===e?void 0:e.message}`,details:`${null!==(n=null===e||void 0===e?void 0:e.stack)&&void 0!==n?n:""}`,hint:"",code:`${null!==(r=null===e||void 0===e?void 0:e.code)&&void 0!==r?r:""}`},data:null,count:null,status:0,statusText:""}}))),n.then(e,t)}returns(){return this}overrideTypes(){return this}}},374:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(286));class a extends i.default{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${e}.${t?"asc":"desc"}${void 0===n?"":n?".nullsfirst":".nullslast"}`),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i="undefined"===typeof r?"offset":`${r}.offset`,a="undefined"===typeof r?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,""+(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var s;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=null!==(s=this.headers.Accept)&&void 0!==s?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`,this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=a},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},400:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,s){if(s!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(153)},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=n},630:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Headers:()=>s,Request:()=>o,Response:()=>l,default:()=>a,fetch:()=>i});var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("unable to locate global object")}();const i=r.fetch,a=r.fetch.bind(r),s=r.Headers,o=r.Request,l=r.Response},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||i[s]!==a[o]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function $(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case _:return"Portal";case S:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ae(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,ke=null,je=null;function Se(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ne(e){ke?je?je.push(e):je=[e]:ke=e}function Ee(){if(ke){var e=ke,t=je;if(je=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Te=!1;function Ae(e,t,n){if(Te)return e(t,n);Te=!0;try{return Ce(e,t,n)}finally{Te=!1,(null!==ke||null!==je)&&(Oe(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Re=!1}function Ie(e,t,n,r,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){De=!0,Le=e}};function $e(e,t,n,r,i,a,s,o,l){De=!1,Le=null,Ie.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Je=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=268435455&n;if(0!==s){var o=s&~i;0!==o?r=dt(o):0!==(a&=s)&&(r=dt(a))}else 0!==(s=n&~i)?r=dt(s):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,kt,jt,St,Nt=!1,Et=[],Ct=null,Ot=null,Tt=null,At=new Map,Pt=new Map,Rt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function It(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==Tt&&Ft(Tt)&&(Tt=null),At.forEach(zt),Pt.forEach(zt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return $t(t,e)}if(0<Et.length){$t(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&$t(Ct,e),null!==Ot&&$t(Ot,e),null!==Tt&&$t(Tt,e),At.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Ht=x.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Wt(e,t,n,r){var i=bt,a=Ht.transition;Ht.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=i,Ht.transition=a}}function Zt(e,t,n,r){if(Vt){var i=Yt(e,t,n,r);if(null===i)Vr(e,t,r,Kt,n),It(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,r,i),!0;case"mouseover":return Tt=Dt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Dt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Dt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(It(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&Vr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=an(pn),mn=an(L({},pn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),vn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return jn}var Nn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Nn),Cn=an(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Tn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),Rn=[9,13,27,32],Mn=u&&"CompositionEvent"in window,In=null;u&&"documentMode"in document&&(In=document.documentMode);var Dn=u&&"TextEvent"in window&&!In,Ln=u&&(!Mn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function qn(e,t,n,r){Ne(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Zn=null;function Kn(e){Fr(e,0)}function Yn(e){if(Z(xi(e)))return e}function Gn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Qn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Qn=Xn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Zn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Zn)){var t=[];qn(t,Zn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Zn)}function ar(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var s=ur(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},kr={},jr={};function Sr(e){if(kr[e])return kr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return kr[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Nr=Sr("animationend"),Er=Sr("animationiteration"),Cr=Sr("animationstart"),Or=Sr("transitionend"),Tr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Tr.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Mr=Ar[Rr];Pr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Pr(Nr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,o,l,c){if($e.apply(this,arguments),De){if(!De)throw Error(a(198));var u=Le;De=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,c),a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,o,c),a=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var $r="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[$r]){e[$r]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$r]||(t[$r]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Gt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==o;){if(null===(s=yi(o)))return;if(5===(l=s.tag)||6===l){r=a=s;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),s=[];e:{var o=Tr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=On;break;case Nr:case Er:case Cr:l=vn;break;case Or:l=Tn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(qr(f,m,p)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),s.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:xi(l),p=null==c?o:xi(c),(o=new u(m,f+"leave",l,n,i)).target=d,o.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Zr(p))f++;for(p=0,m=h;m;m=Zr(m))p++;for(;0<f-p;)u=Zr(u),f--;for(;0<p-f;)h=Zr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zr(u),h=Zr(h)}u=null}else u=null;null!==l&&Kr(s,o,l,u,!1),null!==c&&null!==d&&Kr(s,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Gn;else if(Vn(o))if(Jn)g=sr;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=ar);switch(g&&(g=g(e,r))?qn(s,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(s,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(s,n,i)}var y;if(Mn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Qt="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(v=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=$n(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Mn&&Bn(e,t)?(e=en(),Xt=Qt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=y))}Fr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,a))&&s.unshift(qr(n,l,o)):i||null!=(l=Pe(n,a))&&s.push(qr(n,l,o))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Gr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Gr,"")}function Qr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var _i=[],ki=-1;function ji(e){return{current:e}}function Si(e){0>ki||(e.current=_i[ki],_i[ki]=null,ki--)}function Ni(e,t){ki++,_i[ki]=e.current,e.current=t}var Ei={},Ci=ji(Ei),Oi=ji(!1),Ti=Ei;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Oi),Si(Ci)}function Mi(e,t,n){if(Ci.current!==Ei)throw Error(a(168));Ni(Ci,t),Ni(Oi,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,H(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ti=Ci.current,Ni(Ci,e),Ni(Oi,Oi.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ii(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,Si(Oi),Si(Ci),Ni(Ci,e)):Si(Oi),Ni(Oi,n)}var Fi=null,zi=!1,Bi=!1;function $i(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ze(Xe,Ui),i}finally{bt=t,Bi=!1}}return null}var Hi=[],Vi=0,qi=null,Wi=0,Zi=[],Ki=0,Yi=null,Gi=1,Ji="";function Qi(e,t){Hi[Vi++]=Wi,Hi[Vi++]=qi,qi=e,Wi=t}function Xi(e,t,n){Zi[Ki++]=Gi,Zi[Ki++]=Ji,Zi[Ki++]=Yi,Yi=e;var r=Gi;e=Ji;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Gi=1<<32-st(t)+i|n<<i|r,Ji=a+e}else Gi=1<<a|n<<i|r,Ji=e}function ea(e){null!==e.return&&(Qi(e,1),Xi(e,1,0))}function ta(e){for(;e===qi;)qi=Hi[--Vi],Hi[Vi]=null,Wi=Hi[--Vi],Hi[Vi]=null;for(;e===Yi;)Yi=Zi[--Ki],Zi[Ki]=null,Ji=Zi[--Ki],Zi[Ki]=null,Gi=Zi[--Ki],Zi[Ki]=null}var na=null,ra=null,ia=!1,aa=null;function sa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Gi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&oa(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function pa(){ra=na=null,ia=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function va(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ya(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&ya(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case _:return(t=Fc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||I(t))return(t=Ic(t,e.mode,n,null)).return=e,t;va(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||I(n))return null!==i?null:d(e,t,n,r,null);va(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||I(r))return d(t,e=e.get(n)||null,r,i,null);va(t,r)}return null}function m(i,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=s(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),ia&&Qi(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(a=s(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Qi(i,m),c}for(d=r(i,d);m<o.length;m++)null!==(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Qi(i,m),c}function g(i,o,l,c){var u=I(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),ia&&Qi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return ia&&Qi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=s(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),ia&&Qi(i,g),u}return function e(r,a,s,l){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,u=a;null!==u;){if(u.key===c){if((c=s.type)===k){if(7===u.tag){n(r,u.sibling),(a=i(u,s.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ya(c)===u.type){n(r,u.sibling),(a=i(u,s.props)).ref=ga(r,u,s),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((a=Ic(s.props.children,r.mode,l,s.key)).return=r,r=a):((l=Mc(s.type,s.key,s.props,null,r.mode,l)).ref=ga(r,a,s),l.return=r,r=l)}return o(r);case _:e:{for(u=s.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===s.containerInfo&&a.stateNode.implementation===s.implementation){n(r,a.sibling),(a=i(a,s.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(s,r.mode,l)).return=r,r=a}return o(r);case P:return e(r,a,(u=s._init)(s._payload),l)}if(te(s))return m(r,a,s,l);if(I(s))return g(r,a,s,l);va(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,s)).return=r,r=a):(n(r,a),(a=Lc(s,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),_a=ji(null),ka=null,ja=null,Sa=null;function Na(){Sa=ja=ka=null}function Ea(e){var t=_a.current;Si(_a),e._currentValue=t}function Ca(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Oa(e,t){ka=e,Sa=ja=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ta(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ja){if(null===ka)throw Error(a(308));ja=e,ka.dependencies={lanes:0,firstContext:e}}else ja=ja.next=e;return t}var Aa=null;function Pa(e){null===Aa?Aa=[e]:Aa.push(e)}function Ra(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Pa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ma(e,r)}function Ma(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ia=!1;function Da(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function za(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ma(e,n)}return null===(i=r.interleaved)?(t.next=t,Pa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ma(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function $a(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Ia=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Ia=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=d}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Va={},qa=ji(Va),Wa=ji(Va),Za=ji(Va);function Ka(e){if(e===Va)throw Error(a(174));return e}function Ya(e,t){switch(Ni(Za,t),Ni(Wa,e),Ni(qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(qa),Ni(qa,t)}function Ga(){Si(qa),Si(Wa),Si(Za)}function Ja(e){Ka(Za.current);var t=Ka(qa.current),n=le(t,e.type);t!==n&&(Ni(Wa,e),Ni(qa,n))}function Qa(e){Wa.current===e&&(Si(qa),Si(Wa))}var Xa=ji(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var rs=x.ReactCurrentDispatcher,is=x.ReactCurrentBatchConfig,as=0,ss=null,os=null,ls=null,cs=!1,us=!1,ds=0,hs=0;function ps(){throw Error(a(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ms(e,t,n,r,i,s){if(as=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rs.current=null===e||null===e.memoizedState?Qs:Xs,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(a(301));s+=1,ls=os=null,t.updateQueue=null,rs.current=eo,e=n(r,i)}while(us)}if(rs.current=Js,t=null!==os&&null!==os.next,as=0,ls=os=ss=null,cs=!1,t)throw Error(a(300));return e}function gs(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?ss.memoizedState=ls=e:ls=ls.next=e,ls}function ys(){if(null===os){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=os.next;var t=null===ls?ss.memoizedState:ls.next;if(null!==t)ls=t,os=e;else{if(null===e)throw Error(a(310));e={memoizedState:(os=e).memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},null===ls?ss.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function xs(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((as&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ss.lanes|=d,Dl|=d}u=u.next}while(null!==u&&u!==s);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,ss.lanes|=s,Dl|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=ys(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);or(s,t.memoizedState)||(bo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function _s(){}function ks(e,t){var n=ss,r=ys(),i=t(),s=!or(r.memoizedState,i);if(s&&(r.memoizedState=i,bo=!0),r=r.queue,Is(Ns.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ts(9,Ss.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(a(349));0!==(30&as)||js(n,t,i)}return i}function js(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Cs(e)}function Ns(e,t,n){return n((function(){Es(t)&&Cs(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Cs(e){var t=Ma(e,1);null!==t&&nc(t,e,1,-1)}function Os(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,ss,e),[t.memoizedState,e]}function Ts(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function As(){return ys().memoizedState}function Ps(e,t,n,r){var i=vs();ss.flags|=e,i.memoizedState=Ts(1|t,n,void 0,void 0===r?null:r)}function Rs(e,t,n,r){var i=ys();r=void 0===r?null:r;var a=void 0;if(null!==os){var s=os.memoizedState;if(a=s.destroy,null!==r&&fs(r,s.deps))return void(i.memoizedState=Ts(t,n,a,r))}ss.flags|=e,i.memoizedState=Ts(1|t,n,a,r)}function Ms(e,t){return Ps(8390656,8,e,t)}function Is(e,t){return Rs(2048,8,e,t)}function Ds(e,t){return Rs(4,2,e,t)}function Ls(e,t){return Rs(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4,4,Fs.bind(null,t,e),n)}function Bs(){}function $s(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Us(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fs(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&as)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ss.lanes|=n,Dl|=n,e.baseState=!0),t)}function Vs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function qs(){return ys().memoizedState}function Ws(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ks(e))Ys(t,n);else if(null!==(n=Ra(e,t,n,r))){nc(n,e,r,ec()),Gs(n,t,r)}}function Zs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))Ys(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,s)){var l=t.interleaved;return null===l?(i.next=i,Pa(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ra(e,t,i,r))&&(nc(n,e,r,i=ec()),Gs(n,t,r))}}function Ks(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ys(e,t){us=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Js={readContext:Ta,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Qs={readContext:Ta,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ta,useEffect:Ms,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ws.bind(null,ss,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Os,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Os(!1),t=e[0];return e=Vs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ss,i=vs();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ol)throw Error(a(349));0!==(30&as)||js(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ms(Ns.bind(null,r,s,e),[e]),r.flags|=2048,Ts(9,Ss.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Ol.identifierPrefix;if(ia){var n=Ji;t=":"+t+"R"+(n=(Gi&~(1<<32-st(Gi)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:Is,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Ls,useMemo:Us,useReducer:xs,useRef:As,useState:function(){return xs(bs)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(ys(),os.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1},eo={readContext:Ta,useCallback:$s,useContext:Ta,useEffect:Is,useImperativeHandle:zs,useInsertionEffect:Ds,useLayoutEffect:Ls,useMemo:Us,useReducer:ws,useRef:As,useState:function(){return ws(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ys();return null===os?t.memoizedState=e:Hs(t,os.memoizedState,e)},useTransition:function(){return[ws(bs)[0],ys().memoizedState]},useMutableSource:_s,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=za(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=za(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function io(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function ao(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Ta(a):(i=Pi(t)?Ti:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function so(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Da(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ta(a):(a=Pi(t)?Ti:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=$(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,ql=r),uo(0,t)},n}function fo(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,za(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var yo=x.ReactCurrentOwner,bo=!1;function xo(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function wo(e,t,n,r,i){n=n.render;var a=t.ref;return Oa(t,i),r=ms(e,t,n,r,a,i),n=gs(),null===e||bo?(ia&&n&&ea(t),t.flags|=1,xo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function _o(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ko(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Vo(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function ko(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Vo(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return No(e,t,n,r,i)}function jo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ni(Rl,Pl),Pl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ni(Rl,Pl),Pl|=r;return xo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,i){var a=Pi(n)?Ti:Ci.current;return a=Ai(t,a),Oa(t,i),n=ms(e,t,n,r,a,i),r=gs(),null===e||bo?(ia&&r&&ea(t),t.flags|=1,xo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vo(e,t,i))}function Eo(e,t,n,r,i){if(Pi(n)){var a=!0;Di(t)}else a=!1;if(Oa(t,i),null===t.stateNode)Ho(e,t),ao(t,n,r),oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ta(c):c=Ai(t,c=Pi(n)?Ti:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==r||l!==c)&&so(t,s,r,c),Ia=!1;var h=t.memoizedState;s.state=h,Ua(t,r,s,i),l=t.memoizedState,o!==r||h!==l||Oi.current||Ia?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ia||io(t,n,o,r,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=o):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,La(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ta(l):l=Ai(t,l=Pi(n)?Ti:Ci.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==d||h!==l)&&so(t,s,r,l),Ia=!1,h=t.memoizedState,s.state=h,Ua(t,r,s,i);var f=t.memoizedState;o!==d||h!==f||Oi.current||Ia?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Ia||io(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,a,i)}function Co(e,t,n,r,i,a){So(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Li(t,n,!1),Vo(e,t,a);r=t.stateNode,yo.current=t;var o=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,o,a)):xo(e,t,o,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Ya(e,t.containerInfo)}function To(e,t,n,r,i){return pa(),fa(i),t.flags|=256,xo(e,t,n,r),t.child}var Ao,Po,Ro,Mo,Io={dehydrated:null,treeContext:null,retryLane:0};function Do(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,s=Xa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ni(Xa,1&s),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Dc(l,i,0,null),e=Ic(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Do(n),t.memoizedState=Io,e):Fo(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(s=Ic(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,o),t.child.memoizedState=Do(o),t.memoizedState=Io,s);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=co(s=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Ol)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Ma(e,i),nc(r,e,i,-1))}return mc(),zo(e,t,o,r=co(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Zi[Ki++]=Gi,Zi[Ki++]=Ji,Zi[Ki++]=Yi,Gi=e.id,Ji=e.overflow,Yi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,s,n);if(o){o=i.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?o=Rc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Do(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fa(r),xa(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ca(e.return,t,n)}function $o(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Uo(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xo(e,t,r.children,n),0!==(2&(r=Xa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(Xa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===es(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,a);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qo(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wo(t),null;case 1:case 17:return Pi(t.type)&&Ri(),Wo(t),null;case 3:return r=t.stateNode,Ga(),Si(Oi),Si(Ci),ns(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(sc(aa),aa=null))),Po(e,t),Wo(t),null;case 5:Qa(t);var i=Ka(Za.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wo(t),null}if(e=Ka(qa.current),da(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hi]=t,r[pi]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)zr(Ir[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":G(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":ie(r,s),zr("invalid",r)}for(var l in ye(n,s),i=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":W(r),X(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ao(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)zr(Ir[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":G(e,r),i=Y(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(s in ye(n,i),c=i)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(o.hasOwnProperty(s)?null!=u&&"onScroll"===s&&zr("scroll",e):null!=u&&b(e,s,u,l))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wo(t),null;case 6:if(e&&null!=t.stateNode)Mo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ka(Za.current),Ka(qa.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(s=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wo(t),null;case 13:if(Si(Xa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),pa(),t.flags|=98560,s=!1;else if(s=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[hi]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wo(t),s=!1}else null!==aa&&(sc(aa),aa=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xa.current)?0===Ml&&(Ml=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wo(t),null);case 4:return Ga(),Po(e,t),null===e&&Ur(t.stateNode.containerInfo),Wo(t),null;case 10:return Ea(t.type._context),Wo(t),null;case 19:if(Si(Xa),null===(s=t.memoizedState))return Wo(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)qo(s,!1);else{if(0!==Ml||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=es(e))){for(t.flags|=128,qo(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(Xa,1&Xa.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Ul&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=es(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qo(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ia)return Wo(t),null}else 2*Je()-s.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,qo(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=Xa.current,Ni(Xa,r?1&n|2:1&n),t):(Wo(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Wo(t),6&t.subtreeFlags&&(t.flags|=8192)):Wo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Ko(e,t){switch(ta(t),t.tag){case 1:return Pi(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ga(),Si(Oi),Si(Ci),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qa(t),null;case 13:if(Si(Xa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Xa),null;case 4:return Ga(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ao=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ka(qa.current);var a,s=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),s=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Mo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Go=!1,Jo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){jc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){jc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Go||Xo(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Go&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,void 0!==s&&(0!==(2&a)||0!==(4&a))&&el(n,t,s),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Go&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){jc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Go=(r=Go)||null!==n.memoizedState,hl(e,t,n),Go=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));pl(s,o,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){jc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){jc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){jc(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){jc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&J(i,s),be(l,o);var u=be(l,s);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Q(i,s);break;case"textarea":ae(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[pi]=s}catch(g){jc(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){jc(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){jc(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Je())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Go=(u=Go)||d,ml(t,e),Go=u):ml(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(h=Qo=d;null!==Qo;){switch(f=(p=Qo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Xo(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){jc(r,n,g)}}break;case 5:Xo(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Qo=f):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){jc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){jc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,ol(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,ol(e),s);break;default:throw Error(a(161))}}catch(o){jc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var i=Qo,a=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Yo;if(!s){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Go;o=Yo;var c=Go;if(Yo=s,(Go=l)&&!c)for(Qo=i;null!==Qo;)l=(s=Qo).child,22===s.tag&&null!==s.memoizedState?_l(i):null!==l?(l.return=s,Qo=l):_l(i);for(;null!==a;)Qo=a,bl(a,t,n),a=a.sibling;Qo=i,Yo=o,Go=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qo=a):xl(e)}}function xl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Go||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Go)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ha(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(a(163))}Go||512&t.flags&&il(t)}catch(p){jc(t,t.return,p)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function _l(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){jc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){jc(t,i,l)}}var a=t.return;try{il(t)}catch(l){jc(t,a,l)}break;case 5:var s=t.return;try{il(t)}catch(l){jc(t,s,l)}}}catch(l){jc(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var kl,jl=Math.ceil,Sl=x.ReactCurrentDispatcher,Nl=x.ReactCurrentOwner,El=x.ReactCurrentBatchConfig,Cl=0,Ol=null,Tl=null,Al=0,Pl=0,Rl=ji(0),Ml=0,Il=null,Dl=0,Ll=0,Fl=0,zl=null,Bl=null,$l=0,Ul=1/0,Hl=null,Vl=!1,ql=null,Wl=null,Zl=!1,Kl=null,Yl=0,Gl=0,Jl=null,Ql=-1,Xl=0;function ec(){return 0!==(6&Cl)?Je():-1!==Ql?Ql:Ql=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Al?Al&-Al:null!==ma.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,r){if(50<Gl)throw Gl=0,Jl=null,Error(a(185));vt(e,n,r),0!==(2&Cl)&&e===Ol||(e===Ol&&(0===(2&Cl)&&(Ll|=n),4===Ml&&oc(e,Al)),rc(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(Ul=Je()+500,zi&&Ui()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-st(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=pt(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Ol?Al:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,$i(e)}(lc.bind(null,e)):$i(lc.bind(null,e)),si((function(){0===(6&Cl)&&Ui()})),n=null;else{switch(xt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Xl=0,0!==(6&Cl))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ol?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Cl;Cl|=2;var s=fc();for(Ol===e&&Al===t||(Hl=null,Ul=Je()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}Na(),Sl.current=s,Cl=i,null!==Tl?t=0:(Ol=null,Al=0,t=Ml)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Il,hc(e,0),oc(e,r),rc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ac(e,s))),1===t))throw n=Il,hc(e,0),oc(e,r),rc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=$l+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,Hl),t);break}wc(e,Bl,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-st(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,Hl),r);break}wc(e,Bl,Hl);break;default:throw Error(a(329))}}}return rc(e,Je()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&sc(t)),e}function sc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function oc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Cl))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Je()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,hc(e,0),oc(e,t),rc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,Hl),rc(e,Je()),null}function cc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(Ul=Je()+500,zi&&Ui())}}function uc(e){null!==Kl&&0===Kl.tag&&0===(6&Cl)&&_c();var t=Cl;Cl|=1;var n=El.transition,r=bt;try{if(El.transition=null,bt=1,e)return e()}finally{bt=r,El.transition=n,0===(6&(Cl=t))&&Ui()}}function dc(){Pl=Rl.current,Si(Rl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Tl)for(n=Tl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Ga(),Si(Oi),Si(Ci),ns();break;case 5:Qa(r);break;case 4:Ga();break;case 13:case 19:Si(Xa);break;case 10:Ea(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ol=e,Tl=e=Rc(e.current,null),Al=Pl=t,Ml=0,Il=null,Fl=Ll=Dl=0,Bl=zl=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var s=a.next;a.next=i,r.next=s}n.pending=r}Aa=null}return e}function pc(e,t){for(;;){var n=Tl;try{if(Na(),rs.current=Js,cs){for(var r=ss.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}cs=!1}if(as=0,ls=os=ss=null,us=!1,ds=0,Nl.current=null,null===n||null===n.return){Ml=1,Il=t,Tl=null;break}e:{var s=e,o=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=go(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&mo(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(s,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),fa(lo(c,l));break e}}s=c=lo(c,l),4!==Ml&&(Ml=2),null===zl?zl=[s]:zl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$a(s,po(0,c,t));break e;case 1:l=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,$a(s,fo(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(x){t=x,Tl===n&&null!==n&&(Tl=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Js,null===e?Js:e}function mc(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Ol||0===(268435455&Dl)&&0===(268435455&Ll)||oc(Ol,Al)}function gc(e,t){var n=Cl;Cl|=2;var r=fc();for(Ol===e&&Al===t||(Hl=null,hc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Na(),Cl=n,Sl.current=r,null!==Tl)throw Error(a(261));return Ol=null,Al=0,Ml}function vc(){for(;null!==Tl;)bc(Tl)}function yc(){for(;null!==Tl&&!Ye();)bc(Tl)}function bc(e){var t=kl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xc(e):Tl=t,Nl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Zo(n,t,Pl)))return void(Tl=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Tl=n);if(null===e)return Ml=6,void(Tl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tl=t);Tl=t=e}while(null!==t);0===Ml&&(Ml=5)}function wc(e,t,n){var r=bt,i=El.transition;try{El.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&Cl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,s),e===Ol&&(Tl=Ol=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zl||(Zl=!0,Oc(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var o=bt;bt=1;var l=Cl;Cl|=4,Nl.current=null,function(e,t){if(ei=Vt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==s||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===s&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){jc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Vt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ge(),Cl=l,bt=o,El.transition=s}else e.current=n;if(Zl&&(Zl=!1,Kl=e,Yl=i),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Jl?Gl++:(Gl=0,Jl=e):Gl=0,Ui()}(e,t,n,r)}finally{El.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=xt(Yl),t=El.transition,n=bt;try{if(El.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Cl))throw Error(a(331));var i=Cl;for(Cl|=4,Qo=e.current;null!==Qo;){var s=Qo,o=s.child;if(0!==(16&Qo.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qo=u;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var h=d.child;if(null!==h)h.return=d,Qo=h;else for(;null!==Qo;){var p=(d=Qo).sibling,f=d.return;if(al(d),d===u){Qo=null;break}if(null!==p){p.return=f,Qo=p;break}Qo=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qo=s}}if(0!==(2064&s.subtreeFlags)&&null!==o)o.return=s,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(s=Qo).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Qo=y;break e}Qo=s.return}}var b=e.current;for(Qo=b;null!==Qo;){var x=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Qo=x;else e:for(o=b;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){jc(l,l.return,_)}if(l===o){Qo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qo=w;break e}Qo=l.return}}if(Cl=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,El.transition=t}}return!1}function kc(e,t,n){e=za(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function jc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=za(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Al&n)===n&&(4===Ml||3===Ml&&(130023424&Al)===Al&&500>Je()-$l?hc(e,0):Fl|=n),rc(e,t)}function Nc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Ma(e,t))&&(vt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Nc(e,n)}function Oc(e,t){return Ze(e,t)}function Tc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Tc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,s){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case k:return Ic(n.children,i,s,t);case j:o=8,i|=8;break;case S:return(e=Ac(12,n,t,2|i)).elementType=S,e.lanes=s,e;case O:return(e=Ac(13,n,t,i)).elementType=O,e.lanes=s,e;case T:return(e=Ac(19,n,t,i)).elementType=T,e.lanes=s,e;case R:return Dc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case E:o=9;break e;case C:o=11;break e;case A:o=14;break e;case P:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ic(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,s,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Da(a),e}function $c(e){if(!e)return Ei;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ii(e,n,t)}return t}function Uc(e,t,n,r,i,a,s,o,l){return(e=Bc(n,r,!0,e,0,a,0,o,l)).context=$c(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,za(n,a,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,a=ec(),s=tc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=za(i,t,s))&&(nc(e,i,s,a),Ba(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Oo(t),pa();break;case 5:Ja(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(_a,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ni(Xa,1&Xa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ni(Xa,1&Xa.current),null!==(e=Vo(e,t,n))?e.sibling:null);Ni(Xa,1&Xa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Uo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(Xa,Xa.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return Vo(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,ia&&0!==(1048576&t.flags)&&Xi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);Oa(t,n),i=ms(null,t,r,e,i,n);var s=gs();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(s=!0,Di(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Da(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,oo(t,r,e,n),t=Co(null,t,r,!0,s,n)):(t.tag=0,ia&&s&&ea(t),xo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=to(r,e),i){case 0:t=No(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=wo(null,t,r,e,n);break e;case 14:t=_o(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Oo(t),null===e)throw Error(a(387));r=t.pendingProps,i=(s=t.memoizedState).element,La(e,t),Ua(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=To(e,t,r,n,i=lo(Error(a(423)),t));break e}if(r!==i){t=To(e,t,r,n,i=lo(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Vo(e,t,n);break e}xo(e,t,r,n)}t=t.child}return t;case 5:return Ja(t),null===e&&ca(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==s&&ni(r,s)&&(t.flags|=32),So(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Lo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,wo(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Ni(_a,r._currentValue),r._currentValue=o,null!==s)if(or(s.value,o)){if(s.children===i.children&&!Oi.current){t=Vo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){o=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Fa(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ca(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ca(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}xo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Oa(t,n),r=r(i=Ta(i)),t.flags|=1,xo(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),_o(e,t,r,i=to(r.type,i),n);case 15:return ko(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,Oa(t,n),ao(t,r,i),oo(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return Uo(e,t,n);case 22:return jo(e,t,n)}throw Error(a(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if("function"===typeof i){var o=i;i=function(){var e=Vc(s);o.call(e)}}Hc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Vc(s);a.call(e)}}var s=Uc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=s,e[fi]=s.current,Ur(8===e.nodeType?e.parentNode:e),uc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Vc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Vc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Je()),0===(6&Cl)&&(Ul=Je()+500,Ui()))}break;case 13:uc((function(){var t=Ma(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},_t=function(e){if(13===e.tag){var t=Ma(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Ma(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},jt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Z(r),Q(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Oe=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ne,Ee,cc]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(a(299));var n=!1,r="",i=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,s,o),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(374));class a extends i.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i="";"plain"===r?i="pl":"phrase"===r?i="ph":"websearch"===r&&(i="w");const a=void 0===n?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach((e=>{let[t,n]=e;this.url.searchParams.append(t,`eq.${n}`)})),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}}t.default=a},740:e=>{"use strict";e.exports=function(e,t,n,r,i,a,s,o){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,s,o],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const r=n(400);t.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r.version}`}},829:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(736));t.default=class{constructor(e,t){let{headers:n={},schema:r,fetch:i}=t;this.url=e,this.headers=n,this.schema=r,this.fetch=i}select(e){let{head:t=!1,count:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=t?"HEAD":"GET";let a=!1;const s=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!a?"":('"'===e&&(a=!a),e))).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new i.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push(`count=${t}`),n||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=[`resolution=${n?"ignore":"merge"}-duplicates`];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),a||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new i.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),this.headers.Prefer=n.join(","),new i.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push(`count=${e}`),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new i.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{supabase:()=>$t});class r extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class i extends r{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class a extends r{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class s extends r{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var o;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(o||(o={}));var l=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class c{constructor(e){let{headers:t={},customFetch:r,region:i=o.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=i,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;return l(this,void 0,void 0,(function*(){try{const{headers:r,method:o,body:l}=t;let c,u={},{region:d}=t;d||(d=this.region),d&&"any"!==d&&(u["x-region"]=d),l&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&("undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=l):"string"===typeof l?(u["Content-Type"]="text/plain",c=l):"undefined"!==typeof FormData&&l instanceof FormData?c=l:(u["Content-Type"]="application/json",c=JSON.stringify(l)));const h=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),r),body:c}).catch((e=>{throw new i(e)})),p=h.headers.get("x-relay-error");if(p&&"true"===p)throw new a(h);if(!h.ok)throw new s(h);let f,m=(null!==(n=h.headers.get("Content-Type"))&&void 0!==n?n:"text/plain").split(";")[0].trim();return f="application/json"===m?yield h.json():"application/octet-stream"===m?yield h.blob():"text/event-stream"===m?h:"multipart/form-data"===m?yield h.formData():yield h.text(),{data:f,error:null}}catch(r){return{data:null,error:r}}}))}}var u=n(980);const{PostgrestClient:d,PostgrestQueryBuilder:h,PostgrestFilterBuilder:p,PostgrestTransformBuilder:f,PostgrestBuilder:m,PostgrestError:g}=u,v={"X-Client-Info":"realtime-js/2.11.2"};var y,b,x,w,_,k;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(y||(y={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(b||(b={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(x||(x={})),function(e){e.websocket="websocket"}(w||(w={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(_||(_={}));class j{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const r=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const s=n.decode(e.slice(a,a+r));a+=r;const o=n.decode(e.slice(a,a+i));a+=i;return{ref:null,topic:s,event:o,payload:JSON.parse(n.decode(e.slice(a,e.byteLength)))}}}class S{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(k||(k={}));const N=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return Object.keys(t).reduce(((n,i)=>(n[i]=E(i,e,t,r),n)),{})},E=(e,t,n,r)=>{const i=t.find((t=>t.name===e)),a=null===i||void 0===i?void 0:i.type,s=n[e];return a&&!r.includes(a)?C(a,s):O(s)},C=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return R(t,n)}switch(e){case k.bool:return T(t);case k.float4:case k.float8:case k.int2:case k.int4:case k.int8:case k.numeric:case k.oid:return A(t);case k.json:case k.jsonb:return P(t);case k.timestamp:return M(t);case k.abstime:case k.date:case k.daterange:case k.int4range:case k.int8range:case k.money:case k.reltime:case k.text:case k.time:case k.timestamptz:case k.timetz:case k.tsrange:case k.tstzrange:default:return O(t)}},O=e=>e,T=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},A=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},R=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const a=e.slice(1,n);try{r=JSON.parse("["+a+"]")}catch(i){r=a?a.split(","):[]}return r.map((e=>C(t,e)))}return e},M=e=>"string"===typeof e?e.replace(" ","T"):e,I=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class D{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(n)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var L,F,z,B;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(L||(L={}));class ${constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$.syncState(this.state,e,t,n),this.pendingDiffs.forEach((e=>{this.state=$.syncDiff(this.state,e,t,n)})),this.pendingDiffs=[],r()})),this.channel._on(n.diff,{},(e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=$.syncDiff(this.state,e,t,n),r())})),this.onJoin(((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})})),this.onLeave(((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,n,r){const i=this.cloneDeep(e),a=this.transformState(t),s={},o={};return this.map(i,((e,t)=>{a[e]||(o[e]=t)})),this.map(a,((e,t)=>{const n=i[e];if(n){const r=t.map((e=>e.presence_ref)),i=n.map((e=>e.presence_ref)),a=t.filter((e=>i.indexOf(e.presence_ref)<0)),l=n.filter((e=>r.indexOf(e.presence_ref)<0));a.length>0&&(s[e]=a),l.length>0&&(o[e]=l)}else s[e]=t})),this.syncDiff(i,{joins:s,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,((t,r)=>{var i;const a=null!==(i=e[t])&&void 0!==i?i:[];if(e[t]=this.cloneDeep(r),a.length>0){const n=e[t].map((e=>e.presence_ref)),r=a.filter((e=>n.indexOf(e.presence_ref)<0));e[t].unshift(...r)}n(t,a,r)})),this.map(a,((t,n)=>{let i=e[t];if(!i)return;const a=n.map((e=>e.presence_ref));i=i.filter((e=>a.indexOf(e.presence_ref)<0)),e[t]=i,r(t,i,n),0===i.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((n=>t(n,e[n])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):r,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(F||(F={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(z||(z={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(B||(B={}));class U{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=b.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new D(this,x.join,this.params,this.timeout),this.rejoinTimer=new S((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=b.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=b.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=b.errored,this.rejoinTimer.scheduleTimeout())})),this._on(x.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new $(this),this.broadcastEndpointURL=I(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:s}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(B.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(B.CLOSED)));const o={},l={broadcast:i,presence:a,postgres_changes:null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map((e=>e.filter)))&&void 0!==r?r:[],private:s};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},o)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:n}=t;var r;if(this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,i=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,a=[];for(let r=0;r<i;r++){const i=t[r],{filter:{event:s,schema:o,table:l,filter:c}}=i,u=n&&n[r];if(!u||u.event!==s||u.schema!==o||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(B.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));a.push(Object.assign(Object.assign({},i),{id:u.id}))}return this.bindings.postgres_changes=a,void(e&&e(B.SUBSCRIBED))}null===e||void 0===e||e(B.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(B.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(B.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise((n=>{var r,i,a;const s=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(a=null===(i=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===i?void 0:i.broadcast)||void 0===a?void 0:a.ack)||n("ok"),s.receive("ok",(()=>n("ok"))),s.receive("error",(()=>n("error"))),s.receive("timeout",(()=>n("timed out")))}));{const{event:a,payload:s}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,o,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(i){return"AbortError"===i.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=b.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(x.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((n=>{const r=new D(this,x.leave,{},e);r.receive("ok",(()=>{t(),n("ok")})).receive("timeout",(()=>{t(),n("timed out")})).receive("error",(()=>{n("error")})),r.send(),this._canPush()||r.trigger("ok",{})}))}async _fetchWithTimeout(e,t,n){const r=new AbortController,i=setTimeout((()=>r.abort()),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(i),a}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new D(this,e,t,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,i;const a=e.toLocaleLowerCase(),{close:s,error:o,leave:l,join:c}=x;if(n&&[s,o,l,c].indexOf(a)>=0&&n!==this._joinRef())return;let u=this._onMessage(a,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter((e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===a})).map((e=>e.callback(u,n))):null===(i=this.bindings[a])||void 0===i||i.filter((e=>{var n,r,i,s,o,l;if(["broadcast","presence","postgres_changes"].includes(a)){if("id"in e){const a=e.id,s=null===(n=e.filter)||void 0===n?void 0:n.event;return a&&(null===(r=t.ids)||void 0===r?void 0:r.includes(a))&&("*"===s||(null===s||void 0===s?void 0:s.toLocaleLowerCase())===(null===(i=t.data)||void 0===i?void 0:i.type.toLocaleLowerCase()))}{const n=null===(o=null===(s=null===e||void 0===e?void 0:e.filter)||void 0===s?void 0:s.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===a})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:i,errors:a}=e,s={schema:t,table:n,commit_timestamp:r,eventType:i,new:{},old:{},errors:a};u=Object.assign(Object.assign({},s),this._getPayloadRecords(e))}e.callback(u,n)}))}_isClosed(){return this.state===b.closed}_isJoined(){return this.state===b.joined}_isJoining(){return this.state===b.joining}_isLeaving(){return this.state===b.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const r=e.toLocaleLowerCase(),i={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter((e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&U.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(x.close,{},e)}_onError(e){this._on(x.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=b.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=N(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=N(e.columns,e.old_record)),t}}const H=()=>{},V="undefined"!==typeof WebSocket;class q{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=v,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=H,this.conn=null,this.sendBuffer=[],this.serializer=new j,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint=`${e}/${w.websocket}`,this.httpEndpoint=I(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(r=null===t||void 0===t?void 0:t.params)||void 0===r?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new S((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(V)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new W(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),n.e(198).then(n.t.bind(n,198,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case y.connecting:return _.Connecting;case y.open:return _.Open;case y.closing:return _.Closing;default:return _.Closed}}isConnected(){return this.connectionState()===_.Open}channel(e){const t=new U(`realtime:${e}`,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},this);return this.channels.push(t),t}push(e){const{topic:t,event:n,payload:r,ref:i}=e,a=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${n} (${i})`,r),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(n&&n.exp){if(!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`)}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(x.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:n,payload:r,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(n,r,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(x.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?";return`${e}${n}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class W{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=y.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class Z extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function K(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class Y extends Z{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class G extends Z{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var J=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Q=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},X=e=>{if(Array.isArray(e))return e.map((e=>X(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[n,r]=e;const i=n.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[i]=X(r)})),t};var ee=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const te=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ne=(e,t,r)=>ee(void 0,void 0,void 0,(function*(){const i=yield J(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(n.bind(n,630))).Response:Response}));e instanceof i&&!(null===r||void 0===r?void 0:r.noResolveJson)?e.json().then((n=>{t(new Y(te(n),e.status||500))})).catch((e=>{t(new G(te(e),e))})):t(new G(te(e),e))}));function re(e,t,n,r,i,a){return ee(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{e(n,((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))})(t,r,i,a)).then((e=>{if(!e.ok)throw e;return(null===r||void 0===r?void 0:r.noResolveJson)?e:e.json()})).then((e=>s(e))).catch((e=>ne(e,o,r)))}))}))}function ie(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"GET",t,n,r)}))}function ae(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"POST",t,r,i,n)}))}function se(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"DELETE",t,r,i,n)}))}var oe=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const le={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ce={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=n,this.fetch=Q(r)}uploadOrUpdate(e,t,n,r){return oe(this,void 0,void 0,(function*(){try{let i;const a=Object.assign(Object.assign({},ce),r);let s=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(a.upsert)});const o=a.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o)),i.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),o&&i.append("metadata",this.encodeMetadata(o))):(i=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,o&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),(null===r||void 0===r?void 0:r.headers)&&(s=Object.assign(Object.assign({},s),r.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:s},(null===a||void 0===a?void 0:a.duplex)?{duplex:a.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(i){if(K(i))return{data:null,error:i};throw i}}))}upload(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,n)}))}uploadToSignedUrl(e,t,n,r){return oe(this,void 0,void 0,(function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:ce.upsert},r),a=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,a["cache-control"]=`max-age=${t.cacheControl}`,a["content-type"]=t.contentType);const o=yield this.fetch(s.toString(),{method:"PUT",body:e,headers:a}),l=yield o.json();if(o.ok)return{data:{path:i,fullPath:l.Key},error:null};return{data:null,error:l}}catch(o){if(K(o))return{data:null,error:o};throw o}}))}createSignedUploadUrl(e,t){return oe(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(r["x-upsert"]="true");const i=yield ae(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),a=new URL(this.url+i.url),s=a.searchParams.get("token");if(!s)throw new Z("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}update(e,t,n){return oe(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,n)}))}move(e,t,n){return oe(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}copy(e,t,n){return oe(this,void 0,void 0,(function*(){try{return{data:{path:(yield ae(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}createSignedUrl(e,t,n){return oe(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e),i=yield ae(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:this.headers});const a=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}createSignedUrls(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=yield ae(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=(null===n||void 0===n?void 0:n.download)?`&download=${!0===n.download?"":n.download}`:"";return{data:r.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI(`${this.url}${e.signedURL}${i}`):null}))),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}download(e,t){return oe(this,void 0,void 0,(function*(){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),i=r?`?${r}`:"";try{const t=this._getFinalPath(e),r=yield ie(this.fetch,`${this.url}/${n}/${t}${i}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(a){if(K(a))return{data:null,error:a};throw a}}))}info(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield ie(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:X(e),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}exists(e){return oe(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,n,r){return ee(this,void 0,void 0,(function*(){return re(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)}))}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(K(n)&&n instanceof G){const e=n.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:n}}throw n}}))}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=(null===t||void 0===t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==i&&r.push(i);const a="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",s=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==s&&r.push(s);let o=r.join("&");return""!==o&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}remove(e){return oe(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}list(e,t,n){return oe(this,void 0,void 0,(function*(){try{const r=Object.assign(Object.assign(Object.assign({},le),t),{prefix:e||""});return{data:yield ae(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const de={"X-Client-Info":"storage-js/2.7.1"};var he=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class pe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},de),t),this.fetch=Q(n)}listBuckets(){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(K(e))return{data:null,error:e};throw e}}))}getBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ie(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}updateBucket(e,t){return he(this,void 0,void 0,(function*(){try{const n=yield function(e,t,n,r,i){return ee(this,void 0,void 0,(function*(){return re(e,"PUT",t,r,i,n)}))}(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:n,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}))}emptyBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield ae(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return he(this,void 0,void 0,(function*(){try{return{data:yield se(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(K(t))return{data:null,error:t};throw t}}))}}class fe extends pe{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new ue(this.url,this.headers,e,this.fetch)}}let me="";me="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const ge={headers:{"X-Client-Info":`supabase-js-${me}/2.49.4`}},ve={schema:"public"},ye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},be={};var xe=n(630),we=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const _e=e=>{let t;return t=e||("undefined"===typeof fetch?xe.default:fetch),function(){return t(...arguments)}},ke=(e,t,n)=>{const r=_e(n),i="undefined"===typeof Headers?xe.Headers:Headers;return(n,a)=>we(void 0,void 0,void 0,(function*(){var s;const o=null!==(s=yield t())&&void 0!==s?s:e;let l=new i(null===a||void 0===a?void 0:a.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},a),{headers:l}))}))};var je=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};const Se="2.69.1",Ne=3e4,Ee=9e4,Ce={"X-Client-Info":`gotrue-js/${Se}`},Oe="X-Supabase-Api-Version",Te={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Ae=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Pe extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function Re(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class Me extends Pe{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class Ie extends Pe{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class De extends Pe{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class Le extends De{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Fe extends De{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ze extends De{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Be extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $e extends De{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ue extends De{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function He(e){return Re(e)&&"AuthRetryableFetchError"===e.name}class Ve extends De{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class qe extends De{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ze=" \t\n\r=".split(""),Ke=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ze.length;t+=1)e[Ze[t].charCodeAt(0)]=-2;for(let t=0;t<We.length;t+=1)e[We[t].charCodeAt(0)]=t;return e})();function Ye(e,t,n){const r=Ke[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ge(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let s=0;s<e.length;s+=1)Ye(e.charCodeAt(s),i,a);return t.join("")}function Je(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}t(e)}function Qe(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Je(r,t)}}function Xe(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let i=0;i<e.length;i+=1)Ye(e.charCodeAt(i),n,r);return new Uint8Array(t)}const et=()=>"undefined"!==typeof window&&"undefined"!==typeof document,tt={tested:!1,writable:!1},nt=()=>{if(!et())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(tt.tested)return tt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tt.tested=!0,tt.writable=!0}catch(t){tt.tested=!0,tt.writable=!1}return tt.writable};const rt=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Promise.resolve().then(n.bind(n,630)).then((e=>{let{default:n}=e;return n(...t)}))}:fetch),function(){return t(...arguments)}},it=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},at=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},st=async(e,t)=>{await e.removeItem(t)};class ot{constructor(){this.promise=new ot.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function lt(e){const t=e.split(".");if(3!==t.length)throw new qe("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ae.test(t[n]))throw new qe("JWT not in base64url format");return{header:JSON.parse(Ge(t[0])),payload:JSON.parse(Ge(t[1])),signature:Xe(t[2]),raw:{header:t[0],payload:t[1]}}}function ct(e){return("0"+e.toString(16)).substr(-2)}async function ut(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,ct).join("")}();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await it(e,`${t}-code-verifier`,i);const a=await ut(r);return[a,r===a?"plain":"s256"]}ot.promiseConstructor=Promise;const ht=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var pt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const ft=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mt=[502,503,504];async function gt(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new Ue(ft(e),0);if(mt.includes(e.status))throw new Ue(ft(e),e.status);let r,i;try{r=await e.json()}catch(s){throw new Ie(ft(s),s)}const a=function(e){const t=e.headers.get(Oe);if(!t)return null;if(!t.match(ht))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(s){return null}}(e);if(a&&a.getTime()>=Te.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?i=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(i=r.error_code),i){if("weak_password"===i)throw new Ve(ft(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===i)throw new Le}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new Ve(ft(r),e.status,r.weak_password.reasons);throw new Me(ft(r),e.status||500,i)}async function vt(e,t,n,r){var i;const a=Object.assign({},null===r||void 0===r?void 0:r.headers);a[Oe]||(a[Oe]=Te.name),(null===r||void 0===r?void 0:r.jwt)&&(a.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=null===r||void 0===r?void 0:r.query)&&void 0!==i?i:{};(null===r||void 0===r?void 0:r.redirectTo)&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await async function(e,t,n,r,i,a){const s=((e,t,n,r)=>{const i={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))})(t,r,i,a);let o;try{o=await e(n,Object.assign({},s))}catch(l){throw console.error(l),new Ue(ft(l),0)}o.ok||await gt(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await gt(l)}}(e,t,n+o,{headers:a,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function yt(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function bt(e){const t=yt(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function xt(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function wt(e){return{data:e,error:null}}function _t(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,s=pt(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},user:Object.assign({},s)},error:null}}function kt(e){return e}var jt=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};class St{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=rt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xt})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=jt(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:_t,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(Re(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(t){if(Re(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,i,a,s,o;try{const l={nextPage:null,lastPage:0,total:0},c=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(i=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==i?i:""},xform:kt});if(c.error)throw c.error;const u=await c.json(),d=null!==(a=c.headers.get("x-total-count"))&&void 0!==a?a:0,h=null!==(o=null===(s=c.headers.get("link"))||void 0===s?void 0:s.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l[`${n}Page`]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(Re(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(t){if(Re(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xt})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xt})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await vt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(Re(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(Re(t))return{data:null,error:t};throw t}}}const Nt={getItem:e=>nt()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{nt()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{nt()&&globalThis.localStorage.removeItem(e)}};function Et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Ct=!!(globalThis&&nt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Ot extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Tt extends Ot{}async function At(e,t,n){Ct&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout((()=>{r.abort(),Ct&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},(async r=>{if(!r){if(0===t)throw Ct&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tt(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ct)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}Ct&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Ct&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const Pt={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rt(e,t,n){return await n()}class Mt{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Mt.nextInstanceID,Mt.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Pt),e);if(this.logDebugMessages=!!r.debug,"function"===typeof r.debug&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new St({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=rt(r.fetch),this.lock=r.lock||Rt,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:et()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=At:this.lock=Rt,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:nt()?this.storage=Nt:(this.memoryStorage={},this.storage=Et(this.memoryStorage)):(this.memoryStorage={},this.storage=Et(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}null===(n=this.broadcastChannel)||void 0===n||n.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(`GoTrueClient@${this.instanceID} (${Se}) ${(new Date).toISOString()}`,...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach(((e,n)=>{t[n]=e}))}catch(r){}return n.searchParams.forEach(((e,n)=>{t[n]=e})),t}(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),et()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),function(e){return Re(e)&&"AuthImplicitGrantRedirectError"===e.name}(i)){const t=null===(e=i.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:s}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",s),await this._saveSession(a),setTimeout((async()=>{"recovery"===s?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return Re(t)?{error:t}:{error:new Ie("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:yt}),{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,r;try{let i;if("email"in e){const{email:n,password:r,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await dt(this.storage,this.storageKey)),i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},xform:yt})}else{if(!("phone"in e))throw new ze("You must provide either an email or phone number and a password");{const{phone:t,password:a,options:s}=e;i=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:a,data:null!==(n=null===s||void 0===s?void 0:s.data)&&void 0!==n?n:{},channel:null!==(r=null===s||void 0===s?void 0:s.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:yt})}}const{data:a,error:s}=i;if(s||!a)return{data:{user:null,session:null},error:s};const o=a.session,l=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(i){if(Re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:i}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:bt})}else{if(!("phone"in e))throw new ze("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:i}=e;t=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:bt})}}const{data:n,error:r}=t;return r?{data:{user:null,session:null},error:r}:n&&n.session&&n.user?(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r}):{data:{user:null,session:null},error:new Fe}}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(i=e.options)||void 0===i?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await at(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:i}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:yt});if(await st(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:i}):{data:{user:null,session:null,redirectType:null},error:new Fe}}catch(i){if(Re(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:i,nonce:a}=e,s=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:yt}),{data:o,error:l}=s;return l?{data:{user:null,session:null},error:l}:o&&o.session&&o.user?(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:l}):{data:{user:null,session:null},error:new Fe}}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,r,i,a;try{if("email"in e){const{email:r,options:i}=e;let a=null,s=null;"pkce"===this.flowType&&([a,s]=await dt(this.storage,this.storageKey));const{error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:null!==(t=null===i||void 0===i?void 0:i.data)&&void 0!==t?t:{},create_user:null===(n=null===i||void 0===i?void 0:i.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken},code_challenge:a,code_challenge_method:s},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}if("phone"in e){const{phone:t,options:n}=e,{data:s,error:o}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(i=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(a=null===n||void 0===n?void 0:n.channel)&&void 0!==a?a:"sms"}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new ze("You must provide either an email or phone number.")}catch(s){if(Re(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(e){var t,n;try{let r,i;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,i=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:yt});if(s)throw s;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,l=a.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:l,session:o},error:null}}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var t,n,r;try{let i=null,a=null;return"pkce"===this.flowType&&([i,a]=await dt(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:wt})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new Le;const{error:r}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(Re(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:a}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},redirectTo:null===i||void 0===i?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}if("phone"in e){const{phone:n,type:r,options:i}=e,{data:a,error:s}=await vt(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:null===a||void 0===a?void 0:a.message_id},error:s}}throw new ze("You must provide either an email or phone number and a type")}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock(`lock:${this.storageKey}`,e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await at(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<Ee;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,n,r)=>(t||"user"!==n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,n,r))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession((async e=>{var t,n,r;const{data:i,error:a}=e;if(a)throw a;return(null===(t=i.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:xt}):{data:{user:null},error:new Le}}))}catch(t){if(Re(t))return function(e){return Re(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new Le;const a=r.session;let s=null,o=null;"pkce"===this.flowType&&null!=e.email&&([s,o]=await dt(this.storage,this.storageKey));const{data:l,error:c}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:s,code_challenge_method:o}),jwt:a.access_token,xform:xt});if(c)throw c;return a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}))}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Le;const t=Date.now()/1e3;let n=t,r=!0,i=null;const{payload:a}=lt(e.access_token);if(a.exp&&(n=a.exp,r=n<=t),r){const{session:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return{data:{user:null,session:null},error:n};if(!t)return{data:{user:null,session:null},error:null};i=t}else{const{data:r,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(Re(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var n;if(!e){const{data:r,error:i}=t;if(i)throw i;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new Le;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!et())throw new Be("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Be(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new $e("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new Be("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $e("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:a,expires_in:s,expires_at:o,token_type:l}=e;if(!i||!s||!a||!l)throw new Be("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(s);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=Ne&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${u}s`);const p=d-u;c-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,d,c):c-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,d,c);const{data:f,error:m}=await this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:u,expires_at:d,refresh_token:a,token_type:l,user:f.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(Re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await at(this.storage,`${this.storageKey}-code-verifier`);return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{error:i};const a=null===(n=r.session)||void 0===n?void 0:n.access_token;if(a){const{error:t}=await this.admin.signOut(a,e);if(t&&(!function(e){return Re(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await st(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession((async t=>{var n,r;try{const{data:{session:r},error:i}=t;if(i)throw i;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(i){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await dt(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(Re(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(Re(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:r}=await this._useSession((async t=>{var n,r,i,a,s;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(i=e.options)||void 0===i?void 0:i.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(s=null===(a=o.session)||void 0===a?void 0:a.access_token)&&void 0!==s?s:void 0})}));if(r)throw r;return et()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),{data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null}}catch(n){if(Re(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:a}=t;if(a)throw a;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!==(r=null===(n=i.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})}))}catch(t){if(Re(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:yt})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&He(t)&&Date.now()+n-i<Ne},new Promise(((e,t)=>{(async()=>{for(let a=0;a<1/0;a++)try{const t=await n(a);if(!r(a,null,t))return void e(t)}catch(i){if(!r(a,i))return void t(i)}})()})))}catch(i){if(this._debug(t,"error",i),Re(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),et()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await at(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n))return this._debug(t,"session is not valid"),void(null!==n&&await this._removeSession());const r=1e3*(null!==(e=n.expires_at)&&void 0!==e?e:1/0)-Date.now()<Ee;if(this._debug(t,`session has${r?"":" not"} expired with margin of 90000s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),He(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){return this._debug(t,"error",n),void console.error(n)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new ot;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new Le;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={session:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(i){if(this._debug(r,"error",i),Re(i)){const e={session:null,error:i};return He(i)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],i=Array.from(this.stateChangeEmitters.values()).map((async n=>{try{await n.callback(e,t)}catch(i){r.push(i)}}));if(await Promise.all(i),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await it(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await st(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Ne);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const t=Date.now();try{return await this._useSession((async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/Ne);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),r<=3&&await this._callRefreshToken(n.refresh_token)}))}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(!(e.isAcquireTimeout||e instanceof Ot))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=[`provider=${encodeURIComponent(t)}`];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),(null===n||void 0===n?void 0:n.scopes)&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),"pkce"===this.flowType){const[e,t]=await dt(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await vt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Re(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var n,r;const{data:i,error:a}=t;if(a)return{data:null,error:a};const s=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:o,error:l}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:null===(n=null===i||void 0===i?void 0:i.session)||void 0===n?void 0:n.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}))}catch(t){if(Re(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:s}=await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:s})}))}catch(t){if(Re(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var n;const{data:r,error:i}=t;return i?{data:null,error:i}:await vt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})}))}catch(t){if(Re(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(null===e||void 0===e?void 0:e.factors)||[],r=n.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),i=n.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=lt(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;(null!==(n=null===(t=r.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==n?n:[]).length>0&&(o="aal2");return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:a.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:n,error:r}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;if(!n.keys||0===n.keys.length)throw new qe("JWKS is empty");if(this.jwks=n,this.jwks_cached_at=Date.now(),t=n.keys.find((t=>t.kid===e)),!t)throw new qe("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};n=e.session.access_token}const{header:r,payload:i,signature:a,raw:{header:s,payload:o}}=lt(n);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(i.exp),!r.kid||"HS256"===r.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:i,header:r,signature:a},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),c=await this.fetchJwk(r.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,a,function(e){const t=[];return Qe(e,(e=>t.push(e))),new Uint8Array(t)}(`${s}.${o}`)))throw new qe("Invalid JWT signature");return{data:{claims:i,header:r,signature:a},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}}Mt.nextInstanceID=0;const It=Mt;class Dt extends It{constructor(e){super(e)}}var Lt=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};class Ft{constructor(e,t,n){var r,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const s=e.replace(/\/$/,"");this.realtimeUrl=`${s}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.functionsUrl=`${s}/functions/v1`;const o=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l=function(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:s,auth:o,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},s),n),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign({},c),a),accessToken:()=>je(this,void 0,void 0,(function*(){return""}))};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}(null!==n&&void 0!==n?n:{},{db:ve,realtime:be,auth:Object.assign(Object.assign({},ye),{storageKey:o}),global:ge});this.storageKey=null!==(r=l.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(i=l.global.headers)&&void 0!==i?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(a=l.auth)&&void 0!==a?a:{},this.headers,l.global.fetch),this.fetch=ke(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new d(`${s}/rest/v1`,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),l.accessToken||this._listenForAuthEvents()}get functions(){return new c(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fe(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Lt(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return null!==(t=null===(e=n.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,storageKey:o,flowType:l,lock:c,debug:u}=e;const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Dt({url:this.authUrl,headers:Object.assign(Object.assign({},d),t),storageKey:o,autoRefreshToken:r,persistSession:i,detectSessionInUrl:a,storage:s,flowType:l,lock:c,debug:u,fetch:n,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new q(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=n}}const zt="https://aqdzmfhakqdwquszaqle.supabase.co",Bt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFxZHptZmhha3Fkd3F1c3phcWxlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzE0MDgyNTAsImV4cCI6MjA0Njk4NDI1MH0.4euPXQKyddaJuGhf5Etqdla8LF-h-p-gs1uVxw6dutQ";const $t=((e,t,n)=>new Ft(e,t,n))(zt,Bt)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},980:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const i=r(n(210));t.PostgrestClient=i.default;const a=r(n(829));t.PostgrestQueryBuilder=a.default;const s=r(n(736));t.PostgrestFilterBuilder=s.default;const o=r(n(374));t.PostgrestTransformBuilder=o.default;const l=r(n(286));t.PostgrestBuilder=l.default;const c=r(n(611));t.PostgrestError=c.default,t.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default}},985:(e,t,n)=>{const{supabase:r}=n(880);e.exports={createExecuteSqlFunction:async()=>{try{const e="\n      CREATE OR REPLACE FUNCTION execute_sql(sql text)\n      RETURNS void AS $$\n      BEGIN\n        EXECUTE sql;\n      END;\n      $$ LANGUAGE plpgsql SECURITY DEFINER;\n    ",{error:t}=await r.rpc("execute_sql",{sql:e});t&&console.warn("Warning: Could not create execute_sql function. It might already exist.")}catch(e){console.warn("Warning: Error creating execute_sql function:",e.message)}},insertSampleData:async()=>{try{console.log("Inserting sample data...");const e=[{name:"Hypertension",category:"Cardiovascular",description:"High blood pressure condition"},{name:"Diabetes",category:"Endocrine",description:"Blood sugar regulation disorder"},{name:"Asthma",category:"Respiratory",description:"Chronic respiratory condition"},{name:"Arthritis",category:"Musculoskeletal",description:"Joint inflammation condition"},{name:"Depression",category:"Mental Health",description:"Mood disorder"},{name:"Anxiety",category:"Mental Health",description:"Anxiety disorder"},{name:"Migraine",category:"Neurological",description:"Severe headache condition"},{name:"Allergies",category:"Immunological",description:"Immune system response"},{name:"Hypothyroidism",category:"Endocrine",description:"Underactive thyroid condition"},{name:"Hyperthyroidism",category:"Endocrine",description:"Overactive thyroid condition"}],{error:t}=await r.from("diseases").upsert(e);if(t)throw t;console.log("Sample data inserted successfully")}catch(e){throw console.error("Error inserting sample data:",e),e}},createStorageBuckets:async()=>{try{console.log("Creating storage buckets...");const t="\n      ALTER DATABASE postgres SET \"app.settings.storage.enabled\" TO 'true';\n    ";await r.rpc("execute_sql",{sql:t});const n=["profile-pictures","medical-reports","health-reports","chat-attachments","support-attachments"];for(const a of n)try{const{error:e}=await r.storage.createBucket(a,{public:!0});e&&!e.message.includes("already exists")&&console.warn(`Warning creating bucket ${a}:`,e.message)}catch(e){console.warn(`Error creating bucket ${a}:`,e.message)}const i="\n      DO $$ \n      BEGIN\n        CREATE POLICY \"Allow public access to profile pictures\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'profile-pictures');\n        \n        CREATE POLICY \"Allow public access to medical reports\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'medical-reports');\n        \n        CREATE POLICY \"Allow public access to health reports\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'health-reports');\n        \n        CREATE POLICY \"Allow public access to chat attachments\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'chat-attachments');\n        \n        CREATE POLICY \"Allow public access to support attachments\"\n        ON storage.objects FOR ALL\n        USING (bucket_id = 'support-attachments');\n      EXCEPTION\n        WHEN others THEN\n          NULL;\n      END $$;\n    ";await r.rpc("execute_sql",{sql:i}),console.log("Storage buckets and policies created successfully")}catch(e){console.warn("Warning: Error setting up storage:",e.message)}}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(a,s),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{198:"6056d451",453:"a0b1a081"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="digihealth:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/DiGiHealthAdv/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,a,s=r[0],o=r[1],l=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkdigihealth=self.webpackChunkdigihealth||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e,t=n(43),r=n.t(t,2),i=n(391),a=n(950),s=n.t(a,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(bm){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function m(t,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,f=e.Pop,m=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){f=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:f,location:x.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return f},get location(){return t(a,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(l,y),m=e,()=>{a.removeEventListener(l,y),m=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let i=h(x.location,t,n);r&&r(i,t),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;a.location.assign(l)}s&&m&&m({action:f,location:x.location,delta:1})},replace:function(t,n){f=e.Replace;let i=h(x.location,t,n);r&&r(i,t),g=v();let a=d(i,g),o=x.createHref(i);u.replaceState(a,"",o),s&&m&&m({action:f,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=P(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let a=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=A(i);s=O(a[o],e,r)}return s}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let s={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};s.relativePath.startsWith("/")&&(c(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(r.length));let o=L([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let s=x(r.join("/")),o=[];return o.push(...s.map((e=>""===e?a:[a,e].join("/")))),i&&o.push(...s),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,_=3,k=2,j=1,S=10,N=-2,E=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(E)&&(r+=N),t&&(r+=k),n.filter((e=>!E(e))).reduce(((e,t)=>e+(w.test(t)?_:""===t?j:S)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",s=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:L([a,u.pathname]),pathnameBase:F(L([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=L([a,u.pathnameBase]))}return s}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function I(e,t){let n=M(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function D(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let a,s=""===e||""===i.pathname,l=s?"/":i.pathname;if(null==l)a=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:z(r),hash:B(i)}}(i,a),d=l&&"/"!==l&&l.endsWith("/"),h=(s||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",B=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const U=["post","put","patch","delete"],H=(new Set(U),["get",...U]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const q=t.createContext(null);const W=t.createContext(null);const Z=t.createContext(null);const K=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const G=t.createContext(null);function J(){return null!=t.useContext(K)}function Q(){return J()||c(!1),t.useContext(K).location}function X(e){t.useContext(Z).static||t.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ue(le.UseNavigateStable),n=he(ce.UseNavigateStable),r=t.useRef(!1);X((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){J()||c(!1);let e=t.useContext(q),{basename:n,future:r,navigator:i}=t.useContext(Z),{matches:a}=t.useContext(Y),{pathname:s}=Q(),o=JSON.stringify(I(a,r.v7_relativeSplatPath)),l=t.useRef(!1);X((()=>{l.current=!0}));let u=t.useCallback((function(t,r){if(void 0===r&&(r={}),!l.current)return;if("number"===typeof t)return void i.go(t);let a=D(t,JSON.parse(o),s,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:L([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[n,i,o,s,e]);return u}()}function te(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(Z),{matches:a}=t.useContext(Y),{pathname:s}=Q(),o=JSON.stringify(I(a,i.v7_relativeSplatPath));return t.useMemo((()=>D(e,JSON.parse(o),s,"path"===r)),[e,o,s,r])}function ne(n,r,i,a){J()||c(!1);let{navigator:s,static:o}=t.useContext(Z),{matches:l}=t.useContext(Y),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let p,m=Q();if(r){var g;let e="string"===typeof r?f(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),p=e}else p=m;let y=p.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!o&&i&&i.matches&&i.matches.length>0?i.matches:v(n,{pathname:b});let w=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:L([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,a);return r&&w?t.createElement(K.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:e.Pop}},w):w}function re(){let e=function(){var e;let n=t.useContext(G),r=de(ce.UseRouteError),i=he(ce.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}const ie=t.createElement(re,null);class ae extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:r,children:i}=e,a=t.useContext(q);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Y.Provider,{value:n},i)}function oe(e,n,r,i){var a;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var s;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(s=i)&&s.v7_partialHydration&&0===n.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let o=e,l=null==(a=r)?void 0:a.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<o.length;t++){let e=o[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,i,a)=>{let s,c=!1,h=null,p=null;var f;r&&(s=l&&i.route.id?l[i.route.id]:void 0,h=i.route.errorElement||ie,u&&(d<0&&0===a?(f="route-fallback",!1||pe[f]||(pe[f]=!0),c=!0,p=null):d===a&&(c=!0,p=i.route.hydrateFallbackElement||null)));let m=n.concat(o.slice(0,a+1)),g=()=>{let n;return n=s?h:c?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(se,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(ae,{location:r.location,revalidation:r.revalidation,component:h,error:s,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function ue(e){let n=t.useContext(q);return n||c(!1),n}function de(e){let n=t.useContext(W);return n||c(!1),n}function he(e){let n=function(){let e=t.useContext(Y);return e||c(!1),e}(),r=n.matches[n.matches.length-1];return r.route.id||c(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}r.startTransition;function me(e){let{to:n,replace:r,state:i,relative:a}=e;J()||c(!1);let{future:s,static:o}=t.useContext(Z),{matches:l}=t.useContext(Y),{pathname:u}=Q(),d=ee(),h=D(n,I(l,s.v7_relativeSplatPath),u,"path"===a),p=JSON.stringify(h);return t.useEffect((()=>d(JSON.parse(p),{replace:r,state:i,relative:a})),[d,p,a,r,i]),null}function ge(e){c(!1)}function ve(n){let{basename:r="/",children:i=null,location:a,navigationType:s=e.Pop,navigator:o,static:l=!1,future:u}=n;J()&&c(!1);let d=r.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:d,navigator:o,static:l,future:V({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof a&&(a=f(a));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=a,b=t.useMemo((()=>{let e=P(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:s}}),[d,p,m,g,v,y,s]);return null==b?null:t.createElement(Z.Provider,{value:h},t.createElement(K.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return ne(be(t),n)}new Promise((()=>{}));t.Component;function be(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let a=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,be(e.props.children,a));e.type!==ge&&c(!1),e.props.index&&e.props.children&&c(!1);let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=be(e.props.children,a)),r.push(s)})),r}function xe(){return xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xe.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const _e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(bm){}new Map;const ke=r.startTransition;s.flushSync,r.useId;function je(e){let{basename:n,children:r,future:i,window:a}=e,s=t.useRef();null==s.current&&(s.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,e)}({window:a,v5Compat:!0}));let o=s.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},d=t.useCallback((e=>{u&&ke?ke((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>o.listen(d)),[o,d]),t.useEffect((()=>fe(i)),[i]),t.createElement(ve,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:o,future:i})}const Se="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ee=t.forwardRef((function(e,n){let r,{onClick:i,relative:a,reloadDocument:s,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f}=e,m=we(e,_e),{basename:g}=t.useContext(Z),v=!1;if("string"===typeof d&&Ne.test(d)&&(r=d,Se))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(bm){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;J()||c(!1);let{basename:i,navigator:a}=t.useContext(Z),{hash:s,pathname:o,search:l}=te(e,{relative:r}),u=o;return"/"!==i&&(u="/"===o?i:L([i,o])),a.createHref({pathname:u,search:l,hash:s})}(d,{relative:a}),b=function(e,n){let{target:r,replace:i,state:a,preventScrollReset:s,relative:o,viewTransition:l}=void 0===n?{}:n,c=ee(),u=Q(),d=te(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:p(u)===p(d);c(e,{replace:n,state:a,preventScrollReset:s,relative:o,viewTransition:l})}}),[u,c,d,i,a,r,e,s,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:a,viewTransition:f});return t.createElement("a",xe({},m,{href:r||y,onClick:v||s?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:n,target:u}))}));var Ce,Oe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));var Te=n(880),Ae=n(579);const Pe=(0,t.createContext)();function Re(){return(0,t.useContext)(Pe)}function Me(e){let{children:n}=e;const[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(!0);(0,t.useEffect)((()=>{Te.supabase.auth.getSession().then((e=>{var t;let{data:{session:n}}=e;i(null!==(t=null===n||void 0===n?void 0:n.user)&&void 0!==t?t:null),s(!1)}));const{data:{subscription:e}}=Te.supabase.auth.onAuthStateChange(((e,t)=>{var n;i(null!==(n=null===t||void 0===t?void 0:t.user)&&void 0!==n?n:null),s(!1)}));return()=>e.unsubscribe()}),[]);const o={user:r,loading:a,signUp:e=>Te.supabase.auth.signUp(e),signIn:e=>Te.supabase.auth.signInWithPassword(e),signOut:()=>Te.supabase.auth.signOut()};return(0,Ae.jsx)(Pe.Provider,{value:o,children:!a&&n})}function Ie(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ie(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const De=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ie(e))&&(r&&(r+=" "),r+=t);return r};function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ze(e){return"number"===typeof e&&!isNaN(e)}function Be(e){return"boolean"===typeof e}function $e(e){return"string"===typeof e}function Ue(e){return"function"===typeof e}function He(e){return $e(e)||Ue(e)?e:null}function Ve(e){return 0===e||e}var qe=!("undefined"===typeof window||!window.document||!window.document.createElement);function We(e){return(0,t.isValidElement)(e)||$e(e)||Ue(e)||ze(e)}var Ze={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ke={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function Ye(e){var n=e.enter,r=e.exit,i=e.appendPosition,a=void 0!==i&&i,s=e.collapse,o=void 0===s||s,l=e.collapseDuration,c=void 0===l?300:l;return function(e){var i=e.children,s=e.position,l=e.preventExitTransition,u=e.done,d=e.nodeRef,h=e.isIn,p=a?n+"--"+s:n,f=a?r+"--"+s:r,m=(0,t.useRef)(),g=(0,t.useRef)(0);function v(e){if(e.target===d.current){var t=d.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",v),t.removeEventListener("animationcancel",v),0===g.current&&(t.className=m.current)}}function y(){var e=d.current;e.removeEventListener("animationend",y),o?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,c):u()}return(0,t.useLayoutEffect)((function(){!function(){var e=d.current;m.current=e.className,e.className+=" "+p,e.addEventListener("animationend",v),e.addEventListener("animationcancel",v)}()}),[]),(0,t.useEffect)((function(){h||(l?y():function(){g.current=1;var e=d.current;e.className+=" "+f,e.addEventListener("animationend",y)}())}),[h]),t.createElement(t.Fragment,null,i)}}var Ge={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},Je=["delay","staleId"];function Qe(e){var n=(0,t.useReducer)((function(e){return e+1}),0)[1],r=(0,t.useState)([]),i=r[0],a=r[1],s=(0,t.useRef)(null),o=(0,t.useRef)(new Map).current,l=function(e){return-1!==i.indexOf(e)},c=(0,t.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:function(e){return o.get(e)}}).current;function u(e){var t=e.containerId;!c.props.limit||t&&c.containerId!==t||(c.count-=c.queue.length,c.queue=[])}function d(e){a((function(t){return Ve(e)?t.filter((function(t){return t!==e})):[]}))}function h(){var e=c.queue.shift();f(e.toastContent,e.toastProps,e.staleId)}function p(e,r){var i=r.delay,a=r.staleId,l=Fe(r,Je);if(We(e)&&!function(e){return!s.current||c.props.enableMultiContainer&&e.containerId!==c.props.containerId||o.has(e.toastId)&&null==e.updateId}(l)){var u=l.toastId,p=l.updateId,m=l.data,g=c.props,v=function(){return d(u)},y=null==p;y&&c.count++;var b,x,w={toastId:u,updateId:p,isLoading:l.isLoading,theme:l.theme||g.theme,icon:null!=l.icon?l.icon:g.icon,isIn:!1,key:l.key||c.toastKey++,type:l.type,closeToast:v,closeButton:l.closeButton,rtl:g.rtl,position:l.position||g.position,transition:l.transition||g.transition,className:He(l.className||g.toastClassName),bodyClassName:He(l.bodyClassName||g.bodyClassName),style:l.style||g.toastStyle,bodyStyle:l.bodyStyle||g.bodyStyle,onClick:l.onClick||g.onClick,pauseOnHover:Be(l.pauseOnHover)?l.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:Be(l.pauseOnFocusLoss)?l.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:Be(l.draggable)?l.draggable:g.draggable,draggablePercent:l.draggablePercent||g.draggablePercent,draggableDirection:l.draggableDirection||g.draggableDirection,closeOnClick:Be(l.closeOnClick)?l.closeOnClick:g.closeOnClick,progressClassName:He(l.progressClassName||g.progressClassName),progressStyle:l.progressStyle||g.progressStyle,autoClose:!l.isLoading&&(b=l.autoClose,x=g.autoClose,!1===b||ze(b)&&b>0?b:x),hideProgressBar:Be(l.hideProgressBar)?l.hideProgressBar:g.hideProgressBar,progress:l.progress,role:l.role||g.role,deleteToast:function(){o.delete(u);var e=c.queue.length;if(c.count=Ve(u)?c.count-1:c.count-c.displayedToast,c.count<0&&(c.count=0),e>0){var t=Ve(u)?1:c.props.limit;if(1===e||1===t)c.displayedToast++,h();else{var r=t>e?e:t;c.displayedToast=r;for(var i=0;i<r;i++)h()}}else n()}};Ue(l.onOpen)&&(w.onOpen=l.onOpen),Ue(l.onClose)&&(w.onClose=l.onClose),w.closeButton=g.closeButton,!1===l.closeButton||We(l.closeButton)?w.closeButton=l.closeButton:!0===l.closeButton&&(w.closeButton=!We(g.closeButton)||g.closeButton);var _=e;(0,t.isValidElement)(e)&&!$e(e.type)?_=(0,t.cloneElement)(e,{closeToast:v,toastProps:w,data:m}):Ue(e)&&(_=e({closeToast:v,toastProps:w,data:m})),g.limit&&g.limit>0&&c.count>g.limit&&y?c.queue.push({toastContent:_,toastProps:w,staleId:a}):ze(i)&&i>0?setTimeout((function(){f(_,w,a)}),i):f(_,w,a)}}function f(e,t,n){var r=t.toastId;n&&o.delete(n),o.set(r,{content:e,props:t}),a((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,t.useEffect)((function(){return c.containerId=e.containerId,Ge.cancelEmit(3).on(0,p).on(1,(function(e){return s.current&&d(e)})).on(5,u).emit(2,c),function(){return Ge.emit(3,c)}}),[]),(0,t.useEffect)((function(){c.isToastActive=l,c.displayedToast=i.length,Ge.emit(4,i.length,e.containerId)}),[i]),(0,t.useEffect)((function(){c.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(o.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:s,isToastActive:l}}function Xe(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function et(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function tt(e){var n=(0,t.useState)(!1),r=n[0],i=n[1],a=(0,t.useState)(!1),s=a[0],o=a[1],l=(0,t.useRef)(null),c=(0,t.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,t.useRef)(e),d=e.autoClose,h=e.pauseOnHover,p=e.closeToast,f=e.onClick,m=e.closeOnClick;function g(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",w),document.addEventListener("touchmove",x),document.addEventListener("touchend",w);var n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=Xe(t.nativeEvent),c.y=et(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function v(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,a=t.right;e.pauseOnHover&&c.x>=i&&c.x<=a&&c.y>=n&&c.y<=r?b():y()}}function y(){i(!0)}function b(){i(!1)}function x(t){var n=l.current;c.canDrag&&n&&(c.didMove=!0,r&&b(),c.x=Xe(t),c.y=et(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),n.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",n.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function w(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",w);var t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,t.useEffect)((function(){u.current=e})),(0,t.useEffect)((function(){return l.current&&l.current.addEventListener("d",y,{once:!0}),Ue(e.onOpen)&&e.onOpen((0,t.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;Ue(e.onClose)&&e.onClose((0,t.isValidElement)(e.children)&&e.children.props)}}),[]),(0,t.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||b();window.addEventListener("focus",y),window.addEventListener("blur",b)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",y),window.removeEventListener("blur",b))}}),[e.pauseOnFocusLoss]);var _={onMouseDown:g,onTouchStart:g,onMouseUp:v,onTouchEnd:v};return d&&h&&(_.onMouseEnter=b,_.onMouseLeave=y),m&&(_.onClick=function(e){f&&f(e),c.canCloseOnClick&&p()}),{playToast:y,pauseToast:b,isRunning:r,preventExitTransition:s,toastRef:l,eventHandlers:_}}function nt(e){var n=e.closeToast,r=e.theme,i=e.ariaLabel,a=void 0===i?"close":i;return(0,t.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:function(e){e.stopPropagation(),n(e)},"aria-label":a},(0,t.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rt(e){var n,r,i=e.delay,a=e.isRunning,s=e.closeToast,o=e.type,l=e.hide,c=e.className,u=e.style,d=e.controlledProgress,h=e.progress,p=e.rtl,f=e.isIn,m=e.theme,g=Le({},u,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:l?0:1});d&&(g.transform="scaleX("+h+")");var v=De("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+m,"Toastify__progress-bar--"+o,((n={})["Toastify__progress-bar--rtl"]=p,n)),y=Ue(c)?c({rtl:p,type:o,defaultClassName:v}):De(v,c),b=((r={})[d&&h>=1?"onTransitionEnd":"onAnimationEnd"]=d&&h<1?null:function(){f&&s()},r);return(0,t.createElement)("div",Object.assign({role:"progressbar","aria-hidden":l?"true":"false","aria-label":"notification timer",className:y,style:g},b))}rt.defaultProps={type:Ke.DEFAULT,hide:!1};var it=["theme","type"],at=function(e){var n=e.theme,r=e.type,i=Fe(e,it);return(0,t.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-"+r+")"},i))};var st={info:function(e){return(0,t.createElement)(at,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,t.createElement)(at,Object.assign({},e),(0,t.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,t.createElement)(at,Object.assign({},e),(0,t.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,t.createElement)(at,Object.assign({},e),(0,t.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,t.createElement)("div",{className:"Toastify__spinner"})}},ot=function(e){var n,r,i=tt(e),a=i.isRunning,s=i.preventExitTransition,o=i.toastRef,l=i.eventHandlers,c=e.closeButton,u=e.children,d=e.autoClose,h=e.onClick,p=e.type,f=e.hideProgressBar,m=e.closeToast,g=e.transition,v=e.position,y=e.className,b=e.style,x=e.bodyClassName,w=e.bodyStyle,_=e.progressClassName,k=e.progressStyle,j=e.updateId,S=e.role,N=e.progress,E=e.rtl,C=e.toastId,O=e.deleteToast,T=e.isIn,A=e.isLoading,P=e.icon,R=e.theme,M=De("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+p,((n={})["Toastify__toast--rtl"]=E,n)),I=Ue(y)?y({rtl:E,position:v,type:p,defaultClassName:M}):De(M,y),D=!!N,L=st[p],F={theme:R,type:p},z=L&&L(F);return!1===P?z=void 0:Ue(P)?z=P(F):(0,t.isValidElement)(P)?z=(0,t.cloneElement)(P,F):$e(P)?z=P:A&&(z=st.spinner()),(0,t.createElement)(g,{isIn:T,done:O,position:v,preventExitTransition:s,nodeRef:o},(0,t.createElement)("div",Object.assign({id:C,onClick:h,className:I},l,{style:b,ref:o}),(0,t.createElement)("div",Object.assign({},T&&{role:S},{className:Ue(x)?x({type:p}):De("Toastify__toast-body",x),style:w}),z&&(0,t.createElement)("div",{className:De("Toastify__toast-icon",(r={},r["Toastify--animate-icon Toastify__zoom-enter"]=!A,r))},z),(0,t.createElement)("div",null,u)),function(e){if(e){var n={closeToast:m,type:p,theme:R};return Ue(e)?e(n):(0,t.isValidElement)(e)?(0,t.cloneElement)(e,n):void 0}}(c),(d||D)&&(0,t.createElement)(rt,Object.assign({},j&&!D?{key:"pb-"+j}:{},{rtl:E,theme:R,delay:d,isRunning:a,isIn:T,closeToast:m,hide:f,type:p,style:k,className:_,controlledProgress:D,progress:N}))))},lt=Ye({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),ct=function(e){var n=Qe(e),r=n.getToastToRender,i=n.containerRef,a=n.isToastActive,s=e.className,o=e.style,l=e.rtl,c=e.containerId;function u(e){var t,n=De("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=l,t));return Ue(s)?s({position:e,rtl:l,defaultClassName:n}):De(n,He(s))}return(0,t.createElement)("div",{ref:i,className:"Toastify",id:c},r((function(e,n){var r=n.length?Le({},o):Le({},o,{pointerEvents:"none"});return(0,t.createElement)("div",{className:u(e),style:r,key:"container-"+e},n.map((function(e){var n=e.content,r=e.props;return(0,t.createElement)(ot,Object.assign({},r,{isIn:a(r.toastId),key:"toast-"+r.key,closeButton:!0===r.closeButton?nt:r.closeButton}),n)})))})))};ct.defaultProps={position:Ze.TOP_RIGHT,transition:lt,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:nt,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var ut,dt,ht,pt=new Map,ft=[],mt=!1;function gt(){return Math.random().toString(36).substring(2,9)}function vt(e){return e&&($e(e.toastId)||ze(e.toastId))?e.toastId:gt()}function yt(e,n){return pt.size>0?Ge.emit(0,e,n):(ft.push({content:e,options:n}),mt&&qe&&(mt=!1,dt=document.createElement("div"),document.body.appendChild(dt),(0,a.render)((0,t.createElement)(ct,Object.assign({},ht)),dt))),n.toastId}function bt(e,t){return Le({},t,{type:t&&t.type||e,toastId:vt(t)})}function xt(e){return function(t,n){return yt(t,bt(e,n))}}function wt(e,t){return yt(e,bt(Ke.DEFAULT,t))}function _t(){const e=document.querySelectorAll(".menu-item"),t=document.querySelector(".overlay");e.forEach((e=>{e.classList.remove("active");const t=e.querySelector(".sub-menu");t&&t.classList.remove("active")})),t&&t.classList.remove("active"),document.body.style.overflow=""}wt.loading=function(e,t){return yt(e,bt(Ke.DEFAULT,Le({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},wt.promise=function(e,t,n){var r,i=t.pending,a=t.error,s=t.success;i&&(r=$e(i)?wt.loading(i,n):wt.loading(i.render,Le({},n,i)));var o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=function(e,t,i){if(null!=t){var a=Le({type:e},o,n,{data:i}),s=$e(t)?{render:t}:t;return r?wt.update(r,Le({},a,s)):wt(s.render,Le({},a,s)),i}wt.dismiss(r)},c=Ue(e)?e():e;return c.then((function(e){return l("success",s,e)})).catch((function(e){return l("error",a,e)})),c},wt.success=xt(Ke.SUCCESS),wt.info=xt(Ke.INFO),wt.error=xt(Ke.ERROR),wt.warning=xt(Ke.WARNING),wt.warn=wt.warning,wt.dark=function(e,t){return yt(e,bt(Ke.DEFAULT,Le({theme:"dark"},t)))},wt.dismiss=function(e){return Ge.emit(1,e)},wt.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ge.emit(5,e)},wt.isActive=function(e){var t=!1;return pt.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},wt.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=pt.get(n||ut);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,a=Le({},r,t,{toastId:t.toastId||e,updateId:gt()});a.toastId!==e&&(a.staleId=e);var s=a.render||i;delete a.render,yt(s,a)}}),0)},wt.done=function(e){wt.update(e,{progress:1})},wt.onChange=function(e){return Ue(e)&&Ge.on(4,e),function(){Ue(e)&&Ge.off(4,e)}},wt.configure=function(e){void 0===e&&(e={}),mt=!0,ht=e},wt.POSITION=Ze,wt.TYPE=Ke,Ge.on(2,(function(e){ut=e.containerId||e,pt.set(ut,e),ft.forEach((function(e){Ge.emit(0,e.content,e.options)})),ft=[]})).on(3,(function(e){pt.delete(e.containerId||e),0===pt.size&&Ge.off(0).off(1).off(5),qe&&dt&&document.body.removeChild(dt)})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("health-overview");e&&e.addEventListener("click",(()=>{window.location.href="view-reports.html"}))}));const kt=()=>{const e=ee(),[n,r]=(0,t.useState)(!1),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!1);(0,t.useEffect)((()=>(function(){const e=document.querySelectorAll(".menu-item"),t=document.querySelector(".overlay");e.forEach((e=>{e.addEventListener("click",(n=>{n.preventDefault();const r=e.querySelector(".sub-menu");r&&(r.classList.toggle("active"),e.classList.toggle("active"),t&&t.classList.toggle("active"),document.body.style.overflow=r.classList.contains("active")?"hidden":"")}))})),t&&t.addEventListener("click",_t)}(),l(),c(),()=>{o(!1)})),[]);const l=async()=>{try{var e;const{data:{user:t}}=await Te.supabase.auth.getUser();t&&"admin"===(null===(e=t.user_metadata)||void 0===e?void 0:e.role)&&r(!0)}catch(t){console.error("Error checking user role:",t)}},c=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(e){const{data:t,error:n}=await Te.supabase.from("detailed_profiles").select("first_name, last_name, profile_picture").eq("id",e.id).single();!n&&t&&a(t)}}catch(e){console.error("Error fetching user profile:",e)}},u=t=>{t.preventDefault();const n=t.currentTarget.id;switch(o(!1),document.body.classList.remove("mobile-menu-open"),n){case"health-overview":e("/health-overview");break;case"medical-history":e("/medical-history");break;case"chronic-disease-management":e("/chronic-disease-management");break;case"vaccination-history":e("/vaccination-history");break;case"health-analytics":e("/health-analytics");break;case"medication-tracker":e("/medication-tracker");break;case"profile-settings":e("/profile");break;case"upcoming-appointments":e("/appointments/upcoming");break;case"appointment-history":e("/appointments/history");break;case"telehealth-consultations":e("/appointments/telehealth");break;case"appointment-reminders":e("/appointments/reminders");break;case"help-center":e("/help-center");break;case"contact-support":e("/support/contact");break;case"live-chat":e("/support/chat");break;case"security-settings":e("/settings/security");break;case"data-backup":e("/settings/backup");break;case"database-setup":e("/admin/database-setup");break;case"logout-div":d()}},d=async()=>{try{const{error:t}=await Te.supabase.auth.signOut();if(t)throw t;e("/")}catch(t){console.error("Error logging out:",t.message)}};return(0,t.useEffect)((()=>()=>{document.body.classList.remove("mobile-menu-open"),o(!1)}),[]),(0,Ae.jsx)("header",{className:"modern-navbar",children:(0,Ae.jsxs)("div",{className:"navbar-container",children:[(0,Ae.jsx)("div",{className:"navbar-logo",children:(0,Ae.jsx)(Ee,{to:"/dashboard",children:(0,Ae.jsx)("img",{src:"/DiGiHealthAdv/favicon_io/android-chrome-512x512-Photoroom.png",alt:"DigiHealth Logo",className:"logo-image"})})}),(0,Ae.jsxs)("button",{className:"hamburger-menu "+(s?"active":""),onClick:()=>{o(!s),document.body.classList.toggle("mobile-menu-open")},"aria-label":"Toggle menu",children:[(0,Ae.jsx)("span",{}),(0,Ae.jsx)("span",{}),(0,Ae.jsx)("span",{})]}),(0,Ae.jsxs)("nav",{id:"menu",className:"navbar-menu",children:[(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"Your Journey"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"health-overview",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-hospital-user"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Overview"}),(0,Ae.jsx)("div",{className:"sub-text",children:"See, add and update your Journey"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"vaccination-history",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-syringe"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Vaccination History"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View and manage vaccinations"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"medication-tracker",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-pills"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medication Tracker"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Track prescribed medications"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"health-analytics",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-chart-line"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Analytics"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View your health trends"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"Appointments"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"upcoming-appointments",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-calendar-check"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Upcoming Appointments"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View and manage appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"appointment-history",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-history"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Appointment History"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Check past appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"telehealth-consultations",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-phone-alt"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Telehealth Consultations"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Book virtual appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"appointment-reminders",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-clock"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Appointment Reminders"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Set and manage reminders"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"Support"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"help-center",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-book"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Help Center"}),(0,Ae.jsx)("div",{className:"sub-text",children:"FAQs and tutorials"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"contact-support",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-life-ring"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Contact Support"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Reach out to our team"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"live-chat",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-comment-dots"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Live Chat"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Chat with support agents"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"AI Tools"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-health-metrics",onClick:t=>{t.preventDefault(),e("/ai/health-metrics")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-chart-bar"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Metrics AI"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Smart analysis of your health data"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-symptom-checker",onClick:t=>{t.preventDefault(),e("/ai/symptom-checker")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-stethoscope"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Symptom Checker"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI-powered symptom analysis"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-document-scanner",onClick:t=>{t.preventDefault(),e("/ai/document-scanner")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-file-medical-alt"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Document Scanner"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Extract text from medical documents"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-medication-identifier",onClick:t=>{t.preventDefault(),e("/ai/medication-identifier")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-pills"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medication Identifier"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Identify pills from images"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-image-analysis",onClick:t=>{t.preventDefault(),e("/ai/image-analysis")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-microscope"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medical Image Analysis"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI analysis of medical images"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-health-assistant",onClick:t=>{t.preventDefault(),e("/ai/health-assistant")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-robot"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Assistant"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI health chat assistant"})]})]})]})]})]}),(0,Ae.jsxs)("div",{className:"mobile-drawer "+(s?"active":""),children:[(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"Your Journey"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"health-overview",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-hospital-user"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Overview"}),(0,Ae.jsx)("div",{className:"sub-text",children:"See, add and update your Journey"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"vaccination-history",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-syringe"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Vaccination History"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View and manage vaccinations"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"medication-tracker",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-pills"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medication Tracker"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Track prescribed medications"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"health-analytics",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-chart-line"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Analytics"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View your health trends"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"Appointments"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"upcoming-appointments",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-calendar-check"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Upcoming Appointments"}),(0,Ae.jsx)("div",{className:"sub-text",children:"View and manage appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"appointment-history",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-history"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Appointment History"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Check past appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"telehealth-consultations",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-phone-alt"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Telehealth Consultations"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Book virtual appointments"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"appointment-reminders",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-clock"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Appointment Reminders"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Set and manage reminders"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"menu-item",children:[(0,Ae.jsx)("div",{className:"menu-text",children:(0,Ae.jsx)("a",{href:"#","data-link":!0,children:"AI Tools"})}),(0,Ae.jsxs)("div",{className:"sub-menu double",children:[(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-health-metrics",onClick:t=>{t.preventDefault(),e("/ai/health-metrics")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-chart-bar"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Metrics AI"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Smart analysis of your health data"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-symptom-checker",onClick:t=>{t.preventDefault(),e("/ai/symptom-checker")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-stethoscope"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Symptom Checker"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI-powered symptom analysis"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-document-scanner",onClick:t=>{t.preventDefault(),e("/ai/document-scanner")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-file-medical-alt"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Document Scanner"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Extract text from medical documents"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-medication-identifier",onClick:t=>{t.preventDefault(),e("/ai/medication-identifier")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-pills"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medication Identifier"}),(0,Ae.jsx)("div",{className:"sub-text",children:"Identify pills from images"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-image-analysis",onClick:t=>{t.preventDefault(),e("/ai/image-analysis")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-microscope"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Medical Image Analysis"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI analysis of medical images"})]})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"ai-health-assistant",onClick:t=>{t.preventDefault(),e("/ai/health-assistant")},children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-robot"})}),(0,Ae.jsxs)("div",{className:"text",children:[(0,Ae.jsx)("div",{className:"title",children:"Health Assistant"}),(0,Ae.jsx)("div",{className:"sub-text",children:"AI health chat assistant"})]})]})]})]})]}),(0,Ae.jsx)("div",{className:"mobile-overlay "+(s?"active":""),onClick:()=>o(!1)}),(0,Ae.jsx)("div",{className:"navbar-profile",children:(0,Ae.jsxs)("div",{className:"profile-menu menu-item",children:[(0,Ae.jsx)("div",{className:"profile-button",children:null!==i&&void 0!==i&&i.profile_picture?(0,Ae.jsx)("img",{src:i.profile_picture,alt:"Profile",className:"profile-image"}):(0,Ae.jsx)("div",{className:"profile-avatar",children:(0,Ae.jsx)("i",{className:"fas fa-user"})})}),(0,Ae.jsxs)("div",{className:"sub-menu profile-dropdown",children:[(0,Ae.jsx)("div",{className:"profile-info",children:(0,Ae.jsx)("div",{className:"profile-name",children:i?`${i.first_name||""} ${i.last_name||""}`:"User"})}),(0,Ae.jsxs)("div",{className:"icon-box",id:"profile-settings",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-user-cog"})}),(0,Ae.jsx)("div",{className:"text",children:(0,Ae.jsx)("div",{className:"title",children:"Profile Settings"})})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"security-settings",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-shield-alt"})}),(0,Ae.jsx)("div",{className:"text",children:(0,Ae.jsx)("div",{className:"title",children:"Security Settings"})})]}),(0,Ae.jsxs)("div",{className:"icon-box",id:"data-backup",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-database"})}),(0,Ae.jsx)("div",{className:"text",children:(0,Ae.jsx)("div",{className:"title",children:"Data Backup"})})]}),n&&(0,Ae.jsxs)("div",{className:"icon-box",id:"database-setup",onClick:u,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-server"})}),(0,Ae.jsx)("div",{className:"text",children:(0,Ae.jsx)("div",{className:"title",children:"Database Setup"})})]}),(0,Ae.jsxs)("div",{className:"icon-box logout",id:"logout-div",onClick:d,children:[(0,Ae.jsx)("div",{className:"icon",children:(0,Ae.jsx)("i",{className:"fa fa-sign-out-alt"})}),(0,Ae.jsx)("div",{className:"text",children:(0,Ae.jsx)("div",{className:"title",children:"Logout"})})]})]})]})})]})})},jt=()=>(0,Ae.jsx)("footer",{className:"modern-footer",children:(0,Ae.jsxs)("div",{className:"footer-content",children:[(0,Ae.jsx)("div",{className:"footer-info",children:(0,Ae.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," DiGiHealth. All rights reserved."]})}),(0,Ae.jsxs)("div",{className:"footer-links",children:[(0,Ae.jsx)("a",{href:"/terms",children:"Terms"}),(0,Ae.jsx)("a",{href:"/privacy",children:"Privacy"}),(0,Ae.jsx)("a",{href:"/support",children:"Support"})]})]})}),St=e=>{let{children:t}=e;return(0,Ae.jsxs)("div",{className:"dashboard-layout",children:[(0,Ae.jsx)(kt,{}),(0,Ae.jsx)("main",{className:"dashboard-main",children:(0,Ae.jsx)("div",{className:"content-wrapper",children:t})}),(0,Ae.jsx)(jt,{}),(0,Ae.jsx)("style",{children:"\n          .dashboard-layout {\n            min-height: 100vh;\n            display: flex;\n            flex-direction: column;\n            width: 100%;\n            max-width: 100vw;\n            overflow-x: hidden;\n            padding-top: var(--navbar-height);\n          }\n\n          .dashboard-main {\n            flex: 1;\n            width: 100%;\n            max-width: 100%;\n            box-sizing: border-box;\n            padding: 1.5rem 1rem;\n          }\n\n          .content-wrapper {\n            width: 100%;\n            max-width: 100%;\n            margin: 0 auto;\n            box-sizing: border-box;\n            overflow-x: hidden;\n          }\n\n          @media (max-width: 768px) {\n            .dashboard-layout {\n              padding-top: calc(var(--navbar-height) + 1rem);\n            }\n            \n            .dashboard-main {\n              padding: 1rem 0.5rem;\n            }\n\n            .content-wrapper {\n              padding: 0;\n            }\n          }\n        "})]})},Nt=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(""),b=ee(),x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";console.log(`Notification: ${e}, Type: ${t}`),i({message:e,type:t}),setTimeout((()=>i(null)),3e3)},w=t=>{t&&t.preventDefault(),n(!e)};return(0,Ae.jsxs)("div",{id:"app",className:"auth-container",children:[(0,Ae.jsx)("header",{className:"auth-header",children:(0,Ae.jsx)("img",{src:"/DiGiHealthAdv/favicon_io/android-chrome-512x512-Photoroom.png",alt:"Logo",className:"logo",style:{width:"200px",height:"auto"}})}),r&&(0,Ae.jsx)("div",{className:`alert alert-${r.type} alert-dismissible fade show`,role:"alert",children:r.message}),(0,Ae.jsx)("div",{id:"login-signup",className:e?"signup-mode":"login-mode",children:e?(0,Ae.jsx)("div",{id:"signup-form",className:"active",children:(0,Ae.jsxs)("form",{className:"form",onSubmit:async e=>{if(e.preventDefault(),m===v)try{const{data:e,error:t}=await Te.supabase.auth.signUp({email:p,password:m,options:{data:{first_name:c,last_name:d}}});if(t)throw t;if(e.user){const{error:t}=await Te.supabase.from("detailed_profiles").insert([{id:e.user.id,first_name:c,last_name:d,email:p,created_at:(new Date).toISOString(),updated_at:(new Date).toISOString()}]);if(t)throw t}x("Account created successfully!","success"),n(!1)}catch(t){console.error("Signup error:",t.message),x(t.message,"danger")}else x("Passwords don't match","error")},children:[(0,Ae.jsx)("p",{className:"message",children:"Signup now"}),(0,Ae.jsxs)("div",{className:"flex",children:[(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"firstname",type:"text",className:"input",placeholder:" ",value:c,onChange:e=>u(e.target.value)}),(0,Ae.jsx)("span",{children:"Firstname"})]}),(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"lastname",type:"text",className:"input",placeholder:" ",value:d,onChange:e=>h(e.target.value)}),(0,Ae.jsx)("span",{children:"Lastname"})]})]}),(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"email",type:"email",className:"input",id:"signup-email",placeholder:" ",value:p,onChange:e=>f(e.target.value)}),(0,Ae.jsx)("span",{children:"Email"})]}),(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"password",type:"password",className:"input",id:"signup-password",placeholder:" ",value:m,onChange:e=>g(e.target.value)}),(0,Ae.jsx)("span",{children:"Password"})]}),(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"confirmPassword",type:"password",className:"input",placeholder:" ",value:v,onChange:e=>y(e.target.value)}),(0,Ae.jsx)("span",{children:"Confirm password"})]}),(0,Ae.jsx)("button",{type:"submit",className:"submit",children:"Sign Up"}),(0,Ae.jsxs)("div",{className:"signin",children:[(0,Ae.jsx)("span",{children:"Already have an account?"}),(0,Ae.jsx)("a",{href:"#",onClick:w,className:"signin-link",children:"Sign in"})]})]})}):(0,Ae.jsxs)("div",{id:"login-form",className:"active",children:[(0,Ae.jsx)("h2",{children:"Login"}),(0,Ae.jsxs)("form",{className:"form1",onSubmit:async e=>{e.preventDefault();try{const{error:e}=await Te.supabase.auth.signInWithPassword({email:a,password:o});if(e)throw e;x("Login successful!","success"),setTimeout((()=>{b("/dashboard")}),3e3)}catch(t){console.error("Login error:",t.message),x(t.message,"danger")}},children:[(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"email",type:"email",className:"input",id:"login-email",autoComplete:"new-password",value:a,onChange:e=>s(e.target.value),placeholder:" "}),(0,Ae.jsx)("span",{children:"Email"})]}),(0,Ae.jsxs)("label",{children:[(0,Ae.jsx)("input",{required:!0,name:"password",type:"password",className:"input",id:"login-password",autoComplete:"login-password",value:o,onChange:e=>l(e.target.value),placeholder:" "}),(0,Ae.jsx)("span",{children:"Password"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("button",{type:"submit",id:"login-button",children:"Login"}),(0,Ae.jsx)("button",{type:"button",onClick:w,children:"Sign Up"})]})]})]})})]})};var Et={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ct=t.createContext&&t.createContext(Et),Ot=["attr","size","title"];function Tt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function At(){return At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Rt({key:n},e.attr),It(e.child))))}function Dt(e){return n=>t.createElement(Lt,At({attr:Rt({},e.attr)},n),It(e.child))}function Lt(e){var n=n=>{var r,{attr:i,size:a,title:s}=e,o=Tt(e,Ot),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",At({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:r,style:Rt(Rt({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==Ct?t.createElement(Ct.Consumer,null,(e=>n(e))):n(Et)}function Ft(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(e)}function zt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function Bt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M208 0c-29.9 0-54.7 20.5-61.8 48.2-.8 0-1.4-.2-2.2-.2-35.3 0-64 28.7-64 64 0 4.8.6 9.5 1.7 14C52.5 138 32 166.6 32 200c0 12.6 3.2 24.3 8.3 34.9C16.3 248.7 0 274.3 0 304c0 33.3 20.4 61.9 49.4 73.9-.9 4.6-1.4 9.3-1.4 14.1 0 39.8 32.2 72 72 72 4.1 0 8.1-.5 12-1.2 9.6 28.5 36.2 49.2 68 49.2 39.8 0 72-32.2 72-72V64c0-35.3-28.7-64-64-64zm368 304c0-29.7-16.3-55.3-40.3-69.1 5.2-10.6 8.3-22.3 8.3-34.9 0-33.4-20.5-62-49.7-74 1-4.5 1.7-9.2 1.7-14 0-35.3-28.7-64-64-64-.8 0-1.5.2-2.2.2C422.7 20.5 397.9 0 368 0c-35.3 0-64 28.6-64 64v376c0 39.8 32.2 72 72 72 31.8 0 58.4-20.7 68-49.2 3.9.7 7.9 1.2 12 1.2 39.8 0 72-32.2 72-72 0-4.8-.5-9.5-1.4-14.1 29-12 49.4-40.6 49.4-73.9z"},child:[]}]})(e)}function $t(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function Ut(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z"},child:[]}]})(e)}function Ht(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function Vt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function qt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function Wt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function Zt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function Kt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}function Yt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function Gt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function Jt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 256c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm-176-80c48.5 0 88-39.5 88-88S368.5 0 320 0s-88 39.5-88 88 39.5 88 88 88zM59.8 364c10.2 15.3 29.3 17.8 42.9 9.8 16.2-9.6 56.2-31.7 105.3-48.6V416h224v-90.7c49.1 16.8 89.1 39 105.3 48.6 13.6 8 32.7 5.3 42.9-9.8l17.8-26.7c8.8-13.2 7.6-34.6-10-45.1-11.9-7.1-29.7-17-51.1-27.4-28.1 46.1-99.4 17.8-87.7-35.1C409.3 217.2 365.1 208 320 208c-57 0-112.9 14.5-160 32.2-.2 40.2-47.6 63.3-79.2 36-11.2 6-21.3 11.6-28.7 16-17.6 10.5-18.8 31.8-10 45.1L59.8 364zM368 344c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-96-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-160 8c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm512 192H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16z"},child:[]}]})(e)}function Qt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Xt(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function en(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function tn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function nn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function rn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm76.45 211.36l-96.42 95.7c-6.65 6.61-17.39 6.61-24.04 0l-96.42-95.7C73.42 337.29 80.54 320 94.82 320H160v-80c0-8.84 7.16-16 16-16h32c8.84 0 16 7.16 16 16v80h65.18c14.28 0 21.4 17.29 11.27 27.36zM377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9z"},child:[]}]})(e)}function an(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 160v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8z"},child:[]}]})(e)}function sn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function on(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm57.1 120H305c7.7 0 13.4 7.1 11.7 14.7l-38 168c-1.2 5.5-6.1 9.3-11.7 9.3h-38c-5.5 0-10.3-3.8-11.6-9.1-25.8-103.5-20.8-81.2-25.6-110.5h-.5c-1.1 14.3-2.4 17.4-25.6 110.5-1.3 5.3-6.1 9.1-11.6 9.1H117c-5.6 0-10.5-3.9-11.7-9.4l-37.8-168c-1.7-7.5 4-14.6 11.7-14.6h24.5c5.7 0 10.7 4 11.8 9.7 15.6 78 20.1 109.5 21 122.2 1.6-10.2 7.3-32.7 29.4-122.7 1.3-5.4 6.1-9.1 11.7-9.1h29.1c5.6 0 10.4 3.8 11.7 9.2 24 100.4 28.8 124 29.6 129.4-.2-11.2-2.6-17.8 21.6-129.2 1-5.6 5.9-9.5 11.5-9.5zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function ln(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm160-14.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function cn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(e)}function un(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(e)}function dn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(e)}function hn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(e)}function pn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function fn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function mn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm173.696 119.559l-63.399 63.399c-10.987-18.559-26.67-34.252-45.255-45.255l63.399-63.399a218.396 218.396 0 0 1 45.255 45.255zM256 352c-53.019 0-96-42.981-96-96s42.981-96 96-96 96 42.981 96 96-42.981 96-96 96zM127.559 82.304l63.399 63.399c-18.559 10.987-34.252 26.67-45.255 45.255l-63.399-63.399a218.372 218.372 0 0 1 45.255-45.255zM82.304 384.441l63.399-63.399c10.987 18.559 26.67 34.252 45.255 45.255l-63.399 63.399a218.396 218.396 0 0 1-45.255-45.255zm302.137 45.255l-63.399-63.399c18.559-10.987 34.252-26.67 45.255-45.255l63.399 63.399a218.403 218.403 0 0 1-45.255 45.255z"},child:[]}]})(e)}function gn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function vn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function yn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zM128 120c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm0 96c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zm288-136v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12zm0 96v-32c0-6.627-5.373-12-12-12H204c-6.627 0-12 5.373-12 12v32c0 6.627 5.373 12 12 12h200c6.627 0 12-5.373 12-12z"},child:[]}]})(e)}function bn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function xn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M636.11 390.15C614.44 308.85 580.07 231 534.1 159.13 511.98 124.56 498.03 96 454.05 96 415.36 96 384 125.42 384 161.71v60.11l-32.88-21.92a15.996 15.996 0 0 1-7.12-13.31V16c0-8.84-7.16-16-16-16h-16c-8.84 0-16 7.16-16 16v170.59c0 5.35-2.67 10.34-7.12 13.31L256 221.82v-60.11C256 125.42 224.64 96 185.95 96c-43.98 0-57.93 28.56-80.05 63.13C59.93 231 25.56 308.85 3.89 390.15 1.3 399.84 0 409.79 0 419.78c0 61.23 62.48 105.44 125.24 88.62l59.5-15.95c42.18-11.3 71.26-47.47 71.26-88.62v-87.49l-85.84 57.23a7.992 7.992 0 0 1-11.09-2.22l-8.88-13.31a7.992 7.992 0 0 1 2.22-11.09L320 235.23l167.59 111.72a7.994 7.994 0 0 1 2.22 11.09l-8.88 13.31a7.994 7.994 0 0 1-11.09 2.22L384 316.34v87.49c0 41.15 29.08 77.31 71.26 88.62l59.5 15.95C577.52 525.22 640 481.01 640 419.78c0-9.99-1.3-19.94-3.89-29.63z"},child:[]}]})(e)}function wn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function _n(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(e)}function kn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function jn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M112 32C50.1 32 0 82.1 0 144v224c0 61.9 50.1 112 112 112s112-50.1 112-112V144c0-61.9-50.1-112-112-112zm48 224H64V144c0-26.5 21.5-48 48-48s48 21.5 48 48v112zm139.7-29.7c-3.5-3.5-9.4-3.1-12.3.8-45.3 62.5-40.4 150.1 15.9 206.4 56.3 56.3 143.9 61.2 206.4 15.9 4-2.9 4.3-8.8.8-12.3L299.7 226.3zm229.8-19c-56.3-56.3-143.9-61.2-206.4-15.9-4 2.9-4.3 8.8-.8 12.3l210.8 210.8c3.5 3.5 9.4 3.1 12.3-.8 45.3-62.6 40.5-150.1-15.9-206.4z"},child:[]}]})(e)}function Sn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function Nn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function En(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Cn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function On(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Tn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(e)}function An(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M224,192a16,16,0,1,0,16,16A16,16,0,0,0,224,192ZM466.5,83.68l-192-80A57.4,57.4,0,0,0,256.05,0a57.4,57.4,0,0,0-18.46,3.67l-192,80A47.93,47.93,0,0,0,16,128C16,326.5,130.5,463.72,237.5,508.32a48.09,48.09,0,0,0,36.91,0C360.09,472.61,496,349.3,496,128A48,48,0,0,0,466.5,83.68ZM384,256H371.88c-28.51,0-42.79,34.47-22.63,54.63l8.58,8.57a16,16,0,1,1-22.63,22.63l-8.57-8.58C306.47,313.09,272,327.37,272,355.88V368a16,16,0,0,1-32,0V355.88c0-28.51-34.47-42.79-54.63-22.63l-8.57,8.58a16,16,0,0,1-22.63-22.63l8.58-8.57c20.16-20.16,5.88-54.63-22.63-54.63H128a16,16,0,0,1,0-32h12.12c28.51,0,42.79-34.47,22.63-54.63l-8.58-8.57a16,16,0,0,1,22.63-22.63l8.57,8.58c20.16,20.16,54.63,5.88,54.63-22.63V112a16,16,0,0,1,32,0v12.12c0,28.51,34.47,42.79,54.63,22.63l8.57-8.58a16,16,0,0,1,22.63,22.63l-8.58,8.57C329.09,189.53,343.37,224,371.88,224H384a16,16,0,0,1,0,32Zm-96,0a16,16,0,1,0,16,16A16,16,0,0,0,288,256Z"},child:[]}]})(e)}function Pn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function Rn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"},child:[]}]})(e)}function Mn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M201.5 174.8l55.7 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0l-55.7-55.8-45.3 45.3 55.8 55.8c3.1 3.1 3.1 8.2 0 11.3l-11.3 11.3c-3.1 3.1-8.2 3.1-11.3 0L111 265.2l-26.4 26.4c-17.3 17.3-25.6 41.1-23 65.4l7.1 63.6L2.3 487c-3.1 3.1-3.1 8.2 0 11.3l11.3 11.3c3.1 3.1 8.2 3.1 11.3 0l66.3-66.3 63.6 7.1c23.9 2.6 47.9-5.4 65.4-23l181.9-181.9-135.7-135.7-64.9 65zm308.2-93.3L430.5 2.3c-3.1-3.1-8.2-3.1-11.3 0l-11.3 11.3c-3.1 3.1-3.1 8.2 0 11.3l28.3 28.3-45.3 45.3-56.6-56.6-17-17c-3.1-3.1-8.2-3.1-11.3 0l-33.9 33.9c-3.1 3.1-3.1 8.2 0 11.3l17 17L424.8 223l17 17c3.1 3.1 8.2 3.1 11.3 0l33.9-34c3.1-3.1 3.1-8.2 0-11.3l-73.5-73.5 45.3-45.3 28.3 28.3c3.1 3.1 8.2 3.1 11.3 0l11.3-11.3c3.1-3.2 3.1-8.2 0-11.4z"},child:[]}]})(e)}function In(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z"},child:[]}]})(e)}function Dn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Ln(e){return Dt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(e)}function Fn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function zn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function Bn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function $n(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function Un(e){return Dt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 96 128a128 128 0 0 0 128 128zm96 64a63.08 63.08 0 0 1 8.1-30.5c-4.8-.5-9.5-1.5-14.5-1.5h-16.7a174.08 174.08 0 0 1-145.8 0h-16.7A134.43 134.43 0 0 0 0 422.4V464a48 48 0 0 0 48 48h280.9a63.54 63.54 0 0 1-8.9-32zm288-32h-32v-80a80 80 0 0 0-160 0v80h-32a32 32 0 0 0-32 32v160a32 32 0 0 0 32 32h224a32 32 0 0 0 32-32V320a32 32 0 0 0-32-32zM496 432a32 32 0 1 1 32-32 32 32 0 0 1-32 32zm32-144h-64v-80a32 32 0 0 1 64 0z"},child:[]}]})(e)}function Hn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(e)}function Vn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function qn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}function Wn(e){return Dt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M448 64h-25.98C438.44 92.28 448 125.01 448 160c0 105.87-86.13 192-192 192S64 265.87 64 160c0-34.99 9.56-67.72 25.98-96H64C28.71 64 0 92.71 0 128v320c0 35.29 28.71 64 64 64h384c35.29 0 64-28.71 64-64V128c0-35.29-28.71-64-64-64zM256 320c88.37 0 160-71.63 160-160S344.37 0 256 0 96 71.63 96 160s71.63 160 160 160zm-.3-151.94l33.58-78.36c3.5-8.17 12.94-11.92 21.03-8.41 8.12 3.48 11.88 12.89 8.41 21l-33.67 78.55C291.73 188 296 197.45 296 208c0 22.09-17.91 40-40 40s-40-17.91-40-40c0-21.98 17.76-39.77 39.7-39.94z"},child:[]}]})(e)}const Zn=()=>{const e=ee(),[n,r]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"patient"}),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!1),l=e=>{r({...n,[e.target.name]:e.target.value})};return(0,Ae.jsx)("div",{className:"container mt-5",children:(0,Ae.jsx)("div",{className:"row justify-content-center",children:(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)("div",{className:"card shadow",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h2",{className:"text-center mb-4",children:"Register"}),i&&(0,Ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:i}),(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a(null),o(!0),n.password!==n.confirmPassword)return a("Passwords do not match"),void o(!1);try{const{data:t,error:r}=await Te.supabase.auth.signUp({email:n.email,password:n.password,options:{data:{first_name:n.firstName,last_name:n.lastName,role:n.role}}});if(r)throw r;if(t.user){const{error:e}=await Te.supabase.from("detailed_profiles").insert([{id:t.user.id,first_name:n.firstName,last_name:n.lastName,email:n.email,created_at:(new Date).toISOString()}]);if(e)throw e;const{error:r}=await Te.supabase.from("profiles").insert([{id:t.user.id,full_name:`${n.firstName} ${n.lastName}`,email:n.email,role:n.role,created_at:(new Date).toISOString()}]);if(r)throw r}e("/dashboard")}catch(i){a(i.message)}finally{o(!1)}},children:[(0,Ae.jsxs)("div",{className:"row mb-3",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsx)("label",{className:"form-label",children:"First Name"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(Vn,{})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",name:"firstName",value:n.firstName,onChange:l,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Last Name"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(Vn,{})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",name:"lastName",value:n.lastName,onChange:l,required:!0})]})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Email"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(en,{})}),(0,Ae.jsx)("input",{type:"email",className:"form-control",name:"email",value:n.email,onChange:l,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Password"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(bn,{})}),(0,Ae.jsx)("input",{type:"password",className:"form-control",name:"password",value:n.password,onChange:l,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(bn,{})}),(0,Ae.jsx)("input",{type:"password",className:"form-control",name:"confirmPassword",value:n.confirmPassword,onChange:l,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Role"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(Hn,{})}),(0,Ae.jsxs)("select",{className:"form-select",name:"role",value:n.role,onChange:l,children:[(0,Ae.jsx)("option",{value:"patient",children:"Patient"}),(0,Ae.jsx)("option",{value:"doctor",children:"Doctor"}),(0,Ae.jsx)("option",{value:"admin",children:"Admin"})]})]})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:s,children:s?"Registering...":"Register"})]}),(0,Ae.jsxs)("div",{className:"text-center mt-3",children:["Already have an account?"," ",(0,Ae.jsx)("a",{href:"/",className:"text-decoration-none",children:"Login"})]})]})})})})})},Kn=()=>(0,Ae.jsx)("div",{className:"spinner-overlay",children:(0,Ae.jsxs)("div",{className:"medical-spinner",children:[(0,Ae.jsxs)("div",{className:"spinner-container",children:[(0,Ae.jsxs)("div",{className:"cross-container",children:[(0,Ae.jsx)("div",{className:"cross-horizontal"}),(0,Ae.jsx)("div",{className:"cross-vertical"})]}),(0,Ae.jsx)("div",{className:"spinner-ring"})]}),(0,Ae.jsx)("div",{className:"heartbeat-container",children:(0,Ae.jsx)("svg",{viewBox:"0 0 400 100",className:"ecg-line",children:(0,Ae.jsx)("polyline",{className:"ecg-path",points:"0,50 30,50 45,50 60,20 75,80 90,50 105,50 120,50 150,50 170,50 185,50 200,20 215,80 230,50 245,50 270,50 300,50 320,50 335,50 350,20 365,80 380,50 395,50 400,50",fill:"none",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Ae.jsx)("div",{className:"spinner-text",children:"Loading..."})]})});var Yn=n(139),Gn=n.n(Yn);const Jn=["xxl","xl","lg","md","sm","xs"],Qn="xs",Xn=t.createContext({prefixes:{},breakpoints:Jn,minBreakpoint:Qn}),{Consumer:er,Provider:tr}=Xn;function nr(e,n){const{prefixes:r}=(0,t.useContext)(Xn);return e||r[n]||n}function rr(){const{breakpoints:e}=(0,t.useContext)(Xn);return e}function ir(){const{minBreakpoint:e}=(0,t.useContext)(Xn);return e}const ar=t.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:i="border",size:a,as:s="div",className:o,...l}=e;n=nr(n,"spinner");const c=`${n}-${i}`;return(0,Ae.jsx)(s,{ref:t,...l,className:Gn()(o,c,a&&`${c}-${a}`,r&&`text-${r}`)})}));ar.displayName="Spinner";const sr=ar,or=["as","disabled"];function lr(e){let{tagName:t,disabled:n,href:r,target:i,rel:a,role:s,onClick:o,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=a?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const cr=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,or);const[a,{tagName:s}]=lr(Object.assign({tagName:n,disabled:r},i));return(0,Ae.jsx)(s,Object.assign({},i,a,{ref:t}))}));cr.displayName="Button";const ur=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:a,active:s=!1,disabled:o=!1,className:l,...c}=e;const u=nr(r,"btn"),[d,{tagName:h}]=lr({tagName:n,disabled:o,...c}),p=h;return(0,Ae.jsx)(p,{...d,...c,ref:t,disabled:o,className:Gn()(l,u,s&&"active",i&&`${u}-${i}`,a&&`${u}-${a}`,c.href&&o&&"disabled")})}));ur.displayName="Button";const dr=ur,hr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"card-body"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));hr.displayName="CardBody";const pr=hr,fr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"card-footer"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));fr.displayName="CardFooter";const mr=fr,gr=t.createContext(null);gr.displayName="CardHeaderContext";const vr=gr,yr=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:a="div",...s}=e;const o=nr(r,"card-header"),l=(0,t.useMemo)((()=>({cardHeaderBsPrefix:o})),[o]);return(0,Ae.jsx)(vr.Provider,{value:l,children:(0,Ae.jsx)(a,{ref:n,...s,className:Gn()(i,o)})})}));yr.displayName="CardHeader";const br=yr,xr=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:a="img",...s}=e;const o=nr(n,"card-img");return(0,Ae.jsx)(a,{ref:t,className:Gn()(i?`${o}-${i}`:o,r),...s})}));xr.displayName="CardImg";const wr=xr,_r=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"card-img-overlay"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));_r.displayName="CardImgOverlay";const kr=_r,jr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...a}=e;return r=nr(r,"card-link"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));jr.displayName="CardLink";const Sr=jr,Nr=e=>t.forwardRef(((t,n)=>(0,Ae.jsx)("div",{...t,ref:n,className:Gn()(t.className,e)}))),Er=Nr("h6"),Cr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Er,...a}=e;return r=nr(r,"card-subtitle"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Cr.displayName="CardSubtitle";const Or=Cr,Tr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...a}=e;return r=nr(r,"card-text"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Tr.displayName="CardText";const Ar=Tr,Pr=Nr("h5"),Rr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Pr,...a}=e;return r=nr(r,"card-title"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Rr.displayName="CardTitle";const Mr=Rr,Ir=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:a,border:s,body:o=!1,children:l,as:c="div",...u}=e;const d=nr(n,"card");return(0,Ae.jsx)(c,{ref:t,...u,className:Gn()(r,d,i&&`bg-${i}`,a&&`text-${a}`,s&&`border-${s}`),children:o?(0,Ae.jsx)(pr,{children:l}):l})}));Ir.displayName="Card";const Dr=Object.assign(Ir,{Img:wr,Title:Mr,Subtitle:Or,Body:pr,Link:Sr,Text:Ar,Header:br,Footer:mr,ImgOverlay:kr});var Lr=n(173),Fr=n.n(Lr);const zr={type:Fr().string,tooltip:Fr().bool,as:Fr().elementType},Br=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:a=!1,...s}=e;return(0,Ae.jsx)(n,{...s,ref:t,className:Gn()(r,`${i}-${a?"tooltip":"feedback"}`)})}));Br.displayName="Feedback",Br.propTypes=zr;const $r=Br,Ur=t.createContext({}),Hr=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:a,type:s="checkbox",isValid:o=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:d}=(0,t.useContext)(Ur);return i=nr(i,"form-check-input"),(0,Ae.jsx)(c,{...u,ref:n,type:s,id:r||d,className:Gn()(a,i,o&&"is-valid",l&&"is-invalid")})}));Hr.displayName="FormCheckInput";const Vr=Hr,qr=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:a,...s}=e;const{controlId:o}=(0,t.useContext)(Ur);return r=nr(r,"form-check-label"),(0,Ae.jsx)("label",{...s,ref:n,htmlFor:a||o,className:Gn()(i,r)})}));qr.displayName="FormCheckLabel";const Wr=qr;const Zr=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:a,inline:s=!1,reverse:o=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:d=!1,feedback:h,feedbackType:p,className:f,style:m,title:g="",type:v="checkbox",label:y,children:b,as:x="input",...w}=e;i=nr(i,"form-check"),a=nr(a,"form-switch");const{controlId:_}=(0,t.useContext)(Ur),k=(0,t.useMemo)((()=>({controlId:r||_})),[_,r]),j=!b&&null!=y&&!1!==y||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(b,Wr),S=(0,Ae.jsx)(Vr,{...w,type:"switch"===v?"checkbox":v,ref:n,isValid:c,isInvalid:u,disabled:l,as:x});return(0,Ae.jsx)(Ur.Provider,{value:k,children:(0,Ae.jsx)("div",{style:m,className:Gn()(f,j&&i,s&&`${i}-inline`,o&&`${i}-reverse`,"switch"===v&&a),children:b||(0,Ae.jsxs)(Ae.Fragment,{children:[S,j&&(0,Ae.jsx)(Wr,{title:g,children:y}),h&&(0,Ae.jsx)($r,{type:p,tooltip:d,children:h})]})})})}));Zr.displayName="FormCheck";const Kr=Object.assign(Zr,{Input:Vr,Label:Wr});n(440);const Yr=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:a,htmlSize:s,id:o,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:d,readOnly:h,as:p="input",...f}=e;const{controlId:m}=(0,t.useContext)(Ur);return r=nr(r,"form-control"),(0,Ae.jsx)(p,{...f,type:i,size:s,ref:n,readOnly:h,id:o||m,className:Gn()(l,d?`${r}-plaintext`:r,a&&`${r}-${a}`,"color"===i&&`${r}-color`,c&&"is-valid",u&&"is-invalid")})}));Yr.displayName="FormControl";const Gr=Object.assign(Yr,{Feedback:$r}),Jr=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"form-floating"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Jr.displayName="FormFloating";const Qr=Jr,Xr=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...a}=e;const s=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,Ae.jsx)(Ur.Provider,{value:s,children:(0,Ae.jsx)(i,{...a,ref:n})})}));Xr.displayName="FormGroup";const ei=Xr;const ti=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:a,spans:s}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=nr(n,"col");const a=rr(),s=ir(),o=[],l=[];return a.forEach((e=>{const t=i[e];let r,a,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:a,order:c}=t):r=t;const u=e!==s?`-${e}`:"";r&&o.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=c&&l.push(`order${u}-${c}`),null!=a&&l.push(`offset${u}-${a}`)})),[{...i,className:Gn()(r,...o,...l)},{as:t,bsPrefix:n,spans:o}]}(e);return(0,Ae.jsx)(i,{...r,ref:t,className:Gn()(n,!s.length&&a)})}));ti.displayName="Col";const ni=ti,ri=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:a=!1,visuallyHidden:s=!1,className:o,htmlFor:l,...c}=e;const{controlId:u}=(0,t.useContext)(Ur);i=nr(i,"form-label");let d="col-form-label";"string"===typeof a&&(d=`${d} ${d}-${a}`);const h=Gn()(o,i,s&&"visually-hidden",a&&d);return l=l||u,a?(0,Ae.jsx)(ni,{ref:n,as:"label",className:h,htmlFor:l,...c}):(0,Ae.jsx)(r,{ref:n,className:h,htmlFor:l,...c})}));ri.displayName="FormLabel";const ii=ri,ai=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:a,...s}=e;const{controlId:o}=(0,t.useContext)(Ur);return r=nr(r,"form-range"),(0,Ae.jsx)("input",{...s,type:"range",ref:n,className:Gn()(i,r),id:a||o})}));ai.displayName="FormRange";const si=ai,oi=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:a,className:s,isValid:o=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:d}=(0,t.useContext)(Ur);return r=nr(r,"form-select"),(0,Ae.jsx)("select",{...u,size:a,ref:n,className:Gn()(s,r,i&&`${r}-${i}`,o&&"is-valid",l&&"is-invalid"),id:c||d})}));oi.displayName="FormSelect";const li=oi,ci=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:a,...s}=e;return n=nr(n,"form-text"),(0,Ae.jsx)(i,{...s,ref:t,className:Gn()(r,n,a&&"text-muted")})}));ci.displayName="FormText";const ui=ci,di=t.forwardRef(((e,t)=>(0,Ae.jsx)(Kr,{...e,ref:t,type:"switch"})));di.displayName="Switch";const hi=Object.assign(di,{Input:Kr.Input,Label:Kr.Label}),pi=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:a,label:s,...o}=e;return n=nr(n,"form-floating"),(0,Ae.jsxs)(ei,{ref:t,className:Gn()(r,n),controlId:a,...o,children:[i,(0,Ae.jsx)("label",{htmlFor:a,children:s})]})}));pi.displayName="FloatingLabel";const fi=pi,mi={_ref:Fr().any,validated:Fr().bool,as:Fr().elementType},gi=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...a}=e;return(0,Ae.jsx)(i,{...a,ref:t,className:Gn()(n,r&&"was-validated")})}));gi.displayName="Form",gi.propTypes=mi;const vi=Object.assign(gi,{Group:ei,Control:Gr,Floating:Qr,Check:Kr,Switch:hi,Label:ii,Text:ui,Range:si,Select:li,FloatingLabel:fi});function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(null,arguments)}function bi(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(740);function xi(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function wi(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function _i(e,n){return Object.keys(n).reduce((function(r,i){var a,s=r,o=s[xi(i)],l=s[i],c=bi(s,[xi(i),i].map(wi)),u=n[i],d=function(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),s=a[0],o=a[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&s!==n&&o(n),[l?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),o(e)}),[r])]}(l,o,e[u]),h=d[0],p=d[1];return yi({},c,((a={})[i]=h,a[u]=p,a))}),e)}function ki(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ji(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Si(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}ki.__suppressDeprecationWarning=!0,ji.__suppressDeprecationWarning=!0,Si.__suppressDeprecationWarning=!0;const Ni=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Ei(e){const n=Ni(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ci=Nr("h4");Ci.displayName="DivStyledAsH4";const Oi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Ci,...a}=e;return r=nr(r,"alert-heading"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Oi.displayName="AlertHeading";const Ti=Oi;const Ai=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function Pi(e){const n=Ai(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const Ri="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Mi="undefined"!==typeof document||Ri?t.useLayoutEffect:t.useEffect;new WeakMap;const Ii=["onKeyDown"];const Di=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Ii);const[i]=lr(Object.assign({tagName:"a"},r)),a=Pi((e=>{i.onKeyDown(e),null==n||n(e)}));return(s=r.href)&&"#"!==s.trim()&&"button"!==r.role?(0,Ae.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,Ae.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:a}));var s}));Di.displayName="Anchor";const Li=Di,Fi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Li,...a}=e;return r=nr(r,"alert-link"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Fi.displayName="AlertLink";const zi=Fi;function Bi(e,t){return Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bi(e,t)}const $i=!1,Ui=t.createContext(null);var Hi="unmounted",Vi="exited",qi="entering",Wi="entered",Zi="exiting",Ki=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=Vi,r.appearStatus=qi):i=Wi:i=t.unmountOnExit||t.mountOnEnter?Hi:Vi,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Bi(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Hi?{status:Vi}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==qi&&n!==Wi&&(t=qi):n!==qi&&n!==Wi||(t=Zi)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===qi){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vi&&this.setState({status:Hi})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[a.findDOMNode(this),r],s=i[0],o=i[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!e&&!n||$i?this.safeSetState({status:Wi},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:qi},(function(){t.props.onEntering(s,o),t.onTransitionEnd(c,(function(){t.safeSetState({status:Wi},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:a.findDOMNode(this);t&&!$i?(this.props.onExit(r),this.safeSetState({status:Zi},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Vi},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Vi},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===Hi)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,bi(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ui.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Yi(){}Ki.contextType=Ui,Ki.propTypes={},Ki.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Yi,onEntering:Yi,onEntered:Yi,onExit:Yi,onExiting:Yi,onExited:Yi},Ki.UNMOUNTED=Hi,Ki.EXITED=Vi,Ki.ENTERING=qi,Ki.ENTERED=Wi,Ki.EXITING=Zi;const Gi=Ki;function Ji(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}function Qi(e){return e&&e.ownerDocument||document}function Xi(e,t){return function(e){var t=Qi(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ea=/([A-Z])/g;var ta=/^ms-/;function na(e){return function(e){return e.replace(ea,"-$1").toLowerCase()}(e).replace(ta,"-ms-")}var ra=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ia=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(na(t))||Xi(e).getPropertyValue(na(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!ra.test(e))}(i)?n+=na(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(na(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},aa=!("undefined"===typeof window||!window.document||!window.document.createElement);var sa=!1,oa=!1;try{var la={get passive(){return sa=!0},get once(){return oa=sa=!0}};aa&&(window.addEventListener("test",la,la),window.removeEventListener("test",la,!0))}catch(bm){}const ca=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!oa){var i=r.once,a=r.capture,s=n;!oa&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=s),e.addEventListener(t,s,sa?r:a)}e.addEventListener(t,n,r)};const ua=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const da=function(e,t,n,r){return ca(e,t,n,r),function(){ua(e,t,n,r)}};function ha(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=da(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function pa(e,t,n,r){null==n&&(n=function(e){var t=ia(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=ha(e,n,r),a=da(e,"transitionend",t);return function(){i(),a()}}function fa(e,t){const n=ia(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function ma(e,t){const n=fa(e,"transitionDuration"),r=fa(e,"transitionDelay"),i=pa(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const ga=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const va=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ga(e),r=ga(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const ya=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:l,onExited:c,addEndListener:u,children:d,childRef:h,...p}=e;const f=(0,t.useRef)(null),m=va(f,h),g=e=>{var t;m((t=e)&&"setState"in t?a.findDOMNode(t):null!=t?t:null)},v=e=>t=>{e&&f.current&&e(f.current,t)},y=(0,t.useCallback)(v(r),[r]),b=(0,t.useCallback)(v(i),[i]),x=(0,t.useCallback)(v(s),[s]),w=(0,t.useCallback)(v(o),[o]),_=(0,t.useCallback)(v(l),[l]),k=(0,t.useCallback)(v(c),[c]),j=(0,t.useCallback)(v(u),[u]);return(0,Ae.jsx)(Gi,{ref:n,...p,onEnter:y,onEntered:x,onEntering:b,onExit:w,onExited:k,onExiting:_,addEndListener:j,nodeRef:f,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):t.cloneElement(d,{ref:g})})})),ba=ya,xa={[qi]:"show",[Wi]:"show"},wa=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:a={},onEnter:s,...o}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},c=(0,t.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==s||s(e,t)}),[s]);return(0,Ae.jsx)(ba,{ref:n,addEndListener:ma,...l,onEnter:c,childRef:Ji(i),children:(e,n)=>t.cloneElement(i,{...n,className:Gn()("fade",r,i.props.className,xa[e],a[e])})})}));wa.displayName="Fade";const _a=wa,ka={"aria-label":Fr().string,onClick:Fr().func,variant:Fr().oneOf(["white"])},ja=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...a}=e;return(0,Ae.jsx)("button",{ref:t,type:"button",className:Gn()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...a})}));ja.displayName="CloseButton",ja.propTypes=ka;const Sa=ja,Na=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:a,className:s,children:o,variant:l="primary",onClose:c,dismissible:u,transition:d=_a,...h}=_i(e,{show:"onClose"}),p=nr(n,"alert"),f=Ei((e=>{c&&c(!1,e)})),m=!0===d?_a:d,g=(0,Ae.jsxs)("div",{role:"alert",...m?void 0:h,ref:t,className:Gn()(s,p,l&&`${p}-${l}`,u&&`${p}-dismissible`),children:[u&&(0,Ae.jsx)(Sa,{onClick:f,"aria-label":i,variant:a}),o]});return m?(0,Ae.jsx)(m,{unmountOnExit:!0,...h,ref:void 0,in:r,children:g}):r?g:null}));Na.displayName="Alert";const Ea=Object.assign(Na,{Link:zi,Heading:Ti});var Ca,Oa=Object.defineProperty,Ta=Object.getOwnPropertySymbols,Aa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Ra=(e,t,n)=>t in e?Oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ma=(e,t)=>{for(var n in t||(t={}))Aa.call(t,n)&&Ra(e,n,t[n]);if(Ta)for(var n of Ta(t))Pa.call(t,n)&&Ra(e,n,t[n]);return e},Ia=(e,t)=>{var n={};for(var r in e)Aa.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ta)for(var r of Ta(e))t.indexOf(r)<0&&Pa.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class t{constructor(e,n,r,a){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let s=[];for(let t=0;t<this.size;t++)s.push(!1);for(let t=0;t<this.size;t++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const o=this.addEccAndInterleave(r);if(this.drawCodewords(o),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(a=t,e=n),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(n,r){const i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){const i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,r){let a,o,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=l&&l<=c&&c<=t.MAX_VERSION)||u<-1||u>7)throw new RangeError("Invalid value");for(a=l;;a++){const n=8*t.getNumDataCodewords(a,r),i=s.getTotalBits(e,a);if(i<=n){o=i;break}if(a>=c)throw new RangeError("Data too long")}for(const n of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&o<=8*t.getNumDataCodewords(a,n)&&(r=n);let h=[];for(const t of e){n(t.mode.modeBits,4,h),n(t.numChars,t.mode.numCharCountBits(a),h);for(const e of t.getData())h.push(e)}i(h.length==o);const p=8*t.getNumDataCodewords(a,r);i(h.length<=p),n(0,Math.min(4,p-h.length),h),n(0,(8-h.length%8)%8,h),i(h.length%8==0);for(let t=236;h.length<p;t^=253)n(t,8,h);let f=[];for(;8*f.length<h.length;)f.push(0);return h.forEach(((e,t)=>f[t>>>3]|=e<<7-(7&t))),new t(a,r,f,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let r=0;r<10;r++)n=n<<1^1335*(n>>>9);const a=21522^(t<<10|n);i(a>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,r(a,i));this.setFunctionModule(8,7,r(a,6)),this.setFunctionModule(8,8,r(a,7)),this.setFunctionModule(7,8,r(a,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,r(a,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,r(a,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,r(a,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let n=0;n<18;n++){const e=r(t,n),i=this.size-11+n%3,a=Math.floor(n/3);this.setFunctionModule(i,a,e),this.setFunctionModule(a,i,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const i=Math.max(Math.abs(r),Math.abs(n)),a=e+r,s=t+n;0<=a&&a<this.size&&0<=s&&s<this.size&&this.setFunctionModule(a,s,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw new RangeError("Invalid argument");const a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],s=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],o=Math.floor(t.getNumRawDataModules(n)/8),l=a-o%a,c=Math.floor(o/a);let u=[];const d=t.reedSolomonComputeDivisor(s);for(let i=0,p=0;i<a;i++){let n=e.slice(p,p+c-s+(i<l?0:1));p+=n.length;const r=t.reedSolomonComputeRemainder(n,d);i<l&&n.push(0),u.push(n.concat(r))}let h=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,n)=>{(t!=c-s||n>=l)&&h.push(e[t])}));return i(h.length==o),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let a=0;a<2;a++){const s=t-a,o=0==(t+1&2)?this.size-1-i:i;!this.isFunction[o][s]&&n<8*e.length&&(this.modules[o][s]=r(e[n>>>3],7-(7&n)),n++)}}i(n==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let n=!1,r=0,a=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[i][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[i][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,a)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let n=!1,r=0,a=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][i]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,a),n||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),n=this.modules[s][i],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,a)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let n=0;n<this.size-1;n++){const r=this.modules[i][n];r==this.modules[i][n+1]&&r==this.modules[i+1][n]&&r==this.modules[i+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,a=Math.ceil(Math.abs(20*n-10*r)/r)-1;return i(0<=a&&a<=9),e+=a*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const i of e){const e=i^r.shift();r.push(0),n.forEach(((n,i)=>r[i]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return i(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];function n(e,t,n){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}e.QrCode=t;const a=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}static makeBytes(t){let r=[];for(const e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let r=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+i),10),3*i+1,r),e+=i}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let r,i=[];for(r=0;r+2<=t.length;r+=2){let a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r));a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r+1)),n(a,11,i)}return r<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(r)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,r),n(t,21,r)}return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2);return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let s=a;e.QrSegment=a})(Ca||(Ca={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2);e.Ecc=t})(t=e.QrCode||(e.QrCode={}))})(Ca||(Ca={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]);e.Mode=t})(t=e.QrSegment||(e.QrSegment={}))})(Ca||(Ca={}));var Da=Ca,La={L:Da.QrCode.Ecc.LOW,M:Da.QrCode.Ecc.MEDIUM,Q:Da.QrCode.Ecc.QUARTILE,H:Da.QrCode.Ecc.HIGH},Fa=128,za="L",Ba="#FFFFFF",$a="#000000",Ua=!1,Ha=1;function Va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let i=null;e.forEach((function(a,s){if(!a&&null!==i)return n.push(`M${i+t} ${r+t}h${s-i}v1H${i+t}z`),void(i=null);if(s!==e.length-1)a&&null===i&&(i=s);else{if(!a)return;null===i?n.push(`M${s+t},${r+t} h1v1H${s+t}z`):n.push(`M${i+t},${r+t} h${s+1-i}v1H${i+t}z`)}}))})),n.join("")}function qa(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function Wa(e){let{value:n,level:r,minVersion:i,includeMargin:a,marginSize:s,imageSettings:o,size:l,boostLevel:c}=e,u=t.useMemo((()=>{const e=(Array.isArray(n)?n:[n]).reduce(((e,t)=>(e.push(...Da.QrSegment.makeSegments(t)),e)),[]);return Da.QrCode.encodeSegments(e,La[r],i,void 0,void 0,c)}),[n,r,i,c]);const{cells:d,margin:h,numCells:p,calculatedImageSettings:f}=t.useMemo((()=>{let e=u.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(a,s),n=e.length+2*t,r=function(e,t,n,r){if(null==r)return null;const i=e.length+2*n,a=Math.floor(.1*t),s=i/t,o=(r.width||a)*s,l=(r.height||a)*s,c=null==r.x?e.length/2-o/2:r.x*s,u=null==r.y?e.length/2-l/2:r.y*s,d=null==r.opacity?1:r.opacity;let h=null;if(r.excavate){let e=Math.floor(c),t=Math.floor(u);h={x:e,y:t,w:Math.ceil(o+c-e),h:Math.ceil(l+u-t)}}return{x:c,y:u,h:l,w:o,excavation:h,opacity:d,crossOrigin:r.crossOrigin}}(e,l,t,o);return{cells:e,margin:t,numCells:n,calculatedImageSettings:r}}),[u,l,o,a,s]);return{qrcode:u,margin:h,cells:d,numCells:p,calculatedImageSettings:f}}var Za=function(){try{(new Path2D).addPath(new Path2D)}catch(bm){return!1}return!0}(),Ka=t.forwardRef((function(e,n){const r=e,{value:i,size:a=Fa,level:s=za,bgColor:o=Ba,fgColor:l=$a,includeMargin:c=Ua,minVersion:u=Ha,boostLevel:d,marginSize:h,imageSettings:p}=r,f=Ia(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:m}=f,g=Ia(f,["style"]),v=null==p?void 0:p.src,y=t.useRef(null),b=t.useRef(null),x=t.useCallback((e=>{y.current=e,"function"===typeof n?n(e):n&&(n.current=e)}),[n]),[w,_]=t.useState(!1),{margin:k,cells:j,numCells:S,calculatedImageSettings:N}=Wa({value:i,level:s,minVersion:u,boostLevel:d,includeMargin:c,marginSize:h,imageSettings:p,size:a});t.useEffect((()=>{if(null!=y.current){const e=y.current,t=e.getContext("2d");if(!t)return;let n=j;const r=b.current,i=null!=N&&null!==r&&r.complete&&0!==r.naturalHeight&&0!==r.naturalWidth;i&&null!=N.excavation&&(n=qa(j,N.excavation));const s=window.devicePixelRatio||1;e.height=e.width=a*s;const c=a/S*s;t.scale(c,c),t.fillStyle=o,t.fillRect(0,0,S,S),t.fillStyle=l,Za?t.fill(new Path2D(Va(n,k))):j.forEach((function(e,n){e.forEach((function(e,r){e&&t.fillRect(r+k,n+k,1,1)}))})),N&&(t.globalAlpha=N.opacity),i&&t.drawImage(r,N.x+k,N.y+k,N.w,N.h)}})),t.useEffect((()=>{_(!1)}),[v]);const E=Ma({height:a,width:a},m);let C=null;return null!=v&&(C=t.createElement("img",{src:v,key:v,style:{display:"none"},onLoad:()=>{_(!0)},ref:b,crossOrigin:null==N?void 0:N.crossOrigin})),t.createElement(t.Fragment,null,t.createElement("canvas",Ma({style:E,height:a,width:a,ref:x,role:"img"},g)),C)}));Ka.displayName="QRCodeCanvas";var Ya=t.forwardRef((function(e,n){const r=e,{value:i,size:a=Fa,level:s=za,bgColor:o=Ba,fgColor:l=$a,includeMargin:c=Ua,minVersion:u=Ha,boostLevel:d,title:h,marginSize:p,imageSettings:f}=r,m=Ia(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:v,numCells:y,calculatedImageSettings:b}=Wa({value:i,level:s,minVersion:u,boostLevel:d,includeMargin:c,marginSize:p,imageSettings:f,size:a});let x=v,w=null;null!=f&&null!=b&&(null!=b.excavation&&(x=qa(v,b.excavation)),w=t.createElement("image",{href:f.src,height:b.h,width:b.w,x:b.x+g,y:b.y+g,preserveAspectRatio:"none",opacity:b.opacity,crossOrigin:b.crossOrigin}));const _=Va(x,g);return t.createElement("svg",Ma({height:a,width:a,viewBox:`0 0 ${y} ${y}`,ref:n,role:"img"},m),!!h&&t.createElement("title",null,h),t.createElement("path",{fill:o,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),t.createElement("path",{fill:l,d:_,shapeRendering:"crispEdges"}),w)}));Ya.displayName="QRCodeSVG";const Ga=e=>{let{size:n=140,showDownloadButton:r=!0,showHeader:i=!0,showOptions:a=!0,showCard:s=!0,onClick:o=null}=e;const{user:l}=Re(),c=ee(),[u,d]=(0,t.useState)(null),[h,p]=(0,t.useState)(!0),[f,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(!0),[y,b]=(0,t.useState)(!0),[x,w]=(0,t.useState)(!0),[_,k]=(0,t.useState)(!0),[j,S]=(0,t.useState)(null);(0,t.useEffect)((()=>{console.log("EmergencyQRCode mounted, user:",l?`ID: ${l.id}`:"No user"),N()}),[l]),(0,t.useEffect)((()=>{u&&E()}),[u,g,y,x,_]);const N=async()=>{p(!0);try{if(!l)return console.error("No user is logged in"),void p(!1);const{data:e,error:t}=await Te.supabase.from("detailed_profiles").select("*").eq("id",l.id).single();if(t){if(console.error("Error fetching profile:",t),"PGRST116"!==t.code)throw t;console.log("Creating new profile for user:",l.id)}const{data:n,error:r}=await Te.supabase.from("user_allergies").select("*").eq("user_id",l.id);if(r)throw r;const{data:i,error:a}=await Te.supabase.from("user_diseases").select("*").eq("user_id",l.id);if(a)throw a;const{data:s,error:o}=await Te.supabase.from("medications").select("*").eq("user_id",l.id);if(o)throw o;d({...e,allergies:n||[],diseases:i||[],medications:s||[]}),console.log("Profile data loaded:",e)}catch(j){console.error("Error fetching profile data:",j)}finally{p(!1)}},E=()=>{if(!u)return;console.log("Generating QR data from profile:",u);let e={name:u.first_name&&u.last_name?`${u.first_name} ${u.last_name}`:"Unknown",dob:u.date_of_birth||"Unknown",bloodType:u.blood_group||"Unknown",weight:u.weight?`${u.weight} kg`:"Unknown",height:u.height?`${u.height} cm`:"Unknown"};g&&u.allergies&&u.allergies.length>0&&(e.allergies=u.allergies.map((e=>e.allergy_name||e.name))),y&&u.diseases&&u.diseases.length>0&&(e.conditions=u.diseases.map((e=>e.disease_name||e.name))),x&&u.emergency_contact_name&&(e.emergencyContact={name:u.emergency_contact_name,phone:u.emergency_contact_phone,relationship:u.emergency_contact_relationship}),_&&u.medications&&u.medications.length>0&&(e.medications=u.medications.map((e=>({name:e.name,dosage:e.daily_dose?`${e.daily_dose} tablets daily`:"As prescribed"}))));const t=JSON.stringify(e);console.log("QR data generated:",t),m(t)},C=()=>{c("/profile?section=emergency-qr")};if(h)return(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(sr,{animation:"border",role:"status",size:"sm",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});const O=(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"qrcode-container p-2 bg-light rounded "+(o?"cursor-pointer":""),onClick:o||(s?null:()=>C()),style:{display:"flex",justifyContent:"center",alignItems:"center",height:n+20,width:n+20,margin:"0 auto"},children:f?(0,Ae.jsx)(Ka,{id:"emergency-qrcode",value:f,size:n,level:"H",includeMargin:!0}):(0,Ae.jsx)("div",{style:{width:n,height:n},className:"d-flex justify-content-center align-items-center border rounded",children:(0,Ae.jsxs)("div",{className:"text-center p-2",children:[(0,Ae.jsx)(Nn,{size:n/3,className:"text-muted mb-2"}),(0,Ae.jsx)("p",{className:"small text-muted mb-0",children:"Set up your profile to create emergency QR"})]})})}),r&&f&&(0,Ae.jsx)("div",{className:"mt-3 d-flex flex-wrap gap-2 justify-content-center",children:(0,Ae.jsxs)(dr,{variant:"primary",size:"sm",className:"d-flex align-items-center",onClick:()=>{const e=document.getElementById("emergency-qrcode");if(e)try{const t=e.toDataURL("image/png"),n=document.createElement("a");n.href=t,n.download="emergency-medical-id.png",document.body.appendChild(n),n.click(),document.body.removeChild(n)}catch(j){console.error("Error downloading QR code:",j)}},children:[(0,Ae.jsx)(Qt,{className:"me-1"})," Download QR Code"]})})]});return s?(0,Ae.jsx)("div",{className:"my-4",children:(0,Ae.jsxs)(Dr,{className:"shadow",children:[i&&(0,Ae.jsxs)(Dr.Header,{className:"bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Nn,{className:"me-2"}),(0,Ae.jsx)("h5",{className:"mb-0",children:"Emergency Medical QR Code"})]}),(0,Ae.jsxs)(dr,{variant:"outline-light",size:"sm",className:"d-flex align-items-center",onClick:C,children:[(0,Ae.jsx)(Xt,{className:"me-1"})," Manage"]})]}),(0,Ae.jsxs)(Dr.Body,{className:"d-flex flex-column align-items-center",children:[i&&(0,Ae.jsx)("div",{className:"text-center mb-3",children:(0,Ae.jsx)("p",{children:"This QR code contains your essential medical information for emergency situations."})}),O,a&&(0,Ae.jsxs)("div",{className:"mt-4 w-100",children:[(0,Ae.jsx)("h6",{children:"Information Included:"}),(0,Ae.jsx)(vi,{children:(0,Ae.jsxs)("div",{className:"d-flex flex-wrap gap-3",children:[(0,Ae.jsx)(vi.Check,{type:"switch",id:"include-allergies",label:"Allergies",checked:g,onChange:e=>v(e.target.checked)}),(0,Ae.jsx)(vi.Check,{type:"switch",id:"include-diseases",label:"Medical Conditions",checked:y,onChange:e=>b(e.target.checked)}),(0,Ae.jsx)(vi.Check,{type:"switch",id:"include-contacts",label:"Emergency Contacts",checked:x,onChange:e=>w(e.target.checked)}),(0,Ae.jsx)(vi.Check,{type:"switch",id:"include-medications",label:"Medications",checked:_,onChange:e=>k(e.target.checked)})]})})]}),(0,Ae.jsx)(Ea,{variant:"info",className:"mt-3",children:(0,Ae.jsx)("small",{children:"Keep your profile information up-to-date for effective emergency response."})})]})]})}):O},Ja=()=>{var e;const n=ee(),{user:r}=Re(),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)({vitals:[],medications:[],appointments:[],conditions:[],alerts:[],profile:null}),[u,d]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{try{const{data:{user:e},error:t}=await Te.supabase.auth.getUser();if(t||!e)return void n("/");const{data:r,error:i}=await Te.supabase.from("detailed_profiles").select("*").eq("id",e.id).single();if(i){if("PGRST116"!==i.code)throw i;{const{data:t,error:n}=await Te.supabase.from("detailed_profiles").insert([{id:e.id}]).select().single();if(n)throw n;c((e=>({...e,profile:t})))}}else c((e=>({...e,profile:r})))}catch(u){console.error("Error fetching data:",u),d("Failed to load dashboard data")}finally{o(!1)}})()}),[n]);const h=[{title:"Profile",icon:"fa-user",description:"View and manage your profile information",link:"/profile",color:"primary"},{title:"Health Records",icon:"fa-file-medical",description:"Access your health records and history",link:"/health-records",color:"info"},{title:"Appointments",icon:"fa-calendar-check",description:"Schedule and manage appointments",link:"/appointments",color:"success"},{title:"Medications",icon:"fa-pills",description:"Track your medications and prescriptions",link:"/medications",color:"warning"}];return s?(0,Ae.jsx)(Kn,{}):u?(0,Ae.jsx)("div",{className:"alert alert-danger",children:u}):(0,Ae.jsxs)("div",{className:"container-fluid py-4",children:[(0,Ae.jsx)("div",{className:"row mb-4",children:(0,Ae.jsxs)("div",{className:"col",children:[(0,Ae.jsxs)("h1",{className:"h3",children:["Welcome, ",(null===(e=l.profile)||void 0===e?void 0:e.first_name)||"User","!"]}),(0,Ae.jsx)("p",{className:"text-muted",children:"Here's an overview of your health information"})]})}),(0,Ae.jsxs)("div",{className:"row g-4 mb-5",children:[(0,Ae.jsx)("h4",{className:"mb-3",children:"Main Features"}),h.slice(0,3).map(((e,t)=>(0,Ae.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Ae.jsx)(Ee,{to:e.link,className:"text-decoration-none h-100",children:(0,Ae.jsx)("div",{className:`card hover-card border-${e.color} h-100`,children:(0,Ae.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)("div",{className:`icon-circle bg-${e.color} text-white`,children:(0,Ae.jsx)("i",{className:`fas ${e.icon}`})}),(0,Ae.jsx)("h5",{className:"card-title mb-0 ms-3",children:e.title})]}),(0,Ae.jsx)("p",{className:"card-text text-muted flex-grow-1",children:e.description})]})})})},t))),(0,Ae.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Ae.jsx)(Dr,{className:"hover-card border-danger h-100",children:(0,Ae.jsxs)(Dr.Body,{className:"d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)("div",{className:"icon-circle bg-danger text-white",children:(0,Ae.jsx)(Nn,{})}),(0,Ae.jsx)("h5",{className:"card-title mb-0 ms-3",children:"Emergency QR"})]}),(0,Ae.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center flex-grow-1",children:r?(0,Ae.jsx)(Ae.Fragment,{children:(0,Ae.jsx)(Ga,{size:110,showDownloadButton:!1,showHeader:!1,showOptions:!1,showCard:!1,onClick:()=>n("/profile?section=emergency-qr")})}):(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)(Kn,{animation:"border",role:"status",size:"sm",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,Ae.jsx)("p",{className:"text-muted small mt-2",children:"Loading user data..."})]})})]})})})]}),(0,Ae.jsxs)("div",{className:"row g-4 mb-5",children:[(0,Ae.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Ae.jsx)(Ee,{to:h[3].link,className:"text-decoration-none h-100",children:(0,Ae.jsx)("div",{className:`card hover-card border-${h[3].color} h-100`,children:(0,Ae.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)("div",{className:`icon-circle bg-${h[3].color} text-white`,children:(0,Ae.jsx)("i",{className:`fas ${h[3].icon}`})}),(0,Ae.jsx)("h5",{className:"card-title mb-0 ms-3",children:h[3].title})]}),(0,Ae.jsx)("p",{className:"card-text text-muted flex-grow-1",children:h[3].description})]})})})}),(0,Ae.jsx)("div",{className:"col-12 col-md-6 col-lg-9"})]}),(0,Ae.jsx)("h4",{className:"mb-3",children:"AI-Powered Features"}),(0,Ae.jsx)("div",{className:"row g-4 mb-5",children:[{title:"Health Recommendations",icon:"fa-chart-line",description:"AI-powered health recommendations based on your profile",link:"/ai/health-recommendations",color:"primary"},{title:"Medical Image Analysis",icon:"fa-microscope",description:"AI analysis of medical images",link:"/ai/image-analysis",color:"info"},{title:"Health Assistant",icon:"fa-robot",description:"Chat with our AI health assistant",link:"/ai/health-assistant",color:"success"},{title:"Symptom Checker",icon:"fa-stethoscope",description:"AI-powered symptom analysis",link:"/ai/symptom-checker",color:"danger"},{title:"Document Scanner",icon:"fa-file-medical-alt",description:"Extract text from medical documents with AI",link:"/ai/document-scanner",color:"warning"},{title:"Medication Identifier",icon:"fa-pills",description:"Identify medications from images",link:"/ai/medication-identifier",color:"secondary"}].map(((e,t)=>(0,Ae.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,Ae.jsx)(Ee,{to:e.link,className:"text-decoration-none h-100",children:(0,Ae.jsx)("div",{className:`card hover-card border-${e.color} h-100`,children:(0,Ae.jsxs)("div",{className:"card-body d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-2",children:[(0,Ae.jsx)("div",{className:`icon-circle bg-${e.color} text-white`,children:(0,Ae.jsx)("i",{className:`fas ${e.icon}`})}),(0,Ae.jsx)("h5",{className:"card-title mb-0 ms-3",children:e.title})]}),(0,Ae.jsx)("p",{className:"card-text text-muted flex-grow-1",children:e.description}),t>=4&&(0,Ae.jsx)("div",{className:"position-absolute top-0 end-0 mt-2 me-2",children:(0,Ae.jsx)("span",{className:"badge bg-danger",children:"New"})})]})})})},t)))})]})},Qa=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:a,...s}=e;const o=nr(n,"container"),l="string"===typeof r?`-${r}`:"-fluid";return(0,Ae.jsx)(i,{ref:t,...s,className:Gn()(a,r?`${o}${l}`:o)})}));Qa.displayName="Container";const Xa=Qa,es=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...a}=e;const s=nr(n,"row"),o=rr(),l=ir(),c=`${s}-cols`,u=[];return o.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?`-${e}`:"";null!=n&&u.push(`${c}${r}-${n}`)})),(0,Ae.jsx)(i,{ref:t,...a,className:Gn()(r,s,...u)})}));es.displayName="Row";const ts=es;var ns;function rs(e){if((!ns&&0!==ns||e)&&aa){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ns=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ns}function is(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function as(e){void 0===e&&(e=Qi());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(bm){return e.body}}function ss(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function os(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const ls=`data-rr-ui-${"modal-open"}`;const cs=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(ia(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(ls,""),ia(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(ls),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},us=(0,t.createContext)(aa?window:void 0);us.Provider;function ds(){return(0,t.useContext)(us)}const hs=(e,t)=>aa?null==e?(t||Qi()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const ps=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const fs=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=ps(e),r=ps(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const ms=function(e){let{children:n,in:r,onExited:i,mountOnEnter:a,unmountOnExit:s}=e;const o=(0,t.useRef)(null),l=(0,t.useRef)(r),c=Pi(i);(0,t.useEffect)((()=>{r?l.current=!0:c(o.current)}),[r,c]);const u=fs(o,Ji(n)),d=(0,t.cloneElement)(n,{ref:u});return r?d:s||!l.current&&a?null:d},gs=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const vs=["component"];const ys=t.forwardRef(((e,n)=>{let{component:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,vs);const a=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:a,onExiting:s,onExited:o,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,gs);const d=(0,t.useRef)(null),h=fs(d,Ji(c)),p=e=>t=>{e&&d.current&&e(d.current,t)},f=(0,t.useCallback)(p(n),[n]),m=(0,t.useCallback)(p(r),[r]),g=(0,t.useCallback)(p(i),[i]),v=(0,t.useCallback)(p(a),[a]),y=(0,t.useCallback)(p(s),[s]),b=(0,t.useCallback)(p(o),[o]),x=(0,t.useCallback)(p(l),[l]);return Object.assign({},u,{nodeRef:d},n&&{onEnter:f},r&&{onEntering:m},i&&{onEntered:g},a&&{onExit:v},s&&{onExiting:y},o&&{onExited:b},l&&{addEndListener:x},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(c,{ref:h})})}(i);return(0,Ae.jsx)(r,Object.assign({ref:n},a))})),bs=ys;function xs(e){let{children:n,in:r,onExited:i,onEntered:a,transition:s}=e;const[o,l]=(0,t.useState)(!r);r&&o&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),a=(0,t.useRef)(!0),s=Pi(r);return Mi((()=>{if(!i.current)return;let e=!1;return s({in:n,element:i.current,initial:a.current,isStale:()=>e}),()=>{e=!0}}),[n,s]),Mi((()=>(a.current=!1,()=>{a.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(s(e)).then((()=>{e.isStale()||(e.in?null==a||a(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=fs(c,Ji(n));return o&&!r?null:(0,t.cloneElement)(n,{ref:u})}function ws(e,t,n){return e?(0,Ae.jsx)(bs,Object.assign({},n,{component:e})):t?(0,Ae.jsx)(xs,Object.assign({},n,{transition:t})):(0,Ae.jsx)(ms,Object.assign({},n))}const _s=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let ks;function js(e){const n=ds(),r=e||function(e){return ks||(ks=new cs({ownerDocument:null==e?void 0:e.document})),ks}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const Ss=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:s,style:o,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:d,onEscapeKeyDown:h,transition:p,runTransition:f,backdropTransition:m,runBackdropTransition:g,autoFocus:v=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:x,renderDialog:w,renderBackdrop:_=e=>(0,Ae.jsx)("div",Object.assign({},e)),manager:k,container:j,onShow:S,onHide:N=()=>{},onExit:E,onExited:C,onExiting:O,onEnter:T,onEntering:A,onEntered:P}=e,R=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,_s);const M=ds(),I=function(e,n){const r=ds(),[i,a]=(0,t.useState)((()=>hs(e,null==r?void 0:r.document)));if(!i){const t=hs(e);t&&a(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=hs(e);t!==i&&a(t)}),[e,i]),i}(j),D=js(k),L=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),F=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[z,B]=(0,t.useState)(!r),$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>D),[D]),aa&&!F&&r&&($.current=as(null==M?void 0:M.document)),r&&z&&B(!1);const U=Pi((()=>{if(D.add(),K.current=da(document,"keydown",W),Z.current=da(document,"focus",(()=>setTimeout(V)),!0),S&&S(),v){var e,t;const n=as(null!=(e=null==(t=D.dialog)?void 0:t.ownerDocument)?e:null==M?void 0:M.document);D.dialog&&n&&!ss(D.dialog,n)&&($.current=n,D.dialog.focus())}})),H=Pi((()=>{var e;(D.remove(),null==K.current||K.current(),null==Z.current||Z.current(),b)&&(null==(e=$.current)||null==e.focus||e.focus(x),$.current=null)}));(0,t.useEffect)((()=>{r&&I&&U()}),[r,I,U]),(0,t.useEffect)((()=>{z&&H()}),[z,H]),os((()=>{H()}));const V=Pi((()=>{if(!y||!L()||!D.isTopModal())return;const e=as(null==M?void 0:M.document);D.dialog&&e&&!ss(D.dialog,e)&&D.dialog.focus()})),q=Pi((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===c&&N())})),W=Pi((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&D.isTopModal()&&(null==h||h(e),e.defaultPrevented||N())})),Z=(0,t.useRef)(),K=(0,t.useRef)();if(!I)return null;const Y=Object.assign({role:i,ref:D.setDialogRef,"aria-modal":"dialog"===i||void 0},R,{style:o,className:s,tabIndex:-1});let G=w?w(Y):(0,Ae.jsx)("div",Object.assign({},Y,{children:t.cloneElement(l,{role:"document"})}));G=ws(p,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:E,onExiting:O,onExited:function(){B(!0),null==C||C(...arguments)},onEnter:T,onEntering:A,onEntered:P,children:G});let J=null;return c&&(J=_({ref:D.setBackdropRef,onClick:q}),J=ws(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,Ae.jsx)(Ae.Fragment,{children:a.createPortal((0,Ae.jsxs)(Ae.Fragment,{children:[J,G]}),I)})}));Ss.displayName="Modal";const Ns=Object.assign(Ss,{Manager:cs});var Es=Function.prototype.bind.call(Function.prototype.call,[].slice);function Cs(e,t){return Es(e.querySelectorAll(t))}function Os(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Ts=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",As=".sticky-top",Ps=".navbar-toggler";class Rs extends cs{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,ia(t,{[e]:`${parseFloat(ia(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],ia(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Cs(t,Ts).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),Cs(t,As).forEach((t=>this.adjustAndStore(a,t,-e.scrollBarWidth))),Cs(t,Ps).forEach((t=>this.adjustAndStore(a,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Os(n.className,r):n.setAttribute("class",Os(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",a=this.isRTL?"marginLeft":"marginRight";Cs(t,Ts).forEach((e=>this.restore(i,e))),Cs(t,As).forEach((e=>this.restore(a,e))),Cs(t,Ps).forEach((e=>this.restore(a,e)))}}let Ms;const Is=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"modal-body"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Is.displayName="ModalBody";const Ds=Is,Ls=t.createContext({onHide(){}}),Fs=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:s,fullscreen:o,children:l,scrollable:c,...u}=e;n=nr(n,"modal");const d=`${n}-dialog`,h="string"===typeof o?`${n}-fullscreen-${o}`:`${n}-fullscreen`;return(0,Ae.jsx)("div",{...u,ref:t,className:Gn()(d,r,s&&`${n}-${s}`,a&&`${d}-centered`,c&&`${d}-scrollable`,o&&h),children:(0,Ae.jsx)("div",{className:Gn()(`${n}-content`,i),children:l})})}));Fs.displayName="ModalDialog";const zs=Fs,Bs=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=nr(r,"modal-footer"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Bs.displayName="ModalFooter";const $s=Bs,Us=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:a=!1,onHide:s,children:o,...l}=e;const c=(0,t.useContext)(Ls),u=Ei((()=>{null==c||c.onHide(),null==s||s()}));return(0,Ae.jsxs)("div",{ref:n,...l,children:[o,a&&(0,Ae.jsx)(Sa,{"aria-label":r,variant:i,onClick:u})]})})),Hs=Us,Vs=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...s}=e;return n=nr(n,"modal-header"),(0,Ae.jsx)(Hs,{ref:t,...s,className:Gn()(r,n),closeLabel:i,closeButton:a})}));Vs.displayName="ModalHeader";const qs=Vs,Ws=Nr("h4"),Zs=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Ws,...a}=e;return r=nr(r,"modal-title"),(0,Ae.jsx)(i,{ref:t,className:Gn()(n,r),...a})}));Zs.displayName="ModalTitle";const Ks=Zs;function Ys(e){return(0,Ae.jsx)(_a,{...e,timeout:null})}function Gs(e){return(0,Ae.jsx)(_a,{...e,timeout:null})}const Js=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:s,contentClassName:o,children:l,dialogAs:c=zs,"data-bs-theme":u,"aria-labelledby":d,"aria-describedby":h,"aria-label":p,show:f=!1,animation:m=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:x,container:w,autoFocus:_=!0,enforceFocus:k=!0,restoreFocus:j=!0,restoreFocusOptions:S,onEntered:N,onExit:E,onExiting:C,onEnter:O,onEntering:T,onExited:A,backdropClassName:P,manager:R,...M}=e;const[I,D]=(0,t.useState)({}),[L,F]=(0,t.useState)(!1),z=(0,t.useRef)(!1),B=(0,t.useRef)(!1),$=(0,t.useRef)(null),[U,H]=(0,t.useState)(null),V=va(n,H),q=Ei(x),W=function(){const{dir:e}=(0,t.useContext)(Xn);return"rtl"===e}();r=nr(r,"modal");const Z=(0,t.useMemo)((()=>({onHide:q})),[q]);function K(){return R||function(e){return Ms||(Ms=new Rs(e)),Ms}({isRTL:W})}function Y(e){if(!aa)return;const t=K().getScrollbarWidth()>0,n=e.scrollHeight>Qi(e).documentElement.clientHeight;D({paddingRight:t&&!n?rs():void 0,paddingLeft:!t&&n?rs():void 0})}const G=Ei((()=>{U&&Y(U.dialog)}));is((()=>{ua(window,"resize",G),null==$.current||$.current()}));const J=()=>{z.current=!0},Q=e=>{z.current&&U&&e.target===U.dialog&&(B.current=!0),z.current=!1},X=()=>{F(!0),$.current=pa(U.dialog,(()=>{F(!1)}))},ee=e=>{"static"!==g?B.current||e.target!==e.currentTarget?B.current=!1:null==x||x():(e=>{e.target===e.currentTarget&&X()})(e)},te=(0,t.useCallback)((e=>(0,Ae.jsx)("div",{...e,className:Gn()(`${r}-backdrop`,P,!m&&"show")})),[m,P,r]),ne={...a,...I};ne.display="block";return(0,Ae.jsx)(Ls.Provider,{value:Z,children:(0,Ae.jsx)(Ns,{show:f,ref:V,backdrop:g,container:w,keyboard:!0,autoFocus:_,enforceFocus:k,restoreFocus:j,restoreFocusOptions:S,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&X())},onShow:b,onHide:x,onEnter:(e,t)=>{e&&Y(e),null==O||O(e,t)},onEntering:(e,t)=>{null==T||T(e,t),ca(window,"resize",G)},onEntered:N,onExit:e=>{null==$.current||$.current(),null==E||E(e)},onExiting:C,onExited:e=>{e&&(e.style.display=""),null==A||A(e),ua(window,"resize",G)},manager:K(),transition:m?Ys:void 0,backdropTransition:m?Gs:void 0,renderBackdrop:te,renderDialog:e=>(0,Ae.jsx)("div",{role:"dialog",...e,style:ne,className:Gn()(i,r,L&&`${r}-static`,!m&&"show"),onClick:g?ee:void 0,onMouseUp:Q,"data-bs-theme":u,"aria-label":p,"aria-labelledby":d,"aria-describedby":h,children:(0,Ae.jsx)(c,{...M,onMouseDown:J,className:s,contentClassName:o,children:l})})})})}));Js.displayName="Modal";const Qs=Object.assign(Js,{Body:Ds,Header:qs,Title:Ks,Footer:$s,Dialog:zs,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Xs=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)({disease_id:"",since:"",file:null}),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]),[b,x]=(0,t.useState)({}),[w,_]=(0,t.useState)(!1),[k,j]=(0,t.useState)(null),S=ee(),N=(0,t.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;p&&(clearTimeout(p),f(null)),h({message:e,type:t});const r=setTimeout((()=>{h(null),f(null)}),n);f(r)}),[p]),E=(0,t.useCallback)((async e=>{const{data:t,error:n}=await Te.supabase.from("user_diseases").select("*").eq("user_id",e);n||y(t)}),[]),C=(0,t.useCallback)((async e=>{g(!0);try{const{data:t,error:r}=await Te.supabase.from("healthrecords").select("\n          *,\n          user_diseases(disease_name)\n        ").eq("user_id",e);if(r)return console.error("Error fetching health data:",r),void N(`Error loading health data: ${r.message}`,"danger");n(t)}catch(t){console.error("Exception fetching health data:",t),N(`Error: ${t.message}`,"danger")}finally{g(!1)}}),[N]);(0,t.useEffect)((()=>{(async()=>{g(!0);const{data:{user:e},error:t}=await Te.supabase.auth.getUser();t||(e&&(i(e.id),C(e.id),E(e.id)),g(!1))})()}),[C,E]);(0,t.useEffect)((()=>()=>{p&&clearTimeout(p)}),[p]);return(0,Ae.jsxs)(Xa,{className:"py-4",children:[m&&(0,Ae.jsx)(Kn,{}),d&&(0,Ae.jsxs)("div",{className:`alert alert-${d.type} position-fixed d-flex justify-content-between align-items-center`,style:{top:"20px",right:"20px",zIndex:1050,minWidth:"300px",maxWidth:"500px",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},role:"alert",children:[(0,Ae.jsx)("span",{children:d.message}),(0,Ae.jsx)("button",{type:"button",className:"btn-close ms-3",onClick:()=>h(null),"aria-label":"Close"})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Ae.jsx)("h2",{className:"text-primary",children:"Health Reports"}),(0,Ae.jsx)(dr,{variant:"primary",onClick:()=>s(!0),children:"+ Upload Report"})]}),(0,Ae.jsx)(ts,{className:"g-4",children:e.map((e=>{var t;return(0,Ae.jsx)(ni,{md:4,sm:6,children:(0,Ae.jsx)(Dr,{className:"shadow-sm border-0 hover-card h-100",children:(0,Ae.jsxs)(Dr.Body,{className:"p-4 d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)("div",{className:"icon-circle bg-primary text-white me-3",children:(0,Ae.jsx)("i",{className:"fas fa-file-medical"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(Dr.Title,{className:"mb-1",children:null===(t=e.user_diseases)||void 0===t?void 0:t.disease_name}),(0,Ae.jsxs)(Dr.Text,{className:"text-muted mb-0",children:["Since: ",new Date(e.since).toLocaleDateString()]})]})]}),(0,Ae.jsxs)("div",{className:"mt-auto pt-3 d-flex justify-content-end gap-2",children:[(0,Ae.jsxs)(dr,{variant:"outline-danger",size:"sm",onClick:()=>{return t=e.id,j(t),void _(!0);var t},className:"d-flex align-items-center",children:[(0,Ae.jsx)("i",{className:"fas fa-trash me-1"})," Delete"]}),(0,Ae.jsxs)(dr,{variant:"outline-primary",size:"sm",onClick:()=>window.open(e.document_url,"_blank"),className:"d-flex align-items-center",children:[(0,Ae.jsx)("i",{className:"fas fa-eye me-1"})," View"]})]})]})})},e.id)}))}),(0,Ae.jsxs)(Qs,{show:a,onHide:()=>s(!1),centered:!0,size:"md",children:[(0,Ae.jsx)(Qs.Header,{closeButton:!0,className:"border-bottom-0 pb-0",children:(0,Ae.jsx)(Qs.Title,{className:"h4 fw-bold text-dark",children:"Upload New Health Report"})}),(0,Ae.jsx)(Qs.Body,{className:"pt-4",children:(0,Ae.jsxs)(vi,{onSubmit:async e=>{e.preventDefault(),g(!0);try{var t,n,i,a,c,d;if(!o.file)throw new Error("Please select a file to upload");if(!o.disease_id)throw new Error("Please select a disease");if(!o.since)throw new Error("Please select a date");const e=o.file.name.split(".").pop(),h=`${r}/${Date.now()}.${e}`,{data:p,error:f}=await Te.supabase.storage.from("health-reports").upload(h,o.file);if(f)throw console.error("Supabase storage upload error:",f),new Error(`Error uploading file: ${f.message}`);const{data:{publicUrl:m}}=Te.supabase.storage.from("health-reports").getPublicUrl(h),g={user_id:r,disease_id:o.disease_id,since:o.since,document_url:m,created_at:(new Date).toISOString(),ai_summary:null!==b&&void 0!==b&&null!==(t=b.aiAnalysis)&&void 0!==t&&t.summary?String(b.aiAnalysis.summary).substring(0,255):"No summary available"},{data:v,error:y}=await Te.supabase.from("healthrecords").insert([g]).select().single();if(y)throw console.error("Error inserting report data:",y),new Error(`Error saving report: ${y.message}`);if(null!==b&&void 0!==b&&b.parameters&&Object.keys(b.parameters).length>0){const e=Object.entries(b.parameters).map((e=>{let[t,n]=e;return{user_id:r,record_id:v.id,parameter_name:t,parameter_value:"object"===typeof n?JSON.stringify(n).substring(0,255):String(n||"N/A").substring(0,255),created_at:(new Date).toISOString()}})),{error:t}=await Te.supabase.from("health_parameters").insert(e);t&&console.error("Error saving parameters:",t)}if((null===b||void 0===b||null===(n=b.aiAnalysis)||void 0===n||null===(i=n.conditions)||void 0===i?void 0:i.length)>0){const e=b.aiAnalysis.conditions.filter((e=>e&&e.trim())).map((e=>({record_id:v.id,condition_name:String(e).substring(0,255),user_id:r,created_at:(new Date).toISOString()}))),{error:t}=await Te.supabase.from("report_conditions").insert(e);t&&console.error("Error saving conditions:",t)}if((null===b||void 0===b||null===(a=b.aiAnalysis)||void 0===a||null===(c=a.medications)||void 0===c?void 0:c.length)>0){const e=b.aiAnalysis.medications.filter((e=>e&&e.trim())).map((e=>({record_id:v.id,medication_name:String(e).substring(0,255),user_id:r,created_at:(new Date).toISOString()}))),{error:t}=await Te.supabase.from("report_medications").insert(e);t&&console.error("Error saving medications:",t)}if(null!==b&&void 0!==b&&null!==(d=b.aiAnalysis)&&void 0!==d&&d.recommendations){const{error:e}=await Te.supabase.from("report_recommendations").insert([{record_id:v.id,recommendation_text:String(b.aiAnalysis.recommendations).substring(0,255),user_id:r,created_at:(new Date).toISOString()}]);e&&console.error("Error saving recommendations:",e)}await C(r),s(!1),l({disease_id:"",since:"",file:null}),u(null),x({}),N("Report uploaded successfully!","success")}catch(h){console.error("Error uploading report:",h),N(`Error uploading report: ${h.message}`,"danger")}finally{g(!1)}},children:[(0,Ae.jsxs)(vi.Group,{className:"mb-3",children:[(0,Ae.jsxs)(vi.Label,{className:"fw-bold d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-disease me-2 text-primary"}),"Select Health Condition"]}),(0,Ae.jsxs)("div",{className:"d-flex gap-2",children:[(0,Ae.jsxs)(vi.Select,{value:o.disease_id,onChange:e=>{"add_new"===e.target.value?(s(!1),S("/profile")):l({...o,disease_id:e.target.value})},required:!0,className:"form-select",children:[(0,Ae.jsx)("option",{value:"",children:"Choose a health condition"}),v.map((e=>(0,Ae.jsx)("option",{value:e.id,children:e.disease_name},e.id))),(0,Ae.jsx)("option",{value:"add_new",className:"text-primary",children:"+ Add New Condition"})]}),(0,Ae.jsxs)(dr,{variant:"outline-primary",size:"sm",onClick:()=>{s(!1),S("/profile")},className:"d-flex align-items-center",children:[(0,Ae.jsx)("i",{className:"fas fa-plus me-1"})," Add New"]})]}),(0,Ae.jsx)(vi.Text,{className:"text-muted small",children:"Select an existing condition or add a new one to your profile"})]}),(0,Ae.jsxs)(vi.Group,{className:"mb-3",children:[(0,Ae.jsxs)(vi.Label,{className:"fw-bold d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-calendar-alt me-2 text-primary"}),"Report Date"]}),(0,Ae.jsx)(vi.Control,{type:"date",value:o.since,onChange:e=>l({...o,since:e.target.value}),required:!0,className:"form-control"}),(0,Ae.jsx)(vi.Text,{className:"text-muted small",children:"When was this report created?"})]}),(0,Ae.jsxs)(vi.Group,{className:"mb-3",children:[(0,Ae.jsxs)(vi.Label,{className:"fw-bold d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-file-upload me-2 text-primary"}),"Upload Report"]}),(0,Ae.jsxs)("div",{className:"border rounded p-3 text-center bg-light",children:[(0,Ae.jsx)(vi.Control,{type:"file",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:async e=>{const t=e.target.files[0];if(t){l({...o,file:t}),g(!0);try{var n,r,i,a,s,c,d,h;if(t.type.startsWith("image/"))return N("Image processing is temporarily unavailable. Please use PDF files for now.","warning"),void g(!1);u(null);const o=new FormData;o.append("file",t);try{const e=await fetch("https://digihealth-backend.onrender.com/api/check-env");if(e.ok){const t=await e.json();if(console.log("Backend environment status:",t),t.environment&&"not set"===t.environment.OPENAI_API_KEY)return N("The AI service is currently unavailable. File upload will proceed without AI analysis.","warning",1e4),x({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}}),void g(!1)}else console.warn("Backend environment check failed",await e.text())}catch(y){console.error("Error checking backend environment:",y)}console.log("Sending file to backend:",t.name,t.type,t.size);const l=await fetch("https://digihealth-backend.onrender.com/api/process-file",{method:"POST",body:o});if(!l.ok){let t,n="Error processing file";try{if(t=await l.json(),console.error("Backend error response:",t),n=t.error||n,t.details&&(t.details.includes("API key")||t.details.includes("authentication")||t.details.includes("401")))return N("The AI service is temporarily unavailable. Your file will be uploaded but not analyzed.","warning",1e4),x({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}}),void g(!1)}catch(e){console.error("Failed to parse error response",e)}throw new Error(n)}let w,_;try{var p,f,m,v;if(w=await l.json(),console.log("Backend response:",w),console.log("Response structure details:",{hasParameters:Boolean(w.parameters),parametersType:typeof w.parameters,parametersKeys:w.parameters?Object.keys(w.parameters):[],parametersValues:w.parameters?Object.values(w.parameters).map((e=>typeof e)):[],hasAiAnalysis:Boolean(w.aiAnalysis),aiAnalysisType:typeof w.aiAnalysis,aiAnalysisKeys:w.aiAnalysis?Object.keys(w.aiAnalysis):[],conditionsType:null!==(p=w.aiAnalysis)&&void 0!==p&&p.conditions?typeof w.aiAnalysis.conditions:"undefined",isConditionsArray:!(null===(f=w.aiAnalysis)||void 0===f||!f.conditions)&&Array.isArray(w.aiAnalysis.conditions),medicationsType:null!==(m=w.aiAnalysis)&&void 0!==m&&m.medications?typeof w.aiAnalysis.medications:"undefined",isMedicationsArray:!(null===(v=w.aiAnalysis)||void 0===v||!v.medications)&&Array.isArray(w.aiAnalysis.medications)}),w&&w.parameters&&Object.keys(w.parameters).forEach((e=>{const t=w.parameters[e];w.parameters[e]=null===t||void 0===t?"N/A":"object"===typeof t?JSON.stringify(t):String(t)})),w&&w.aiAnalysis){if(!Array.isArray(w.aiAnalysis.conditions))if(console.warn("Conditions is not an array, converting:",w.aiAnalysis.conditions),"string"===typeof w.aiAnalysis.conditions)try{w.aiAnalysis.conditions=JSON.parse(w.aiAnalysis.conditions)}catch{w.aiAnalysis.conditions=[w.aiAnalysis.conditions]}else w.aiAnalysis.conditions&&"object"===typeof w.aiAnalysis.conditions?w.aiAnalysis.conditions=Object.values(w.aiAnalysis.conditions).map(String):w.aiAnalysis.conditions=[];if(!Array.isArray(w.aiAnalysis.medications))if(console.warn("Medications is not an array, converting:",w.aiAnalysis.medications),"string"===typeof w.aiAnalysis.medications)try{w.aiAnalysis.medications=JSON.parse(w.aiAnalysis.medications)}catch{w.aiAnalysis.medications=[w.aiAnalysis.medications]}else w.aiAnalysis.medications&&"object"===typeof w.aiAnalysis.medications?w.aiAnalysis.medications=Object.values(w.aiAnalysis.medications).map(String):w.aiAnalysis.medications=[];w.aiAnalysis.conditions=w.aiAnalysis.conditions.filter((e=>null!==e&&void 0!==e)).map((e=>String(e))),w.aiAnalysis.medications=w.aiAnalysis.medications.filter((e=>null!==e&&void 0!==e)).map((e=>String(e))),w.aiAnalysis.summary=String(w.aiAnalysis.summary||""),w.aiAnalysis.recommendations=String(w.aiAnalysis.recommendations||"")}else w&&(w.aiAnalysis={conditions:[],medications:[],recommendations:"",summary:""})}catch(b){throw console.error("Failed to parse response JSON:",b),new Error("Failed to parse server response. The file may be too large or in an unsupported format.")}if(!w||0===Object.keys(w).length)throw console.error("Empty response structure:",w),new Error("Server returned an empty response");if(!w.parameters&&!w.aiAnalysis)throw console.error("Invalid response structure:",w),new Error("Server returned an invalid response structure");x(w),_=w.parameters&&Object.keys(w.parameters).length>0?"File processed successfully. Review the extracted information below.":w.aiAnalysis&&(w.aiAnalysis.summary&&w.aiAnalysis.summary.length>0||w.aiAnalysis.conditions&&w.aiAnalysis.conditions.length>0||w.aiAnalysis.medications&&w.aiAnalysis.medications.length>0||w.aiAnalysis.recommendations&&w.aiAnalysis.recommendations.length>0)?"No specific parameters were extracted, but AI analysis is available.":"File processed, but limited information could be extracted. You can still upload it.",N(_,"success"),console.log("Backend response structure details:",{hasParameters:Boolean(w.parameters)&&Object.keys(w.parameters).length>0,parametersCount:w.parameters?Object.keys(w.parameters).length:0,hasAiAnalysis:Boolean(w.aiAnalysis),summaryLength:(null===(n=w.aiAnalysis)||void 0===n||null===(r=n.summary)||void 0===r?void 0:r.length)||0,conditionsLength:(null===(i=w.aiAnalysis)||void 0===i||null===(a=i.conditions)||void 0===a?void 0:a.length)||0,medicationsLength:(null===(s=w.aiAnalysis)||void 0===s||null===(c=s.medications)||void 0===c?void 0:c.length)||0,recommendationsLength:(null===(d=w.aiAnalysis)||void 0===d||null===(h=d.recommendations)||void 0===h?void 0:h.length)||0})}catch(w){console.error("Error processing file:",w),w.message.includes("API key")||w.message.includes("OpenAI")?(N("AI service is unavailable. Your file will be uploaded without analysis.","warning"),x({parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}})):(N(`Error processing file: ${w.message}`,"danger"),x({}))}finally{g(!1)}}},required:!0,className:"form-control",style:{display:"none"},id:"file-upload"}),(0,Ae.jsxs)("label",{htmlFor:"file-upload",className:"btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center",style:{minHeight:"120px",cursor:"pointer"},children:[(0,Ae.jsx)("i",{className:"fas fa-cloud-upload-alt fa-2x mb-2 text-primary"}),(0,Ae.jsx)("span",{className:"h6 mb-1 text-dark",children:"Click to upload or drag and drop"}),(0,Ae.jsx)("small",{className:"text-muted",children:"Supported formats: PDF, DOC, DOCX, JPG, JPEG, PNG"})]})]}),(0,Ae.jsx)(vi.Text,{className:"text-muted small",children:"Upload your medical report or test results. Our AI will analyze the content automatically."})]}),c&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsxs)(vi.Label,{className:"fw-bold d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-image me-2 text-primary"}),"Preview"]}),(0,Ae.jsx)("img",{src:c,alt:"Preview",className:"img-fluid rounded shadow-sm"})]}),null!==b&&void 0!==b&&b.aiAnalysis?(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsxs)("h5",{className:"fw-bold mb-2 d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-robot me-2 text-primary"}),"AI Analysis"]}),(0,Ae.jsx)("div",{className:"card border-0 shadow-sm",children:(0,Ae.jsxs)("div",{className:"card-body",children:[b.aiAnalysis.summary?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("h6",{className:"fw-bold mb-2 d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-file-alt me-2 text-primary"}),"Summary"]}),(0,Ae.jsx)("p",{className:"mb-3 text-dark",children:String(b.aiAnalysis.summary)})]}):(0,Ae.jsx)("p",{className:"text-muted",children:"No summary available for this document."}),b.aiAnalysis.conditions&&b.aiAnalysis.conditions.length>0&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("h6",{className:"fw-bold mb-2 d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-clipboard-list me-2 text-primary"}),"Conditions Identified"]}),(0,Ae.jsx)("ul",{className:"list-group list-group-flush mb-3",children:b.aiAnalysis.conditions.map(((e,t)=>(0,Ae.jsxs)("li",{className:"list-group-item text-dark",children:[(0,Ae.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),String(e)]},t)))})]}),b.aiAnalysis.medications&&b.aiAnalysis.medications.length>0&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("h6",{className:"fw-bold mb-2 d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-pills me-2 text-primary"}),"Medications"]}),(0,Ae.jsx)("ul",{className:"list-group list-group-flush mb-3",children:b.aiAnalysis.medications.map(((e,t)=>(0,Ae.jsxs)("li",{className:"list-group-item text-dark",children:[(0,Ae.jsx)("i",{className:"fas fa-pills text-info me-2"}),String(e)]},t)))})]}),b.aiAnalysis.recommendations&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("h6",{className:"fw-bold mb-2 d-flex align-items-center text-dark fs-6",children:[(0,Ae.jsx)("i",{className:"fas fa-lightbulb me-2 text-primary"}),"Recommendations"]}),(0,Ae.jsx)("p",{className:"text-dark",children:String(b.aiAnalysis.recommendations)})]})]})})]}):null,(0,Ae.jsx)("div",{className:"d-flex justify-content-end mt-3",children:(0,Ae.jsx)(dr,{type:"submit",variant:"primary",size:"sm",disabled:m,className:"px-3 d-flex align-items-center",children:m?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Uploading..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("i",{className:"fas fa-upload me-2"}),"Upload Report"]})})})]})})]}),(0,Ae.jsxs)(Qs,{show:w,onHide:()=>_(!1),centered:!0,children:[(0,Ae.jsx)(Qs.Header,{closeButton:!0,className:"border-bottom-0 pb-0",children:(0,Ae.jsx)(Qs.Title,{className:"h4 fw-bold text-dark",children:"Confirm Delete"})}),(0,Ae.jsxs)(Qs.Body,{className:"pt-4",children:[(0,Ae.jsxs)("div",{className:"text-center mb-4",children:[(0,Ae.jsx)("i",{className:"fas fa-exclamation-triangle text-warning fa-3x mb-3"}),(0,Ae.jsx)("h5",{className:"fw-bold text-dark mb-3",children:"Are you sure you want to delete this report?"}),(0,Ae.jsx)("p",{className:"text-dark",children:"This action cannot be undone."})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-center gap-3",children:[(0,Ae.jsx)(dr,{variant:"outline-secondary",onClick:()=>_(!1),size:"sm",className:"px-3",children:"Cancel"}),(0,Ae.jsx)(dr,{variant:"danger",onClick:async()=>{g(!0);try{const{data:e,error:t}=await Te.supabase.from("healthrecords").select("document_url").eq("id",k).single();if(t)throw console.error("Error fetching report:",t),new Error(`Error fetching report: ${t.message}`);if(!e||!e.document_url)throw new Error("Report or document URL not found");const r=e.document_url.match(/health-reports\/([^\/]+)\/([^\/]+)$/);if(r&&r.length>=3){const e=r[1],t=`${e}/${r[2]}`,{error:n}=await Te.supabase.storage.from("health-reports").remove([t]);if(n)throw console.error("Error deleting file:",n),new Error(`Error deleting file: ${n.message}`)}const{error:i}=await Te.supabase.from("healthrecords").delete().eq("id",k);if(i)throw console.error("Error deleting record:",i),new Error(`Error deleting record: ${i.message}`);n((e=>e.filter((e=>e.id!==k)))),N("Report deleted successfully","success")}catch(e){console.error("Error in delete process:",e),N(`Error deleting report: ${e.message}`,"danger")}finally{g(!1),_(!1),j(null)}},size:"sm",className:"px-3 bg-danger text-white",disabled:m,children:m?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Deleting..."]}):"Delete"})]})]})]}),(0,Ae.jsxs)("div",{className:"mt-5 pt-5 border-top",children:[(0,Ae.jsx)("h5",{children:"Troubleshooting"}),(0,Ae.jsx)(dr,{variant:"outline-secondary",size:"sm",onClick:async()=>{try{N("Testing with sample data...","info"),g(!0);const e=await fetch("https://digihealth-backend.onrender.com/api/test-response");if(!e.ok)throw new Error("Error fetching test data");const t=await e.json();console.log("Test response received:",t),x(t),N("Test data loaded successfully! You can view it in the modal.","success"),l({disease_id:v.length>0?v[0].id:"",since:(new Date).toISOString().split("T")[0],file:null}),s(!0)}catch(e){console.error("Error testing backend response:",e),N(`Error: ${e.message}`,"danger")}finally{g(!1)}},className:"mt-2",children:"Test Rendering"}),(0,Ae.jsx)("small",{className:"d-block text-muted mt-2",children:"Use this button to test rendering with sample data if you encounter issues."})]})]})},eo=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({id:null,condition:"",diagnosis_date:"",doctor:"",treatment:"",notes:""});(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:r}=await Te.supabase.from("medical_history").select("*").eq("user_id",e.id).order("diagnosis_date",{ascending:!1});if(r)throw r;n(t||[])}catch(e){console.error("Error fetching medical records:",e),s({message:"Error fetching medical records.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},p=()=>{l(!1),u({id:null,condition:"",diagnosis_date:"",doctor:"",treatment:"",notes:""})};return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(dn,{className:"me-2"})," Medical History"]}),(0,Ae.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Ae.jsx)("h3",{children:o?"Edit Medical Record":"Add New Medical Record"}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await Te.supabase.from("medical_history").update({condition:c.condition,diagnosis_date:c.diagnosis_date,doctor:c.doctor,treatment:c.treatment,notes:c.notes}).eq("id",c.id);if(e)throw e;s({message:"Medical record updated successfully!",type:"success"})}else{const{error:t}=await Te.supabase.from("medical_history").insert([{condition:c.condition,diagnosis_date:c.diagnosis_date,doctor:c.doctor,treatment:c.treatment,notes:c.notes,user_id:e.id}]);if(t)throw t;s({message:"Medical record added successfully!",type:"success"})}p(),d()}catch(t){console.error("Error saving medical record:",t),s({message:"Error saving medical record.",type:"danger"})}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"condition",className:"form-label",children:"Condition/Diagnosis"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"condition",name:"condition",value:c.condition,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"diagnosis_date",className:"form-label",children:"Diagnosis Date"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"diagnosis_date",name:"diagnosis_date",value:c.diagnosis_date,onChange:h,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"doctor",className:"form-label",children:"Doctor/Healthcare Provider"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"doctor",name:"doctor",value:c.doctor,onChange:h})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"treatment",className:"form-label",children:"Treatment"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"treatment",name:"treatment",value:c.treatment,onChange:h})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Update Record"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Add Record"]})}),o&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Cancel"})]})]})]}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"Your Medical History"}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No medical records found. Add your first record above."}):(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table table-striped",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Condition"}),(0,Ae.jsx)("th",{children:"Diagnosis Date"}),(0,Ae.jsx)("th",{children:"Doctor"}),(0,Ae.jsx)("th",{children:"Treatment"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:e.map((t=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:t.condition}),(0,Ae.jsx)("td",{children:new Date(t.diagnosis_date).toLocaleDateString()}),(0,Ae.jsx)("td",{children:t.doctor}),(0,Ae.jsx)("td",{children:t.treatment}),(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>(e=>{l(!0),u(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:(0,Ae.jsx)(Xt,{})}),(0,Ae.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this record?")){i(!0);try{const{error:r}=await Te.supabase.from("medical_history").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Medical record deleted successfully!",type:"success"})}catch(r){console.error("Error deleting medical record:",r),s({message:"Error deleting medical record.",type:"danger"})}finally{i(!1)}}})(t.id),children:(0,Ae.jsx)(Bn,{})})]})]},t.id)))})]})})]})};console.warn("Importing supabase from utils/main.js is deprecated. Please import directly from utils/supabaseClient.js");const to=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({id:null,disease_name:"",diagnosis_date:"",severity:"Mild",medications:"",symptoms:"",notes:""});(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:r}=await Te.supabase.from("chronic_diseases").select("*").eq("user_id",e.id).order("diagnosis_date",{ascending:!1});if(r)throw r;n(t||[])}catch(e){console.error("Error fetching chronic diseases:",e),s({message:"Error fetching chronic diseases.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},p=()=>{l(!1),u({id:null,disease_name:"",diagnosis_date:"",severity:"Mild",medications:"",symptoms:"",notes:""})},f=e=>{switch(e){case"Mild":return"bg-success";case"Moderate":return"bg-warning text-dark";case"Severe":return"bg-danger";default:return"bg-secondary"}};return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(Jt,{className:"me-2"})," Chronic Disease Management"]}),(0,Ae.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Ae.jsx)("h3",{children:o?"Edit Chronic Disease":"Add New Chronic Disease"}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await Te.supabase.from("chronic_diseases").update({disease_name:c.disease_name,diagnosis_date:c.diagnosis_date,severity:c.severity,medications:c.medications,symptoms:c.symptoms,notes:c.notes}).eq("id",c.id);if(e)throw e;s({message:"Chronic disease updated successfully!",type:"success"})}else{const{error:t}=await Te.supabase.from("chronic_diseases").insert([{disease_name:c.disease_name,diagnosis_date:c.diagnosis_date,severity:c.severity,medications:c.medications,symptoms:c.symptoms,notes:c.notes,user_id:e.id}]);if(t)throw t;s({message:"Chronic disease added successfully!",type:"success"})}p(),d()}catch(t){console.error("Error saving chronic disease:",t),s({message:"Error saving chronic disease.",type:"danger"})}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"disease_name",className:"form-label",children:"Disease Name"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"disease_name",name:"disease_name",value:c.disease_name,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"diagnosis_date",className:"form-label",children:"Diagnosis Date"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"diagnosis_date",name:"diagnosis_date",value:c.diagnosis_date,onChange:h,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"severity",className:"form-label",children:"Severity"}),(0,Ae.jsxs)("select",{className:"form-control",id:"severity",name:"severity",value:c.severity,onChange:h,children:[(0,Ae.jsx)("option",{value:"Mild",children:"Mild"}),(0,Ae.jsx)("option",{value:"Moderate",children:"Moderate"}),(0,Ae.jsx)("option",{value:"Severe",children:"Severe"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"medications",className:"form-label",children:"Medications"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"medications",name:"medications",value:c.medications,onChange:h,placeholder:"Separate multiple medications with commas"})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"symptoms",className:"form-label",children:"Symptoms"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"symptoms",name:"symptoms",value:c.symptoms,onChange:h,placeholder:"Separate multiple symptoms with commas"})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Update Disease"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Add Disease"]})}),o&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Cancel"})]})]})]}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"Your Chronic Diseases"}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No chronic diseases found. Add your first record above."}):(0,Ae.jsx)("div",{className:"row",children:e.map((t=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100 shadow",children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Ae.jsx)("h5",{className:"mb-0",children:t.disease_name}),(0,Ae.jsx)("span",{className:`badge ${f(t.severity)}`,children:t.severity})]}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Diagnosed:"})," ",new Date(t.diagnosis_date).toLocaleDateString()]}),t.medications&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Medications:"}),(0,Ae.jsx)("br",{}),t.medications.split(",").map(((e,t)=>(0,Ae.jsx)("span",{className:"badge bg-info text-dark me-1 mb-1",children:e.trim()},t)))]}),t.symptoms&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Symptoms:"}),(0,Ae.jsx)("br",{}),t.symptoms.split(",").map(((e,t)=>(0,Ae.jsx)("span",{className:"badge bg-secondary me-1 mb-1",children:e.trim()},t)))]}),t.notes&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Notes:"}),(0,Ae.jsx)("br",{}),t.notes]})]}),(0,Ae.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Ae.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),u(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Ae.jsx)(Xt,{className:"me-1"})," Edit"]}),(0,Ae.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this chronic disease record?")){i(!0);try{const{error:r}=await Te.supabase.from("chronic_diseases").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Chronic disease deleted successfully!",type:"success"})}catch(r){console.error("Error deleting chronic disease:",r),s({message:"Error deleting chronic disease.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Ae.jsx)(Bn,{className:"me-1"})," Delete"]})]})]})},t.id)))})]})},no=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)("records"),[d,h]=(0,t.useState)({id:null,vaccine_name:"",date_administered:"",administered_by:"",lot_number:"",next_dose_date:"",notes:""}),[p,f]=(0,t.useState)(!1),m=ee(),g=(0,t.useCallback)((async()=>{try{i(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return console.log("No user logged in"),void i(!1);const{data:t,error:r}=await Te.supabase.from("vaccinations").select("*").eq("user_id",e.id).order("vaccine_date",{ascending:!1});if(r)return void console.error("Error fetching vaccinations:",r);n(t||[])}catch(e){console.error("Unexpected error:",e)}finally{i(!1)}}),[m]);(0,t.useEffect)((()=>{g()}),[g]);const v=e=>{const{name:t,value:n}=e.target;h((e=>({...e,[t]:n})))},y=async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await Te.supabase.from("vaccinations").update({vaccine_name:d.vaccine_name,date_administered:d.date_administered,administered_by:d.administered_by,lot_number:d.lot_number,next_dose_date:d.next_dose_date,notes:d.notes}).eq("id",d.id);if(e)throw e;s({message:"Vaccination record updated successfully!",type:"success"})}else{const{error:t}=await Te.supabase.from("vaccinations").insert([{vaccine_name:d.vaccine_name,date_administered:d.date_administered,administered_by:d.administered_by,lot_number:d.lot_number,next_dose_date:d.next_dose_date,notes:d.notes,user_id:e.id}]);if(t)throw t;s({message:"Vaccination record added successfully!",type:"success"})}x(),g(),u("records")}catch(t){console.error("Error saving vaccination record:",t),s({message:"Error saving vaccination record.",type:"danger"})}finally{i(!1)}},b=e=>{l(!0),h(e),u("form"),window.scrollTo({top:0,behavior:"smooth"})},x=()=>{l(!1),h({id:null,vaccine_name:"",date_administered:"",administered_by:"",lot_number:"",next_dose_date:"",notes:""})},w=e=>{if(!e)return!1;const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r>=0&&r<=30},_=e=>{if(!e)return!1;const t=new Date;return new Date(e)<t};if(r&&0===e.length)return(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(sr,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Loading..."})})});const k=e.some((e=>w(e.next_dose_date)||_(e.next_dose_date)));return(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsxs)("h1",{className:"my-4 page-title",children:[(0,Ae.jsx)(Mn,{className:"me-2 text-primary"})," Vaccination History"]}),r?(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(sr,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,Ae.jsx)(Ae.Fragment,{children:(0,Ae.jsxs)("div",{className:"tabs-container",children:[(0,Ae.jsx)("div",{className:"nav-tabs-wrapper",children:(0,Ae.jsxs)("ul",{className:"nav nav-tabs",children:[(0,Ae.jsx)("li",{className:"nav-item",children:(0,Ae.jsxs)("button",{className:"nav-link "+("records"===c?"active":""),onClick:()=>u("records"),children:[(0,Ae.jsx)(yn,{className:"me-2"})," Vaccination Records",k&&(0,Ae.jsx)("span",{className:"upcoming-badge ms-2",children:"!"})]})}),(0,Ae.jsx)("li",{className:"nav-item",children:(0,Ae.jsxs)("button",{className:"nav-link "+("form"===c?"active":""),onClick:()=>{u("form"),o&&x()},children:[(0,Ae.jsx)(Sn,{className:"me-2"})," ",o?"Edit Record":"Add New Record"]})})]})}),(0,Ae.jsxs)("div",{className:"tab-content",children:["records"===c&&(0,Ae.jsx)("div",{className:"tab-pane active",children:0===e.length?(0,Ae.jsxs)("div",{className:"empty-state",children:[(0,Ae.jsx)(Mn,{className:"mb-3",style:{fontSize:"3rem",color:"var(--secondary-color)"}}),(0,Ae.jsx)("h3",{className:"text-primary",children:"No vaccination records found"}),(0,Ae.jsx)("p",{children:'Click "Add New Record" tab to record your first vaccination'}),(0,Ae.jsxs)(dr,{variant:"primary",onClick:()=>u("form"),children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Add New Record"]})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[k&&(0,Ae.jsxs)("div",{className:"upcoming-section",children:[(0,Ae.jsx)("div",{className:"upcoming-header",children:(0,Ae.jsxs)("h3",{className:"mb-0",children:[(0,Ae.jsx)(Ut,{className:"me-2"})," Upcoming & Overdue Vaccinations"]})}),(0,Ae.jsx)("div",{className:"upcoming-body",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Vaccine"}),(0,Ae.jsx)("th",{children:"Due Date"}),(0,Ae.jsx)("th",{children:"Status"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:e.filter((e=>w(e.next_dose_date)||_(e.next_dose_date))).map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)(Mn,{className:"me-2 text-primary"})," ",e.vaccine_name]}),(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)($t,{className:"me-2 text-primary"})," ",new Date(e.next_dose_date).toLocaleDateString()]}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("span",{className:"status-badge "+(_(e.next_dose_date)?"status-overdue":"status-due-soon"),children:_(e.next_dose_date)?"Overdue":"Due Soon"})}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>b(e),children:[(0,Ae.jsx)(Xt,{className:"me-1"})," Edit"]})})]},`upcoming-${e.id}`)))})]})})})]}),(0,Ae.jsx)("h2",{className:"section-title",children:"Your Vaccination History"}),(0,Ae.jsx)("div",{className:"vaccination-cards",children:e.map((t=>{const r=(e=>_(e.next_dose_date)?{text:"Overdue",className:"status-overdue"}:w(e.next_dose_date)?{text:"Due Soon",className:"status-due-soon"}:e.next_dose_date?{text:"Scheduled",className:""}:{text:"Completed",className:"status-completed"})(t);return(0,Ae.jsxs)("div",{className:"vaccine-card",children:[(0,Ae.jsxs)("h4",{children:[(0,Ae.jsx)(Mn,{className:"me-2 text-primary"}),t.vaccine_name]}),(0,Ae.jsxs)("div",{className:"vaccine-card-info",children:[(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[(0,Ae.jsx)($t,{className:"me-1 text-primary"})," Date Administered:"]}),new Date(t.date_administered).toLocaleDateString()]}),t.administered_by&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[(0,Ae.jsx)(Hn,{className:"me-1 text-primary"})," Healthcare Provider:"]})," ",t.administered_by]}),t.lot_number&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[(0,Ae.jsx)(pn,{className:"me-1 text-primary"})," Lot Number:"]})," ",t.lot_number]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[(0,Ae.jsx)(Ut,{className:"me-1 text-primary"})," Next Dose:"]}),t.next_dose_date?new Date(t.next_dose_date).toLocaleDateString():"N/A",r.className&&(0,Ae.jsx)("span",{className:`status-badge ${r.className}`,children:r.text})]}),t.notes&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("strong",{children:[(0,Ae.jsx)(Rn,{className:"me-1 text-primary"})," Notes:"]})," ",t.notes]})]}),(0,Ae.jsxs)("div",{className:"vaccine-card-actions",children:[(0,Ae.jsxs)("button",{className:"btn btn-primary",onClick:()=>b(t),children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Edit"]}),(0,Ae.jsxs)("button",{className:"btn btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this vaccination record?")){i(!0);try{const{error:r}=await Te.supabase.from("vaccinations").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Vaccination record deleted successfully!",type:"success"})}catch(r){console.error("Error deleting vaccination record:",r),s({message:"Error deleting vaccination record.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Ae.jsx)(Bn,{className:"me-2"})," Delete"]})]})]},t.id)}))})]})}),"form"===c&&(0,Ae.jsx)("div",{className:"tab-pane active",children:(0,Ae.jsxs)("div",{className:"vaccine-form-card",children:[(0,Ae.jsx)("h3",{className:"form-title",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2 text-primary"})," Edit Vaccination Record"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2 text-primary"})," Add New Vaccination"]})}),(0,Ae.jsxs)("form",{onSubmit:y,className:"vaccination-form",children:[(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title",children:[(0,Ae.jsx)(An,{className:"me-2 text-primary"})," Basic Information"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"vaccine_name",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Vaccine Name"]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"vaccine_name",name:"vaccine_name",value:d.vaccine_name,onChange:v,placeholder:"Enter vaccine name",required:!0}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(pn,{className:"me-1"})," E.g., Influenza, COVID-19, Tetanus, HPV"]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"date_administered",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Date Administered"]}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"date_administered",name:"date_administered",value:d.date_administered,onChange:v,required:!0}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)($t,{className:"me-1"})," When was the vaccine administered?"]})]})]})]}),(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title",children:[(0,Ae.jsx)(Hn,{className:"me-2 text-primary"})," Additional Details"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"administered_by",className:"form-label text-dark",children:[(0,Ae.jsx)(hn,{className:"me-1 text-primary"})," Healthcare Provider"]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"administered_by",name:"administered_by",value:d.administered_by,onChange:v,placeholder:"Enter provider name or facility"}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(pn,{className:"me-1"})," Doctor, clinic, or healthcare facility"]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"lot_number",className:"form-label text-dark",children:[(0,Ae.jsx)(pn,{className:"me-1 text-primary"})," Lot Number"]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"lot_number",name:"lot_number",value:d.lot_number,onChange:v,placeholder:"Enter vaccine lot number"}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(pn,{className:"me-1"})," Found on your vaccination card"]})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"next_dose_date",className:"form-label text-dark",children:[(0,Ae.jsx)(Ut,{className:"me-1 text-primary"})," Next Dose Date"]}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"next_dose_date",name:"next_dose_date",value:d.next_dose_date,onChange:v}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(Zt,{className:"me-1"})," If another dose is required"]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"notes",className:"form-label text-dark",children:[(0,Ae.jsx)(Rn,{className:"me-1 text-primary"})," Notes"]}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:d.notes,onChange:v,placeholder:"Any reactions, side effects, or important information"})]})]})]}),(0,Ae.jsxs)("div",{className:"form-actions",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary btn-lg",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Update Record"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Save Record"]})}),o&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary btn-lg ms-3",onClick:x,children:"Cancel"}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-light btn-lg ms-auto",onClick:()=>u("records"),children:"Back to Records"})]})]})]})})]})]})}),a&&(0,Ae.jsxs)("div",{className:`alert alert-${a.type} text-center alert-dismissible fade show`,children:[a.message,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>s(null),"aria-label":"Close"})]}),(0,Ae.jsxs)(Qs,{show:p,onHide:()=>f(!1),size:"lg",centered:!0,className:"vaccination-modal",children:[(0,Ae.jsx)(Qs.Header,{closeButton:!0,className:"border-bottom-0 pb-0",children:(0,Ae.jsxs)(Qs.Title,{children:[(0,Ae.jsx)(Sn,{className:"me-2 text-primary"})," Add New Vaccination"]})}),(0,Ae.jsx)(Qs.Body,{className:"pt-0",children:(0,Ae.jsx)("div",{className:"vaccine-form-card border-0",children:(0,Ae.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(e),f(!1)},className:"vaccination-form",children:[(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title text-dark",children:[(0,Ae.jsx)(An,{className:"me-2 text-primary"})," Basic Information"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"vaccine_name",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Vaccine Name"]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"vaccine_name",name:"vaccine_name",value:d.vaccine_name,onChange:v,placeholder:"Enter vaccine name",required:!0}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(pn,{className:"me-1"})," E.g., Influenza, COVID-19, Tetanus, HPV"]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"date_administered",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Date Administered"]}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"date_administered",name:"date_administered",value:d.date_administered,onChange:v,required:!0})]})]})]}),(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title text-dark",children:[(0,Ae.jsx)(Hn,{className:"me-2 text-primary"})," Additional Details"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"administered_by",className:"form-label text-dark",children:"Healthcare Provider"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"administered_by",name:"administered_by",value:d.administered_by,onChange:v,placeholder:"Enter provider name or facility"})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"lot_number",className:"form-label text-dark",children:"Lot Number"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"lot_number",name:"lot_number",value:d.lot_number,onChange:v,placeholder:"Enter vaccine lot number"})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"next_dose_date",className:"form-label text-dark",children:[(0,Ae.jsx)(Ut,{className:"me-1 text-primary"})," Next Dose Date"]}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"next_dose_date",name:"next_dose_date",value:d.next_dose_date,onChange:v}),(0,Ae.jsxs)("small",{className:"form-text text-muted",children:[(0,Ae.jsx)(Zt,{className:"me-1"})," If another dose is required"]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"notes",className:"form-label text-dark",children:[(0,Ae.jsx)(Rn,{className:"me-1 text-primary"})," Notes"]}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"2",value:d.notes,onChange:v,placeholder:"Any reactions, side effects, or important information"})]})]})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-end mt-3",children:[(0,Ae.jsx)(dr,{variant:"secondary",className:"me-2",onClick:()=>f(!1),children:"Cancel"}),(0,Ae.jsxs)(dr,{variant:"primary",type:"submit",children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Save Vaccination"]})]})]})})})]})]})},ro=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)("medications"),[c,u]=(0,t.useState)({name:"",total_tablets:"",dose_per_intake:"",times_per_day:1,frequency:"daily",selected_days:[],reminder_time:"08:00"}),[d,h]=(0,t.useState)([]),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!1);(0,t.useEffect)((()=>{b()}),[]),(0,t.useEffect)((()=>{const t=e.some((e=>e.remaining_tablets<=e.dose_per_intake*e.times_per_day*3));y(t)}),[e]);const b=async()=>{try{i(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:r}=await Te.supabase.from("medications").select("*").eq("user_id",e.id).order("name",{ascending:!0});if(r)throw r;n(t||[])}catch(e){console.error("Error fetching medications:",e),s({message:"Error fetching medications.",type:"danger"})}finally{i(!1)}},x=async e=>{if(e.preventDefault(),c.name&&c.total_tablets&&c.dose_per_intake){i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{error:t}=await Te.supabase.from("medications").insert([{name:c.name,total_tablets:parseInt(c.total_tablets),dose_per_intake:parseInt(c.dose_per_intake),times_per_day:parseInt(c.times_per_day),frequency:c.frequency,selected_days:c.selected_days,reminder_time:c.reminder_time,user_id:e.id,remaining_tablets:parseInt(c.total_tablets)}]);if(t)throw t;u({name:"",total_tablets:"",dose_per_intake:"",times_per_day:1,frequency:"daily",selected_days:[],reminder_time:"08:00"}),s({message:"Medication added successfully!",type:"success"}),b(),l("medications")}catch(t){console.error("Error adding medication:",t),s({message:"Error adding medication.",type:"danger"})}finally{i(!1)}}else s({message:"Please fill all required fields.",type:"danger"})},w=async e=>{try{const{data:t,error:n}=await Te.supabase.from("medication_history").select("*").eq("medication_id",e).order("taken_at",{ascending:!1}).limit(30);if(n)throw n;h(t||[])}catch(t){console.error("Error fetching history:",t)}};return r&&0===e.length?(0,Ae.jsx)("div",{className:"text-center",children:(0,Ae.jsx)(Kn,{animation:"border",role:"status",children:(0,Ae.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,Ae.jsxs)(Xa,{children:[(0,Ae.jsxs)("h1",{className:"my-4 page-title",children:[(0,Ae.jsx)(jn,{className:"me-2 text-primary"})," Medication Tracker"]}),a&&(0,Ae.jsxs)("div",{className:`alert alert-${a.type} text-center alert-dismissible fade show`,children:[a.message,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>s(null),"aria-label":"Close"})]}),(0,Ae.jsxs)("div",{className:"tabs-container",children:[(0,Ae.jsx)("div",{className:"nav-tabs-wrapper",children:(0,Ae.jsxs)("ul",{className:"nav nav-tabs",children:[(0,Ae.jsx)("li",{className:"nav-item",children:(0,Ae.jsxs)("button",{className:"nav-link "+("medications"===o?"active":""),onClick:()=>l("medications"),children:[(0,Ae.jsx)(yn,{className:"me-2 text-primary"})," Your Medications",v&&(0,Ae.jsx)("span",{className:"upcoming-badge ms-2",children:"!"})]})}),(0,Ae.jsx)("li",{className:"nav-item",children:(0,Ae.jsxs)("button",{className:"nav-link "+("add"===o?"active":""),onClick:()=>l("add"),children:[(0,Ae.jsx)(Sn,{className:"me-2 text-primary"})," Add New Medication"]})})]})}),(0,Ae.jsxs)("div",{className:"tab-content",children:["medications"===o&&(0,Ae.jsx)("div",{className:"tab-pane active",children:(()=>{if(0===e.length)return(0,Ae.jsxs)("div",{className:"empty-state",children:[(0,Ae.jsx)(jn,{className:"mb-3",style:{fontSize:"3rem",color:"var(--secondary-color)"}}),(0,Ae.jsx)("h3",{className:"text-primary",children:"No medications found"}),(0,Ae.jsx)("p",{children:'Click "Add New Medication" to record your first medication'}),(0,Ae.jsxs)(dr,{variant:"primary",onClick:()=>l("add"),children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Add New Medication"]})]});const t=e.filter((e=>e.remaining_tablets<=e.dose_per_intake*e.times_per_day*3));return(0,Ae.jsxs)(Ae.Fragment,{children:[t.length>0&&(0,Ae.jsxs)("div",{className:"upcoming-section mb-4",children:[(0,Ae.jsx)("div",{className:"upcoming-header",children:(0,Ae.jsxs)("h3",{className:"mb-0",children:[(0,Ae.jsx)(tn,{className:"me-2 text-primary"})," Low Stock Medications"]})}),(0,Ae.jsx)("div",{className:"upcoming-body",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Medication"}),(0,Ae.jsx)("th",{children:"Remaining"}),(0,Ae.jsx)("th",{children:"Per Dose"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:t.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsxs)("td",{children:[(0,Ae.jsx)(jn,{className:"me-2 text-primary"})," ",e.name]}),(0,Ae.jsxs)("td",{children:[e.remaining_tablets," tablets"]}),(0,Ae.jsxs)("td",{children:[e.dose_per_intake," tablets"]}),(0,Ae.jsx)("td",{children:(0,Ae.jsxs)("button",{className:"btn btn-sm btn-primary me-2",onClick:()=>{l("add")},children:[(0,Ae.jsx)(Sn,{className:"me-1"})," Restock"]})})]},`low-stock-${e.id}`)))})]})})})]}),(0,Ae.jsx)("h2",{className:"section-title",children:"Your Medications"}),(0,Ae.jsx)("div",{className:"row",children:e.map((t=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"medication-card",children:[(0,Ae.jsx)("h4",{children:t.name}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Total Tablets:"})," ",t.total_tablets]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Tablets per Dose:"})," ",t.dose_per_intake]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Times per Day:"})," ",1===t.times_per_day?"Once a Day":2===t.times_per_day?"Twice a Day":3===t.times_per_day?"Three Times a Day":"Four Times a Day"]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Frequency:"})," ","daily"===t.frequency?"Daily":"twice_week"===t.frequency?"Twice a Week":"thrice_week"===t.frequency?"Three Times a Week":"once_week"===t.frequency?"Once a Week":"Alternate Days"]}),t.selected_days&&t.selected_days.length>0&&(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Days:"})," ",t.selected_days.join(", ")]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Remaining:"})," ",t.remaining_tablets]}),(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Reminder Time:"})," ",t.reminder_time]}),t.remaining_tablets<=t.dose_per_intake*t.times_per_day*3&&(0,Ae.jsxs)("p",{className:"text-danger",children:[(0,Ae.jsx)(tn,{className:"me-2"}),"Low stock! Please restock soon."]}),(0,Ae.jsxs)("div",{className:"btn-group",children:[(0,Ae.jsxs)("button",{className:"btn btn-success",onClick:()=>(async e=>{const t=e.remaining_tablets-e.dose_per_intake;if(t<0)s({message:"Not enough tablets remaining!",type:"danger"});else{i(!0);try{const{error:n}=await Te.supabase.from("medications").update({remaining_tablets:t,last_taken_at:(new Date).toISOString()}).eq("id",e.id);if(n)throw n;const{error:r}=await Te.supabase.from("medication_history").insert([{medication_id:e.id,user_id:e.user_id,status:"taken",taken_at:(new Date).toISOString()}]);if(r)throw r;s({message:"Dose recorded successfully!",type:"success"}),b()}catch(n){console.error("Error recording dose:",n),s({message:"Error recording dose.",type:"danger"})}finally{i(!1)}}})(t),children:[(0,Ae.jsx)(Vt,{className:"me-2"})," Take"]}),(0,Ae.jsxs)("button",{className:"btn btn-warning",onClick:()=>(async e=>{try{const{error:t}=await Te.supabase.from("medication_history").insert([{medication_id:e.id,user_id:e.user_id,status:"missed",taken_at:(new Date).toISOString()}]);if(t)throw t;s({message:"Missed dose recorded.",type:"warning"}),(null===m||void 0===m?void 0:m.id)===e.id&&w(e.id)}catch(t){console.error("Error recording missed dose:",t),s({message:"Error recording missed dose.",type:"danger"})}})(t),children:[(0,Ae.jsx)(Dn,{className:"me-2"})," Missed"]}),(0,Ae.jsxs)("button",{className:"btn btn-info",onClick:()=>(e=>{g(e),w(e.id),f(!0)})(t),children:[(0,Ae.jsx)(dn,{className:"me-2"})," History"]}),(0,Ae.jsx)("button",{className:"btn btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this medication?")){i(!0);try{const{error:r}=await Te.supabase.from("medications").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Medication deleted successfully!",type:"success"})}catch(r){console.error("Error deleting medication:",r),s({message:"Error deleting medication.",type:"danger"})}finally{i(!1)}}})(t.id),children:(0,Ae.jsx)(Bn,{})})]})]})},t.id)))})]})})()}),"add"===o&&(0,Ae.jsx)("div",{className:"tab-pane active",children:(0,Ae.jsxs)("div",{className:"medication-form-card",children:[(0,Ae.jsxs)("h3",{className:"form-title",children:[(0,Ae.jsx)(Sn,{className:"me-2 text-primary"})," Add New Medication"]}),(0,Ae.jsxs)("form",{onSubmit:x,className:"medication-form",children:[(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title",children:[(0,Ae.jsx)(jn,{className:"me-2 text-primary"})," Basic Information"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"medication_name",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Medication Name"]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"medication_name",value:c.name,onChange:e=>u((t=>({...t,name:e.target.value}))),placeholder:"e.g., Paracetamol",required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"total_tablets",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Total Tablets"]}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"total_tablets",value:c.total_tablets,onChange:e=>u((t=>({...t,total_tablets:e.target.value}))),placeholder:"e.g., 30",required:!0})]})]})]}),(0,Ae.jsxs)("div",{className:"form-section",children:[(0,Ae.jsxs)("h4",{className:"form-section-title",children:[(0,Ae.jsx)(Ft,{className:"me-2 text-primary"})," Dosage Information"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"dose_per_intake",className:"form-label text-dark",children:[(0,Ae.jsx)("span",{className:"text-danger",children:"*"})," Tablets per Dose"]}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"dose_per_intake",value:c.dose_per_intake,onChange:e=>u((t=>({...t,dose_per_intake:e.target.value}))),placeholder:"e.g., 2",required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"times_per_day",className:"form-label text-dark",children:"Times per Day"}),(0,Ae.jsxs)("select",{className:"form-control",id:"times_per_day",value:c.times_per_day,onChange:e=>u((t=>({...t,times_per_day:e.target.value}))),children:[(0,Ae.jsx)("option",{value:"1",children:"Once a Day"}),(0,Ae.jsx)("option",{value:"2",children:"Twice a Day"}),(0,Ae.jsx)("option",{value:"3",children:"Three Times a Day"}),(0,Ae.jsx)("option",{value:"4",children:"Four Times a Day"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-4 mb-3",children:[(0,Ae.jsxs)("label",{htmlFor:"reminder_time",className:"form-label text-dark",children:[(0,Ae.jsx)($t,{className:"me-1 text-primary"})," Reminder Time"]}),(0,Ae.jsx)("input",{type:"time",className:"form-control",id:"reminder_time",value:c.reminder_time,onChange:e=>u((t=>({...t,reminder_time:e.target.value})))})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"frequency",className:"form-label text-dark",children:"Frequency"}),(0,Ae.jsxs)("select",{className:"form-control",id:"frequency",value:c.frequency,onChange:e=>u((t=>({...t,frequency:e.target.value,selected_days:[]}))),children:[(0,Ae.jsx)("option",{value:"daily",children:"Daily"}),(0,Ae.jsx)("option",{value:"twice_week",children:"Twice a Week"}),(0,Ae.jsx)("option",{value:"thrice_week",children:"Three Times a Week"}),(0,Ae.jsx)("option",{value:"once_week",children:"Once a Week"}),(0,Ae.jsx)("option",{value:"alternate",children:"Alternate Days"})]})]}),("twice_week"===c.frequency||"thrice_week"===c.frequency||"once_week"===c.frequency)&&(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{className:"form-label text-dark",children:"Select Days"}),(0,Ae.jsx)("div",{className:"d-flex flex-wrap gap-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map((e=>(0,Ae.jsx)("button",{type:"button",className:"btn btn-sm "+(c.selected_days.includes(e)?"btn-primary":"btn-outline-primary"),onClick:()=>(e=>{u((t=>{const n=t.selected_days.includes(e)?t.selected_days.filter((t=>t!==e)):[...t.selected_days,e];return{...t,selected_days:n}}))})(e),children:e.substring(0,3)},e)))})]})]})]}),(0,Ae.jsxs)("div",{className:"form-actions",children:[(0,Ae.jsxs)("button",{type:"submit",className:"btn btn-primary btn-lg",children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Add Medication"]}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-light btn-lg ms-auto",onClick:()=>l("medications"),children:"Back to Medications"})]})]})]})})]})]}),p&&m&&(0,Ae.jsxs)("div",{className:"history-section",children:[(0,Ae.jsxs)("h3",{children:[(0,Ae.jsx)(dn,{className:"me-2"}),"History for ",m.name]}),(0,Ae.jsxs)("table",{className:"history-table",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Time"}),(0,Ae.jsx)("th",{children:"Status"}),(0,Ae.jsx)("th",{children:"Notes"})]})}),(0,Ae.jsx)("tbody",{children:d.length>0?d.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:new Date(e.taken_at).toLocaleDateString()}),(0,Ae.jsx)("td",{children:new Date(e.taken_at).toLocaleTimeString()}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("span",{className:`status-badge status-${e.status}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),(0,Ae.jsx)("td",{children:e.notes||"-"})]},e.id))):(0,Ae.jsx)("tr",{children:(0,Ae.jsx)("td",{colSpan:"4",className:"text-center",children:"No history records found"})})})]}),(0,Ae.jsx)("button",{className:"btn btn-secondary mt-3",onClick:()=>f(!1),children:"Close History"})]})]})};function io(){}const ao=function(){let e=0;return function(){return e++}}();function so(e){return null===e||"undefined"===typeof e}function oo(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function lo(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const co=e=>("number"===typeof e||e instanceof Number)&&isFinite(+e);function uo(e,t){return co(e)?e:t}function ho(e,t){return"undefined"===typeof e?t:e}const po=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function fo(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function mo(e,t,n,r){let i,a,s;if(oo(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(lo(e))for(s=Object.keys(e),a=s.length,i=0;i<a;i++)t.call(n,e[s[i]],s[i])}function go(e,t){let n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i.datasetIndex!==a.datasetIndex||i.index!==a.index)return!1;return!0}function vo(e){if(oo(e))return e.map(vo);if(lo(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=vo(e[n[i]]);return t}return e}function yo(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function bo(e,t,n,r){if(!yo(e))return;const i=t[e],a=n[e];lo(i)&&lo(a)?xo(i,a,r):t[e]=vo(a)}function xo(e,t,n){const r=oo(t)?t:[t],i=r.length;if(!lo(e))return e;const a=(n=n||{}).merger||bo;for(let s=0;s<i;++s){if(!lo(t=r[s]))continue;const i=Object.keys(t);for(let r=0,s=i.length;r<s;++r)a(i[r],e,t,n)}return e}function wo(e,t){return xo(e,t,{merger:_o})}function _o(e,t,n){if(!yo(e))return;const r=t[e],i=n[e];lo(r)&&lo(i)?wo(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=vo(i))}const ko={"":e=>e,x:e=>e.x,y:e=>e.y};function jo(e,t){const n=ko[t]||(ko[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function So(e){return e.charAt(0).toUpperCase()+e.slice(1)}const No=e=>"undefined"!==typeof e,Eo=e=>"function"===typeof e,Co=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Oo=Math.PI,To=2*Oo,Ao=To+Oo,Po=Number.POSITIVE_INFINITY,Ro=Oo/180,Mo=Oo/2,Io=Oo/4,Do=2*Oo/3,Lo=Math.log10,Fo=Math.sign;function zo(e){const t=Math.round(e);e=$o(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Lo(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Bo(e){return!isNaN(parseFloat(e))&&isFinite(e)}function $o(e,t,n){return Math.abs(e-t)<n}function Uo(e,t,n){let r,i,a;for(r=0,i=e.length;r<i;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Ho(e){return e*(Oo/180)}function Vo(e){return e*(180/Oo)}function qo(e){if(!co(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Wo(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Oo&&(a+=To),{angle:a,distance:i}}function Zo(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ko(e,t){return(e-t+Ao)%To-Oo}function Yo(e){return(e%To+To)%To}function Go(e,t,n,r){const i=Yo(e),a=Yo(t),s=Yo(n),o=Yo(a-i),l=Yo(s-i),c=Yo(i-a),u=Yo(i-s);return i===a||i===s||r&&a===s||o>l&&c<u}function Jo(e,t,n){return Math.max(t,Math.min(n,e))}function Qo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Xo(e,t,n){n=n||(n=>e[n]<t);let r,i=e.length-1,a=0;for(;i-a>1;)r=a+i>>1,n(r)?a=r:i=r;return{lo:a,hi:i}}const el=(e,t,n,r)=>Xo(e,n,r?r=>e[r][t]<=n:r=>e[r][t]<n),tl=(e,t,n)=>Xo(e,n,(r=>e[r][t]>=n));const nl=["push","pop","shift","splice","unshift"];function rl(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(nl.forEach((t=>{delete e[t]})),delete e._chartjs)}function il(e){const t=new Set;let n,r;for(n=0,r=e.length;n<r;++n)t.add(e[n]);return t.size===r?e:Array.from(t)}const al="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function sl(e,t,n){const r=n||(e=>Array.prototype.slice.call(e));let i=!1,a=[];return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];a=r(s),i||(i=!0,al.call(window,(()=>{i=!1,e.apply(t,a)})))}}const ol=e=>"start"===e?"left":"end"===e?"right":"center",ll=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function cl(e,t,n){const r=t.length;let i=0,a=r;if(e._sorted){const{iScale:s,_parsed:o}=e,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(i=Jo(Math.min(el(o,s.axis,c).lo,n?r:el(t,l,s.getPixelForValue(c)).lo),0,r-1)),a=h?Jo(Math.max(el(o,s.axis,u,!0).hi+1,n?0:el(t,l,s.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:a}}function ul(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),a}const dl=e=>0===e||1===e,hl=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*To/n),pl=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*To/n)+1,fl={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Mo),easeOutSine:e=>Math.sin(e*Mo),easeInOutSine:e=>-.5*(Math.cos(Oo*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>dl(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>dl(e)?e:hl(e,.075,.3),easeOutElastic:e=>dl(e)?e:pl(e,.075,.3),easeInOutElastic(e){const t=.1125;return dl(e)?e:e<.5?.5*hl(2*e,t,.45):.5+.5*pl(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-fl.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*fl.easeInBounce(2*e):.5*fl.easeOutBounce(2*e-1)+.5};function ml(e){return e+.5|0}const gl=(e,t,n)=>Math.max(Math.min(e,n),t);function vl(e){return gl(ml(2.55*e),0,255)}function yl(e){return gl(ml(255*e),0,255)}function bl(e){return gl(ml(e/2.55)/100,0,1)}function xl(e){return gl(ml(100*e),0,100)}const wl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_l=[..."0123456789ABCDEF"],kl=e=>_l[15&e],jl=e=>_l[(240&e)>>4]+_l[15&e],Sl=e=>(240&e)>>4===(15&e);function Nl(e){var t=(e=>Sl(e.r)&&Sl(e.g)&&Sl(e.b)&&Sl(e.a))(e)?kl:jl;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const El=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Cl(e,t,n){const r=t*Math.min(n,1-n),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function Ol(e,t,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Tl(e,t,n){const r=Cl(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Al(e){const t=e.r/255,n=e.g/255,r=e.b/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=(i+a)/2;let o,l,c;return i!==a&&(c=i-a,l=s>.5?c/(2-i-a):c/(i+a),o=function(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,i),o=60*o+.5),[0|o,l||0,s]}function Pl(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(yl)}function Rl(e,t,n){return Pl(Cl,e,t,n)}function Ml(e){return(e%360+360)%360}function Il(e){const t=El.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?vl(+t[5]):yl(+t[5]));const i=Ml(+t[2]),a=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Pl(Tl,e,t,n)}(i,a,s):"hsv"===t[1]?function(e,t,n){return Pl(Ol,e,t,n)}(i,a,s):Rl(i,a,s),{r:n[0],g:n[1],b:n[2],a:r}}const Dl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ll={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Fl;function zl(e){Fl||(Fl=function(){const e={},t=Object.keys(Ll),n=Object.keys(Dl);let r,i,a,s,o;for(r=0;r<t.length;r++){for(s=o=t[r],i=0;i<n.length;i++)a=n[i],o=o.replace(a,Dl[a]);a=parseInt(Ll[s],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),Fl.transparent=[0,0,0,0]);const t=Fl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Bl=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const $l=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ul=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Hl(e,t,n){if(e){let r=Al(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Rl(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Vl(e,t){return e?Object.assign(t||{},e):e}function ql(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=yl(e[3]))):(t=Vl(e,{r:0,g:0,b:0,a:1})).a=yl(t.a),t}function Wl(e){return"r"===e.charAt(0)?function(e){const t=Bl.exec(e);let n,r,i,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?vl(e):gl(255*e,0,255)}return n=+t[1],r=+t[3],i=+t[5],n=255&(t[2]?vl(n):gl(n,0,255)),r=255&(t[4]?vl(r):gl(r,0,255)),i=255&(t[6]?vl(i):gl(i,0,255)),{r:n,g:r,b:i,a:a}}}(e):Il(e)}class Zl{constructor(e){if(e instanceof Zl)return e;const t=typeof e;let n;"object"===t?n=ql(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*wl[e[1]],g:255&17*wl[e[2]],b:255&17*wl[e[3]],a:5===n?17*wl[e[4]]:255}:7!==n&&9!==n||(t={r:wl[e[1]]<<4|wl[e[2]],g:wl[e[3]]<<4|wl[e[4]],b:wl[e[5]]<<4|wl[e[6]],a:9===n?wl[e[7]]<<4|wl[e[8]]:255})),t}(e)||zl(e)||Wl(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Vl(this._rgb);return e&&(e.a=bl(e.a)),e}set rgb(e){this._rgb=ql(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${bl(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?Nl(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Al(e),n=t[0],r=xl(t[1]),i=xl(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${bl(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let i;const a=t===i?.5:t,s=2*a-1,o=n.a-r.a,l=((s*o===-1?s:(s+o)/(1+s*o))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Ul(bl(e.r)),i=Ul(bl(e.g)),a=Ul(bl(e.b));return{r:yl($l(r+n*(Ul(bl(t.r))-r))),g:yl($l(i+n*(Ul(bl(t.g))-i))),b:yl($l(a+n*(Ul(bl(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Zl(this.rgb)}alpha(e){return this._rgb.a=yl(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ml(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Hl(this._rgb,2,e),this}darken(e){return Hl(this._rgb,2,-e),this}saturate(e){return Hl(this._rgb,1,e),this}desaturate(e){return Hl(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Al(e);n[0]=Ml(n[0]+t),n=Rl(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function Kl(e){return new Zl(e)}function Yl(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Gl(e){return Yl(e)?e:Kl(e)}function Jl(e){return Yl(e)?e:Kl(e).saturate(.5).darken(.1).hexString()}const Ql=Object.create(null),Xl=Object.create(null);function ec(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function tc(e,t,n){return"string"===typeof t?xo(ec(e,t),n):xo(ec(e,""),t)}var nc=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Jl(t.backgroundColor),this.hoverBorderColor=(e,t)=>Jl(t.borderColor),this.hoverColor=(e,t)=>Jl(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return tc(this,e,t)}get(e){return ec(this,e)}describe(e,t){return tc(Xl,e,t)}override(e,t){return tc(Ql,e,t)}route(e,t,n,r){const i=ec(this,e),a=ec(this,n),s="_"+t;Object.defineProperties(i,{[s]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=a[r];return lo(e)?Object.assign({},t,e):ho(e,t)},set(e){this[s]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function rc(e,t,n,r,i){let a=t[i];return a||(a=t[i]=e.measureText(i).width,n.push(i)),a>r&&(r=a),r}function ic(e,t,n,r){let i=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(i=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const o=n.length;let l,c,u,d,h;for(l=0;l<o;l++)if(d=n[l],void 0!==d&&null!==d&&!0!==oo(d))s=rc(e,i,a,s,d);else if(oo(d))for(c=0,u=d.length;c<u;c++)h=d[c],void 0===h||null===h||oo(h)||(s=rc(e,i,a,s,h));e.restore();const p=a.length/2;if(p>n.length){for(l=0;l<p;l++)delete i[a[l]];a.splice(0,p)}return s}function ac(e,t,n){const r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function sc(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function oc(e,t,n,r){lc(e,t,n,r,null)}function lc(e,t,n,r,i){let a,s,o,l,c,u;const d=t.pointStyle,h=t.rotation,p=t.radius;let f=(h||0)*Ro;if(d&&"object"===typeof d&&(a=d.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(f),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),d){default:i?e.ellipse(n,r,i/2,p,0,0,To):e.arc(n,r,p,0,To),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(f)*p,r-Math.cos(f)*p),f+=Do,e.lineTo(n+Math.sin(f)*p,r-Math.cos(f)*p),f+=Do,e.lineTo(n+Math.sin(f)*p,r-Math.cos(f)*p),e.closePath();break;case"rectRounded":c=.516*p,l=p-c,s=Math.cos(f+Io)*l,o=Math.sin(f+Io)*l,e.arc(n-s,r-o,c,f-Oo,f-Mo),e.arc(n+o,r-s,c,f-Mo,f),e.arc(n+s,r+o,c,f,f+Mo),e.arc(n-o,r+s,c,f+Mo,f+Oo),e.closePath();break;case"rect":if(!h){l=Math.SQRT1_2*p,u=i?i/2:l,e.rect(n-u,r-l,2*u,2*l);break}f+=Io;case"rectRot":s=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-s,r-o),e.lineTo(n+o,r-s),e.lineTo(n+s,r+o),e.lineTo(n-o,r+s),e.closePath();break;case"crossRot":f+=Io;case"cross":s=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o),e.moveTo(n+o,r-s),e.lineTo(n-o,r+s);break;case"star":s=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o),e.moveTo(n+o,r-s),e.lineTo(n-o,r+s),f+=Io,s=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o),e.moveTo(n+o,r-s),e.lineTo(n-o,r+s);break;case"line":s=i?i/2:Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(n-s,r-o),e.lineTo(n+s,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(f)*p,r+Math.sin(f)*p)}e.fill(),t.borderWidth>0&&e.stroke()}}function cc(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function uc(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function dc(e){e.restore()}function hc(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if("middle"===i){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===i!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function pc(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function fc(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=oo(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=i.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]);so(t.rotation)||e.rotate(t.rotation);t.color&&(e.fillStyle=t.color);t.textAlign&&(e.textAlign=t.textAlign);t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<s.length;++l)c=s[l],o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),so(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,r,a.maxWidth)),e.fillText(c,n,r,a.maxWidth),mc(e,n,r,c,a),r+=i.lineHeight;e.restore()}function mc(e,t,n,r,i){if(i.strikethrough||i.underline){const a=e.measureText(r),s=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(s,u),e.lineTo(o,u),e.stroke()}}function gc(e,t){const{x:n,y:r,w:i,h:a,radius:s}=t;e.arc(n+s.topLeft,r+s.topLeft,s.topLeft,-Mo,Oo,!0),e.lineTo(n,r+a-s.bottomLeft),e.arc(n+s.bottomLeft,r+a-s.bottomLeft,s.bottomLeft,Oo,Mo,!0),e.lineTo(n+i-s.bottomRight,r+a),e.arc(n+i-s.bottomRight,r+a-s.bottomRight,s.bottomRight,Mo,0,!0),e.lineTo(n+i,r+s.topRight),e.arc(n+i-s.topRight,r+s.topRight,s.topRight,0,-Mo,!0),e.lineTo(n+s.topLeft,r)}const vc=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),yc=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function bc(e,t){const n=(""+e).match(vc);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function xc(e,t){const n={},r=lo(t),i=r?Object.keys(t):t,a=lo(e)?r?n=>ho(e[n],e[t[n]]):t=>e[t]:()=>e;for(const s of i)n[s]=+a(s)||0;return n}function wc(e){return xc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function _c(e){return xc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function kc(e){const t=wc(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function jc(e,t){e=e||{},t=t||nc.font;let n=ho(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=ho(e.style,t.style);r&&!(""+r).match(yc)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:ho(e.family,t.family),lineHeight:bc(ho(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:ho(e.weight,t.weight),string:""};return i.string=function(e){return!e||so(e.size)||so(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i}function Sc(e,t,n,r){let i,a,s,o=!0;for(i=0,a=e.length;i<a;++i)if(s=e[i],void 0!==s&&(void 0!==t&&"function"===typeof s&&(s=s(t),o=!1),void 0!==n&&oo(s)&&(s=s[n%s.length],o=!1),void 0!==s))return r&&!o&&(r.cacheable=!1),s}function Nc(e,t){return Object.assign(Object.create(e),t)}function Ec(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];No(r)||(r=Fc("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:r,_getTarget:i,override:i=>Ec([i,...e],t,n,r)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>Pc(n,r,(()=>function(e,t,n,r){let i;for(const a of t)if(i=Fc(Tc(a,e),n),No(i))return Ac(e,i)?Dc(n,r,e,i):i}(r,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>zc(e).includes(t),ownKeys:e=>zc(e),set(e,t,n){const r=e._storage||(e._storage=i());return e[t]=r[t]=n,delete e._keys,!0}})}function Cc(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Oc(e,r),setContext:t=>Cc(e,t,n,r),override:i=>Cc(e.override(i),t,n,r)};return new Proxy(i,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Pc(e,t,(()=>function(e,t,n){const{_proxy:r,_context:i,_subProxy:a,_descriptors:s}=e;let o=r[t];Eo(o)&&s.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e),t=t(a,s||r),o.delete(e),Ac(e,t)&&(t=Dc(i._scopes,i,e,t));return t}(t,o,e,n));oo(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:i,_context:a,_subProxy:s,_descriptors:o}=n;if(No(a.index)&&r(e))t=t[a.index%t.length];else if(lo(t[0])){const n=t,r=i._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Dc(r,i,e,l);t.push(Cc(n,a,s&&s[e],o))}}return t}(t,o,e,s.isIndexable));Ac(t,o)&&(o=Cc(o,i,a&&a[t],s));return o}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function Oc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Eo(n)?n:()=>n,isIndexable:Eo(r)?r:()=>r}}const Tc=(e,t)=>e?e+So(t):t,Ac=(e,t)=>lo(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Pc(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const r=n();return e[t]=r,r}function Rc(e,t,n){return Eo(e)?e(t,n):e}const Mc=(e,t)=>!0===e?t:"string"===typeof e?jo(t,e):void 0;function Ic(e,t,n,r,i){for(const a of t){const t=Mc(n,a);if(t){e.add(t);const a=Rc(t._fallback,n,i);if(No(a)&&a!==n&&a!==r)return a}else if(!1===t&&No(r)&&n!==r)return null}return!1}function Dc(e,t,n,r){const i=t._rootScopes,a=Rc(t._fallback,n,r),s=[...e,...i],o=new Set;o.add(r);let l=Lc(o,s,n,a||n,r);return null!==l&&((!No(a)||a===n||(l=Lc(o,s,a,l,r),null!==l))&&Ec(Array.from(o),[""],i,a,(()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];if(oo(i)&&lo(n))return n;return i}(t,n,r))))}function Lc(e,t,n,r,i){for(;n;)n=Ic(e,t,n,r,i);return n}function Fc(e,t){for(const n of t){if(!n)continue;const t=n[e];if(No(t))return t}}function zc(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function Bc(e,t,n,r){const{iScale:i}=e,{key:a="r"}=this._parsing,s=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],s[o]={r:i.parse(jo(u,a),c)};return s}const $c=Number.EPSILON||1e-14,Uc=(e,t)=>t<e.length&&!e[t].skip&&e[t],Hc=e=>"x"===e?"y":"x";function Vc(e,t,n,r){const i=e.skip?t:e,a=t,s=n.skip?t:n,o=Zo(a,i),l=Zo(s,a);let c=o/(o+l),u=l/(o+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,h=r*u;return{previous:{x:a.x-d*(s.x-i.x),y:a.y-d*(s.y-i.y)},next:{x:a.x+h*(s.x-i.x),y:a.y+h*(s.y-i.y)}}}function qc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=Hc(t),r=e.length,i=Array(r).fill(0),a=Array(r);let s,o,l,c=Uc(e,0);for(s=0;s<r;++s)if(o=l,l=c,c=Uc(e,s+1),l){if(c){const e=c[t]-l[t];i[s]=0!==e?(c[n]-l[n])/e:0}a[s]=o?c?Fo(i[s-1])!==Fo(i[s])?0:(i[s-1]+i[s])/2:i[s-1]:i[s]}!function(e,t,n){const r=e.length;let i,a,s,o,l,c=Uc(e,0);for(let u=0;u<r-1;++u)l=c,c=Uc(e,u+1),l&&c&&($o(t[u],0,$c)?n[u]=n[u+1]=0:(i=n[u]/t[u],a=n[u+1]/t[u],o=Math.pow(i,2)+Math.pow(a,2),o<=9||(s=3/Math.sqrt(o),n[u]=i*s*t[u],n[u+1]=a*s*t[u])))}(e,i,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=Hc(n),i=e.length;let a,s,o,l=Uc(e,0);for(let c=0;c<i;++c){if(s=o,o=l,l=Uc(e,c+1),!o)continue;const i=o[n],u=o[r];s&&(a=(i-s[n])/3,o[`cp1${n}`]=i-a,o[`cp1${r}`]=u-a*t[c]),l&&(a=(l[n]-i)/3,o[`cp2${n}`]=i+a,o[`cp2${r}`]=u+a*t[c])}}(e,a,t)}function Wc(e,t,n){return Math.max(Math.min(e,n),t)}function Zc(e,t,n,r,i){let a,s,o,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)qc(e,i);else{let n=r?e[e.length-1]:e[0];for(a=0,s=e.length;a<s;++a)o=e[a],l=Vc(n,o,e[Math.min(a+1,s-(r?0:1))%s],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,i,a,s,o=cc(e[0],t);for(n=0,r=e.length;n<r;++n)s=a,a=o,o=n<r-1&&cc(e[n+1],t),a&&(i=e[n],s&&(i.cp1x=Wc(i.cp1x,t.left,t.right),i.cp1y=Wc(i.cp1y,t.top,t.bottom)),o&&(i.cp2x=Wc(i.cp2x,t.left,t.right),i.cp2y=Wc(i.cp2y,t.top,t.bottom)))}(e,n)}function Kc(){return"undefined"!==typeof window&&"undefined"!==typeof document}function Yc(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Gc(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const Jc=e=>window.getComputedStyle(e,null);const Qc=["top","right","bottom","left"];function Xc(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const a=Qc[i];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function eu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Jc(n),a="border-box"===i.boxSizing,s=Xc(i,"padding"),o=Xc(i,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:a}=r;let s,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(i,a,e.target))s=i,o=a;else{const e=t.getBoundingClientRect();s=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:s,y:o,box:l}}(e,n),d=s.left+(u&&o.left),h=s.top+(u&&o.top);let{width:p,height:f}=t;return a&&(p-=s.width+o.width,f-=s.height+o.height),{x:Math.round((l-d)/p*n.width/r),y:Math.round((c-h)/f*n.height/r)}}const tu=e=>Math.round(10*e)/10;function nu(e,t,n,r){const i=Jc(e),a=Xc(i,"margin"),s=Gc(i.maxWidth,e,"clientWidth")||Po,o=Gc(i.maxHeight,e,"clientHeight")||Po,l=function(e,t,n){let r,i;if(void 0===t||void 0===n){const a=Yc(e);if(a){const e=a.getBoundingClientRect(),s=Jc(a),o=Xc(s,"border","width"),l=Xc(s,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=Gc(s.maxWidth,a,"clientWidth"),i=Gc(s.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Po,maxHeight:i||Po}}(e,t,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const e=Xc(i,"border","width"),t=Xc(i,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-a.width),u=Math.max(0,r?Math.floor(c/r):u-a.height),c=tu(Math.min(c,s,l.maxWidth)),u=tu(Math.min(u,o,l.maxHeight)),c&&!u&&(u=tu(c/2)),{width:c,height:u}}function ru(e,t,n){const r=t||1,i=Math.floor(e.height*r),a=Math.floor(e.width*r);e.height=i/r,e.width=a/r;const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==r||s.height!==i||s.width!==a)&&(e.currentDevicePixelRatio=r,s.height=i,s.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const iu=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(bm){}return e}();function au(e,t){const n=function(e,t){return Jc(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function su(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function ou(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function lu(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},s=su(e,i,n),o=su(i,a,n),l=su(a,t,n),c=su(s,o,n),u=su(o,l,n);return su(c,u,n)}const cu=new Map;function uu(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=cu.get(n);return r||(r=new Intl.NumberFormat(e,t),cu.set(n,r)),r}(t,n).format(e)}function du(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function hu(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function pu(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function fu(e){return"angle"===e?{between:Go,compare:Ko,normalize:Yo}:{between:Qo,compare:(e,t)=>e-t,normalize:e=>e}}function mu(e){let{start:t,end:n,count:r,loop:i,style:a}=e;return{start:t%r,end:n%r,loop:i&&(n-t+1)%r===0,style:a}}function gu(e,t,n){if(!n)return[e];const{property:r,start:i,end:a}=n,s=t.length,{compare:o,between:l,normalize:c}=fu(r),{start:u,end:d,loop:h,style:p}=function(e,t,n){const{property:r,start:i,end:a}=n,{between:s,normalize:o}=fu(r),l=t.length;let c,u,{start:d,end:h,loop:p}=e;if(p){for(d+=l,h+=l,c=0,u=l;c<u&&s(o(t[d%l][r]),i,a);++c)d--,h--;d%=l,h%=l}return h<d&&(h+=l),{start:d,end:h,loop:p,style:e.style}}(e,t,n),f=[];let m,g,v,y=!1,b=null;const x=()=>y||l(i,v,m)&&0!==o(i,v),w=()=>!y||0===o(a,m)||l(a,v,m);for(let _=u,k=u;_<=d;++_)g=t[_%s],g.skip||(m=c(g[r]),m!==v&&(y=l(m,i,a),null===b&&x()&&(b=0===o(m,i)?_:k),null!==b&&w()&&(f.push(mu({start:b,end:_,loop:h,count:s,style:p})),b=null),k=_,v=m));return null!==b&&f.push(mu({start:b,end:d,loop:h,count:s,style:p})),f}function vu(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const a=gu(r[i],e.points,t);a.length&&n.push(...a)}return n}function yu(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const i=e._chart.getContext(),a=bu(e.options),{_datasetIndex:s,options:{spanGaps:o}}=e,l=n.length,c=[];let u=a,d=t[0].start,h=d;function p(e,t,r,i){const a=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:i}),u=i,d=t%l)}}for(const f of t){d=o?d:f.start;let e,t=n[d%l];for(h=d+1;h<=f.end;h++){const a=n[h%l];e=bu(r.setContext(Nc(i,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),xu(e,u)&&p(d,h-1,f.loop,u),t=a,u=e}d<h-1&&p(d,h-1,f.loop,u)}return c}(e,t,n,r):t}function bu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function xu(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var wu=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const i=t.listeners[r],a=t.duration;i.forEach((r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)})))}_refresh(){this._request||(this._running=!0,this._request=al.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let a,s=i.length-1,o=!1;for(;s>=0;--s)a=i[s],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(i[s]=i[i.length-1],i.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),i.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=i.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const _u="transparent",ku={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Gl(e||_u),i=r.valid&&Gl(t||_u);return i&&i.valid?i.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class ju{constructor(e,t,n,r){const i=t[n];r=Sc([e.to,r,i,e.from]);const a=Sc([e.from,i,r]);this._active=!0,this._fn=e.fn||ku[e.type||typeof a],this._easing=fl[e.easing]||fl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,a=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Sc([e.to,t,r,e.from]),this._from=Sc([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,i=this._from,a=this._loop,s=this._to;let o;if(this._active=i!==s&&(a||t<n),!this._active)return this._target[r]=s,void this._notify(!0);t<0?this._target[r]=i:(o=t/n%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(i,s,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}nc.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Su=Object.keys(nc.animation);nc.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),nc.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),nc.describe("animations",{_fallback:"animation"}),nc.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class Nu{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!lo(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const r=e[n];if(!lo(r))return;const i={};for(const e of Su)i[e]=r[e];(oo(r.properties)&&r.properties||[n]).forEach((e=>{e!==n&&t.has(e)||t.set(e,i)}))}))}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const t=e[r[i]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),i}_createAnimations(e,t){const n=this._properties,r=[],i=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let u=i[l];const d=n.get(l);if(u){if(d&&u.active()){u.update(d,c,s);continue}u.cancel()}d&&d.duration?(i[l]=u=new ju(d,e,l,c),r.push(u)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(wu.add(this._chart,n),!0):void 0}}function Eu(e,t){const n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:i,end:r?i:a}}function Cu(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,a;for(i=0,a=r.length;i<a;++i)n.push(r[i].index);return n}function Ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=e.keys,a="single"===r.mode;let s,o,l,c;if(null!==t){for(s=0,o=i.length;s<o;++s){if(l=+i[s],l===n){if(r.all)continue;break}c=e.values[l],co(c)&&(a||0===t||Fo(t)===Fo(c))&&(t+=c)}return t}}function Tu(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Au(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function Pu(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const t=e[i.index];if(n&&t>0||!n&&t<0)return i.index}return null}function Ru(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:a,vScale:s,index:o}=r,l=a.axis,c=s.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(a,s,r),d=t.length;let h;for(let p=0;p<d;++p){const e=t[p],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=Au(i,u,n),h[o]=a,h._top=Pu(h,s,!0,r.type),h._bottom=Pu(h,s,!1,r.type)}}function Mu(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function Iu(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n]}}}const Du=e=>"reset"===e||"none"===e,Lu=(e,t)=>t?e:Object.assign({},e);class Fu{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tu(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Iu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,i=t.xAxisID=ho(n.xAxisID,Mu(e,"x")),a=t.yAxisID=ho(n.yAxisID,Mu(e,"y")),s=t.rAxisID=ho(n.rAxisID,Mu(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,i,a,s),c=t.vAxisID=r(o,a,i,s);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rl(this._data,this),e._stacked&&Iu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(lo(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r],n[r]={x:a,y:e[a]};return n}(t);else if(n!==t){if(n){rl(n,this);const e=this._cachedMeta;Iu(e),e._parsed=[]}t&&Object.isExtensible(t)&&(i=this,(r=t)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),nl.forEach((e=>{const t="_onData"+So(e),n=r[e];Object.defineProperty(r,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];const s=n.apply(this,i);return r._chartjs.listeners.forEach((e=>{"function"===typeof e[t]&&e[t](...i)})),s}})})))),this._syncList=[],this._data=t}var r,i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=t._stacked;t._stacked=Tu(t.vScale,t),t.stack!==n.stack&&(r=!0,Iu(t),t.stack=n.stack),this._resyncElements(e),(r||i!==t._stacked)&&Ru(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:a}=n,s=i.axis;let o,l,c,u=0===e&&t===r.length||n._sorted,d=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=oo(r[e])?this.parseArrayData(n,r,e,t):lo(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const i=()=>null===l[s]||d&&l[s]<d[s];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],u&&(i()&&(u=!1),d=l);n._sorted=u}a&&Ru(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:i,vScale:a}=e,s=i.axis,o=a.axis,l=i.getLabels(),c=i===a,u=new Array(r);let d,h,p;for(d=0,h=r;d<h;++d)p=d+n,u[d]={[s]:c||i.parse(l[p],p),[o]:a.parse(t[p],p)};return u}parseArrayData(e,t,n,r){const{xScale:i,yScale:a}=e,s=new Array(r);let o,l,c,u;for(o=0,l=r;o<l;++o)c=o+n,u=t[c],s[o]={x:i.parse(u[0],c),y:a.parse(u[1],c)};return s}parseObjectData(e,t,n,r){const{xScale:i,yScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,u,d,h;for(c=0,u=r;c<u;++c)d=c+n,h=t[d],l[c]={x:i.parse(jo(h,s),d),y:a.parse(jo(h,o),d)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,i=this._cachedMeta,a=t[e.axis];return Ou({keys:Cu(r,!0),values:t._stacks[e.axis]},a,i.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const i=n[t.axis];let a=null===i?NaN:i;const s=r&&n._stacks[t.axis];r&&s&&(r.values=s,a=Ou(r,i,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&e===n.iScale,a=r.length,s=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Cu(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(s);let d,h;function p(){h=r[d];const t=h[s.axis];return!co(h[e.axis])||c>t||u<t}for(d=0;d<a&&(p()||(this.updateRangeFromParsed(l,e,h,o),!i));++d);if(i)for(d=a-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,i,a;for(r=0,i=t.length;r<i;++r)a=t[r][e.axis],co(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,i;return lo(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}(ho(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=Eu(e,n),i=Eu(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],i=t.chartArea,a=[],s=this._drawStart||0,o=this._drawCount||r.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,i,s,o),c=s;c<s+o;++c){const t=r[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,i))}for(c=0;c<a.length;++c)a[c].draw(e,i)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];i=t.$context||(t.$context=function(e,t,n){return Nc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Nc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,i=this._cachedDataOpts,a=e+"-"+t,s=i[a],o=this.enableOptionSharing&&No(n);if(s)return Lu(s,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=r?[`${e}Hover`,"hover",e,""]:[e,""],d=l.getOptionScopes(this.getDataset(),c),h=Object.keys(nc.elements[e]),p=l.resolveNamedOptions(d,h,(()=>this.getContext(n,r)),u);return p.$shared&&(p.$shared=o,i[a]=Object.freeze(Lu(p,o))),p}_resolveAnimations(e,t,n){const r=this.chart,i=this._cachedDataOpts,a=`animation-${t}`,s=i[a];if(s)return s;let o;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),i);o=r.createResolver(a,this.getContext(e,n,t))}const l=new Nu(r,o&&o.animations);return o&&o._cacheable&&(i[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Du(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,i=this.getSharedOptions(n),a=this.includeOptions(t,i)||i!==r;return this.updateSharedOptions(i,t,n),{sharedOptions:i,includeOptions:a}}updateElement(e,t,n,r){Du(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!Du(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[s,o,l]of this._syncList)this[s](o,l);this._syncList=[];const r=n.length,i=t.length,a=Math.min(i,r);a&&this.parse(0,a),i>r?this._insertElements(r,i-r,e):i<r&&this._removeElements(i,r-i)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,a=e+t;let s;const o=e=>{for(e.length+=t,s=e.length-1;s>=a;s--)e[s]=e[s-t]};for(o(i),s=e;s<a;++s)i[s]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(i,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&Iu(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zu(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,i=n.length;t<i;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=il(r.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let r,i,a,s,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(No(s)&&(o=Math.min(o,Math.abs(a-s)||o)),s=a)};for(r=0,i=n.length;r<i;++r)a=t.getPixelForValue(n[r]),l();for(s=void 0,r=0,i=t.ticks.length;r<i;++r)a=t.getPixelForTick(r),l();return o}function Bu(e,t,n,r){return oo(e)?function(e,t,n,r){const i=n.parse(e[0],r),a=n.parse(e[1],r),s=Math.min(i,a),o=Math.max(i,a);let l=s,c=o;Math.abs(s)>Math.abs(o)&&(l=o,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:a,min:s,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function $u(e,t,n,r){const i=e.iScale,a=e.vScale,s=i.getLabels(),o=i===a,l=[];let c,u,d,h;for(c=n,u=n+r;c<u;++c)h=t[c],d={},d[i.axis]=o||i.parse(s[c],c),l.push(Bu(h,d,a,c));return l}function Uu(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Hu(e,t,n,r){let i=t.borderSkipped;const a={};if(!i)return void(e.borderSkipped=a);if(!0===i)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:s,end:o,reverse:l,top:c,bottom:u}=function(e){let t,n,r,i,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",a="start"):(i="start",a="end"),{start:n,end:r,reverse:t,top:i,bottom:a}}(e);"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(a[Vu(u,s,o,l)]=!0,i=c)),a[Vu(i,s,o,l)]=!0,e.borderSkipped=a}function Vu(e,t,n,r){return r?(e=function(e,t,n){return e===t?n:e===n?t:e}(e,t,n),e=qu(e,n,t)):e=qu(e,t,n),e}function qu(e,t,n){return"start"===e?t:"end"===e?n:e}function Wu(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}Fu.defaults={},Fu.prototype.datasetElementType=null,Fu.prototype.dataElementType=null;class Zu extends Fu{parsePrimitiveData(e,t,n,r){return $u(e,t,n,r)}parseArrayData(e,t,n,r){return $u(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:i,vScale:a}=e,{xAxisKey:s="x",yAxisKey:o="y"}=this._parsing,l="x"===i.axis?s:o,c="x"===a.axis?s:o,u=[];let d,h,p,f;for(d=n,h=n+r;d<h;++d)f=t[d],p={},p[i.axis]=i.parse(jo(f,l),d),u.push(Bu(jo(f,c),p,a,d));return u}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const i=n._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,i=this.getParsed(e),a=i._custom,s=Uu(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const i="reset"===r,{index:a,_cachedMeta:{vScale:s}}=this,o=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=i||so(t[s.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),p=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[s.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||Uu(t._custom)||a===f._top||a===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=u||this.resolveDataElementOptions(h,e[h].active?"active":r));const g=m.options||e[h].options;Hu(m,g,f,a),Wu(m,g,c.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((e=>e.controller.options.grouped)),i=n.options.stacked,a=[],s=e=>{const n=e.controller.getParsed(t),r=n&&n[e.vScale.axis];if(so(r)||isNaN(r))return!0};for(const o of r)if((void 0===t||!s(o))&&((!1===i||-1===a.indexOf(o.stack)||void 0===i&&void 0===o.stack)&&a.push(o.stack),o.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let i,a;for(i=0,a=t.data.length;i<a;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const s=e.barThickness;return{min:s||zu(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n},options:{base:r,minBarLength:i}}=this,a=r||0,s=this.getParsed(e),o=s._custom,l=Uu(o);let c,u,d=s[t.axis],h=0,p=n?this.applyStack(t,s,n):d;p!==d&&(h=p-d,p=d),l&&(d=o.barStart,p=o.barEnd-o.barStart,0!==d&&Fo(d)!==Fo(o.barEnd)&&(h=0),h+=d);const f=so(r)||l?h:r;let m=t.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(h+p):m,u=c-m,Math.abs(u)<i){u=function(e,t,n){return 0!==e?Fo(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,a)*i,d===a&&(m-=u/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),r=Math.min(e,n),s=Math.max(e,n);m=Math.max(Math.min(m,s),r),c=m+u}if(m===t.getPixelForValue(a)){const e=Fo(u)*t.getLineWidthForValue(a)/2;m+=e,u-=e}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,i=r.skipNull,a=ho(r.maxBarThickness,1/0);let s,o;if(t.grouped){const n=i?this._getStackCount(e):t.stackCount,l="flex"===r.barThickness?function(e,t,n,r){const i=t.pixels,a=i[e];let s=e>0?i[e-1]:null,o=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;null===s&&(s=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-s);const c=a-(a-Math.min(s,o))/2*l;return{chunk:Math.abs(o-s)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n):function(e,t,n,r){const i=n.barThickness;let a,s;return so(i)?(a=t.min*n.categoryPercentage,s=n.barPercentage):(a=i*r,s=1),{chunk:a/r,ratio:s,start:t.pixels[e]-a/2}}(e,t,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);s=l.start+l.chunk*c+l.chunk/2,o=Math.min(a,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(a,t.min*t.ratio);return{base:s-o/2,head:s+o/2,center:s,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let i=0;for(;i<r;++i)null!==this.getParsed(i)[t.axis]&&n[i].draw(this._ctx)}}Zu.id="bar",Zu.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Zu.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Ku extends Fu{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const i=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<i.length;a++)i[a]._custom=this.resolveDataElementOptions(a+n).radius;return i}parseArrayData(e,t,n,r){const i=super.parseArrayData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=ho(e[2],this.resolveDataElementOptions(a+n).radius)}return i}parseObjectData(e,t,n,r){const i=super.parseObjectData(e,t,n,r);for(let a=0;a<i.length;a++){const e=t[n+a];i[a]._custom=ho(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:r}=t,i=this.getParsed(e),a=n.getLabelForValue(i.x),s=r.getLabelForValue(i.y),o=i._custom;return{label:t.label,value:"("+a+", "+s+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=a.axis,u=s.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!i&&this.getParsed(d),h={},p=h[c]=i?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),f=h[u]=i?s.getBasePixel():s.getPixelForValue(n[u]);h.skip=isNaN(p)||isNaN(f),l&&(h.options=o||this.resolveDataElementOptions(d,t.active?"active":r),i&&(h.options.radius=0)),this.updateElement(t,d,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==t&&(r.radius=0),r.radius+=ho(n&&n._custom,i),r}}Ku.id="bubble",Ku.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Ku.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Yu extends Fu{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,a,s=e=>+n[e];if(lo(n[e])){const{key:e="value"}=this._parsing;s=t=>+jo(n[t],e)}for(i=e,a=e+t;i<a;++i)r._parsed[i]=s(i)}}_getRotation(){return Ho(this.options.rotation-90)}_getCircumference(){return Ho(this.options.circumference)}_getRotationExtents(){let e=To,t=-To;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),a=r._getCircumference();e=Math.min(e,i),t=Math.max(t,i+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,i=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-a)/2,0),o=Math.min((l=this.options.cutout,c=s,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:g}=function(e,t,n){let r=1,i=1,a=0,s=0;if(t<To){const o=e,l=o+t,c=Math.cos(o),u=Math.sin(o),d=Math.cos(l),h=Math.sin(l),p=(e,t,r)=>Go(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>Go(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=p(0,c,d),g=p(Mo,u,h),v=f(Oo,c,d),y=f(Oo+Mo,u,h);r=(m-v)/2,i=(g-y)/2,a=-(m+v)/2,s=-(g+y)/2}return{ratioX:r,ratioY:i,offsetX:a,offsetY:s}}(h,d,o),v=(n.width-a)/p,y=(n.height-a)/f,b=Math.max(Math.min(v,y)/2,0),x=po(this.options.radius,b),w=(x-Math.max(x*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,r.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*i/To)}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,s=a.chartArea,o=a.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=i&&o.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,r);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,i);for(m=t;m<t+n;++m){const t=this._circumference(m,i),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};f&&(a.options=p||this.resolveDataElementOptions(m,n.active?"active":r)),g+=t,this.updateElement(n,m,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const i=e._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?To*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=uu(t._parsed[e],n.options.locale);return{label:r[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,i,a,s,o;if(!e)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,s=a.controller;break}if(!e)return 0;for(r=0,i=e.length;r<i;++r)o=s.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ho(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Yu.id="doughnut",Yu.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Yu.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},Yu.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,r)=>{const i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return oo(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Gu extends Fu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=t,a=this.chart._animationsDisabled;let{start:s,count:o}=cl(t,r,a);this._drawStart=s,this._drawCount=o,ul(t)&&(s=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,s,o,e)}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,r),d=a.axis,h=s.axis,{spanGaps:p,segment:f}=this.options,m=Bo(p)?p:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||i||"none"===r;let v=t>0&&this.getParsed(t-1);for(let y=t;y<t+n;++y){const t=e[y],n=this.getParsed(y),p=g?t:{},b=so(n[h]),x=p[d]=a.getPixelForValue(n[d],y),w=p[h]=i||b?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,n,o):n[h],y);p.skip=isNaN(x)||isNaN(w)||b,p.stop=y>0&&Math.abs(n[d]-v[d])>m,f&&(p.parsed=n,p.raw=l.data[y]),u&&(p.options=c||this.resolveDataElementOptions(y,t.active?"active":r)),g||this.updateElement(t,y,p,r),v=n}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Gu.id="line",Gu.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Gu.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Ju extends Fu{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=uu(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:i}}parseObjectData(e,t,n,r){return Bc.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),i=Math.max(r/2,0),a=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=i-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const i="reset"===r,a=this.chart,s=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,u=o.getIndexAngle(0)-.5*Oo;let d,h=u;const p=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,r,p);for(d=t;d<t+n;d++){const t=e[d];let n=h,f=h+this._computeAngle(d,r,p),m=a.getDataVisibility(d)?o.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=f,i&&(s.animateScale&&(m=0),s.animateRotate&&(n=f=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(d,t.active?"active":r)};this.updateElement(t,d,g,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Ho(this.resolveDataElementOptions(e,t).angle||n):0}}Ju.id="polarArea",Ju.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Ju.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,r)=>{const i=e.getDatasetMeta(0).controller.getStyle(r);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Qu extends Yu{}Qu.id="pie",Qu.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Xu extends Fu{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return Bc.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],i=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:i.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const i=this._cachedMeta.rScale,a="reset"===r;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":r),o=i.getPointPositionForValue(s,this.getParsed(s).r),l=a?i.xCenter:o.x,c=a?i.yCenter:o.y,u={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,s,u,r)}}}Xu.id="radar",Xu.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Xu.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class ed{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Bo(this.x)&&Bo(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach((e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),r}}ed.defaults={},ed.defaultRoutes=void 0;const td={values:e=>oo(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let i,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(i="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const s=Lo(Math.abs(a)),o=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),uu(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=e/Math.pow(10,Math.floor(Lo(e)));return 1===r||2===r||5===r?td.numeric.call(this,e,t,n):""}};var nd={formatters:td};function rd(e,t){const n=e.options.ticks,r=n.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}(e),i=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],a=i.length,s=i[0],o=i[a-1],l=[];if(a>r)return function(e,t,n,r){let i,a=0,s=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===s&&(t.push(e[i]),a++,s=n[a*r])}(t,l,i,a/r),l;const c=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),i=t.length/n;if(!r)return Math.max(i,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(r);for(let s=0,o=a.length-1;s<o;s++){const e=a[s];if(e>i)return e}return Math.max(i,1)}(i,t,r);if(a>0){let e,n;const r=a>1?Math.round((o-s)/(a-1)):null;for(id(t,l,c,so(r)?0:s-r,s),e=0,n=a-1;e<n;e++)id(t,l,c,i[e],i[e+1]);return id(t,l,c,o,so(r)?t.length:o+r),l}return id(t,l,c),l}function id(e,t,n,r,i){const a=ho(r,0),s=Math.min(ho(i,e.length),e.length);let o,l,c,u=0;for(n=Math.ceil(n),i&&(o=i-r,n=o/Math.floor(o/n)),c=a;c<0;)u++,c=Math.round(a+u*n);for(l=Math.max(a,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(a+u*n))}nc.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),nc.route("scale.ticks","color","","color"),nc.route("scale.grid","color","","borderColor"),nc.route("scale.grid","borderColor","","borderColor"),nc.route("scale.title","color","","color"),nc.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),nc.describe("scales",{_fallback:"scale"}),nc.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const ad=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function sd(e,t){const n=[],r=e.length/t,i=e.length;let a=0;for(;a<i;a+=r)n.push(e[Math.floor(a)]);return n}function od(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-a,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(i-1))/2,c+=i<t?l:-l,c<a-o||c>s+o)))return c}function ld(e){return e.drawTicks?e.tickLength:0}function cd(e,t){if(!e.display)return 0;const n=jc(e.font,t),r=kc(e.padding);return(oo(e.text)?e.text.length:1)*n.lineHeight+r.height}function ud(e,t,n){let r=ol(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class dd extends ed{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=uo(e,Number.POSITIVE_INFINITY),t=uo(t,Number.NEGATIVE_INFINITY),n=uo(n,Number.POSITIVE_INFINITY),r=uo(r,Number.NEGATIVE_INFINITY),{min:uo(e,n),max:uo(t,r),minDefined:co(e),maxDefined:co(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:i,maxDefined:a}=this.getUserBounds();if(i&&a)return{min:n,max:r};const s=this.getMatchingVisibleMetas();for(let o=0,l=s.length;o<l;++o)t=s[o].controller.getMinMax(this,e),i||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=i&&n>r?n:r,{min:uo(n,uo(r,n)),max:uo(r,uo(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){fo(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:i,ticks:a}=this.options,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:i}=e,a=po(t,(i-r)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(r,-Math.abs(a)),max:s(i,a)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=s<this.ticks.length;this._convertTicksToLabels(o?sd(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=rd(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){fo(this.options.afterUpdate,[this])}beforeSetDimensions(){fo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){fo(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),fo(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){fo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,i;for(n=0,r=e.length;n<r;n++)i=e[n],i.label=fo(t.callback,[i.value,n,e],this)}afterTickToLabelConversion(){fo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){fo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,r=t.minRotation||0,i=t.maxRotation;let a,s,o,l=r;if(!this._isVisible()||!t.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=Jo(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),s=this.maxHeight-ld(e.grid)-t.padding-cd(e.title,this.chart.options.font),o=Math.sqrt(u*u+d*d),l=Vo(Math.min(Math.asin(Jo((c.highest.height+6)/a,-1,1)),Math.asin(Jo(s/o,-1,1))-Math.asin(Jo(d/o,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){fo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){fo(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:i}}=this,a=this._isVisible(),s=this.isHorizontal();if(a){const a=cd(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=ld(i)+a):(e.height=this.maxHeight,e.width=ld(i)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:i,highest:a}=this._getLabelSizes(),o=2*n.padding,l=Ho(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=n.mirror?0:u*i.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*i.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:i,padding:a},position:s}=this.options,o=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;o?l?(u=r*e.width,d=n*t.height):(u=n*e.height,d=r*t.width):"start"===i?d=t.width:"end"===i?u=e.width:"inner"!==i&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-s+a)*this.width/(this.width-s),0),this.paddingRight=Math.max((d-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===i?(n=0,r=e.height):"end"===i&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){fo(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)so(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=sd(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:r}=this,i=[],a=[];let s,o,l,c,u,d,h,p,f,m,g,v=0,y=0;for(s=0;s<t;++s){if(c=e[s].label,u=this._resolveTickFontOptions(s),n.font=d=u.string,h=r[d]=r[d]||{data:{},gc:[]},p=u.lineHeight,f=m=0,so(c)||oo(c)){if(oo(c))for(o=0,l=c.length;o<l;++o)g=c[o],so(g)||oo(g)||(f=rc(n,h.data,h.gc,f,g),m+=p)}else f=rc(n,h.data,h.gc,f,c),m=p;i.push(f),a.push(m),v=Math.max(f,v),y=Math.max(m,y)}!function(e,t){mo(e,(e=>{const n=e.gc,r=n.length/2;let i;if(r>t){for(i=0;i<r;++i)delete e.data[n[i]];n.splice(0,r)}}))}(r,t);const b=i.indexOf(v),x=a.indexOf(y),w=e=>({width:i[e]||0,height:a[e]||0});return{first:w(0),last:w(t-1),widest:w(b),highest:w(x),widths:i,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Jo(this._alignToPixels?ac(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Nc(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Nc(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Ho(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),i=this._getLabelSizes(),a=e.autoSkipPadding||0,s=i?i.widest.width+a:0,o=i?i.highest.height+a:0;return this.isHorizontal()?o*n>s*r?s/n:o/r:o*r<s*n?o/n:s/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:i,position:a}=r,s=i.offset,o=this.isHorizontal(),l=this.ticks.length+(s?1:0),c=ld(i),u=[],d=i.setContext(this.getContext()),h=d.drawBorder?d.borderWidth:0,p=h/2,f=function(e){return ac(n,e,h)};let m,g,v,y,b,x,w,_,k,j,S,N;if("top"===a)m=f(this.bottom),x=this.bottom-c,_=m-p,j=f(e.top)+p,N=e.bottom;else if("bottom"===a)m=f(this.top),j=e.top,N=f(e.bottom)-p,x=m+p,_=this.top+c;else if("left"===a)m=f(this.right),b=this.right-c,w=m-p,k=f(e.left)+p,S=e.right;else if("right"===a)m=f(this.left),k=e.left,S=f(e.right)-p,b=m+p,w=this.left+c;else if("x"===t){if("center"===a)m=f((e.top+e.bottom)/2+.5);else if(lo(a)){const e=Object.keys(a)[0],t=a[e];m=f(this.chart.scales[e].getPixelForValue(t))}j=e.top,N=e.bottom,x=m+p,_=x+c}else if("y"===t){if("center"===a)m=f((e.left+e.right)/2);else if(lo(a)){const e=Object.keys(a)[0],t=a[e];m=f(this.chart.scales[e].getPixelForValue(t))}b=m-p,w=b-c,k=e.left,S=e.right}const E=ho(r.ticks.maxTicksLimit,l),C=Math.max(1,Math.ceil(l/E));for(g=0;g<l;g+=C){const e=i.setContext(this.getContext(g)),t=e.lineWidth,r=e.color,a=e.borderDash||[],l=e.borderDashOffset,c=e.tickWidth,d=e.tickColor,h=e.tickBorderDash||[],p=e.tickBorderDashOffset;v=od(this,g,s),void 0!==v&&(y=ac(n,v,t),o?b=w=k=S=y:x=_=j=N=y,u.push({tx1:b,ty1:x,tx2:w,ty2:_,x1:k,y1:j,x2:S,y2:N,width:t,color:r,borderDash:a,borderDashOffset:l,tickWidth:c,tickColor:d,tickBorderDash:h,tickBorderDashOffset:p}))}return this._ticksLength=l,this._borderValue=m,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:i}=n,a=this.isHorizontal(),s=this.ticks,{align:o,crossAlign:l,padding:c,mirror:u}=i,d=ld(n.grid),h=d+c,p=u?-c:h,f=-Ho(this.labelRotation),m=[];let g,v,y,b,x,w,_,k,j,S,N,E,C="middle";if("top"===r)w=this.bottom-p,_=this._getXAxisLabelAlignment();else if("bottom"===r)w=this.top+p,_=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(d);_=e.textAlign,x=e.x}else if("x"===t){if("center"===r)w=(e.top+e.bottom)/2+h;else if(lo(r)){const e=Object.keys(r)[0],t=r[e];w=this.chart.scales[e].getPixelForValue(t)+h}_=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)x=(e.left+e.right)/2-h;else if(lo(r)){const e=Object.keys(r)[0],t=r[e];x=this.chart.scales[e].getPixelForValue(t)}_=this._getYAxisLabelAlignment(d).textAlign}"y"===t&&("start"===o?C="top":"end"===o&&(C="bottom"));const O=this._getLabelSizes();for(g=0,v=s.length;g<v;++g){y=s[g],b=y.label;const e=i.setContext(this.getContext(g));k=this.getPixelForTick(g)+i.labelOffset,j=this._resolveTickFontOptions(g),S=j.lineHeight,N=oo(b)?b.length:1;const t=N/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let d,h=_;if(a?(x=k,"inner"===_&&(h=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),E="top"===r?"near"===l||0!==f?-N*S+S/2:"center"===l?-O.highest.height/2-t*S+S:-O.highest.height+S/2:"near"===l||0!==f?S/2:"center"===l?O.highest.height/2-t*S:O.highest.height-N*S,u&&(E*=-1)):(w=k,E=(1-N)*S/2),e.showLabelBackdrop){const t=kc(e.backdropPadding),n=O.heights[g],r=O.widths[g];let i=w+E-t.top,a=x-t.left;switch(C){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":a-=r/2;break;case"right":a-=r}d={left:a,top:i,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({rotation:f,label:b,font:j,color:n,strokeColor:o,strokeWidth:c,textOffset:E,textAlign:h,textBaseline:C,translation:[x,w],backdrop:d})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Ho(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,a=e+i,s=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+i,"near"===n?o="left":"center"===n?(o="center",l+=s/2):(o="right",l+=s)):(l=this.right-a,"near"===n?o="right":"center"===n?(o="center",l-=s/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+i,"near"===n?o="right":"center"===n?(o="center",l-=s/2):(o="left",l-=s)):(l=this.left+a,"near"===n?o="left":"center"===n?(o="center",l+=s/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:i,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,a;const s=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(i=0,a=r.length;i<a;++i){const e=r[i];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,r=n.setContext(this.getContext()),i=n.drawBorder?r.borderWidth:0;if(!i)return;const a=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let o,l,c,u;this.isHorizontal()?(o=ac(e,this.left,i)-i/2,l=ac(e,this.right,a)+a/2,c=u=s):(c=ac(e,this.top,i)-i/2,u=ac(e,this.bottom,a)+a/2,o=l=s),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(o,c),t.lineTo(l,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&uc(t,n);const r=this._labelItems||(this._labelItems=this._computeLabelItems(e));let i,a;for(i=0,a=r.length;i<a;++i){const e=r[i],n=e.font,a=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),fc(t,a,0,e.textOffset,n,e)}n&&dc(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const i=jc(n.font),a=kc(n.padding),s=n.align;let o=i.lineHeight/2;"bottom"===t||"center"===t||lo(t)?(o+=a.bottom,oo(n.text)&&(o+=i.lineHeight*(n.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:u,rotation:d}=function(e,t,n,r){const{top:i,left:a,bottom:s,right:o,chart:l}=e,{chartArea:c,scales:u}=l;let d,h,p,f=0;const m=s-i,g=o-a;if(e.isHorizontal()){if(h=ll(r,a,o),lo(n)){const e=Object.keys(n)[0],r=n[e];p=u[e].getPixelForValue(r)+m-t}else p="center"===n?(c.bottom+c.top)/2+m-t:ad(e,n,t);d=o-a}else{if(lo(n)){const e=Object.keys(n)[0],r=n[e];h=u[e].getPixelForValue(r)-g+t}else h="center"===n?(c.left+c.right)/2-g+t:ad(e,n,t);p=ll(r,s,i),f="left"===n?-Mo:Mo}return{titleX:h,titleY:p,maxWidth:d,rotation:f}}(this,o,t,s);fc(e,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:d,textAlign:ud(s,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ho(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===dd.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,a;for(i=0,a=t.length;i<a;++i){const a=t[i];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return jc(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class hd{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,i=e.id,a=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,function(e,t,n){const r=xo(Object.create(null),[n?nc.get(n):{},nc.get(t),e.defaults]);nc.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const r=n.split("."),i=r.pop(),a=[e].concat(r).join("."),s=t[n].split("."),o=s.pop(),l=s.join(".");nc.route(a,i,l,o)}))}(t,e.defaultRoutes);e.descriptors&&nc.describe(t,e.descriptors)}(e,a,n),this.override&&nc.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in nc[r]&&(delete nc[r][n],this.override&&delete Ql[n])}}var pd=new class{constructor(){this.controllers=new hd(Fu,"datasets",!0),this.elements=new hd(ed,"elements"),this.plugins=new hd(Object,"plugins"),this.scales=new hd(dd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach((t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):mo(t,(t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)}))}))}_exec(e,t,n){const r=So(e);fo(n["before"+r],[],n),t[e](n),fo(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}};class fd extends Fu{update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:i,count:a}=cl(t,n,r);if(this._drawStart=i,this._drawCount=a,ul(t)&&(i=0,a=n.length),this.options.showLine){const{dataset:i,_dataset:a}=t;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n;const s=this.resolveDatasetElementOptions(e);s.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:s},e)}this.updateElements(n,i,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=pd.getElement("line")),super.addElements()}updateElements(e,t,n,r){const i="reset"===r,{iScale:a,vScale:s,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),u=this.getSharedOptions(c),d=this.includeOptions(r,u),h=a.axis,p=s.axis,{spanGaps:f,segment:m}=this.options,g=Bo(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||i||"none"===r;let y=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=v?t:{},f=so(n[p]),x=c[h]=a.getPixelForValue(n[h],b),w=c[p]=i||f?s.getBasePixel():s.getPixelForValue(o?this.applyStack(s,n,o):n[p],b);c.skip=isNaN(x)||isNaN(w)||f,c.stop=b>0&&Math.abs(n[h]-y[h])>g,m&&(c.parsed=n,c.raw=l.data[b]),d&&(c.options=u||this.resolveDataElementOptions(b,t.active?"active":r)),v||this.updateElement(t,b,c,r),y=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const i=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,i,a)/2}}fd.id="scatter",fd.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},fd.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function md(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class gd{constructor(e){this.options=e||{}}init(e){}formats(){return md()}parse(e,t){return md()}format(e,t){return md()}add(e,t,n){return md()}diff(e,t,n){return md()}startOf(e,t,n){return md()}endOf(e,t){return md()}}gd.override=function(e){Object.assign(gd.prototype,e)};var vd={_date:gd};function yd(e,t,n,r){const{controller:i,data:a,_sorted:s}=e,o=i._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&s&&a.length){const e=o._reversePixels?tl:el;if(!r)return e(a,t,n);if(i._sharedOptions){const r=a[0],i="function"===typeof r.getRange&&r.getRange(t);if(i){const r=e(a,t,n-i),s=e(a,t,n+i);return{lo:r.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function bd(e,t,n,r,i){const a=e.getSortedVisibleDatasetMetas(),s=n[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:n}=a[o],{lo:l,hi:c}=yd(a[o],t,s,i);for(let t=l;t<=c;++t){const i=n[t];i.skip||r(i,e,t)}}}function xd(e,t,n,r,i){const a=[];if(!i&&!e.isPointInArea(t))return a;return bd(e,n,t,(function(n,s,o){(i||cc(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:s,index:o})}),!0),a}function wd(e,t,n,r,i,a){let s=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const i=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return bd(e,n,t,(function(n,c,u){const d=n.inRange(t.x,t.y,i);if(r&&!d)return;const h=n.getCenterPoint(i);if(!(!!a||e.isPointInArea(h))&&!d)return;const p=o(t,h);p<l?(s=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&s.push({element:n,datasetIndex:c,index:u})})),s}function _d(e,t,n,r,i,a){return a||e.isPointInArea(t)?"r"!==n||r?wd(e,t,n,r,i,a):function(e,t,n,r){let i=[];return bd(e,n,t,(function(e,n,a){const{startAngle:s,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Wo(e,{x:t.x,y:t.y});Go(l,s,o)&&i.push({element:e,datasetIndex:n,index:a})})),i}(e,t,n,i):[]}function kd(e,t,n,r,i){const a=[],s="x"===n?"inXRange":"inYRange";let o=!1;return bd(e,n,t,((e,r,l)=>{e[s](t[n],i)&&(a.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,i))})),r&&!o?[]:a}var jd={evaluateInteractionItems:bd,modes:{index(e,t,n,r){const i=eu(t,e),a=n.axis||"x",s=n.includeInvisible||!1,o=n.intersect?xd(e,i,a,r,s):_d(e,i,a,!1,r,s),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,r){const i=eu(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;let o=n.intersect?xd(e,i,a,r,s):_d(e,i,a,!1,r,s);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>xd(e,eu(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const i=eu(t,e),a=n.axis||"xy",s=n.includeInvisible||!1;return _d(e,i,a,n.intersect,r,s)},x:(e,t,n,r)=>kd(e,eu(t,e),"x",n.intersect,r),y:(e,t,n,r)=>kd(e,eu(t,e),"y",n.intersect,r)}};const Sd=["left","top","right","bottom"];function Nd(e,t){return e.filter((e=>e.pos===t))}function Ed(e,t){return e.filter((e=>-1===Sd.indexOf(e.pos)&&e.box.axis===t))}function Cd(e,t){return e.sort(((e,n)=>{const r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function Od(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:i}=n;if(!e||!Sd.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=i}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let a,s,o;for(a=0,s=e.length;a<s;++a){o=e[a];const{fullSize:s}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:s&&t.availableWidth,o.height=i):(o.width=r,o.height=c?c*i:s&&t.availableHeight)}return n}function Td(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Ad(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Pd(e,t,n,r){const{pos:i,box:a}=n,s=e.maxPadding;if(!lo(i)){n.size&&(e[i]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[i]+=n.size}a.getPadding&&Ad(s,a.getPadding());const o=Math.max(0,t.outerWidth-Td(s,e,"left","right")),l=Math.max(0,t.outerHeight-Td(s,e,"top","bottom")),c=o!==e.w,u=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Rd(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function Md(e,t,n,r){const i=[];let a,s,o,l,c,u;for(a=0,s=e.length,c=0;a<s;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,Rd(o.horizontal,t));const{same:s,other:d}=Pd(t,n,o,r);c|=s&&i.length,u=u||d,l.fullSize||i.push(o)}return c&&Md(i,t,n,r)||u}function Id(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function Dd(e,t,n,r){const i=n.padding;let{x:a,y:s}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,a=l.size||e.height;No(l.start)&&(s=l.start),e.fullSize?Id(e,i.left,s,n.outerWidth-i.right-i.left,a):Id(e,t.left+l.placed,s,r,a),l.start=s,l.placed+=r,s=e.bottom}else{const r=t.h*c,s=l.size||e.width;No(l.start)&&(a=l.start),e.fullSize?Id(e,a,i.top,s,n.outerHeight-i.bottom-i.top):Id(e,a,t.top+l.placed,s,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=s}nc.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Ld={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=kc(e.options.layout.padding),a=Math.max(t-i.width,0),s=Math.max(n-i.height,0),o=function(e){const t=function(e){const t=[];let n,r,i,a,s,o;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],({position:a,options:{stack:s,stackWeight:o=1}}=i),t.push({index:n,box:i,pos:a,horizontal:i.isHorizontal(),weight:i.weight,stack:s&&a+s,stackWeight:o});return t}(e),n=Cd(t.filter((e=>e.box.fullSize)),!0),r=Cd(Nd(t,"left"),!0),i=Cd(Nd(t,"right")),a=Cd(Nd(t,"top"),!0),s=Cd(Nd(t,"bottom")),o=Ed(t,"x"),l=Ed(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:i.concat(l).concat(s).concat(o),chartArea:Nd(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:a.concat(s).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;mo(e.boxes,(e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,d=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:a,availableHeight:s,vBoxMaxWidth:a/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},i);Ad(h,kc(r));const p=Object.assign({maxPadding:h,w:a,h:s,x:i.left,y:i.top},i),f=Od(l.concat(c),d);Md(o.fullSize,p,d,f),Md(l,p,d,f),Md(c,p,d,f)&&Md(l,p,d,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),Dd(o.leftAndTop,p,d,f),p.x+=p.w,p.y+=p.h,Dd(o.rightAndBottom,p,d,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},mo(o.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class Fd{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class zd extends Fd{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Bd="$chartjs",$d={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ud=e=>null===e||""===e;const Hd=!!iu&&{passive:!0};function Vd(e,t,n){e.canvas.removeEventListener(t,n,Hd)}function qd(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Wd(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||qd(n.addedNodes,r),t=t&&!qd(n.removedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function Zd(e,t,n){const r=e.canvas,i=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||qd(n.removedNodes,r),t=t&&!qd(n.addedNodes,r);t&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const Kd=new Map;let Yd=0;function Gd(){const e=window.devicePixelRatio;e!==Yd&&(Yd=e,Kd.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Jd(e,t,n){const r=e.canvas,i=r&&Yc(r);if(!i)return;const a=sl(((e,t)=>{const r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)}));return s.observe(i),function(e,t){Kd.size||window.addEventListener("resize",Gd),Kd.set(e,t)}(e,a),s}function Qd(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Kd.delete(e),Kd.size||window.removeEventListener("resize",Gd)}(e)}function Xd(e,t,n){const r=e.canvas,i=sl((t=>{null!==e.ctx&&n(function(e,t){const n=$d[e.type]||e.type,{x:r,y:i}=eu(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==i?i:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,Hd)}(r,t,i),i}class eh extends Fd{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[Bd]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ud(i)){const t=au(e,"width");void 0!==t&&(e.width=t)}if(Ud(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=au(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Bd])return!1;const n=t[Bd].initial;["height","width"].forEach((e=>{const r=n[e];so(r)?t.removeAttribute(e):t.setAttribute(e,r)}));const r=n.style||{};return Object.keys(r).forEach((e=>{t.style[e]=r[e]})),t.width=t.width,delete t[Bd],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),i={attach:Wd,detach:Zd,resize:Jd}[t]||Xd;r[t]=i(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:Qd,detach:Qd,resize:Qd}[t]||Vd)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return nu(e,t,n,r)}isAttached(e){const t=Yc(e);return!(!t||!t.isConnected)}}class th{constructor(){this._init=[]}notify(e,t,n,r){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(i,e,t,n);return"afterDestroy"===t&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,r){r=r||{};for(const i of e){const e=i.plugin;if(!1===fo(e[n],[t,r,i.options],e)&&r.cancelable)return!1}return!0}invalidate(){so(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=ho(n.options&&n.options.plugins,{}),i=function(e){const t={},n=[],r=Object.keys(pd.plugins.items);for(let a=0;a<r.length;a++)n.push(pd.getPlugin(r[a]));const i=e.plugins||[];for(let a=0;a<i.length;a++){const e=i[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:i,localIds:a}=t;const s=[],o=e.getContext();for(const l of i){const t=l.id,i=nh(n[t],r);null!==i&&s.push({plugin:l,options:rh(e.config,{plugin:l,local:a[t]},i,o)})}return s}(e,i,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function nh(e,t){return t||!1!==e?!0===e?{}:e:null}function rh(e,t,n,r){let{plugin:i,local:a}=t;const s=e.pluginScopeKeys(i),o=e.getOptionScopes(n,s);return a&&i.defaults&&o.push(i.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ih(e,t){const n=nc.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function ah(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function sh(e){const t=e.options||(e.options={});t.plugins=ho(t.plugins,{}),t.scales=function(e,t){const n=Ql[e.type]||{scales:{}},r=t.scales||{},i=ih(e.type,t),a=Object.create(null),s=Object.create(null);return Object.keys(r).forEach((e=>{const t=r[e];if(!lo(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const o=ah(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(o,i),c=n.scales||{};a[o]=a[o]||e,s[e]=wo(Object.create(null),[{axis:o},t,c[o],c[l]])})),e.data.datasets.forEach((n=>{const i=n.type||e.type,o=n.indexAxis||ih(i,t),l=(Ql[i]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,o),i=n[t+"AxisID"]||a[t]||t;s[i]=s[i]||Object.create(null),wo(s[i],[{axis:t},r[i],l[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];wo(t,[nc.scales[t.type],nc.scale])})),s}(e,t)}function oh(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const lh=new Map,ch=new Set;function uh(e,t){let n=lh.get(e);return n||(n=t(),lh.set(e,n),ch.add(n)),n}const dh=(e,t,n)=>{const r=jo(t,n);void 0!==r&&e.add(r)};class hh{constructor(e){this._config=function(e){return(e=e||{}).data=oh(e.data),sh(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=oh(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),sh(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return uh(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return uh(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return uh(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return uh(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:i}=this,a=this._cachedScopes(e,n),s=a.get(t);if(s)return s;const o=new Set;t.forEach((t=>{e&&(o.add(e),t.forEach((t=>dh(o,e,t)))),t.forEach((e=>dh(o,r,e))),t.forEach((e=>dh(o,Ql[i]||{},e))),t.forEach((e=>dh(o,nc,e))),t.forEach((e=>dh(o,Xl,e)))}));const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),ch.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ql[t]||{},nc.datasets[t]||{},{type:t},nc,Xl]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:a,subPrefixes:s}=ph(this._resolverCache,e,r);let o=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=Oc(e);for(const i of t){const t=n(i),a=r(i),s=(a||t)&&e[i];if(t&&(Eo(s)||fh(s))||a&&oo(s))return!0}return!1}(a,t)){i.$shared=!1;o=Cc(a,n=Eo(n)?n():n,this.createResolver(e,n,s))}for(const l of t)i[l]=o[l];return i}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=ph(this._resolverCache,e,n);return lo(t)?Cc(i,t,void 0,r):i}}function ph(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let a=r.get(i);if(!a){a={resolver:Ec(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},r.set(i,a)}return a}const fh=e=>lo(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||Eo(e[n])),!1);const mh=["top","bottom","left","right","chartArea"];function gh(e,t){return"top"===e||"bottom"===e||-1===mh.indexOf(e)&&"x"===t}function vh(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function yh(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),fo(n&&n.onComplete,[e],t)}function bh(e){const t=e.chart,n=t.options.animation;fo(n&&n.onProgress,[e],t)}function xh(e){return Kc()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const wh={},_h=e=>{const t=xh(e);return Object.values(wh).filter((e=>e.canvas===t)).pop()};function kh(e,t,n){const r=Object.keys(e);for(const i of r){const r=+i;if(r>=t){const a=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=a)}}}class jh{constructor(e,t){const n=this.config=new hh(t),r=xh(e),i=_h(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Kc()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?zd:eh}(r)),this.platform.updateConfig(n);const s=this.platform.acquireContext(r,a.aspectRatio),o=s&&s.canvas,l=o&&o.height,c=o&&o.width;this.id=ao(),this.ctx=s,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new th,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),a.resizeDelay||0),this._dataChanges=[],wh[this.id]=this,s&&o?(wu.listen(this,"complete",yh),wu.listen(this,"progress",bh),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:i}=this;return so(e)?t&&i?i:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ru(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sc(this.canvas,this.ctx),this}stop(){return wu.stop(this),this}resize(e,t){wu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,i),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ru(this,s,!0)&&(this.notifyPlugins("resize",{size:a}),fo(n.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){mo(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let i=[];t&&(i=i.concat(Object.keys(t).map((e=>{const n=t[e],r=ah(e,n),i="r"===r,a="x"===r;return{options:n,dposition:i?"chartArea":a?"bottom":"left",dtype:i?"radialLinear":a?"category":"linear"}})))),mo(i,(t=>{const i=t.options,a=i.id,s=ah(a,i),o=ho(i.type,t.dtype);void 0!==i.position&&gh(i.position,s)===gh(t.dposition)||(i.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===o)l=n[a];else{l=new(pd.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,e)})),mo(r,((e,t)=>{e||delete n[t]})),mo(n,(e=>{Ld.configure(this,e,e.options),Ld.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(vh("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let i=this.getDatasetMeta(n);const a=r.type||this.config.type;if(i.type&&i.type!==a&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=a,i.indexAxis=r.indexAxis||ih(a,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const t=pd.getController(a),{datasetElementType:r,dataElementType:s}=nc.datasets[a];Object.assign(t.prototype,{dataElementType:pd.getElement(s),datasetElementType:r&&pd.getElement(r)}),i.controller=new t(this,n),e.push(i.controller)}}return this._updateMetasets(),e}_resetElements(){mo(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===i.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||mo(i,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vh("z","_idx"));const{_active:s,_lastEvent:o}=this;o?this._eventHandler(o,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){mo(this.scales,(e=>{Ld.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);Co(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of t){kh(e,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),r=n(0);for(let i=1;i<t;i++)if(!Co(r,n(i)))return;return Array.from(r).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Ld.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],mo(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Eo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wu.has(this)?this.attached&&!wu.running(this)&&wu.start(this):(this.draw(),yh({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,i;for(r=0,i=t.length;r<i;++r){const i=t[r];e&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,i=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(r&&uc(t,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),e.controller.draw(),r&&dc(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return cc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const i=jd.modes[t];return"function"===typeof i?i(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter((e=>e&&e._dataset===t)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",i=this.getDatasetMeta(e),a=i.controller._resolveAnimations(void 0,r);No(t)?(i.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(i,{visible:n}),this.update((t=>t.datasetIndex===e?r:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),sc(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};mo(this.options.events,(e=>n(e,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},i=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const s=()=>{r("attach",s),this.attached=!0,this.resize(),n("resize",i),n("detach",a)};a=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():a()}unbindEvents(){mo(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},mo(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let i,a,s,o;for("dataset"===t&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),s=0,o=e.length;s<o;++s){a=e[s];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}));!go(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const r=this.options.hover,i=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),a=i(t,e),s=n?e:i(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),s.length&&r.mode&&this.updateHoverStyle(s,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:i}=this,a=t,s=this._getActiveElements(e,r,n,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,fo(i.onHover,[e,s,this],this),o&&fo(i.onClick,[e,s,this],this));const c=!go(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,r)}}const Sh=()=>mo(jh.instances,(e=>e._plugins.invalidate())),Nh=!0;function Eh(e,t,n){const{startAngle:r,pixelMargin:i,x:a,y:s,outerRadius:o,innerRadius:l}=t;let c=i/o;e.beginPath(),e.arc(a,s,o,r-c,n+c),l>i?(c=i/l,e.arc(a,s,l,n+c,r-c,!0)):e.arc(a,s,i,n+Mo,r-Mo),e.closePath(),e.clip()}function Ch(e,t,n,r){const i=xc(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,s=Math.min(a,r*t/2),o=e=>{const t=(n-Math.min(a,e))*r/2;return Jo(e,0,Math.min(a,t))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:Jo(i.innerStart,0,s),innerEnd:Jo(i.innerEnd,0,s)}}function Oh(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function Th(e,t,n,r,i,a){const{x:s,y:o,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+r+n-c,0),h=u>0?u+r+n+c:0;let p=0;const f=i-l;if(r){const e=((u>0?u-r:0)+(d>0?d-r:0))/2;p=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*d-n/Oo)/d)/2,g=l+m+p,v=i-m-p,{outerStart:y,outerEnd:b,innerStart:x,innerEnd:w}=Ch(t,h,d,v-g),_=d-y,k=d-b,j=g+y/_,S=v-b/k,N=h+x,E=h+w,C=g+x/N,O=v-w/E;if(e.beginPath(),a){if(e.arc(s,o,d,j,S),b>0){const t=Oh(k,S,s,o);e.arc(t.x,t.y,b,S,v+Mo)}const t=Oh(E,v,s,o);if(e.lineTo(t.x,t.y),w>0){const t=Oh(E,O,s,o);e.arc(t.x,t.y,w,v+Mo,O+Math.PI)}if(e.arc(s,o,h,v-w/h,g+x/h,!0),x>0){const t=Oh(N,C,s,o);e.arc(t.x,t.y,x,C+Math.PI,g-Mo)}const n=Oh(_,g,s,o);if(e.lineTo(n.x,n.y),y>0){const t=Oh(_,j,s,o);e.arc(t.x,t.y,y,g-Mo,j)}}else{e.moveTo(s,o);const t=Math.cos(j)*d+s,n=Math.sin(j)*d+o;e.lineTo(t,n);const r=Math.cos(S)*d+s,i=Math.sin(S)*d+o;e.lineTo(r,i)}e.closePath()}function Ah(e,t,n,r,i,a){const{options:s}=t,{borderWidth:o,borderJoinStyle:l}=s,c="inner"===s.borderAlign;o&&(c?(e.lineWidth=2*o,e.lineJoin=l||"round"):(e.lineWidth=o,e.lineJoin=l||"bevel"),t.fullCircles&&function(e,t,n){const{x:r,y:i,startAngle:a,pixelMargin:s,fullCircles:o}=t,l=Math.max(t.outerRadius-s,0),c=t.innerRadius+s;let u;for(n&&Eh(e,t,a+To),e.beginPath(),e.arc(r,i,c,a+To,a,!0),u=0;u<o;++u)e.stroke();for(e.beginPath(),e.arc(r,i,l,a,a+To),u=0;u<o;++u)e.stroke()}(e,t,c),c&&Eh(e,t,i),Th(e,t,n,r,i,a),e.stroke())}Object.defineProperties(jh,{defaults:{enumerable:Nh,value:nc},instances:{enumerable:Nh,value:wh},overrides:{enumerable:Nh,value:Ql},registry:{enumerable:Nh,value:pd},version:{enumerable:Nh,value:"3.9.1"},getChart:{enumerable:Nh,value:_h},register:{enumerable:Nh,value:function(){pd.add(...arguments),Sh()}},unregister:{enumerable:Nh,value:function(){pd.remove(...arguments),Sh()}}});class Ph extends ed{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:i,distance:a}=Wo(r,{x:e,y:t}),{startAngle:s,endAngle:o,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,h=ho(u,o-s)>=To||Go(i,s,o),p=Qo(a,l+d,c+d);return h&&p}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:i,innerRadius:a,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:o,spacing:l}=this.options,c=(r+i)/2,u=(a+s+l+o)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/2,i=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>To?Math.floor(n/To):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();let s=0;if(r){s=r/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*s,Math.sin(t)*s),this.circumference>=Oo&&(s=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const o=function(e,t,n,r,i){const{fullCircles:a,startAngle:s,circumference:o}=t;let l=t.endAngle;if(a){Th(e,t,n,r,s+To,i);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=s+o%To,o%To===0&&(l+=To))}return Th(e,t,n,r,l,i),e.fill(),l}(e,this,s,i,a);Ah(e,this,s,i,o,a),e.restore()}}function Rh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=ho(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ho(n.borderDash,t.borderDash)),e.lineDashOffset=ho(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ho(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ho(n.borderWidth,t.borderWidth),e.strokeStyle=ho(n.borderColor,t.borderColor)}function Mh(e,t,n){e.lineTo(n.x,n.y)}function Ih(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:i=0,end:a=r-1}=n,{start:s,end:o}=t,l=Math.max(i,s),c=Math.min(a,o),u=i<s&&a<s||i>o&&a>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!u?r+c-l:c-l}}function Dh(e,t,n,r){const{points:i,options:a}=t,{count:s,start:o,loop:l,ilen:c}=Ih(i,n,r),u=function(e){return e.stepped?hc:e.tension||"monotone"===e.cubicInterpolationMode?pc:Mh}(a);let d,h,p,{move:f=!0,reverse:m}=r||{};for(d=0;d<=c;++d)h=i[(o+(m?c-d:d))%s],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):u(e,p,h,m,a.stepped),p=h);return l&&(h=i[(o+(m?c:0))%s],u(e,p,h,m,a.stepped)),!!l}function Lh(e,t,n,r){const i=t.points,{count:a,start:s,ilen:o}=Ih(i,n,r),{move:l=!0,reverse:c}=r||{};let u,d,h,p,f,m,g=0,v=0;const y=e=>(s+(c?o-e:e))%a,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(d=i[y(0)],e.moveTo(d.x,d.y)),u=0;u<=o;++u){if(d=i[y(u)],d.skip)continue;const t=d.x,n=d.y,r=0|t;r===h?(n<p?p=n:n>f&&(f=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=r,v=0,p=f=n),m=n}b()}function Fh(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Lh:Dh}Ph.id="arc",Ph.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Ph.defaultRoutes={backgroundColor:"backgroundColor"};const zh="function"===typeof Path2D;function Bh(e,t,n,r){zh&&!t.options.segment?function(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),Rh(e,t.options),e.stroke(i)}(e,t,n,r):function(e,t,n,r){const{segments:i,options:a}=t,s=Fh(t);for(const o of i)Rh(e,a,o.style),e.beginPath(),s(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class $h extends ed{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Zc(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const a=!!e._loop,{start:s,end:o}=function(e,t,n,r){let i=0,a=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(a+=i);a>i&&e[a%t].skip;)a--;return a%=t,{start:i,end:a}}(n,i,a,r);return yu(e,!0===r?[{start:s,end:o,loop:a}]:function(e,t,n,r){const i=e.length,a=[];let s,o=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%i];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%i,end:(s-1)%i,loop:r}),t=o=n.stop?s:null):(o=s,l.skip&&(t=s)),l=n}return null!==o&&a.push({start:t%i,end:o%i,loop:r}),a}(n,s,o<s?o+i:o,!!e._fullLoop&&0===s&&o===i-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],i=this.points,a=vu(this,{property:t,start:r,end:r});if(!a.length)return;const s=[],o=function(e){return e.stepped?ou:e.tension||"monotone"===e.cubicInterpolationMode?lu:su}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:u}=a[l],d=i[c],h=i[u];if(d===h){s.push(d);continue}const p=o(d,h,Math.abs((r-d[t])/(h[t]-d[t])),n.stepped);p[t]=e[t],s.push(p)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return Fh(this)(e,this,t,n)}path(e,t,n){const r=this.segments,i=Fh(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const s of r)a&=i(e,this,s,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Bh(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Uh(e,t,n,r){const i=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<i.radius+i.hitRadius}$h.id="line",$h.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},$h.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},$h.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class Hh extends ed{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:i,y:a}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return Uh(this,e,"x",t)}inYRange(e,t){return Uh(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!cc(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,oc(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Vh(e,t){const{x:n,y:r,base:i,width:a,height:s}=e.getProps(["x","y","base","width","height"],t);let o,l,c,u,d;return e.horizontal?(d=s/2,o=Math.min(n,i),l=Math.max(n,i),c=r-d,u=r+d):(d=a/2,o=n-d,l=n+d,c=Math.min(r,i),u=Math.max(r,i)),{left:o,top:c,right:l,bottom:u}}function qh(e,t,n,r){return e?0:Jo(t,n,r)}function Wh(e){const t=Vh(e),n=t.right-t.left,r=t.bottom-t.top,i=function(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,a=wc(r);return{t:qh(i.top,a.top,0,n),r:qh(i.right,a.right,0,t),b:qh(i.bottom,a.bottom,0,n),l:qh(i.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,a=_c(i),s=Math.min(t,n),o=e.borderSkipped,l=r||lo(i);return{topLeft:qh(!l||o.top||o.left,a.topLeft,0,s),topRight:qh(!l||o.top||o.right,a.topRight,0,s),bottomLeft:qh(!l||o.bottom||o.left,a.bottomLeft,0,s),bottomRight:qh(!l||o.bottom||o.right,a.bottomRight,0,s)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,a.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(i.b,i.r))}}}}function Zh(e,t,n,r){const i=null===t,a=null===n,s=e&&!(i&&a)&&Vh(e,r);return s&&(i||Qo(t,s.left,s.right))&&(a||Qo(n,s.top,s.bottom))}function Kh(e,t){e.rect(t.x,t.y,t.w,t.h)}function Yh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,s=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+a,h:e.h+s,radius:e.radius}}Hh.id="point",Hh.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Hh.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Gh extends ed{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:a}=Wh(this),s=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?gc:Kh;var o;e.save(),a.w===i.w&&a.h===i.h||(e.beginPath(),s(e,Yh(a,t,i)),e.clip(),s(e,Yh(i,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,Yh(i,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return Zh(this,e,t,n)}inXRange(e,t){return Zh(this,e,null,t)}inYRange(e,t){return Zh(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+r)/2:t,y:i?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}Gh.id="bar",Gh.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Gh.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};const Jh=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class Qh extends ed{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=fo(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=jc(n.font),i=r.size,a=this._computeTitleHeight(),{boxWidth:s,itemHeight:o}=Jh(n,i);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,i,s,o)+10):(c=this.maxHeight,l=this._fitCols(a,i,s,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:i,maxWidth:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+s;let u=e;i.textAlign="left",i.textBaseline="middle";let d=-1,h=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+i.measureText(e.text).width;(0===p||l[l.length-1]+f+2*s>a)&&(u+=c,l[l.length-(p>0?0:1)]=0,h+=c,d++),o[p]={left:0,top:h,row:d,width:f,height:r},l[l.length-1]+=f+s})),u}_fitCols(e,t,n,r){const{ctx:i,maxHeight:a,options:{labels:{padding:s}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let u=s,d=0,h=0,p=0,f=0;return this.legendItems.forEach(((e,a)=>{const m=n+t/2+i.measureText(e.text).width;a>0&&h+r+2*s>c&&(u+=d+s,l.push({width:d,height:h}),p+=d+s,f++,d=h=0),o[a]={left:p,top:h,col:f,width:m,height:r},d=Math.max(d,m),h+=r+s})),u+=d,l.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:i}}=this,a=du(i,this.left,this.width);if(this.isHorizontal()){let i=0,s=ll(n,this.left+r,this.right-this.lineWidths[i]);for(const o of t)i!==o.row&&(i=o.row,s=ll(n,this.left+r,this.right-this.lineWidths[i])),o.top+=this.top+e+r,o.left=a.leftForLtr(a.x(s),o.width),s+=o.width+r}else{let i=0,s=ll(n,this.top+e+r,this.bottom-this.columnSizes[i].height);for(const o of t)o.col!==i&&(i=o.col,s=ll(n,this.top+e+r,this.bottom-this.columnSizes[i].height)),o.top=s,o.left+=this.left+r,o.left=a.leftForLtr(a.x(o.left),o.width),s+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;uc(e,this),this._draw(),dc(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:i,labels:a}=e,s=nc.color,o=du(e.rtl,this.left,this.width),l=jc(a.font),{color:c,padding:u}=a,d=l.size,h=d/2;let p;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:m,itemHeight:g}=Jh(a,d),v=this.isHorizontal(),y=this._computeTitleHeight();p=v?{x:ll(i,this.left+u,this.right-n[0]),y:this.top+u+y,line:0}:{x:this.left+u,y:ll(i,this.top+y+u,this.bottom-t[0].height),line:0},hu(this.ctx,e.textDirection);const b=g+u;this.legendItems.forEach(((x,w)=>{r.strokeStyle=x.fontColor||c,r.fillStyle=x.fontColor||c;const _=r.measureText(x.text).width,k=o.textAlign(x.textAlign||(x.textAlign=a.textAlign)),j=f+h+_;let S=p.x,N=p.y;o.setWidth(this.width),v?w>0&&S+j+u>this.right&&(N=p.y+=b,p.line++,S=p.x=ll(i,this.left+u,this.right-n[p.line])):w>0&&N+b>this.bottom&&(S=p.x=S+t[p.line].width+u,p.line++,N=p.y=ll(i,this.top+y+u,this.bottom-t[p.line].height));!function(e,t,n){if(isNaN(f)||f<=0||isNaN(m)||m<0)return;r.save();const i=ho(n.lineWidth,1);if(r.fillStyle=ho(n.fillStyle,s),r.lineCap=ho(n.lineCap,"butt"),r.lineDashOffset=ho(n.lineDashOffset,0),r.lineJoin=ho(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=ho(n.strokeStyle,s),r.setLineDash(ho(n.lineDash,[])),a.usePointStyle){const s={radius:m*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=o.xPlus(e,f/2);lc(r,s,l,t+h,a.pointStyleWidth&&f)}else{const a=t+Math.max((d-m)/2,0),s=o.leftForLtr(e,f),l=_c(n.borderRadius);r.beginPath(),Object.values(l).some((e=>0!==e))?gc(r,{x:s,y:a,w:f,h:m,radius:l}):r.rect(s,a,f,m),r.fill(),0!==i&&r.stroke()}r.restore()}(o.x(S),N,x),S=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(k,S+f+h,v?S+j:this.right,e.rtl),function(e,t,n){fc(r,n.text,e,t+g/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(S),N,x),v?p.x+=j+u:p.y+=b})),pu(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=jc(t.font),r=kc(t.padding);if(!t.display)return;const i=du(e.rtl,this.left,this.width),a=this.ctx,s=t.position,o=n.size/2,l=r.top+o;let c,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),c=this.top+l,u=ll(e.align,u,this.right-d);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+ll(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=ll(s,u,u+d);a.textAlign=i.textAlign(ol(s)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,fc(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=jc(e.font),n=kc(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,i;if(Qo(e,this.left,this.right)&&Qo(t,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Qo(e,r.left,r.left+r.width)&&Qo(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,s=(i=n,null!==(r=a)&&null!==i&&r.datasetIndex===i.datasetIndex&&r.index===i.index);a&&!s&&fo(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!s&&fo(t.onHover,[e,n,this],this)}else n&&fo(t.onClick,[e,n,this],this);var r,i}}var Xh={id:"legend",_element:Qh,start(e,t,n){const r=e.legend=new Qh({ctx:e.ctx,options:n,chart:e});Ld.configure(e,r,n),Ld.addBox(e,r)},stop(e){Ld.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Ld.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:a}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const s=e.controller.getStyle(n?0:void 0),o=kc(s.borderWidth);return{text:t[e.index].label,fillStyle:s.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(o.width+o.height)/4,strokeStyle:s.borderColor,pointStyle:r||s.pointStyle,rotation:s.rotation,textAlign:i||s.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ep extends ed{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=oo(n.text)?n.text.length:1;this._padding=kc(n.padding);const i=r*jc(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:i,options:a}=this,s=a.align;let o,l,c,u=0;return this.isHorizontal()?(l=ll(s,n,i),c=t+e,o=i-n):("left"===a.position?(l=n+e,c=ll(s,r,t),u=-.5*Oo):(l=i-e,c=ll(s,t,r),u=.5*Oo),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=jc(t.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:a,maxWidth:s,rotation:o}=this._drawArgs(r);fc(e,t.text,0,0,n,{color:t.color,maxWidth:s,rotation:o,textAlign:ol(t.align),textBaseline:"middle",translation:[i,a]})}}var tp={id:"title",_element:ep,start(e,t,n){!function(e,t){const n=new ep({ctx:e.ctx,options:t,chart:e});Ld.configure(e,n,t),Ld.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Ld.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Ld.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const np={average(e){if(!e.length)return!1;let t,n,r=0,i=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r+=e.x,i+=e.y,++a}}return{x:r/a,y:i/a}},nearest(e,t){if(!e.length)return!1;let n,r,i,a=t.x,s=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Zo(t,r.getCenterPoint());e<o&&(o=e,i=r)}}if(i){const e=i.tooltipPosition();a=e.x,s=e.y}return{x:a,y:s}}};function rp(e,t){return t&&(oo(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ip(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function ap(e,t){const{element:n,datasetIndex:r,index:i}=t,a=e.getDatasetMeta(r).controller,{label:s,value:o}=a.getLabelAndValue(i);return{chart:e,label:s,parsed:a.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:o,dataset:a.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function sp(e,t){const n=e.chart.ctx,{body:r,footer:i,title:a}=e,{boxWidth:s,boxHeight:o}=t,l=jc(t.bodyFont),c=jc(t.titleFont),u=jc(t.footerFont),d=a.length,h=i.length,p=r.length,f=kc(t.padding);let m=f.height,g=0,v=r.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);if(v+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),v){m+=p*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*u.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,mo(e.title,b),n.font=l.string,mo(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?s+2+t.boxPadding:0,mo(r,(e=>{mo(e.before,b),mo(e.lines,b),mo(e.after,b)})),y=0,n.font=u.string,mo(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function op(e,t,n,r){const{x:i,width:a}=n,{width:s,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=i<=(o+l)/2?"left":"right":i<=a/2?c="left":i>=s-a/2&&(c="right"),function(e,t,n,r){const{x:i,width:a}=r,s=n.caretSize+n.caretPadding;return"left"===e&&i+a+s>t.width||"right"===e&&i-a-s<0||void 0}(c,e,t,n)&&(c="center"),c}function lp(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||op(e,t,n,r),yAlign:r}}function cp(e,t,n,r){const{caretSize:i,caretPadding:a,cornerRadius:s}=e,{xAlign:o,yAlign:l}=n,c=i+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=_c(s);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:i}=e;return"top"===t?r+=n:r-="bottom"===t?i+n:i/2,r}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(u,h)+i:"right"===o&&(f+=Math.max(d,p)+i),{x:Jo(f,0,r.width-t.width),y:Jo(m,0,r.height-t.height)}}function up(e,t,n){const r=kc(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function dp(e){return rp([],ip(e))}function hp(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class pp extends ed{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,i=new Nu(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Nc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=n.beforeTitle.apply(this,[e]),i=n.title.apply(this,[e]),a=n.afterTitle.apply(this,[e]);let s=[];return s=rp(s,ip(r)),s=rp(s,ip(i)),s=rp(s,ip(a)),s}getBeforeBody(e,t){return dp(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,r=[];return mo(e,(e=>{const t={before:[],lines:[],after:[]},i=hp(n,e);rp(t.before,ip(i.beforeLabel.call(this,e))),rp(t.lines,i.label.call(this,e)),rp(t.after,ip(i.afterLabel.call(this,e))),r.push(t)})),r}getAfterBody(e,t){return dp(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,r=n.beforeFooter.apply(this,[e]),i=n.footer.apply(this,[e]),a=n.afterFooter.apply(this,[e]);let s=[];return s=rp(s,ip(r)),s=rp(s,ip(i)),s=rp(s,ip(a)),s}_createItems(e){const t=this._active,n=this.chart.data,r=[],i=[],a=[];let s,o,l=[];for(s=0,o=t.length;s<o;++s)l.push(ap(this.chart,t[s]));return e.filter&&(l=l.filter(((t,r,i)=>e.filter(t,r,i,n)))),e.itemSort&&(l=l.sort(((t,r)=>e.itemSort(t,r,n)))),mo(l,(t=>{const n=hp(e.callbacks,t);r.push(n.labelColor.call(this,t)),i.push(n.labelPointStyle.call(this,t)),a.push(n.labelTextColor.call(this,t))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let i,a=[];if(r.length){const e=np[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=sp(this,n),s=Object.assign({},e,t),o=lp(this.chart,n,s),l=cp(n,s,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,i={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=a,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const i=this.getCaretPosition(e,n,r);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:i}=this,{caretSize:a,cornerRadius:s}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:u}=_c(s),{x:d,y:h}=e,{width:p,height:f}=t;let m,g,v,y,b,x;return"center"===i?(b=h+f/2,"left"===r?(m=d,g=m-a,y=b+a,x=b-a):(m=d+p,g=m+a,y=b-a,x=b+a),v=m):(g="left"===r?d+Math.max(o,c)+a:"right"===r?d+p-Math.max(l,u)-a:this.caretX,"top"===i?(y=h,b=y-a,m=g-a,v=g+a):(y=h+f,b=y+a,m=g+a,v=g-a),x=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:x}}drawTitle(e,t,n){const r=this.title,i=r.length;let a,s,o;if(i){const l=du(n.rtl,this.x,this.width);for(e.x=up(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=jc(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,o=0;o<i;++o)t.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+s,o+1===i&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,r,i){const a=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:o,boxWidth:l,boxPadding:c}=i,u=jc(i.bodyFont),d=up(this,"left",i),h=r.x(d),p=o<u.lineHeight?(u.lineHeight-o)/2:0,f=t.y+p;if(i.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+o/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,oc(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,oc(e,t,n,c)}else{e.lineWidth=lo(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(h,l-c),n=r.leftForLtr(r.xPlus(h,1),l-c-2),s=_c(a.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=i.multiKeyBackground,gc(e,{x:t,y:f,w:l,h:o,radius:s}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),gc(e,{x:n,y:f+1,w:l-2,h:o-2,radius:s}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(t,f,l,o),e.strokeRect(t,f,l,o),e.fillStyle=a.backgroundColor,e.fillRect(n,f+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:i,bodyAlign:a,displayColors:s,boxHeight:o,boxWidth:l,boxPadding:c}=n,u=jc(n.bodyFont);let d=u.lineHeight,h=0;const p=du(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+h),e.y+d/2),e.y+=d+i},m=p.textAlign(a);let g,v,y,b,x,w,_;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=up(this,m,n),t.fillStyle=n.bodyColor,mo(this.beforeBody,f),h=s&&"right"!==m?"center"===a?l/2+c:l+2+c:0,b=0,w=r.length;b<w;++b){for(g=r[b],v=this.labelTextColors[b],t.fillStyle=v,mo(g.before,f),y=g.lines,s&&y.length&&(this._drawColorBox(t,e,b,p,n),d=Math.max(u.lineHeight,o)),x=0,_=y.length;x<_;++x)f(y[x]),d=u.lineHeight;mo(g.after,f)}h=0,d=u.lineHeight,mo(this.afterBody,f),e.y-=i}drawFooter(e,t,n){const r=this.footer,i=r.length;let a,s;if(i){const o=du(n.rtl,this.x,this.width);for(e.x=up(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",a=jc(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,s=0;s<i;++s)t.fillText(r[s],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:i,yAlign:a}=this,{x:s,y:o}=e,{width:l,height:c}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:p}=_c(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(s+u,o),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(s+l-d,o),t.quadraticCurveTo(s+l,o,s+l,o+d),"center"===a&&"right"===i&&this.drawCaret(e,t,n,r),t.lineTo(s+l,o+c-p),t.quadraticCurveTo(s+l,o+c,s+l-p,o+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(s+h,o+c),t.quadraticCurveTo(s,o+c,s,o+c-h),"center"===a&&"left"===i&&this.drawCaret(e,t,n,r),t.lineTo(s,o+u),t.quadraticCurveTo(s,o,s+u,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=np[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=sp(this,e),s=Object.assign({},n,this._size),o=lp(t,e,s),l=cp(e,s,o,t);r._to===l.x&&i._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=kc(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,r,t),hu(e,t.textDirection),i.y+=a.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),pu(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map((e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}})),i=!go(n,r),a=this._positionChanged(r,t);(i||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],a=this._getActiveElements(e,i,t,n),s=this._positionChanged(a,e),o=t||!go(a,i)||s;return o&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const i=this.options;if("mouseout"===e.type)return[];if(!r)return t;const a=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:i}=this,a=np[i.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}pp.positioners=np;var fp={id:"tooltip",_element:pp,positioners:np,afterInit(e,t,n){n&&(e.tooltip=new pp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:io,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:io,beforeBody:io,beforeLabel:io,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return so(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:io,afterBody:io,beforeFooter:io,footer:io,afterFooter:io}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function mp(e,t,n,r){const i=e.indexOf(t);if(-1===i)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return i!==e.lastIndexOf(t)?n:i}class gp extends dd{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(so(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Jo(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:mp(n,e,ho(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===e&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function vp(e,t){const n=[],{bounds:r,step:i,min:a,max:s,precision:o,count:l,maxTicks:c,maxDigits:u,includeBounds:d}=e,h=i||1,p=c-1,{min:f,max:m}=t,g=!so(a),v=!so(s),y=!so(l),b=(m-f)/(u+1);let x,w,_,k,j=zo((m-f)/p/h)*h;if(j<1e-14&&!g&&!v)return[{value:f},{value:m}];k=Math.ceil(m/j)-Math.floor(f/j),k>p&&(j=zo(k*j/p/h)*h),so(o)||(x=Math.pow(10,o),j=Math.ceil(j*x)/x),"ticks"===r?(w=Math.floor(f/j)*j,_=Math.ceil(m/j)*j):(w=f,_=m),g&&v&&i&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-a)/i,j/1e3)?(k=Math.round(Math.min((s-a)/j,c)),j=(s-a)/k,w=a,_=s):y?(w=g?a:w,_=v?s:_,k=l-1,j=(_-w)/k):(k=(_-w)/j,k=$o(k,Math.round(k),j/1e3)?Math.round(k):Math.ceil(k));const S=Math.max(qo(j),qo(w));x=Math.pow(10,so(o)?S:o),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let N=0;for(g&&(d&&w!==a?(n.push({value:a}),w<a&&N++,$o(Math.round((w+N*j)*x)/x,a,yp(a,b,e))&&N++):w<a&&N++);N<k;++N)n.push({value:Math.round((w+N*j)*x)/x});return v&&d&&_!==s?n.length&&$o(n[n.length-1].value,s,yp(s,b,e))?n[n.length-1].value=s:n.push({value:s}):v&&_!==s||n.push({value:_}),n}function yp(e,t,n){let{horizontal:r,minRotation:i}=n;const a=Ho(i),s=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}gp.id="category",gp.defaults={ticks:{callback:gp.prototype.getLabelForValue}};class bp extends dd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return so(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const a=e=>r=t?r:e,s=e=>i=n?i:e;if(e){const e=Fo(r),t=Fo(i);e<0&&t<0?s(0):e>0&&t>0&&a(0)}if(r===i){let t=1;(i>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*i)),s(i+t),e||a(r-t)}this.min=r,this.max=i}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=vp({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Uo(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return uu(e,this.chart.options.locale,this.options.ticks.format)}}class xp extends bp{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=co(e)?e:0,this.max=co(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Ho(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function wp(e){return 1===e/Math.pow(10,Math.floor(Lo(e)))}xp.id="linear",xp.defaults={ticks:{callback:nd.formatters.numeric}};class _p extends dd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=bp.prototype.parse.apply(this,[e,t]);if(0!==n)return co(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=co(e)?Math.max(0,e):null,this.max=co(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const i=t=>n=e?n:t,a=e=>r=t?r:e,s=(e,t)=>Math.pow(10,Math.floor(Lo(e))+t);n===r&&(n<=0?(i(1),a(10)):(i(s(n,-1)),a(s(r,1)))),n<=0&&i(s(r,-1)),r<=0&&a(s(n,1)),this._zero&&this.min!==this._suggestedMin&&n===s(this.min,0)&&i(s(n,-1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=function(e,t){const n=Math.floor(Lo(t.max)),r=Math.ceil(t.max/Math.pow(10,n)),i=[];let a=uo(e.min,Math.pow(10,Math.floor(Lo(t.min)))),s=Math.floor(Lo(a)),o=Math.floor(a/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do{i.push({value:a,major:wp(a)}),++o,10===o&&(o=1,++s,l=s>=0?1:l),a=Math.round(o*Math.pow(10,s)*l)/l}while(s<n||s===n&&o<r);const c=uo(e.max,a);return i.push({value:c,major:wp(a)}),i}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Uo(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":uu(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Lo(e),this._valueRange=Lo(this.max)-Lo(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Lo(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function kp(e){const t=e.ticks;if(t.display&&e.display){const e=kc(t.backdropPadding);return ho(t.font&&t.font.size,nc.font.size)+e.height}return 0}function jp(e,t,n,r,i){return e===r||e===i?{start:t-n/2,end:t+n/2}:e<r||e>i?{start:t-n,end:t}:{start:t,end:t+n}}function Sp(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],i=[],a=e._pointLabels.length,s=e.options.pointLabels,o=s.centerPointLabels?Oo/a:0;for(let d=0;d<a;d++){const a=s.setContext(e.getPointLabelContext(d));i[d]=a.padding;const h=e.getPointPosition(d,e.drawingArea+i[d],o),p=jc(a.font),f=(l=e.ctx,c=p,u=oo(u=e._pointLabels[d])?u:[u],{w:ic(l,c.string,u),h:u.length*c.lineHeight});r[d]=f;const m=Yo(e.getIndexAngle(d)+o),g=Math.round(Vo(m));Np(n,t,m,jp(g,h.x,f.w,0,180),jp(g,h.y,f.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],i=e._pointLabels.length,a=e.options,s=kp(a)/2,o=e.drawingArea,l=a.pointLabels.centerPointLabels?Oo/i:0;for(let c=0;c<i;c++){const i=e.getPointPosition(c,o+s+n[c],l),a=Math.round(Vo(Yo(i.angle+Mo))),u=t[c],d=Op(i.y,u.h,a),h=Ep(a),p=Cp(i.x,u.w,h);r.push({x:i.x,y:d,textAlign:h,left:p,top:d,right:p+u.w,bottom:d+u.h})}return r}(e,r,i)}function Np(e,t,n,r,i){const a=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),i.start<t.t?(l=(t.t-i.start)/s,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function Ep(e){return 0===e||180===e?"center":e<180?"left":"right"}function Cp(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function Op(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Tp(e,t,n,r){const{ctx:i}=e;if(n)i.arc(e.xCenter,e.yCenter,t,0,To);else{let n=e.getPointPosition(0,t);i.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),i.lineTo(n.x,n.y)}}_p.id="logarithmic",_p.defaults={ticks:{callback:nd.formatters.logarithmic,major:{enabled:!0}}};class Ap extends bp{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=kc(kp(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=co(e)&&!isNaN(e)?e:0,this.max=co(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/kp(this.options))}generateTickLabels(e){bp.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=fo(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?Sp(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Yo(e*(To/(this._pointLabels.length||1))+Ho(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(so(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(so(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Nc(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-Mo+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:i}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Tp(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r}=t,i=this._pointLabels.length;let a,s,o;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let i=t-1;i>=0;i--){const t=r.setContext(e.getPointLabelContext(i)),a=jc(t.font),{x:s,y:o,textAlign:l,left:c,top:u,right:d,bottom:h}=e._pointLabelItems[i],{backdropColor:p}=t;if(!so(p)){const e=_c(t.borderRadius),r=kc(t.backdropPadding);n.fillStyle=p;const i=c-r.left,a=u-r.top,s=d-c+r.width,o=h-u+r.height;Object.values(e).some((e=>0!==e))?(n.beginPath(),gc(n,{x:i,y:a,w:s,h:o,radius:e}),n.fill()):n.fillRect(i,a,s,o)}fc(n,e._pointLabels[i],s,o+a.lineHeight/2,a,{color:t.color,textAlign:l,textBaseline:"middle"})}}(this,i),r.display&&this.ticks.forEach(((e,t)=>{if(0!==t){s=this.getDistanceFromCenterForValue(e.value);!function(e,t,n,r){const i=e.ctx,a=t.circular,{color:s,lineWidth:o}=t;!a&&!r||!s||!o||n<0||(i.save(),i.strokeStyle=s,i.lineWidth=o,i.setLineDash(t.borderDash),i.lineDashOffset=t.borderDashOffset,i.beginPath(),Tp(e,n,a,r),i.closePath(),i.stroke(),i.restore())}(this,r.setContext(this.getContext(t-1)),s,i)}})),n.display){for(e.save(),a=i-1;a>=0;a--){const r=n.setContext(this.getPointLabelContext(a)),{color:i,lineWidth:l}=r;l&&i&&(e.lineWidth=l,e.strokeStyle=i,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),o=this.getPointPosition(a,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((r,s)=>{if(0===s&&!t.reverse)return;const o=n.setContext(this.getContext(s)),l=jc(o.font);if(i=this.getDistanceFromCenterForValue(this.ticks[s].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=kc(o.backdropPadding);e.fillRect(-a/2-t.left,-i-l.size/2-t.top,a+t.width,l.size+t.height)}fc(e,r.label,0,-i,l,{color:o.color})})),e.restore()}drawTitle(){}}Ap.id="radialLinear",Ap.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:nd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},Ap.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ap.descriptors={angleLines:{_fallback:"grid"}};const Pp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rp=Object.keys(Pp);function Mp(e,t){return e-t}function Ip(e,t){if(so(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:a}=e._parseOpts;let s=t;return"function"===typeof r&&(s=r(s)),co(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(i&&(s="week"!==i||!Bo(a)&&!0!==a?n.startOf(s,i):n.startOf(s,"isoWeek",a)),+s)}function Dp(e,t,n,r){const i=Rp.length;for(let a=Rp.indexOf(e);a<i-1;++a){const e=Pp[Rp[a]],i=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(i*e.size))<=r)return Rp[a]}return Rp[i-1]}function Lp(e,t,n){if(n){if(n.length){const{lo:r,hi:i}=Xo(n,t);e[n[r]>=t?n[r]:n[i]]=!0}}else e[t]=!0}function Fp(e,t,n){const r=[],i={},a=t.length;let s,o;for(s=0;s<a;++s)o=t[s],i[o]=s,r.push({value:o,major:!1});return 0!==a&&n?function(e,t,n,r){const i=e._adapter,a=+i.startOf(t[0].value,r),s=t[t.length-1].value;let o,l;for(o=a;o<=s;o=+i.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,i,n):r}class zp extends dd{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),r=this._adapter=new vd._date(e.adapters.date);r.init(t),wo(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Ip(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:i,minDefined:a,maxDefined:s}=this.getUserBounds();function o(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(i=Math.max(i,e.max))}a&&s||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=co(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),i=co(i)&&!isNaN(i)?i:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,a=function(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}(r,i,this.max);return this._unit=t.unit||(n.autoSkip?Dp(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(e,t,n,r,i){for(let a=Rp.length-1;a>=Rp.indexOf(n);a--){const n=Rp[a];if(Pp[n].common&&e._adapter.diff(i,r,n)>=t-1)return n}return Rp[n?Rp.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Rp.indexOf(e)+1,n=Rp.length;t<n;++t)if(Pp[Rp[t]].common)return Rp[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),Fp(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e){let t,n,r=0,i=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),r=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),i=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=Jo(r,0,a),i=Jo(i,0,a),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,i=r.time,a=i.unit||Dp(i.minUnit,t,n,this._getLabelCapacity(t)),s=ho(i.stepSize,1),o="week"===a&&i.isoWeekday,l=Bo(o)||!0===o,c={};let u,d,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+a);const p="data"===r.ticks.source&&this.getDataTimestamps();for(u=h,d=0;u<n;u=+e.add(u,s,a),d++)Lp(c,u,p);return u!==n&&"ticks"!==r.bounds&&1!==d||Lp(c,u,p),Object.keys(c).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,r){const i=this.options,a=i.time.displayFormats,s=this._unit,o=this._majorUnit,l=s&&a[s],c=o&&a[o],u=n[t],d=o&&c&&u&&u.major,h=this._adapter.format(e,r||(d?c:l)),p=i.ticks.callback;return p?fo(p,[h,t,n],this):h}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Ho(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(r),a=Math.sin(r),s=this._resolveTickFontOptions(0).size;return{w:n*i+s*a,h:n*a+s*i}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,i=this._tickFormatFunction(e,0,Fp(this,[e],this._majorUnit),r),a=this._getLabelSize(i),s=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Ip(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return il(e.sort(Mp))}}function Bp(e,t,n){let r,i,a,s,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=el(e,"pos",t)),({pos:r,time:a}=e[o]),({pos:i,time:s}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=el(e,"time",t)),({time:r,pos:a}=e[o]),({time:i,pos:s}=e[l]));const c=i-r;return c?a+(s-a)*(t-r)/c:a}zp.id="time",zp.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class $p extends zp{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Bp(t,this.min),this._tableRange=Bp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],i=[];let a,s,o,l,c;for(a=0,s=e.length;a<s;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,s=r.length;a<s;++a)c=r[a+1],o=r[a-1],l=r[a],Math.round((c+o)/2)!==l&&i.push({time:l,pos:a/(s-1)});return i}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Bp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Bp(this._table,n*this._tableRange+this._minPos,!0)}}$p.id="timeseries",$p.defaults=zp.defaults;const Up="label";function Hp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Vp(e,t){e.labels=t}function qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Up;const r=[];e.datasets=t.map((t=>{const i=e.datasets.find((e=>e[n]===t[n]));return i&&t.data&&!r.includes(i)?(r.push(i),Object.assign(i,t),i):{...t}}))}function Wp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up;const n={labels:[],datasets:[]};return Vp(n,e.labels),qp(n,e.datasets,t),n}function Zp(e,n){let{height:r=150,width:i=300,redraw:a=!1,datasetIdKey:s,type:o,data:l,options:c,plugins:u=[],fallbackContent:d,updateMode:h,...p}=e;const f=(0,t.useRef)(null),m=(0,t.useRef)(),g=()=>{f.current&&(m.current=new jh(f.current,{type:o,data:Wp(l,s),options:c&&{...c},plugins:u}),Hp(n,m.current))},v=()=>{Hp(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,t.useEffect)((()=>{var e,t;!a&&m.current&&c&&(e=m.current,t=c,Object.assign(e.options,t))}),[a,c]),(0,t.useEffect)((()=>{!a&&m.current&&Vp(m.current.config.data,l.labels)}),[a,l.labels]),(0,t.useEffect)((()=>{!a&&m.current&&l.datasets&&qp(m.current.config.data,l.datasets,s)}),[a,l.datasets]),(0,t.useEffect)((()=>{m.current&&(a?(v(),setTimeout(g)):m.current.update(h))}),[a,c,l.labels,l.datasets,h]),(0,t.useEffect)((()=>{m.current&&(v(),setTimeout(g))}),[o]),(0,t.useEffect)((()=>(g(),()=>v())),[]),t.createElement("canvas",Object.assign({ref:f,role:"img",height:r,width:i},p),d)}const Kp=(0,t.forwardRef)(Zp);function Yp(e,n){return jh.register(n),(0,t.forwardRef)(((n,r)=>t.createElement(Kp,Object.assign({},n,{ref:r,type:e}))))}const Gp=Yp("line",Gu),Jp=Yp("bar",Zu),Qp=Yp("radar",Xu),Xp=Yp("pie",Qu);jh.register(gp,xp,Hh,$h,tp,fp,Xh);const ef=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)("weight"),[c,u]=(0,t.useState)("6months"),[d,h]=(0,t.useState)(null),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)({weight:"",heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",oxygen_saturation:"",recorded_at:(new Date).toISOString().split("T")[0]});(0,t.useEffect)((()=>{v()}),[]),(0,t.useEffect)((()=>{e.length>0&&b()}),[e,o,c]);const v=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:r}=await Te.supabase.from("health_metrics").select("*").eq("user_id",e.id).order("recorded_at",{ascending:!0});if(r)throw r;n(t||[])}catch(e){console.error("Error fetching health data:",e),s({message:"Error fetching health data.",type:"danger"})}finally{i(!1)}},y=e=>{const{name:t,value:n}=e.target;g((e=>({...e,[t]:n})))},b=()=>{const t=new Date;let n=[...e];if("1month"===c){const r=new Date(t.setMonth(t.getMonth()-1));n=e.filter((e=>new Date(e.recorded_at)>=r))}else if("3months"===c){const r=new Date(t.setMonth(t.getMonth()-3));n=e.filter((e=>new Date(e.recorded_at)>=r))}else if("6months"===c){const r=new Date(t.setMonth(t.getMonth()-6));n=e.filter((e=>new Date(e.recorded_at)>=r))}else if("1year"===c){const r=new Date(t.setFullYear(t.getFullYear()-1));n=e.filter((e=>new Date(e.recorded_at)>=r))}const r=n.map((e=>new Date(e.recorded_at).toLocaleDateString())),i=n.map((e=>e[o]||0));let a="#4bc0c0",s="rgba(75, 192, 192, 0.2)";switch(o){case"weight":a="#4bc0c0",s="rgba(75, 192, 192, 0.2)";break;case"heart_rate":a="#ff6384",s="rgba(255, 99, 132, 0.2)";break;case"blood_pressure_systolic":case"blood_pressure_diastolic":a="#ff9f40",s="rgba(255, 159, 64, 0.2)";break;case"blood_sugar":a="#9966ff",s="rgba(153, 102, 255, 0.2)";break;case"oxygen_saturation":a="#36a2eb",s="rgba(54, 162, 235, 0.2)"}h({labels:r,datasets:[{label:x(o),data:i,borderColor:a,backgroundColor:s,tension:.1,fill:!0}]})},x=e=>{switch(e){case"weight":return"Weight (kg)";case"heart_rate":return"Heart Rate (bpm)";case"blood_pressure_systolic":return"Blood Pressure - Systolic (mmHg)";case"blood_pressure_diastolic":return"Blood Pressure - Diastolic (mmHg)";case"blood_sugar":return"Blood Sugar (mg/dL)";case"oxygen_saturation":return"Oxygen Saturation (%)";default:return e}},w=t=>{if(0===e.length)return"N/A";const n=[...e].sort(((e,t)=>new Date(t.recorded_at)-new Date(e.recorded_at))),r=n[0][t];if(void 0===r||null===r)return"N/A";switch(t){case"weight":return`${r} kg`;case"heart_rate":return`${r} bpm`;case"blood_pressure_systolic":return`${r}/${n[0].blood_pressure_diastolic||"N/A"} mmHg`;case"blood_pressure_diastolic":return`${n[0].blood_pressure_systolic||"N/A"}/${r} mmHg`;case"blood_sugar":return`${r} mg/dL`;case"oxygen_saturation":return`${r}%`;default:return r}};return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,Ae.jsxs)("h1",{children:[(0,Ae.jsx)(Ht,{className:"me-2"})," Health Analytics"]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("button",{className:"btn btn-primary me-2",onClick:()=>f(!p),children:p?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Dn,{})," Cancel"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{})," Add New Metrics"]})}),e.length>0&&(0,Ae.jsx)("button",{className:"btn btn-success",onClick:()=>{const t=e.map((e=>[new Date(e.recorded_at).toLocaleDateString(),e.weight||"",e.heart_rate||"",`${e.blood_pressure_systolic||""}/${e.blood_pressure_diastolic||""}`,e.blood_sugar||"",e.oxygen_saturation?`${e.oxygen_saturation}%`:""])),n=[["Date","Weight (kg)","Heart Rate (bpm)","Blood Pressure (mmHg)","Blood Sugar (mg/dL)","Oxygen Saturation (%)"].join(","),...t.map((e=>e.join(",")))].join("\n"),r=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),a=document.createElement("a");a.setAttribute("href",i),a.setAttribute("download",`health_metrics_${(new Date).toISOString().split("T")[0]}.csv`),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a)},children:"Export Data"})]})]}),p&&(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Ae.jsx)("h3",{className:"mb-0",children:"Add New Health Metrics"})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const t=Object.fromEntries(Object.entries(m).filter((e=>{let[t,n]=e;return""!==n})));t.user_id=e.id;const{error:n}=await Te.supabase.from("health_metrics").insert([t]);if(n)throw n;s({message:"Health metrics added successfully!",type:"success"}),f(!1),g({weight:"",heart_rate:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",oxygen_saturation:"",recorded_at:(new Date).toISOString().split("T")[0]}),v()}catch(t){console.error("Error adding health metrics:",t),s({message:"Error adding health metrics.",type:"danger"})}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"recorded_at",className:"form-label",children:"Date"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"recorded_at",name:"recorded_at",value:m.recorded_at,onChange:y,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"weight",className:"form-label",children:"Weight (kg)"}),(0,Ae.jsx)("input",{type:"number",step:"0.1",className:"form-control",id:"weight",name:"weight",value:m.weight,onChange:y,placeholder:"e.g. 70.5"})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"heart_rate",className:"form-label",children:"Heart Rate (bpm)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"heart_rate",name:"heart_rate",value:m.heart_rate,onChange:y,placeholder:"e.g. 72"})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"oxygen_saturation",className:"form-label",children:"Oxygen Saturation (%)"}),(0,Ae.jsx)("input",{type:"number",min:"0",max:"100",className:"form-control",id:"oxygen_saturation",name:"oxygen_saturation",value:m.oxygen_saturation,onChange:y,placeholder:"e.g. 98"})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"blood_pressure_systolic",className:"form-label",children:"Blood Pressure - Systolic (mmHg)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"blood_pressure_systolic",name:"blood_pressure_systolic",value:m.blood_pressure_systolic,onChange:y,placeholder:"e.g. 120"})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"blood_pressure_diastolic",className:"form-label",children:"Blood Pressure - Diastolic (mmHg)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"blood_pressure_diastolic",name:"blood_pressure_diastolic",value:m.blood_pressure_diastolic,onChange:y,placeholder:"e.g. 80"})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"blood_sugar",className:"form-label",children:"Blood Sugar (mg/dL)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",id:"blood_sugar",name:"blood_sugar",value:m.blood_sugar,onChange:y,placeholder:"e.g. 100"})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Saving...":"Save Metrics"})]})})]}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No health data available. Please add health metrics to see analytics."}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"row mb-4",children:[(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card shadow h-100",children:(0,Ae.jsxs)("div",{className:"card-body text-center",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Wn,{className:"me-2"})," Weight"]}),(0,Ae.jsx)("h2",{className:"card-text",children:w("weight")})]})})}),(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card shadow h-100",children:(0,Ae.jsxs)("div",{className:"card-body text-center",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(un,{className:"me-2"})," Heart Rate"]}),(0,Ae.jsx)("h2",{className:"card-text",children:w("heart_rate")})]})})}),(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card shadow h-100",children:(0,Ae.jsxs)("div",{className:"card-body text-center",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Ln,{className:"me-2"})," Blood Pressure"]}),(0,Ae.jsx)("h2",{className:"card-text",children:w("blood_pressure_systolic")})]})})})]}),(0,Ae.jsx)("div",{className:"card shadow mb-4",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"metricSelect",className:"form-label",children:"Select Metric"}),(0,Ae.jsxs)("select",{id:"metricSelect",className:"form-select",value:o,onChange:e=>l(e.target.value),children:[(0,Ae.jsx)("option",{value:"weight",children:"Weight"}),(0,Ae.jsx)("option",{value:"heart_rate",children:"Heart Rate"}),(0,Ae.jsx)("option",{value:"blood_pressure_systolic",children:"Blood Pressure (Systolic)"}),(0,Ae.jsx)("option",{value:"blood_pressure_diastolic",children:"Blood Pressure (Diastolic)"}),(0,Ae.jsx)("option",{value:"blood_sugar",children:"Blood Sugar"}),(0,Ae.jsx)("option",{value:"oxygen_saturation",children:"Oxygen Saturation"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"timeRangeSelect",className:"form-label",children:"Time Range"}),(0,Ae.jsxs)("select",{id:"timeRangeSelect",className:"form-select",value:c,onChange:e=>u(e.target.value),children:[(0,Ae.jsx)("option",{value:"1month",children:"Last Month"}),(0,Ae.jsx)("option",{value:"3months",children:"Last 3 Months"}),(0,Ae.jsx)("option",{value:"6months",children:"Last 6 Months"}),(0,Ae.jsx)("option",{value:"1year",children:"Last Year"}),(0,Ae.jsx)("option",{value:"all",children:"All Time"})]})]})]})})}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h3",{className:"mb-0",children:[(e=>{switch(e){case"weight":return(0,Ae.jsx)(Wn,{});case"heart_rate":return(0,Ae.jsx)(un,{});case"blood_pressure_systolic":case"blood_pressure_diastolic":case"blood_sugar":return(0,Ae.jsx)(Ln,{});case"oxygen_saturation":return(0,Ae.jsx)(xn,{});default:return(0,Ae.jsx)(Ht,{})}})(o)," ",x(o)," Trend"]})}),(0,Ae.jsx)("div",{className:"card-body",children:d?(0,Ae.jsx)(Gp,{data:d,options:{responsive:!0,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!1}}}}):(0,Ae.jsx)("p",{className:"text-center",children:"No data available for the selected metric and time range."})})]}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsx)("h3",{className:"mb-0",children:"Health Insights"})}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("p",{children:"This dashboard provides a visual representation of your health metrics over time. Track your progress and identify trends to better manage your health."}),(0,Ae.jsx)("p",{children:"For personalized health advice, please consult with your healthcare provider."})]})]})]})]})},tf=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({id:null,doctor_name:"",specialty:"",date:"",time:"",location:"",notes:"",reminder_set:!1});(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:r,error:i}=await Te.supabase.from("appointments").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(i)throw i;n(r||[])}catch(e){console.error("Error fetching appointments:",e),s({message:"Error fetching appointments.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;u((e=>({...e,[t]:"checkbox"===r?i:n})))},p=()=>{l(!1),u({id:null,doctor_name:"",specialty:"",date:"",time:"",location:"",notes:"",reminder_set:!1})},f=e=>e===(new Date).toISOString().split("T")[0],m=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r>0&&r<=3};return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(Ut,{className:"me-2"})," Upcoming Appointments"]}),(0,Ae.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Ae.jsx)("h3",{children:o?"Edit Appointment":"Schedule New Appointment"}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await Te.supabase.from("appointments").update({doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,location:c.location,notes:c.notes,reminder_set:c.reminder_set}).eq("id",c.id);if(e)throw e;s({message:"Appointment updated successfully!",type:"success"})}else{const{error:t}=await Te.supabase.from("appointments").insert([{doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,location:c.location,notes:c.notes,reminder_set:c.reminder_set,user_id:e.id}]);if(t)throw t;s({message:"Appointment added successfully!",type:"success"})}p(),d()}catch(t){console.error("Error saving appointment:",t),s({message:"Error saving appointment.",type:"danger"})}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"doctor_name",className:"form-label",children:"Doctor Name"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"doctor_name",name:"doctor_name",value:c.doctor_name,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"specialty",className:"form-label",children:"Specialty"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"specialty",name:"specialty",value:c.specialty,onChange:h})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:c.date,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),(0,Ae.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:c.time,onChange:h,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"location",className:"form-label",children:"Location"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"location",name:"location",value:c.location,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h})]}),(0,Ae.jsxs)("div",{className:"mb-3 form-check",children:[(0,Ae.jsx)("input",{type:"checkbox",className:"form-check-input",id:"reminder_set",name:"reminder_set",checked:c.reminder_set,onChange:h}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"reminder_set",children:"Set Reminder"})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Update Appointment"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Schedule Appointment"]})}),o&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Cancel"})]})]})]}),e.some((e=>f(e.date)))&&(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Ae.jsxs)("h3",{className:"mb-0",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," Today's Appointments"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsx)("div",{className:"row",children:e.filter((e=>f(e.date))).map((e=>(0,Ae.jsx)("div",{className:"col-md-6 mb-3",children:(0,Ae.jsx)("div",{className:"card h-100 border-primary",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h5",{className:"card-title",children:e.doctor_name}),(0,Ae.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.specialty}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," ",e.time,(0,Ae.jsx)("br",{}),(0,Ae.jsx)(wn,{className:"me-2"})," ",e.location]}),e.notes&&(0,Ae.jsx)("p",{className:"card-text",children:e.notes})]})})},`today-${e.id}`)))})})]}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"All Upcoming Appointments"}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming appointments. Schedule your first appointment above."}):(0,Ae.jsx)("div",{className:"row",children:e.map((t=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100 shadow "+(f(t.date)?"border-primary":m(t.date)?"border-warning":""),children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Hn,{className:"me-2"})," ",t.doctor_name]}),f(t.date)&&(0,Ae.jsx)("span",{className:"badge bg-primary",children:"Today"}),m(t.date)&&!f(t.date)&&(0,Ae.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Ae.jsxs)("div",{className:"card-body",children:[t.specialty&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Specialty:"})," ",t.specialty]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Ut,{className:"me-2"})," ",new Date(t.date).toLocaleDateString()]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," ",t.time]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(wn,{className:"me-2"})," ",t.location]}),t.notes&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Notes:"}),(0,Ae.jsx)("br",{}),t.notes]}),t.reminder_set&&(0,Ae.jsx)("p",{className:"card-text",children:(0,Ae.jsx)("span",{className:"badge bg-info text-dark",children:"Reminder Set"})})]}),(0,Ae.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Ae.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),u(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Ae.jsx)(Xt,{className:"me-1"})," Edit"]}),(0,Ae.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this appointment?")){i(!0);try{const{error:r}=await Te.supabase.from("appointments").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Appointment deleted successfully!",type:"success"})}catch(r){console.error("Error deleting appointment:",r),s({message:"Error deleting appointment.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Ae.jsx)(Bn,{className:"me-1"})," Cancel"]})]})]})},t.id)))})]})},nf=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[p,f]=(0,t.useState)("desc");(0,t.useEffect)((()=>{m()}),[]);const m=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:r,error:i}=await Te.supabase.from("appointments").select("*").eq("user_id",e.id).lt("date",t).order("date",{ascending:!1});if(i)throw i;n(r||[])}catch(e){console.error("Error fetching appointment history:",e),s({message:"Error fetching appointment history.",type:"danger"})}finally{i(!1)}},g=e.filter((e=>{const t=""===o||e.doctor_name.toLowerCase().includes(o.toLowerCase())||e.specialty&&e.specialty.toLowerCase().includes(o.toLowerCase())||e.location&&e.location.toLowerCase().includes(o.toLowerCase())||e.notes&&e.notes.toLowerCase().includes(o.toLowerCase()),n=""===c||e.date===c,r=""===d||e.doctor_name.toLowerCase().includes(d.toLowerCase());return t&&n&&r})).sort(((e,t)=>{const n=new Date(e.date),r=new Date(t.date);return"desc"===p?r-n:n-r}));return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(dn,{className:"me-2"})," Appointment History"]}),(0,Ae.jsx)("div",{className:"card shadow mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"row mb-3",children:[(0,Ae.jsx)("div",{className:"col-md-6 mb-2",children:(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(On,{})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Search appointments...",value:o,onChange:e=>{l(e.target.value)}})]})}),(0,Ae.jsx)("div",{className:"col-md-3 mb-2",children:(0,Ae.jsx)("input",{type:"date",className:"form-control",placeholder:"Filter by date",value:c,onChange:e=>{u(e.target.value)}})}),(0,Ae.jsx)("div",{className:"col-md-3 mb-2",children:(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Filter by doctor",value:d,onChange:e=>{h(e.target.value)}})})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,Ae.jsxs)("button",{className:"btn btn-outline-secondary",onClick:()=>{f("desc"===p?"asc":"desc")},children:["Sort by Date: ","desc"===p?"Newest First":"Oldest First"]}),(0,Ae.jsxs)("button",{className:"btn btn-success",onClick:()=>{const e=g.map((e=>[e.doctor_name,e.specialty,new Date(e.date).toLocaleDateString(),e.time,e.location,e.notes])),t=[["Doctor","Specialty","Date","Time","Location","Notes"].join(","),...e.map((e=>e.map((e=>`"${e||""}"`)).join(",")))].join("\n"),n=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",`appointment_history_${(new Date).toISOString().split("T")[0]}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},disabled:0===g.length,children:[(0,Ae.jsx)(rn,{className:"me-2"})," Export to CSV"]})]})]})}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No appointment history found."}):0===g.length?(0,Ae.jsx)("div",{className:"alert alert-warning text-center",children:"No appointments match your search criteria."}):(0,Ae.jsx)("div",{className:"row",children:g.map((e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100 shadow",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Hn,{className:"me-2"})," ",e.doctor_name]})}),(0,Ae.jsxs)("div",{className:"card-body",children:[e.specialty&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Specialty:"})," ",e.specialty]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)($t,{className:"me-2"})," ",new Date(e.date).toLocaleDateString()]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," ",e.time]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(wn,{className:"me-2"})," ",e.location]}),e.notes&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Notes:"}),(0,Ae.jsx)("br",{}),e.notes]})]})]})},e.id)))})]})},rf=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)({id:null,doctor_name:"",specialty:"",date:"",time:"",consultation_type:"video",meeting_link:"",notes:"",reminder_set:!1});(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:r}=await Te.supabase.from("telehealth_consultations").select("*").eq("user_id",e.id).order("date",{ascending:!0});if(r)throw r;n(t||[])}catch(e){console.error("Error fetching consultations:",e),s({message:"Error fetching consultations.",type:"danger"})}finally{i(!1)}},h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;u((e=>({...e,[t]:"checkbox"===r?i:n})))},p=()=>{l(!1),u({id:null,doctor_name:"",specialty:"",date:"",time:"",consultation_type:"video",meeting_link:"",notes:"",reminder_set:!1})},f=e=>e===(new Date).toISOString().split("T")[0],m=e=>e<(new Date).toISOString().split("T")[0],g=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r>0&&r<=3},v=e.filter((e=>!m(e.date))),y=e.filter((e=>m(e.date)));return r&&0===e.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[a&&(0,Ae.jsx)("div",{className:`alert alert-${a.type} text-center`,children:a.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(qn,{className:"me-2"})," Telehealth Consultations"]}),(0,Ae.jsxs)("div",{className:"card shadow-lg p-4 mb-4",children:[(0,Ae.jsx)("h3",{children:o?"Edit Consultation":"Schedule New Consultation"}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");if(o){const{error:e}=await Te.supabase.from("telehealth_consultations").update({doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,consultation_type:c.consultation_type,meeting_link:c.meeting_link,notes:c.notes,reminder_set:c.reminder_set}).eq("id",c.id);if(e)throw e;s({message:"Consultation updated successfully!",type:"success"})}else{const{error:t}=await Te.supabase.from("telehealth_consultations").insert([{doctor_name:c.doctor_name,specialty:c.specialty,date:c.date,time:c.time,consultation_type:c.consultation_type,meeting_link:c.meeting_link,notes:c.notes,reminder_set:c.reminder_set,user_id:e.id}]);if(t)throw t;s({message:"Consultation added successfully!",type:"success"})}p(),d()}catch(t){console.error("Error saving consultation:",t),s({message:"Error saving consultation.",type:"danger"})}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"doctor_name",className:"form-label",children:"Doctor Name"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"doctor_name",name:"doctor_name",value:c.doctor_name,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"specialty",className:"form-label",children:"Specialty"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"specialty",name:"specialty",value:c.specialty,onChange:h})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"date",className:"form-label",children:"Date"}),(0,Ae.jsx)("input",{type:"date",className:"form-control",id:"date",name:"date",value:c.date,onChange:h,required:!0})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"time",className:"form-label",children:"Time"}),(0,Ae.jsx)("input",{type:"time",className:"form-control",id:"time",name:"time",value:c.time,onChange:h,required:!0})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"consultation_type",className:"form-label",children:"Consultation Type"}),(0,Ae.jsxs)("select",{className:"form-control",id:"consultation_type",name:"consultation_type",value:c.consultation_type,onChange:h,required:!0,children:[(0,Ae.jsx)("option",{value:"video",children:"Video Call"}),(0,Ae.jsx)("option",{value:"phone",children:"Phone Call"}),(0,Ae.jsx)("option",{value:"chat",children:"Chat"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"meeting_link",className:"form-label",children:"Meeting Link/Phone Number"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"meeting_link",name:"meeting_link",value:c.meeting_link,onChange:h,placeholder:"Enter meeting link or phone number"})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Notes"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"3",value:c.notes,onChange:h,placeholder:"Reason for consultation, questions to ask, etc."})]}),(0,Ae.jsxs)("div",{className:"mb-3 form-check",children:[(0,Ae.jsx)("input",{type:"checkbox",className:"form-check-input",id:"reminder_set",name:"reminder_set",checked:c.reminder_set,onChange:h}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"reminder_set",children:"Set Reminder"})]}),(0,Ae.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:o?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Xt,{className:"me-2"})," Update Consultation"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Sn,{className:"me-2"})," Schedule Consultation"]})}),o&&(0,Ae.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:p,children:"Cancel"})]})]})]}),e.some((e=>f(e.date)))&&(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Ae.jsxs)("h3",{className:"mb-0",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," Today's Consultations"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsx)("div",{className:"row",children:e.filter((e=>f(e.date))).map((e=>(0,Ae.jsx)("div",{className:"col-md-6 mb-3",children:(0,Ae.jsx)("div",{className:"card h-100 border-primary",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h5",{className:"card-title",children:e.doctor_name}),(0,Ae.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.specialty}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," ",e.time,(0,Ae.jsx)("br",{}),"video"===e.consultation_type?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(qn,{className:"me-2"})," Video Call"]}):"phone"===e.consultation_type?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kn,{className:"me-2"})," Phone Call"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(vn,{className:"me-2"})," Chat"]})]}),e.meeting_link&&(0,Ae.jsx)("p",{className:"card-text",children:(0,Ae.jsx)("a",{href:"video"===e.consultation_type?e.meeting_link:`tel:${e.meeting_link}`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-success",children:"video"===e.consultation_type?"Join Meeting":"Call Now"})}),e.notes&&(0,Ae.jsx)("p",{className:"card-text",children:(0,Ae.jsx)("small",{children:e.notes})})]})})},`today-${e.id}`)))})})]}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"Upcoming Consultations"}),0===v.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming consultations. Schedule your first consultation above."}):(0,Ae.jsx)("div",{className:"row",children:v.map((t=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100 shadow "+(f(t.date)?"border-primary":g(t.date)?"border-warning":""),children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Hn,{className:"me-2"})," ",t.doctor_name]}),f(t.date)&&(0,Ae.jsx)("span",{className:"badge bg-primary",children:"Today"}),g(t.date)&&!f(t.date)&&(0,Ae.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Ae.jsxs)("div",{className:"card-body",children:[t.specialty&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Specialty:"})," ",t.specialty]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Date:"})," ",new Date(t.date).toLocaleDateString()]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Time:"})," ",t.time]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Type:"})," ","video"===t.consultation_type?"Video Call":"phone"===t.consultation_type?"Phone Call":"Chat"]}),t.meeting_link&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Link/Number:"})," ",t.meeting_link]}),t.notes&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Notes:"}),(0,Ae.jsx)("br",{}),t.notes]}),t.reminder_set&&(0,Ae.jsx)("p",{className:"card-text",children:(0,Ae.jsx)("span",{className:"badge bg-info text-dark",children:"Reminder Set"})})]}),(0,Ae.jsxs)("div",{className:"card-footer d-flex justify-content-between",children:[(0,Ae.jsxs)("button",{className:"btn btn-sm btn-primary",onClick:()=>(e=>{l(!0),u(e),window.scrollTo({top:0,behavior:"smooth"})})(t),children:[(0,Ae.jsx)(Xt,{className:"me-1"})," Edit"]}),(0,Ae.jsxs)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this consultation?")){i(!0);try{const{error:r}=await Te.supabase.from("telehealth_consultations").delete().eq("id",t);if(r)throw r;n(e.filter((e=>e.id!==t))),s({message:"Consultation deleted successfully!",type:"success"})}catch(r){console.error("Error deleting consultation:",r),s({message:"Error deleting consultation.",type:"danger"})}finally{i(!1)}}})(t.id),children:[(0,Ae.jsx)(Bn,{className:"me-1"})," Cancel"]})]})]})},t.id)))}),y.length>0&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("h2",{className:"text-center mb-3 mt-5",children:"Past Consultations"}),(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table table-striped",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Doctor"}),(0,Ae.jsx)("th",{children:"Specialty"}),(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Time"}),(0,Ae.jsx)("th",{children:"Type"}),(0,Ae.jsx)("th",{children:"Notes"})]})}),(0,Ae.jsx)("tbody",{children:y.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:e.doctor_name}),(0,Ae.jsx)("td",{children:e.specialty}),(0,Ae.jsx)("td",{children:new Date(e.date).toLocaleDateString()}),(0,Ae.jsx)("td",{children:e.time}),(0,Ae.jsx)("td",{children:"video"===e.consultation_type?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(qn,{className:"me-1"})," Video"]}):"phone"===e.consultation_type?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(kn,{className:"me-1"})," Phone"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(vn,{className:"me-1"})," Chat"]})}),(0,Ae.jsx)("td",{children:e.notes})]},`past-${e.id}`)))})]})})]})]})},af=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)({email_reminders:!0,sms_reminders:!1,browser_notifications:!0,reminder_time:"24",phone_number:""});(0,t.useEffect)((()=>{d()}),[]);const d=async()=>{try{s(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const t=(new Date).toISOString().split("T")[0],{data:r,error:a}=await Te.supabase.from("appointments").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(a)throw a;const{data:o,error:l}=await Te.supabase.from("telehealth_consultations").select("*").eq("user_id",e.id).gte("date",t).order("date",{ascending:!0});if(l)throw l;const c=[...(r||[]).map((e=>({...e,type:"appointment"}))),...(o||[]).map((e=>({...e,type:"telehealth",doctor_name:e.doctor_name})))].sort(((e,t)=>new Date(`${e.date}T${e.time}`)-new Date(`${t.date}T${t.time}`)));n(c);const{data:d,error:h}=await Te.supabase.from("reminder_settings").select("*").eq("user_id",e.id).single();if(h&&"PGRST116"!==h.code)throw h;d&&u(d);const{data:p,error:f}=await Te.supabase.from("reminders").select("*").eq("user_id",e.id).gte("reminder_time",(new Date).toISOString()).order("reminder_time",{ascending:!0});if(f)throw f;i(p||[])}catch(e){console.error("Error fetching data:",e),l({message:"Error fetching data.",type:"danger"})}finally{s(!1)}},h=e=>{const{name:t,value:n,type:r,checked:i}=e.target;u((e=>({...e,[t]:"checkbox"===r?i:n})))},p=e=>e===(new Date).toISOString().split("T")[0],f=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r>0&&r<=3};return a&&0===e.length&&0===r.length?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[o&&(0,Ae.jsx)("div",{className:`alert alert-${o.type} text-center`,children:o.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(Ft,{className:"me-2"})," Appointment Reminders"]}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsx)("h3",{className:"mb-0",children:"Reminder Settings"})}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6 mb-3",children:(0,Ae.jsxs)("div",{className:"form-check form-switch",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"email_reminders",name:"email_reminders",checked:c.email_reminders,onChange:h}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"email_reminders",children:"Email Reminders"})]})}),(0,Ae.jsx)("div",{className:"col-md-6 mb-3",children:(0,Ae.jsxs)("div",{className:"form-check form-switch",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"browser_notifications",name:"browser_notifications",checked:c.browser_notifications,onChange:h}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"browser_notifications",children:"Browser Notifications"})]})})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6 mb-3",children:(0,Ae.jsxs)("div",{className:"form-check form-switch",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"sms_reminders",name:"sms_reminders",checked:c.sms_reminders,onChange:h}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"sms_reminders",children:"SMS Reminders"})]})}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"phone_number",className:"form-label",children:"Phone Number (for SMS)"}),(0,Ae.jsx)("input",{type:"tel",className:"form-control",id:"phone_number",name:"phone_number",value:c.phone_number,onChange:h,placeholder:"Enter your phone number",disabled:!c.sms_reminders})]})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"reminder_time",className:"form-label",children:"Send Reminders"}),(0,Ae.jsxs)("select",{className:"form-select",id:"reminder_time",name:"reminder_time",value:c.reminder_time,onChange:h,children:[(0,Ae.jsx)("option",{value:"1",children:"1 hour before"}),(0,Ae.jsx)("option",{value:"2",children:"2 hours before"}),(0,Ae.jsx)("option",{value:"6",children:"6 hours before"}),(0,Ae.jsx)("option",{value:"12",children:"12 hours before"}),(0,Ae.jsx)("option",{value:"24",children:"24 hours before"}),(0,Ae.jsx)("option",{value:"48",children:"2 days before"}),(0,Ae.jsx)("option",{value:"72",children:"3 days before"})]})]}),(0,Ae.jsx)("div",{className:"col-md-6 mb-3 d-flex align-items-end",children:(0,Ae.jsx)("button",{className:"btn btn-primary w-100",onClick:async()=>{try{s(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{error:t}=await Te.supabase.from("reminder_settings").upsert({...c,user_id:e.id});if(t)throw t;l({message:"Reminder settings saved successfully!",type:"success"})}catch(e){console.error("Error saving reminder settings:",e),l({message:"Error saving reminder settings.",type:"danger"})}finally{s(!1)}},disabled:a,children:"Save Settings"})})]})]})]}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"Active Reminders"}),0===r.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No active reminders. Set reminders for your appointments below."}):(0,Ae.jsx)("div",{className:"table-responsive mb-4",children:(0,Ae.jsxs)("table",{className:"table table-striped",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Appointment"}),(0,Ae.jsx)("th",{children:"Doctor"}),(0,Ae.jsx)("th",{children:"Appointment Time"}),(0,Ae.jsx)("th",{children:"Reminder Time"}),(0,Ae.jsx)("th",{children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:r.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:"telehealth"===e.appointment_type?"Telehealth":"In-person"}),(0,Ae.jsx)("td",{children:e.doctor_name}),(0,Ae.jsx)("td",{children:new Date(e.appointment_time).toLocaleString()}),(0,Ae.jsx)("td",{children:new Date(e.reminder_time).toLocaleString()}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("button",{className:"btn btn-sm btn-danger",onClick:()=>(async e=>{try{s(!0);const{error:t}=await Te.supabase.from("appointment_reminders").delete().eq("id",e);if(t)throw t;i(r.filter((t=>t.id!==e))),l({message:"Reminder deleted successfully!",type:"success"})}catch(t){console.error("Error deleting reminder:",t),l({message:"Error deleting reminder.",type:"danger"})}finally{s(!1)}})(e.id),children:(0,Ae.jsx)(Bn,{})})})]},e.id)))})]})}),(0,Ae.jsx)("h2",{className:"text-center mb-3",children:"Upcoming Appointments"}),0===e.length?(0,Ae.jsx)("div",{className:"alert alert-info text-center",children:"No upcoming appointments found. Schedule appointments to set reminders."}):(0,Ae.jsx)("div",{className:"row",children:e.map((e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100 shadow "+(p(e.date)?"border-primary":f(e.date)?"border-warning":""),children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",children:[(0,Ae.jsxs)("h5",{className:"mb-0",children:[(0,Ae.jsx)(Hn,{className:"me-2"})," ",e.doctor_name]}),p(e.date)&&(0,Ae.jsx)("span",{className:"badge bg-primary",children:"Today"}),f(e.date)&&!p(e.date)&&(0,Ae.jsx)("span",{className:"badge bg-warning text-dark",children:"Soon"})]}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)($t,{className:"me-2"})," ",new Date(e.date).toLocaleDateString()]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)(Zt,{className:"me-2"})," ",e.time]}),(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Type:"})," ","telehealth"===e.type?"Telehealth Consultation":"In-person Appointment"]}),e.location&&(0,Ae.jsxs)("p",{className:"card-text",children:[(0,Ae.jsx)("strong",{children:"Location:"})," ",e.location]})]}),(0,Ae.jsx)("div",{className:"card-footer",children:(0,Ae.jsx)("button",{className:"btn btn-block w-100",onClick:()=>(async e=>{try{s(!0);const{data:{user:t}}=await Te.supabase.auth.getUser();if(!t)return void(window.location.href="/");if(e.reminder_set){if("appointment"===e.type){const{error:t}=await Te.supabase.from("appointments").update({reminder_set:!1}).eq("id",e.id);if(t)throw t}else{const{error:t}=await Te.supabase.from("telehealth_consultations").update({reminder_set:!1}).eq("id",e.id);if(t)throw t}const{error:t}=await Te.supabase.from("reminders").delete().eq("appointment_id",e.id).eq("appointment_type",e.type);if(t)throw t;l({message:"Reminder removed successfully!",type:"success"})}else{const n=new Date(`${e.date}T${e.time}`),r=parseInt(c.reminder_time,10),i=new Date(n.getTime()-60*r*60*1e3);if("appointment"===e.type){const{error:t}=await Te.supabase.from("appointments").update({reminder_set:!0}).eq("id",e.id);if(t)throw t}else{const{error:t}=await Te.supabase.from("telehealth_consultations").update({reminder_set:!0}).eq("id",e.id);if(t)throw t}const{error:a}=await Te.supabase.from("reminders").insert([{user_id:t.id,appointment_id:e.id,appointment_type:e.type,reminder_time:i.toISOString(),appointment_time:n.toISOString(),doctor_name:e.doctor_name,location:e.location||"",sent:!1}]);if(a)throw a;l({message:"Reminder set successfully!",type:"success"})}d()}catch(t){console.error("Error toggling reminder:",t),l({message:"Error toggling reminder.",type:"danger"})}finally{s(!1)}})(e),disabled:a,children:e.reminder_set?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(zn,{className:"me-2"})," Reminder On"]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Fn,{className:"me-2"})," Set Reminder"]})})})]})},e.id)))})]})},sf=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)("all"),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)([]),v=(0,t.useCallback)((async()=>{try{h(!0);const{data:e,error:t}=await Te.supabase.from("faqs").select("*").order("id");if(t)throw t;const{data:n,error:r}=await Te.supabase.from("tutorials").select("*").order("id");if(r)throw r;l(e||[]),u(n||[]);const i=[...new Set(e.map((e=>e.category)))],a=[...new Set(n.map((e=>e.category)))],s=[...new Set([...i,...a])];g(s)}catch(e){console.error("Error fetching help center data:",e),f({message:"Error loading help center content.",type:"danger"}),l(y),u(b),g([...new Set([...y.map((e=>e.category)),...b.map((e=>e.category))])])}finally{h(!1)}}),[]);(0,t.useEffect)((()=>{v()}),[v]);const y=[{id:1,category:"account",question:"How do I create an account?",answer:'To create an account, click on the "Sign Up" button on the login page. Fill in your personal details, including your email address and a secure password. Follow the verification steps sent to your email to complete the registration process.'},{id:2,category:"account",question:"How do I reset my password?",answer:'If you forgot your password, click on the "Forgot Password" link on the login page. Enter your registered email address, and we will send you a password reset link. Follow the instructions in the email to create a new password.'},{id:3,category:"appointments",question:"How do I schedule an appointment?",answer:'To schedule an appointment, navigate to the "Appointments" section in the navigation menu and select "Upcoming Appointments". Click on the "Schedule New Appointment" button and fill in the required details such as doctor name, date, time, and location. Click "Schedule Appointment" to confirm.'},{id:4,category:"appointments",question:"How do I cancel or reschedule an appointment?",answer:'To cancel or reschedule an appointment, go to the "Upcoming Appointments" page. Find the appointment you want to modify, then click the "Edit" button to change the date or time, or click the "Cancel" button to cancel the appointment entirely.'},{id:5,category:"medical",question:"How do I add my medical history?",answer:'To add your medical history, navigate to the "Medical History" page from the "Your Journey" menu. Click on "Add New Medical Record" and fill in the details about your condition, diagnosis date, doctor, and treatment. Click "Add Record" to save the information.'},{id:6,category:"medical",question:"How do I track my medications?",answer:'To track your medications, go to the "Medication Tracker" page from the "Your Journey" menu. Enter the medication name, frequency, and quantity, then click "Add Medication". You can view and manage all your medications from this page.'},{id:7,category:"telehealth",question:"How do I join a telehealth consultation?",answer:'To join a telehealth consultation, go to the "Telehealth Consultations" page. On the day of your appointment, you will see your consultation listed under "Today\'s Consultations". Click the "Join Meeting" button at the scheduled time to enter the virtual consultation room.'},{id:8,category:"telehealth",question:"What equipment do I need for a telehealth consultation?",answer:"For a telehealth consultation, you need a device with a camera and microphone (smartphone, tablet, or computer), a stable internet connection, and a quiet, private space. Make sure your device is charged and your browser allows camera and microphone access."},{id:9,category:"data",question:"Is my health data secure?",answer:"Yes, your health data is secure. We use industry-standard encryption and security measures to protect your personal and medical information. Our platform complies with healthcare privacy regulations, and your data is only accessible to you and the healthcare providers you authorize."},{id:10,category:"data",question:"How do I export my health data?",answer:'To export your health data, go to the "Data Backup & Export" page under the "Account" menu. Select the type of data you want to export and the format (PDF, CSV, etc.). Click "Export Data" and follow the prompts to download your information.'}],b=[{id:1,category:"getting-started",title:"Getting Started with DigiHealth",type:"video",description:"Learn the basics of navigating the DigiHealth platform and setting up your profile.",link:"#"},{id:2,category:"appointments",title:"How to Schedule and Manage Appointments",type:"guide",description:"A step-by-step guide to scheduling, rescheduling, and canceling appointments.",link:"#"},{id:3,category:"medical",title:"Managing Your Medical Records",type:"video",description:"Learn how to add, edit, and organize your medical history and records.",link:"#"},{id:4,category:"telehealth",title:"Preparing for Your First Telehealth Consultation",type:"guide",description:"Tips and instructions for a successful virtual healthcare appointment.",link:"#"},{id:5,category:"data",title:"Understanding Your Health Analytics",type:"video",description:"How to interpret and use the health analytics features to monitor your well-being.",link:"#"},{id:6,category:"account",title:"Account Security Best Practices",type:"guide",description:"Learn how to keep your DigiHealth account secure with strong passwords and two-factor authentication.",link:"#"}],x=o.filter((t=>{const n=""===e||t.question.toLowerCase().includes(e.toLowerCase())||t.answer.toLowerCase().includes(e.toLowerCase()),i="all"===r||t.category===r;return n&&i})),w=c.filter((t=>{const n=""===e||t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()),i="all"===r||t.category===r;return n&&i}));return d?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"container mt-4",children:[p&&(0,Ae.jsx)("div",{className:`alert alert-${p.type} text-center`,children:p.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(zt,{className:"me-2"})," Help Center"]}),(0,Ae.jsx)("div",{className:"card shadow mb-4",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-8 mb-3",children:(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("span",{className:"input-group-text",children:(0,Ae.jsx)(On,{})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Search for help topics...",value:e,onChange:e=>n(e.target.value)})]})}),(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsxs)("select",{className:"form-select",value:r,onChange:e=>i(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"All Categories"}),m.map(((e,t)=>(0,Ae.jsx)("option",{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},t)))]})})]})})}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Ae.jsxs)("h2",{className:"mb-0",children:[(0,Ae.jsx)(En,{className:"me-2"})," Frequently Asked Questions"]})}),(0,Ae.jsx)("div",{className:"card-body",children:0===x.length?(0,Ae.jsx)("div",{className:"alert alert-info",children:"No FAQs match your search criteria. Try a different search term or category."}):(0,Ae.jsx)("div",{className:"accordion",children:x.map((e=>(0,Ae.jsxs)("div",{className:"card mb-2",children:[(0,Ae.jsxs)("div",{className:"card-header d-flex justify-content-between align-items-center",onClick:()=>{(e=>{s((t=>({...t,[e]:!t[e]})))})(e.id),(async e=>{try{a[e]||await Te.supabase.from("faq_analytics").insert([{faq_id:e,viewed_at:(new Date).toISOString()}])}catch(t){console.error("Error tracking FAQ view:",t)}})(e.id)},style:{cursor:"pointer"},children:[(0,Ae.jsx)("h5",{className:"mb-0",children:e.question}),a[e.id]?(0,Ae.jsx)(Wt,{}):(0,Ae.jsx)(qt,{})]}),a[e.id]&&(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsx)("p",{children:e.answer})})]},e.id)))})})]}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-success text-white",children:(0,Ae.jsxs)("h2",{className:"mb-0",children:[(0,Ae.jsx)(qn,{className:"me-2"})," Tutorials & Guides"]})}),(0,Ae.jsx)("div",{className:"card-body",children:0===w.length?(0,Ae.jsx)("div",{className:"alert alert-info",children:"No tutorials match your search criteria. Try a different search term or category."}):(0,Ae.jsx)("div",{className:"row",children:w.map((e=>(0,Ae.jsx)("div",{className:"col-md-6 col-lg-4 mb-4",children:(0,Ae.jsxs)("div",{className:"card h-100",children:[(0,Ae.jsxs)("div",{className:"card-header",children:["video"===e.type?(0,Ae.jsx)(qn,{className:"me-2 text-danger"}):(0,Ae.jsx)(nn,{className:"me-2 text-primary"}),(0,Ae.jsx)("span",{className:"badge bg-secondary",children:e.category.replace("-"," ")})]}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h5",{className:"card-title",children:e.title}),(0,Ae.jsx)("p",{className:"card-text",children:e.description})]}),(0,Ae.jsx)("div",{className:"card-footer",children:(0,Ae.jsx)("a",{href:e.link,className:"btn btn-primary btn-sm w-100",onClick:()=>(async e=>{try{await Te.supabase.from("tutorial_analytics").insert([{tutorial_id:e,clicked_at:(new Date).toISOString()}])}catch(t){console.error("Error tracking tutorial click:",t)}})(e.id),target:"_blank",rel:"noopener noreferrer",children:"video"===e.type?"Watch Video":"Read Guide"})})]})},e.id)))})})]}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-info text-white",children:(0,Ae.jsx)("h2",{className:"mb-0",children:"Need More Help?"})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card h-100 text-center",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h3",{children:"Contact Support"}),(0,Ae.jsx)("p",{children:"Reach out to our support team for personalized assistance."}),(0,Ae.jsx)("a",{href:"/contact-support",className:"btn btn-primary",children:"Contact Support"})]})})}),(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card h-100 text-center",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h3",{children:"Live Chat"}),(0,Ae.jsx)("p",{children:"Chat with our support agents in real-time for immediate help."}),(0,Ae.jsx)("a",{href:"/live-chat",className:"btn btn-primary",children:"Start Chat"})]})})}),(0,Ae.jsx)("div",{className:"col-md-4 mb-3",children:(0,Ae.jsx)("div",{className:"card h-100 text-center",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h3",{children:"Email Support"}),(0,Ae.jsx)("p",{children:"Send us an email and we'll get back to you within 24 hours."}),(0,Ae.jsx)("a",{href:"mailto:support@digihealth.com",className:"btn btn-primary",children:"Email Us"})]})})})]})})]})]})},of=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)({subject:"",category:"general",priority:"medium",message:"",attachFile:null}),[c,u]=(0,t.useState)([]);(0,t.useEffect)((()=>{d()}),[]),(0,t.useEffect)((()=>{if(o.subject.length>3||o.message.length>10){const e=`${o.subject} ${o.message}`.toLowerCase(),t=[{question:"How do I reset my password?",answer:'Click on "Forgot Password" on the login page and follow the instructions sent to your email.',keywords:["password","reset","forgot","login","sign in","cannot access"]},{question:"How do I schedule an appointment?",answer:'Go to "Upcoming Appointments" and click "Schedule New Appointment".',keywords:["schedule","appointment","book","doctor","visit","consultation"]},{question:"How do I update my profile information?",answer:'Navigate to "Profile Settings" under the Account menu to edit your personal details.',keywords:["profile","update","change","information","details","personal"]},{question:"How do I export my health data?",answer:'Go to "Data Backup & Export" under the Account menu to download your information.',keywords:["export","download","data","backup","information","records"]},{question:"How do I join a telehealth consultation?",answer:'On the day of your appointment, go to "Telehealth Consultations" and click "Join Meeting".',keywords:["telehealth","virtual","video","call","consultation","join","meeting"]}].filter((t=>t.keywords.some((t=>e.includes(t)))));u(t.slice(0,3))}else u([])}),[o.subject,o.message]);const d=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");const{data:t,error:n}=await Te.supabase.from("detailed_profiles").select("*").eq("id",e.id).single();if(n)throw n;s(t)}catch(e){console.error("Error fetching user profile:",e),i({message:"Error fetching user profile.",type:"danger"})}},h=e=>{const{name:t,value:n}=e.target;l((e=>({...e,[t]:n})))};return(0,Ae.jsxs)("div",{className:"container mt-4",children:[r&&(0,Ae.jsx)("div",{className:`alert alert-${r.type} text-center`,children:r.message}),(0,Ae.jsxs)("h1",{className:"text-center mb-4",children:[(0,Ae.jsx)(mn,{className:"me-2"})," Contact Support"]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-lg-8",children:(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-primary text-white",children:(0,Ae.jsx)("h2",{className:"mb-0",children:"Submit a Support Request"})}),(0,Ae.jsxs)("div",{className:"card-body",children:[c.length>0&&(0,Ae.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,Ae.jsxs)("h5",{children:[(0,Ae.jsx)(gn,{className:"me-2"})," Did you know?"]}),(0,Ae.jsx)("p",{children:"We found some help articles that might answer your question:"}),(0,Ae.jsx)("ul",{className:"mb-0",children:c.map(((e,t)=>(0,Ae.jsxs)("li",{children:[(0,Ae.jsx)("strong",{children:e.question})," - ",e.answer]},t)))})]}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),n(!0);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void(window.location.href="/");let t=null;if(o.attachFile){const n=`${e.id}-${Date.now()}-${o.attachFile.name}`,{data:r,error:i}=await Te.supabase.storage.from("support-attachments").upload(n,o.attachFile);if(i)throw i;const{data:a}=Te.supabase.storage.from("support-attachments").getPublicUrl(n);t=a.publicUrl}const{error:n}=await Te.supabase.from("support_tickets").insert([{user_id:e.id,subject:o.subject,category:o.category,priority:o.priority,message:o.message,attachment_url:t,status:"open",created_at:(new Date).toISOString()}]);if(n)throw n;i({message:"Support ticket submitted successfully! Our team will respond shortly.",type:"success"}),l({subject:"",category:"general",priority:"medium",message:"",attachFile:null}),document.getElementById("attachFile").value=""}catch(t){console.error("Error submitting support ticket:",t),i({message:"Error submitting support ticket. Please try again.",type:"danger"})}finally{n(!1)}},children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"subject",className:"form-label",children:"Subject"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"subject",name:"subject",value:o.subject,onChange:h,required:!0,placeholder:"Brief description of your issue"})]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"category",className:"form-label",children:"Category"}),(0,Ae.jsxs)("select",{className:"form-select",id:"category",name:"category",value:o.category,onChange:h,children:[(0,Ae.jsx)("option",{value:"general",children:"General Question"}),(0,Ae.jsx)("option",{value:"account",children:"Account Issues"}),(0,Ae.jsx)("option",{value:"appointments",children:"Appointments"}),(0,Ae.jsx)("option",{value:"medical",children:"Medical Records"}),(0,Ae.jsx)("option",{value:"telehealth",children:"Telehealth"}),(0,Ae.jsx)("option",{value:"technical",children:"Technical Problem"}),(0,Ae.jsx)("option",{value:"billing",children:"Billing & Payments"})]})]}),(0,Ae.jsxs)("div",{className:"col-md-6 mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"priority",className:"form-label",children:"Priority"}),(0,Ae.jsxs)("select",{className:"form-select",id:"priority",name:"priority",value:o.priority,onChange:h,children:[(0,Ae.jsx)("option",{value:"low",children:"Low - General Question"}),(0,Ae.jsx)("option",{value:"medium",children:"Medium - Need Help Soon"}),(0,Ae.jsx)("option",{value:"high",children:"High - Urgent Issue"})]})]})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"message",className:"form-label",children:"Message"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"message",name:"message",rows:"6",value:o.message,onChange:h,required:!0,placeholder:"Please describe your issue in detail. Include any error messages or steps to reproduce the problem."})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"attachFile",className:"form-label",children:"Attach File (optional)"}),(0,Ae.jsx)("input",{type:"file",className:"form-control",id:"attachFile",onChange:e=>{l((t=>({...t,attachFile:e.target.files[0]})))}}),(0,Ae.jsx)("div",{className:"form-text",children:"You can attach screenshots or documents to help explain your issue (max 5MB)."})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:e,children:e?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Submitting..."]}):"Submit Support Request"})]})]})]})}),(0,Ae.jsxs)("div",{className:"col-lg-4",children:[(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-info text-white",children:(0,Ae.jsx)("h3",{className:"mb-0",children:"Contact Information"})}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)(en,{className:"me-3 fs-4 text-primary"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Email Support"}),(0,Ae.jsx)("p",{className:"mb-0",children:"support@digihealth.com"}),(0,Ae.jsx)("small",{className:"text-muted",children:"Response within 24 hours"})]})]}),(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)(kn,{className:"me-3 fs-4 text-primary"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Phone Support"}),(0,Ae.jsx)("p",{className:"mb-0",children:"1-800-DIGI-HEALTH"}),(0,Ae.jsx)("small",{className:"text-muted",children:"Mon-Fri, 9am-5pm EST"})]})]}),(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(Yt,{className:"me-3 fs-4 text-primary"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Live Chat"}),(0,Ae.jsx)("p",{className:"mb-0",children:(0,Ae.jsx)("a",{href:"/live-chat",className:"btn btn-sm btn-outline-primary mt-1",children:"Start Chat"})}),(0,Ae.jsx)("small",{className:"text-muted",children:"Available 24/7"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"card shadow mb-4",children:[(0,Ae.jsx)("div",{className:"card-header bg-success text-white",children:(0,Ae.jsx)("h3",{className:"mb-0",children:"Support Resources"})}),(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex align-items-center mb-3",children:[(0,Ae.jsx)(En,{className:"me-3 fs-4 text-success"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Help Center"}),(0,Ae.jsx)("p",{className:"mb-0",children:(0,Ae.jsx)("a",{href:"/help-center",className:"btn btn-sm btn-outline-success mt-1",children:"Browse FAQs"})})]})]}),(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)(tn,{className:"me-3 fs-4 text-warning"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"System Status"}),(0,Ae.jsx)("p",{className:"mb-0",children:(0,Ae.jsx)("span",{className:"badge bg-success",children:"All Systems Operational"})})]})]})]})]})]})]})]})},lf=()=>{const{user:e}=Re(),[n,r]=(0,t.useState)([]),[i,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!1),[u,d]=(0,t.useState)("connecting"),[h,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(null),g=(0,t.useRef)(null);(0,t.useEffect)((()=>(v(),()=>{f&&f.unsubscribe()})),[e,f]),(0,t.useEffect)((()=>{y()}),[n]);const v=async()=>{try{const{data:t,error:n}=await Te.supabase.from("chat_sessions").select("*").eq("user_id",e.id).eq("status","active").single();if(n&&"PGRST116"!==n.code)throw n;let i;if(t)i=t.id;else{const{data:t,error:n}=await Te.supabase.from("chat_sessions").insert([{user_id:e.id,status:"active",created_at:(new Date).toISOString()}]).select().single();if(n)throw n;i=t.id}const{data:a,error:s}=await Te.supabase.from("chat_messages").select("*").eq("session_id",i).order("created_at",{ascending:!0});if(s)throw s;r(a||[]);const o=Te.supabase.channel("chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`session_id=eq.${i}`},(e=>{r((t=>[...t,e.new]))})).subscribe();m(o);const{data:l,error:c}=await Te.supabase.from("support_agents").select("*").eq("status","online").single();if(c&&"PGRST116"!==c.code)throw c;l?(p(l),d("connected")):d("waiting")}catch(t){console.error("Error initializing chat:",t),d("error")}},y=()=>{g.current&&g.current.scrollIntoView({behavior:"smooth"})};return(0,Ae.jsx)("div",{className:"container-fluid h-100",children:(0,Ae.jsxs)("div",{className:"row h-100",children:[(0,Ae.jsxs)("div",{className:"col-md-3 p-0 border-end",children:[(0,Ae.jsxs)("div",{className:"p-3 border-bottom",children:[(0,Ae.jsx)("h5",{className:"mb-0",children:"Chat Information"}),(0,Ae.jsxs)("small",{className:"text-muted",children:["Status: ",(0,Ae.jsx)("span",{className:"text-"+("connected"===u?"success":"warning"),children:u.charAt(0).toUpperCase()+u.slice(1)})]})]}),h&&(0,Ae.jsxs)("div",{className:"p-3",children:[(0,Ae.jsx)("h6",{className:"mb-2",children:"Support Agent"}),(0,Ae.jsxs)("div",{className:"d-flex align-items-center",children:[(0,Ae.jsx)("div",{className:"avatar-circle me-2",children:h.name.charAt(0)}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"fw-bold",children:h.name}),(0,Ae.jsx)("small",{className:"text-muted",children:h.role})]})]})]})]}),(0,Ae.jsxs)("div",{className:"col-md-9 p-0 d-flex flex-column",children:[(0,Ae.jsxs)("div",{className:"flex-grow-1 p-3 overflow-auto",style:{height:"calc(100vh - 200px)"},children:[n.map(((t,n)=>(0,Ae.jsx)("div",{className:`d-flex ${t.user_id===e.id?"justify-content-end":"justify-content-start"} mb-3`,children:(0,Ae.jsx)("div",{className:"chat-message "+(t.user_id===e.id?"bg-primary text-white":"bg-light"),children:"text"===t.type?(0,Ae.jsx)("p",{className:"mb-0",children:t.message}):"image"===t.type?(0,Ae.jsx)("img",{src:`https://aqdzmfhakqdwquszaqle.supabase.co/storage/v1/object/public/chat-attachments/${t.attachment_url}`,alt:"Shared image",className:"img-fluid rounded",style:{maxWidth:"200px"}}):(0,Ae.jsxs)("a",{href:`https://aqdzmfhakqdwquszaqle.supabase.co/storage/v1/object/public/chat-attachments/${t.attachment_url}`,target:"_blank",rel:"noopener noreferrer",className:"text-decoration-none",children:[(0,Ae.jsx)(ln,{className:"me-2"}),t.message]})})},n))),(0,Ae.jsx)("div",{ref:g})]}),(0,Ae.jsx)("div",{className:"p-3 border-top",children:(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),i.trim())try{const{data:t}=await Te.supabase.from("chat_sessions").select("id").eq("user_id",e.id).eq("status","active").single();if(!t)throw new Error("No active chat session");const{error:n}=await Te.supabase.from("chat_messages").insert([{session_id:t.id,user_id:e.id,message:i.trim(),type:"text",created_at:(new Date).toISOString()}]);if(n)throw n;a("")}catch(n){console.error("Error sending message:",n)}},className:"d-flex gap-2",children:[(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Type your message...",value:i,onChange:e=>a(e.target.value),onFocus:()=>o(!0),onBlur:()=>o(!1)}),(0,Ae.jsxs)("label",{className:"btn btn-outline-primary",children:[(0,Ae.jsx)("input",{type:"file",className:"d-none",onChange:async t=>{const n=t.target.files[0];if(n)try{const t=n.name.split(".").pop(),r=`${Math.random()}.${t}`,i=`${e.id}/${r}`,{error:a}=await Te.supabase.storage.from("chat-attachments").upload(i,n);if(a)throw a;const{data:s}=await Te.supabase.from("chat_sessions").select("id").eq("user_id",e.id).eq("status","active").single();if(!s)throw new Error("No active chat session");const{error:o}=await Te.supabase.from("chat_messages").insert([{session_id:s.id,user_id:e.id,message:n.name,type:n.type.startsWith("image/")?"image":"file",attachment_url:i,created_at:(new Date).toISOString()}]);if(o)throw o}catch(r){console.error("Error uploading file:",r)}},accept:"image/*,.pdf,.doc,.docx"}),(0,Ae.jsx)(ln,{})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:(0,Ae.jsx)(_n,{})})]})})]})]})})},cf=()=>{const[e,n]=(0,t.useState)({first_name:null,last_name:null,email:null,date_of_birth:null,gender:null,blood_group:null,height:"",weight:"",allergies:[],medical_conditions:[],emergency_contact_name:null,emergency_contact_phone:null,emergency_contact_relationship:null,phone:null,address:null,bio:"",profile_picture:null}),[r,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)({name:"",value:"",unit:""}),[d,h]=(0,t.useState)(!0),[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)("profile"),[v,y]=(0,t.useState)(!1),[b,x]=(0,t.useState)(""),[w,_]=(0,t.useState)([]),[k,j]=(0,t.useState)({name:"",severity:"mild"}),[S,N]=(0,t.useState)([]),[E,C]=(0,t.useState)(!0),{user:O}=Re();(0,t.useEffect)((()=>{T(),A(),R(),M();const e=new URLSearchParams(window.location.search).get("section");e&&g(e)}),[O]),(0,t.useEffect)((()=>{"diseases"===m&&P()}),[m]);const T=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:r}=await Te.supabase.from("detailed_profiles").select("*").eq("id",e.id).single();if(r){if("PGRST116"!==r.code)throw r;{const{data:t,error:r}=await Te.supabase.from("detailed_profiles").insert([{id:e.id}]).select().single();if(r)throw r;n(t||{})}}else n(t||{})}catch(e){wt.error("Error fetching profile: "+e.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},A=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_diseases").select("*").eq("user_id",e.id);if(n)throw n;i(t||[])}catch(e){console.error("Error fetching diseases:",e)}},P=async()=>{try{const{data:e,error:t}=await Te.supabase.from("common_diseases").select("*");if(t)throw t;N(e||[])}catch(e){console.error("Error fetching common diseases:",e)}},R=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_allergies").select("*").eq("user_id",e.id);if(n)throw n;_(t||[])}catch(e){console.error("Error fetching allergies:",e)}},M=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_parameters").select("*").eq("user_id",e.id).order("date_recorded",{ascending:!1});if(n)throw n;l(t||[])}catch(e){console.error("Error fetching parameters:",e)}},I=e=>{const{name:t,value:r}=e.target;n((e=>({...e,[t]:r})))};return d?(0,Ae.jsx)(Kn,{}):(0,Ae.jsxs)("div",{className:"profile-page",children:[b&&(0,Ae.jsxs)("div",{className:"alert alert-info alert-dismissible fade show",role:"alert",children:[b,(0,Ae.jsx)("button",{type:"button",className:"btn-close",onClick:()=>x("")})]}),(0,Ae.jsxs)("div",{className:"profile-sidebar",children:[(0,Ae.jsxs)("div",{className:"profile-picture-container",children:[(0,Ae.jsx)("img",{src:e.profile_picture||"/default-profile.png",alt:"Profile",className:"profile-picture"}),p&&(0,Ae.jsx)("div",{className:"mt-2",children:(0,Ae.jsx)("input",{type:"file",onChange:async e=>{try{y(!0);const t=e.target.files[0];if(!t)return;const{data:{user:r}}=await Te.supabase.auth.getUser();if(!r)throw new Error("No user logged in");const i=t.name.split(".").pop(),a=`${r.id}/${Math.random()}.${i}`,{error:s}=await Te.supabase.storage.from("profile-pictures").upload(a,t);if(s)throw s;const{data:{publicUrl:o}}=Te.supabase.storage.from("profile-pictures").getPublicUrl(a);n((e=>({...e,profile_picture:o})));const{error:l}=await Te.supabase.from("detailed_profiles").update({profile_picture:o}).eq("id",r.id);if(l)throw l;wt.success("Profile picture updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}catch(t){wt.error("Error uploading image: "+t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{y(!1)}},className:"form-control form-control-sm"})}),v&&(0,Ae.jsx)(Kn,{})]}),(0,Ae.jsxs)("h3",{className:"profile-name",children:[e.first_name," ",e.last_name]}),(0,Ae.jsx)("p",{className:"profile-email",children:e.email}),(0,Ae.jsx)("button",{onClick:()=>f(!p),className:"edit-profile-btn",children:p?"Cancel Editing":"Edit Profile"}),(0,Ae.jsxs)("nav",{className:"profile-nav",children:[(0,Ae.jsxs)("button",{className:"profile-nav-item "+("profile"===m?"active":""),onClick:()=>g("profile"),children:[(0,Ae.jsx)("i",{className:"fas fa-user"})," Basic Information"]}),(0,Ae.jsxs)("button",{className:"profile-nav-item "+("medical"===m?"active":""),onClick:()=>g("medical"),children:[(0,Ae.jsx)("i",{className:"fas fa-heartbeat"})," Medical Information"]}),(0,Ae.jsxs)("button",{className:"profile-nav-item "+("emergency"===m?"active":""),onClick:()=>g("emergency"),children:[(0,Ae.jsx)("i",{className:"fas fa-phone-alt"})," Emergency Contacts"]}),(0,Ae.jsxs)("button",{className:"profile-nav-item "+("diseases"===m?"active":""),onClick:()=>g("diseases"),children:[(0,Ae.jsx)("i",{className:"fas fa-notes-medical"})," Diseases & Conditions"]}),(0,Ae.jsxs)("button",{className:"profile-nav-item "+("parameters"===m?"active":""),onClick:()=>g("parameters"),children:[(0,Ae.jsx)("i",{className:"fas fa-chart-line"})," Health Parameters"]}),(0,Ae.jsxs)("button",{className:"profile-nav-item "+("emergency-qr"===m?"active":""),onClick:()=>g("emergency-qr"),children:[(0,Ae.jsx)("i",{className:"fas fa-qrcode"})," Emergency QR Code"]})]})]}),(0,Ae.jsxs)("div",{className:"profile-content",children:["profile"===m&&(0,Ae.jsxs)("div",{className:"profile-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Basic Information"}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"First Name"}),p?(0,Ae.jsx)("input",{type:"text",name:"first_name",value:e.first_name||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.first_name})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Last Name"}),p?(0,Ae.jsx)("input",{type:"text",name:"last_name",value:e.last_name||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.last_name})]})]}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Email"}),p?(0,Ae.jsx)("input",{type:"email",name:"email",value:e.email||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.email})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Phone"}),p?(0,Ae.jsx)("input",{type:"tel",name:"phone",value:e.phone||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.phone})]})]}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Address"}),p?(0,Ae.jsx)("input",{type:"text",name:"address",value:e.address||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.address})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Bio"}),p?(0,Ae.jsx)("textarea",{name:"bio",value:e.bio||"",onChange:I,className:"form-control",rows:"3"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.bio})]})]})]}),"medical"===m&&(0,Ae.jsxs)("div",{className:"profile-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Medical Information"}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Date of Birth"}),p?(0,Ae.jsx)("input",{type:"date",name:"date_of_birth",value:e.date_of_birth||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.date_of_birth})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Gender"}),p?(0,Ae.jsxs)("select",{name:"gender",value:e.gender||"",onChange:I,className:"form-control",children:[(0,Ae.jsx)("option",{value:"",children:"Select Gender"}),(0,Ae.jsx)("option",{value:"male",children:"Male"}),(0,Ae.jsx)("option",{value:"female",children:"Female"}),(0,Ae.jsx)("option",{value:"other",children:"Other"})]}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.gender})]})]}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Blood Group"}),p?(0,Ae.jsxs)("select",{name:"blood_group",value:e.blood_group||"",onChange:I,className:"form-control",children:[(0,Ae.jsx)("option",{value:"",children:"Select Blood Group"}),(0,Ae.jsx)("option",{value:"A+",children:"A+"}),(0,Ae.jsx)("option",{value:"A-",children:"A-"}),(0,Ae.jsx)("option",{value:"B+",children:"B+"}),(0,Ae.jsx)("option",{value:"B-",children:"B-"}),(0,Ae.jsx)("option",{value:"AB+",children:"AB+"}),(0,Ae.jsx)("option",{value:"AB-",children:"AB-"}),(0,Ae.jsx)("option",{value:"O+",children:"O+"}),(0,Ae.jsx)("option",{value:"O-",children:"O-"})]}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.blood_group})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Height (cm)"}),p?(0,Ae.jsx)("input",{type:"number",name:"height",value:e.height||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.height})]})]}),(0,Ae.jsx)("div",{className:"profile-field",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Weight (kg)"}),p?(0,Ae.jsx)("input",{type:"number",name:"weight",value:e.weight||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.weight})]})})]}),"emergency"===m&&(0,Ae.jsxs)("div",{className:"profile-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Emergency Contact Information"}),(0,Ae.jsxs)("div",{className:"profile-field",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Emergency Contact Name"}),p?(0,Ae.jsx)("input",{type:"text",name:"emergency_contact_name",value:e.emergency_contact_name||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.emergency_contact_name})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Emergency Contact Phone"}),p?(0,Ae.jsx)("input",{type:"tel",name:"emergency_contact_phone",value:e.emergency_contact_phone||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.emergency_contact_phone})]})]}),(0,Ae.jsx)("div",{className:"profile-field",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("label",{children:"Relationship"}),p?(0,Ae.jsx)("input",{type:"text",name:"emergency_contact_relationship",value:e.emergency_contact_relationship||"",onChange:I,className:"form-control"}):(0,Ae.jsx)("div",{className:"profile-field-value",children:e.emergency_contact_relationship})]})})]}),"diseases"===m&&(0,Ae.jsxs)("div",{className:"profile-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Diseases & Medical Conditions"}),(0,Ae.jsx)("div",{className:"disease-list",children:r.map((e=>(0,Ae.jsx)("span",{className:"badge bg-info me-2 mb-2",children:e.disease_name},e.id)))}),p&&(0,Ae.jsxs)("div",{className:"add-disease-form mt-4",children:[(0,Ae.jsx)("h3",{className:"subsection-title",children:"Add Disease"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsxs)("select",{className:"form-select",value:a,onChange:e=>s(e.target.value),children:[(0,Ae.jsx)("option",{value:"",children:"Select a disease"}),S.map((e=>(0,Ae.jsx)("option",{value:e.name,children:e.name},e.id)))]}),(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Or enter a new disease",value:""===a?"":a,onChange:e=>s(e.target.value)}),(0,Ae.jsx)("button",{onClick:async()=>{if(a.trim())try{h(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_diseases").select("*").eq("user_id",e.id).eq("disease_name",a).single();if(n&&"PGRST116"!==n.code)throw n;if(t)wt.info("This disease is already in your list",{position:"top-right",autoClose:3e3});else{const{data:t,error:n}=await Te.supabase.from("user_diseases").insert([{user_id:e.id,disease_name:a,date_diagnosed:(new Date).toISOString()}]).select();if(n)throw n;i([...r,...t]),wt.success("Disease added successfully!",{position:"top-right",autoClose:3e3})}s("")}catch(e){console.error("Error adding disease:",e),wt.error("Error adding disease: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}},className:"btn btn-primary",children:"Add"})]})]}),(0,Ae.jsx)("h3",{className:"subsection-title mt-5",children:"Allergies"}),(0,Ae.jsx)("div",{className:"allergy-list",children:w.map((e=>(0,Ae.jsxs)("span",{className:"badge bg-warning text-dark me-2 mb-2",children:[e.allergy_name," (",e.severity,")"]},e.id)))}),p&&(0,Ae.jsx)("div",{className:"add-allergy-form mt-4",children:(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Allergy name",value:k.name,onChange:e=>j({...k,name:e.target.value})}),(0,Ae.jsxs)("select",{className:"form-select",value:k.severity,onChange:e=>j({...k,severity:e.target.value}),children:[(0,Ae.jsx)("option",{value:"mild",children:"Mild"}),(0,Ae.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Ae.jsx)("option",{value:"severe",children:"Severe"})]}),(0,Ae.jsx)("button",{onClick:async()=>{if(k.name.trim())try{h(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_allergies").select("*").eq("user_id",e.id).eq("allergy_name",k.name).single();if(n&&"PGRST116"!==n.code)throw n;if(t)wt.info("This allergy is already in your list",{position:"top-right",autoClose:3e3});else{const{data:t,error:n}=await Te.supabase.from("user_allergies").insert([{user_id:e.id,allergy_name:k.name,severity:k.severity}]).select();if(n)throw n;_([...w,...t]),wt.success("Allergy added successfully!",{position:"top-right",autoClose:3e3})}j({name:"",severity:"mild"})}catch(e){console.error("Error adding allergy:",e),wt.error("Error adding allergy: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}else wt.warning("Please enter an allergy name",{position:"top-right",autoClose:3e3})},className:"btn btn-primary",children:"Add"})]})})]}),"parameters"===m&&(0,Ae.jsxs)("div",{className:"profile-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Health Parameters"}),(0,Ae.jsx)("div",{className:"parameter-list",children:o.map((e=>(0,Ae.jsxs)("div",{className:"parameter-item",children:[(0,Ae.jsx)("span",{className:"parameter-name",children:e.parameter_name}),(0,Ae.jsxs)("span",{className:"parameter-value",children:[e.value," ",e.unit]}),(0,Ae.jsx)("span",{className:"parameter-date",children:new Date(e.date_recorded).toLocaleDateString()})]},e.id)))}),p&&(0,Ae.jsxs)("div",{className:"add-parameter-form mt-4",children:[(0,Ae.jsx)("h3",{className:"subsection-title",children:"Add Parameter"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Parameter name",value:c.name,onChange:e=>u({...c,name:e.target.value})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Value",value:c.value,onChange:e=>u({...c,value:e.target.value})}),(0,Ae.jsx)("input",{type:"text",className:"form-control",placeholder:"Unit",value:c.unit,onChange:e=>u({...c,unit:e.target.value})}),(0,Ae.jsx)("button",{onClick:async()=>{if(c.name.trim()&&c.value.trim())try{h(!0);const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:n}=await Te.supabase.from("user_parameters").insert([{user_id:e.id,parameter_name:c.name,value:c.value,unit:c.unit||"",date_recorded:(new Date).toISOString()}]).select();if(n)throw n;l([...o,...t]),u({name:"",value:"",unit:""}),wt.success("Parameter added successfully!",{position:"top-right",autoClose:3e3})}catch(e){console.error("Error adding parameter:",e),wt.error("Error adding parameter: "+e.message,{position:"top-right",autoClose:5e3})}finally{h(!1)}else wt.warning("Please enter both parameter name and value",{position:"top-right",autoClose:3e3})},className:"btn btn-primary",children:"Add"})]})]})]}),"emergency-qr"===m&&(0,Ae.jsxs)("div",{className:"emergency-qr-section",children:[(0,Ae.jsx)("h2",{className:"section-title",children:"Emergency Medical QR Code"}),(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("i",{className:"fas fa-info-circle me-2"}),"This QR code contains your essential medical information for emergency situations. Keep it accessible, such as in your wallet, on your phone, or on emergency medical ID."]}),(0,Ae.jsx)("div",{className:"qrcode-container",children:(0,Ae.jsx)(Ga,{size:180})}),(0,Ae.jsxs)("p",{className:"section-description",children:[(0,Ae.jsx)("i",{className:"fas fa-shield-alt me-2"}),(0,Ae.jsx)("strong",{children:"Privacy Note:"})," The QR code is updated automatically when you change your profile information, allergies, or medical conditions. The information included in the QR code is limited to what would be helpful in a medical emergency."]})]}),p&&"emergency-qr"!==m&&(0,Ae.jsx)("div",{className:"mt-4",children:(0,Ae.jsx)("button",{onClick:async()=>{h(!0);try{const{data:{user:t}}=await Te.supabase.auth.getUser();if(!t)throw new Error("No user logged in");const n={first_name:e.first_name||null,last_name:e.last_name||null,email:e.email||null,date_of_birth:e.date_of_birth||null,gender:e.gender||null,blood_group:e.blood_group||null,height:e.height||null,weight:e.weight||null,phone:e.phone||null,address:e.address||null,emergency_contact_name:e.emergency_contact_name||null,emergency_contact_phone:e.emergency_contact_phone||null,emergency_contact_relationship:e.emergency_contact_relationship||null,profile_picture:e.profile_picture||null,bio:e.bio||null,updated_at:(new Date).toISOString()},{error:r}=await Te.supabase.from("detailed_profiles").update(n).eq("id",t.id);if(r)throw r;wt.success("Profile updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),f(!1)}catch(t){wt.error("Error updating profile: "+t.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}finally{h(!1)}},className:"btn btn-success",children:"Save Changes"})})]})]})},uf=()=>{const[e,n]=(0,t.useState)({twoFactorEnabled:!1,emailNotifications:!0,loginNotifications:!0,passwordExpiry:90,maxLoginAttempts:5}),[r,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return;const{data:t,error:r}=await Te.supabase.from("security_settings").select("*").eq("user_id",e.id).single();if(r)throw r;t&&n(t)}catch(a){s("Failed to load security settings")}},u=e=>{const{name:t,value:r,type:i,checked:a}=e.target;n((e=>({...e,[t]:"checkbox"===i?a:r})))};return(0,Ae.jsxs)("div",{className:"container mt-4",children:[(0,Ae.jsx)("h2",{className:"mb-4",children:"Security Settings"}),a&&(0,Ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}),o&&(0,Ae.jsx)("div",{className:"alert alert-success",role:"alert",children:o}),(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),s(null),l(null);try{const{data:{user:t}}=await Te.supabase.auth.getUser();if(!t)throw new Error("No user found");const{error:n}=await Te.supabase.from("security_settings").upsert({user_id:t.id,...e,updated_at:(new Date).toISOString()});if(n)throw n;l("Security settings updated successfully")}catch(a){s(a.message)}finally{i(!1)}},children:[(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Tn,{className:"me-2"}),"Two-Factor Authentication"]}),(0,Ae.jsxs)("div",{className:"form-check form-switch",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"twoFactorEnabled",name:"twoFactorEnabled",checked:e.twoFactorEnabled,onChange:u}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"twoFactorEnabled",children:"Enable two-factor authentication"})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Un,{className:"me-2"}),"Login Security"]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Maximum Login Attempts"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",name:"maxLoginAttempts",value:e.maxLoginAttempts,onChange:u,min:"1",max:"10"})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Password Expiry (days)"}),(0,Ae.jsx)("input",{type:"number",className:"form-control",name:"passwordExpiry",value:e.passwordExpiry,onChange:u,min:"30",max:"365"})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(dn,{className:"me-2"}),"Activity Notifications"]}),(0,Ae.jsxs)("div",{className:"form-check mb-2",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"emailNotifications",name:"emailNotifications",checked:e.emailNotifications,onChange:u}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"emailNotifications",children:"Email notifications for security events"})]}),(0,Ae.jsxs)("div",{className:"form-check",children:[(0,Ae.jsx)("input",{className:"form-check-input",type:"checkbox",id:"loginNotifications",name:"loginNotifications",checked:e.loginNotifications,onChange:u}),(0,Ae.jsx)("label",{className:"form-check-label",htmlFor:"loginNotifications",children:"Notify on new device login"})]})]}),(0,Ae.jsxs)("div",{className:"mb-4",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(fn,{className:"me-2"}),"Password Management"]}),(0,Ae.jsx)("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>{},children:"Change Password"})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Saving...":"Save Security Settings"})]})})})]})},df=()=>{const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{c()}),[]);const c=async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return;const{data:t,error:r}=await Te.supabase.from("backup_history").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;n(t||[])}catch(a){s("Failed to load backup history")}};return(0,Ae.jsxs)("div",{className:"container mt-4",children:[(0,Ae.jsx)("h2",{className:"mb-4",children:"Data Backup & Restore"}),a&&(0,Ae.jsx)("div",{className:"alert alert-danger",role:"alert",children:a}),o&&(0,Ae.jsx)("div",{className:"alert alert-success",role:"alert",children:o}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsxs)("div",{className:"col-md-6",children:[(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Qt,{className:"me-2"}),"Export Data"]}),(0,Ae.jsx)("p",{className:"card-text",children:"Download a backup of your health data, including profile information, health records, appointments, and medications."}),(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:async()=>{i(!0),s(null),l(null);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user found");const[{data:t},{data:n},{data:r},{data:i},{data:a},{data:s}]=await Promise.all([Te.supabase.from("profiles").select("*").eq("id",e.id).single(),Te.supabase.from("health_metrics").select("*").eq("user_id",e.id),Te.supabase.from("appointments").select("*").eq("user_id",e.id),Te.supabase.from("medications").select("*").eq("user_id",e.id),Te.supabase.from("medical_conditions").select("*").eq("user_id",e.id),Te.supabase.from("health_alerts").select("*").eq("user_id",e.id)]),{data:o,error:u}=await Te.supabase.from("backup_history").insert([{user_id:e.id,type:"export",status:"completed",created_at:(new Date).toISOString(),backup_data:{profile:t,healthMetrics:n,appointments:r,medications:i,medicalConditions:a,healthAlerts:s}}]).select().single();if(u)throw u;const d={profile:t,healthMetrics:n,appointments:r,medications:i,medicalConditions:a,healthAlerts:s,exportDate:(new Date).toISOString()},h=new Blob([JSON.stringify(d,null,2)],{type:"application/json"}),p=window.URL.createObjectURL(h),f=document.createElement("a");f.href=p,f.download=`digihealth-backup-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(f),f.click(),window.URL.revokeObjectURL(p),document.body.removeChild(f),l("Data exported successfully"),c()}catch(a){s(a.message)}finally{i(!1)}},disabled:r,children:r?"Exporting...":"Export Data"})]})}),(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)($n,{className:"me-2"}),"Import Data"]}),(0,Ae.jsx)("p",{className:"card-text",children:"Restore your health data from a previous backup file."}),(0,Ae.jsx)("input",{type:"file",className:"form-control mb-3",accept:".json",onChange:async e=>{const t=e.target.files[0];if(t){i(!0),s(null),l(null);try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user found");const n=new FileReader;n.onload=async t=>{try{const n=JSON.parse(t.target.result),{data:r,error:i}=await Te.supabase.from("backup_history").insert([{user_id:e.id,type:"import",status:"completed",created_at:(new Date).toISOString()}]).select().single();if(i)throw i;n.profile&&await Te.supabase.from("profiles").upsert({...n.profile,id:e.id}),n.healthMetrics&&await Te.supabase.from("health_metrics").upsert(n.healthMetrics.map((t=>({...t,user_id:e.id})))),n.appointments&&await Te.supabase.from("appointments").upsert(n.appointments.map((t=>({...t,user_id:e.id})))),n.medications&&await Te.supabase.from("medications").upsert(n.medications.map((t=>({...t,user_id:e.id})))),n.medicalConditions&&await Te.supabase.from("medical_conditions").upsert(n.medicalConditions.map((t=>({...t,user_id:e.id})))),n.healthAlerts&&await Te.supabase.from("health_alerts").upsert(n.healthAlerts.map((t=>({...t,user_id:e.id})))),l("Data imported successfully"),c()}catch(a){s("Invalid backup file format")}},n.readAsText(t)}catch(a){s(a.message)}finally{i(!1)}}},disabled:r})]})})]}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(dn,{className:"me-2"}),"Backup History"]}),(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Type"}),(0,Ae.jsx)("th",{children:"Status"})]})}),(0,Ae.jsx)("tbody",{children:e.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:new Date(e.created_at).toLocaleString()}),(0,Ae.jsxs)("td",{children:["export"===e.type?(0,Ae.jsx)(Qt,{className:"me-1"}):(0,Ae.jsx)($n,{className:"me-1"}),e.type.charAt(0).toUpperCase()+e.type.slice(1)]}),(0,Ae.jsx)("td",{children:(0,Ae.jsx)("span",{className:"badge bg-"+("completed"===e.status?"success":"warning"),children:e.status})})]},e.id)))})]})})]})})})]})]})};var hf=n(985);const pf=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)([]),o=console.log,l=console.error,c=console.warn;return(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(Gt,{className:"me-2"}),"Database Setup"]}),(0,Ae.jsxs)("p",{className:"card-text",children:["This utility will delete all existing tables and buckets in your Supabase project and recreate them with the proper structure.",(0,Ae.jsx)("strong",{className:"text-danger",children:" Use with caution as this will delete all existing data!"})]}),r&&(0,Ae.jsxs)("div",{className:`alert ${r.success?"alert-success":"alert-danger"} mt-3`,role:"alert",children:[r.success?(0,Ae.jsx)(Vt,{className:"me-2"}):(0,Ae.jsx)(tn,{className:"me-2"}),r.message]}),(0,Ae.jsx)("div",{className:"d-grid gap-2 mt-3",children:(0,Ae.jsx)("button",{className:"btn btn-danger",onClick:async()=>{n(!0),i(null),s([]),console.log=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s((e=>[...e,{type:"info",message:t.join(" ")}])),o(...t)},console.error=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s((e=>[...e,{type:"error",message:t.join(" ")}])),l(...t)},console.warn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];s((e=>[...e,{type:"warning",message:t.join(" ")}])),c(...t)};try{const e=await(0,hf.setupSupabaseTables)();i(e)}catch(e){i({success:!1,message:`Unexpected error: ${e.message}`})}finally{console.log=o,console.error=l,console.warn=c,n(!1)}},disabled:e,children:e?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Pn,{className:"me-2 fa-spin"}),"Setting up database..."]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Gt,{className:"me-2"}),"Reset and Setup Database"]})})}),a.length>0&&(0,Ae.jsxs)("div",{className:"mt-4",children:[(0,Ae.jsx)("h6",{children:"Setup Logs:"}),(0,Ae.jsx)("div",{className:"border rounded p-3 bg-light",style:{maxHeight:"300px",overflow:"auto"},children:a.map(((e,t)=>(0,Ae.jsx)("div",{className:"mb-1 "+("error"===e.type?"text-danger":"warning"===e.type?"text-warning":""),children:e.message},t)))})]})]})})},ff=()=>{var e;const{user:n}=Re(),[r,i]=(0,t.useState)("");if(!n||"admin"!==(null===(e=n.user_metadata)||void 0===e?void 0:e.role))return(0,Ae.jsx)(me,{to:"/dashboard"});return(0,Ae.jsxs)("div",{className:"container py-4",children:[(0,Ae.jsxs)("h1",{className:"mb-4",children:[(0,Ae.jsx)(Gt,{className:"me-2"}),"Database Management"]}),(0,Ae.jsxs)("div",{className:"alert alert-warning mb-4",role:"alert",children:[(0,Ae.jsx)(tn,{className:"me-2"}),(0,Ae.jsx)("strong",{children:"Warning:"})," This page is for administrators only. The actions performed here will affect all users of the application."]}),(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-8",children:(0,Ae.jsx)(pf,{})}),(0,Ae.jsx)("div",{className:"col-md-4",children:(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h5",{className:"card-title",children:[(0,Ae.jsx)(pn,{className:"me-2"}),"Database Information"]}),(0,Ae.jsx)("p",{className:"card-text",children:"The setup process will create the following resources:"}),(0,Ae.jsxs)("h6",{className:"mt-3",children:[(0,Ae.jsx)(In,{className:"me-2"}),"Tables"]}),(0,Ae.jsxs)("ul",{className:"list-group mb-3",children:[(0,Ae.jsx)("li",{className:"list-group-item",children:"detailed_profiles"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"profiles"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"conditions"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"medications"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"appointments"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"telehealth_consultations"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"vitals"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"diseases"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"medical_reports"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"support_tickets"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"chat_sessions"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"chat_messages"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"alerts"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"security_settings"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"backup_history"})]}),(0,Ae.jsxs)("h6",{className:"mt-3",children:[(0,Ae.jsx)(cn,{className:"me-2"}),"Storage Buckets"]}),(0,Ae.jsxs)("ul",{className:"list-group",children:[(0,Ae.jsx)("li",{className:"list-group-item",children:"profile-pictures"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"medical-reports"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"health-reports"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"chat-attachments"}),(0,Ae.jsx)("li",{className:"list-group-item",children:"support-attachments"})]})]})})})]}),(0,Ae.jsxs)("div",{className:"mt-5",children:[(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{i("Setting up database...");const{error:e}=await Te.supabase.rpc("setup_profiles_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS profiles (\n            id UUID REFERENCES auth.users ON DELETE CASCADE PRIMARY KEY,\n            first_name VARCHAR(255),\n            last_name VARCHAR(255),\n            date_of_birth DATE,\n            gender VARCHAR(50),\n            blood_group VARCHAR(10),\n            height DECIMAL,\n            weight DECIMAL,\n            allergies TEXT[],\n            medical_conditions TEXT[],\n            emergency_contact_name VARCHAR(255),\n            emergency_contact_phone VARCHAR(20),\n            emergency_contact_relationship VARCHAR(100),\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW()),\n            updated_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          -- Add RLS policies\n          ALTER TABLE profiles ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own profile"\n            ON profiles FOR SELECT\n            USING (auth.uid() = id);\n\n          CREATE POLICY "Users can update their own profile"\n            ON profiles FOR UPDATE\n            USING (auth.uid() = id);\n\n          CREATE POLICY "Users can insert their own profile"\n            ON profiles FOR INSERT\n            WITH CHECK (auth.uid() = id);\n        '});if(e)throw e;const{error:t}=await Te.supabase.rpc("setup_health_metrics_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS health_metrics (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            metric_type VARCHAR(50),\n            value DECIMAL,\n            unit VARCHAR(20),\n            recorded_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW()),\n            notes TEXT\n          );\n\n          ALTER TABLE health_metrics ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own health metrics"\n            ON health_metrics FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own health metrics"\n            ON health_metrics FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(t)throw t;const{error:n}=await Te.supabase.rpc("setup_medical_analyses_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS medical_analyses (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            image_type VARCHAR(50),\n            image_url TEXT,\n            result TEXT,\n            confidence DECIMAL,\n            analyzed_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE medical_analyses ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own medical analyses"\n            ON medical_analyses FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own medical analyses"\n            ON medical_analyses FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(n)throw n;const{error:r}=await Te.supabase.rpc("setup_chat_history_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS chat_history (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            message TEXT,\n            response TEXT,\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE chat_history ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own chat history"\n            ON chat_history FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert into their own chat history"\n            ON chat_history FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(r)throw r;const{error:a}=await Te.supabase.rpc("setup_ai_recommendations_table",{sql_command:'\n          CREATE TABLE IF NOT EXISTS ai_recommendations (\n            id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,\n            user_id UUID REFERENCES profiles(id) ON DELETE CASCADE,\n            category VARCHAR(50),\n            recommendation TEXT,\n            created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE(\'utc\'::text, NOW())\n          );\n\n          ALTER TABLE ai_recommendations ENABLE ROW LEVEL SECURITY;\n\n          CREATE POLICY "Users can view their own recommendations"\n            ON ai_recommendations FOR SELECT\n            USING (auth.uid() = user_id);\n\n          CREATE POLICY "Users can insert their own recommendations"\n            ON ai_recommendations FOR INSERT\n            WITH CHECK (auth.uid() = user_id);\n        '});if(a)throw a;i("Database setup completed successfully!")}catch(e){console.error("Database setup error:",e),i(`Error setting up database: ${e.message}`)}},children:"Initialize Database"}),(0,Ae.jsx)("div",{className:"mt-3",children:(0,Ae.jsx)("p",{children:r})})]})]})};jh.register(gp,xp,Hh,$h,tp,fp,Xh);const mf=e=>{let{initialTimeRange:n="1M"}=e;const{user:r}=Re(),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)("bloodPressure"),[u,d]=(0,t.useState)(n),h=[{value:"bloodPressure",label:"Blood Pressure"},{value:"bloodSugar",label:"Blood Sugar"},{value:"cholesterol",label:"Cholesterol"},{value:"heartRate",label:"Heart Rate"},{value:"temperature",label:"Temperature"},{value:"weight",label:"Weight"},{value:"oxygenSaturation",label:"Oxygen Saturation"}];(0,t.useEffect)((()=>{p()}),[u,l]);const p=async()=>{try{o(!0);const e={"1W":"7 days","1M":"30 days","3M":"90 days","6M":"180 days","1Y":"365 days"},{data:t,error:n}=await Te.supabase.from("health_metrics").select("*").eq("user_id",r.id).gte("recorded_at",new Date(Date.now()-24*parseInt(e[u])*60*60*1e3).toISOString()).order("recorded_at",{ascending:!0});if(n)throw n;a(t||[])}catch(e){console.error("Error fetching metrics:",e)}finally{o(!1)}},f={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:`${h.find((e=>e.value===l)).label} Trend`}},scales:{y:{beginAtZero:!1}}};return(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,Ae.jsx)("select",{className:"form-select w-auto",value:l,onChange:e=>c(e.target.value),children:h.map((e=>(0,Ae.jsx)("option",{value:e.value,children:e.label},e.value)))}),(0,Ae.jsxs)("select",{className:"form-select w-auto",value:u,onChange:e=>d(e.target.value),children:[(0,Ae.jsx)("option",{value:"1W",children:"1 Week"}),(0,Ae.jsx)("option",{value:"1M",children:"1 Month"}),(0,Ae.jsx)("option",{value:"3M",children:"3 Months"}),(0,Ae.jsx)("option",{value:"6M",children:"6 Months"}),(0,Ae.jsx)("option",{value:"1Y",children:"1 Year"})]})]}),s?(0,Ae.jsx)("div",{className:"text-center",children:"Loading..."}):i.length>0?(0,Ae.jsx)(Gp,{data:(()=>{const e=i.map((e=>new Date(e.recorded_at).toLocaleDateString())),t=i.map((e=>{const t=e.metrics[l];if("bloodPressure"===l){const[e]=t.split("/");return parseInt(e)}return parseFloat(t)}));return{labels:e,datasets:[{label:h.find((e=>e.value===l)).label,data:t,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]}})(),options:f}):(0,Ae.jsx)("div",{className:"text-center",children:"No data available for the selected period"})]})})};var gf=Object.defineProperty,vf=(e,t,n)=>((e,t,n)=>t in e?gf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);const yf=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));let bf;const xf=new Uint8Array(16);function wf(){if(!bf&&(bf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bf(xf)}const _f=[];for(let n=0;n<256;++n)_f.push((n+256).toString(16).slice(1));const kf={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function jf(e,t,n){if(kf.randomUUID&&!t&&!e)return kf.randomUUID();const r=(e=e||{}).random||(e.rng||wf)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _f[e[t+0]]+_f[e[t+1]]+_f[e[t+2]]+_f[e[t+3]]+"-"+_f[e[t+4]]+_f[e[t+5]]+"-"+_f[e[t+6]]+_f[e[t+7]]+"-"+_f[e[t+8]]+_f[e[t+9]]+"-"+_f[e[t+10]]+_f[e[t+11]]+_f[e[t+12]]+_f[e[t+13]]+_f[e[t+14]]+_f[e[t+15]]}(r)}const Sf=e=>({block:e,type:"bubble"}),Nf=e=>{const t=e.title,n=e.subtitle,r=e.imageUrl,i=e.actions.map((e=>{switch(e.action){case"postback":case"say":return{type:"button",variant:"action",text:e.label,buttonValue:e.value,reusable:!0};case"url":return{type:"button",variant:"link",text:e.label,buttonValue:e.value,reusable:!0};default:throw new Error(`Unknown action type ${e.action}`)}})),a=[];return r&&a.push({type:"image",url:r}),t&&a.push({type:"text",text:`## ${t}`}),n&&a.push({type:"text",text:n}),i.length>0&&a.push({type:"row",blocks:i}),{type:"column",horizontalAlignment:"center",blocks:[...a]}},Ef=e=>({payload:{type:"audio",url:e.audioUrl}}),Cf=e=>({payload:{type:"file",url:e.fileUrl,title:e.title}}),Of=e=>({payload:{type:"image",url:e.imageUrl}}),Tf=e=>({payload:{type:"location",latitude:e.latitude,longitude:e.longitude,title:e.title??e.address??"View on map"}}),Af=e=>({payload:Sf({type:"text",text:e.markdown})}),Pf=e=>({payload:Sf({type:"text",text:e.text,value:e.value})}),Rf=e=>({payload:{type:"video",url:e.videoUrl}}),Mf=e=>{switch(e.type){case"audio":return Ef(e);case"card":return(e=>({payload:Sf(Nf(e))}))(e);case"carousel":return(e=>({payload:{type:"carousel",blocks:e.items.map((e=>Nf(e)))}}))(e);case"choice":return(e=>{const t=e.options.map((e=>({title:e.label,value:e.value}))),n=e.text,r=jf(),i=Sf({type:"text",text:n});return 0===t.length?{disableInput:e.disableFreeText,payload:i}:{disableInput:e.disableFreeText,payload:{type:"column",horizontalAlignment:"left",blocks:[i,{type:"row",blocks:t.map((e=>{let{title:t,value:n}=e;return{type:"button",variant:"action",text:t,buttonValue:n,groupId:r}}))}]}}})(e);case"dropdown":return(e=>{const t=e.options.map((e=>({label:e.label,value:e.value}))),n=e.text,r=[{type:"dropdown",label:n??"Select an option",options:t}];return n&&r.unshift({type:"text",text:n}),{disableInput:!0,payload:Sf({type:"column",blocks:r})}})(e);case"file":return Cf(e);case"image":return Of(e);case"location":return Tf(e);case"markdown":return Af(e);case"text":return Pf(e);case"video":return Rf(e);case"bloc":return(e=>({payload:{type:"column",blocks:e.items.map((e=>{switch(e.type){case"audio":return Ef({...e.payload,type:e.type}).payload;case"file":return Cf({...e.payload,type:e.type}).payload;case"image":return Of({...e.payload,type:e.type}).payload;case"location":return Tf({...e.payload,type:e.type}).payload;case"markdown":return Af({...e.payload,type:e.type}).payload;case"text":return Pf({...e.payload,type:e.type}).payload;case"video":return Rf({...e.payload,type:e.type}).payload;default:throw new Error("Unsuported message type")}}))}}))(e);default:throw new Error("Unsuported message type")}},If=Object.freeze(Object.defineProperty({__proto__:null,messageAdapter:Mf},Symbol.toStringTag,{value:"Module"}));Symbol.toStringTag;var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ff(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var zf,Bf={exports:{}},$f={};Bf.exports=function(){if(zf)return $f;zf=1;var e=t,n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var o,l={},c=null,u=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,o)&&!s.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:n,type:e,key:c,ref:u,props:l,_owner:a.current}}return $f.Fragment=r,$f.jsx=o,$f.jsxs=o,$f}();var Uf=Bf.exports;function Hf(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const a=()=>{const e=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=e.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return t.useMemo((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return a.scopeName=i.scopeName,a}function Vf(e){const n=t.useRef(e);return t.useEffect((()=>{n.current=e})),t.useMemo((()=>function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null==(e=n.current)?void 0:e.call(n,...r)}),[])}var qf=null!=globalThis&&globalThis.document?t.useLayoutEffect:()=>{};function Wf(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach((t=>function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)))}function Zf(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(Wf(...n),n)}var Kf=t.forwardRef(((e,n)=>{const{children:r,...i}=e,a=t.Children.toArray(r),s=a.find(Jf);if(s){const e=s.props.children,r=a.map((n=>n===s?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n));return Uf.jsx(Yf,{...i,ref:n,children:t.isValidElement(e)?t.cloneElement(e,void 0,r):null})}return Uf.jsx(Yf,{...i,ref:n,children:r})}));Kf.displayName="Slot";var Yf=t.forwardRef(((e,n)=>{const{children:r,...i}=e;if(t.isValidElement(r)){const e=function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(r);return t.cloneElement(r,{...Qf(i,r.props),ref:n?Wf(n,e):e})}return t.Children.count(r)>1?t.Children.only(null):null}));Yf.displayName="SlotClone";var Gf=e=>{let{children:t}=e;return Uf.jsx(Uf.Fragment,{children:t})};function Jf(e){return t.isValidElement(e)&&e.type===Gf}function Qf(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=function(){a(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...a}:"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}var Xf=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,n)=>{const r=t.forwardRef(((e,t)=>{const{asChild:r,...i}=e,a=r?Kf:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Uf.jsx(a,{...i,ref:t})}));return r.displayName=`Primitive.${n}`,{...e,[n]:r}}),{});var em="Avatar",[tm,nm]=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((e=>t.createContext(e)));return function(r){const i=(null==r?void 0:r[e])||n;return t.useMemo((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(n,i){const a=t.createContext(i),s=r.length;function o(n){const{scope:r,children:i,...o}=n,l=(null==r?void 0:r[e][s])||a,c=t.useMemo((()=>o),Object.values(o));return Uf.jsx(l.Provider,{value:c,children:i})}return r=[...r,i],o.displayName=n+"Provider",[o,function(r,o){const l=(null==o?void 0:o[e][s])||a,c=t.useContext(l);if(c)return c;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},Hf(i,...n)]}(em),[rm,im]=tm(em),am=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,...i}=e,[a,s]=t.useState("idle");return Uf.jsx(rm,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:s,children:Uf.jsx(Xf.span,{...i,ref:n})})}));am.displayName=em;var sm="AvatarImage",om=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,src:i,onLoadingStatusChange:a=()=>{},...s}=e,o=im(sm,r),l=function(e){const[n,r]=t.useState("idle");return qf((()=>{if(!e)return void r("error");let t=!0;const n=new window.Image,i=e=>()=>{t&&r(e)};return r("loading"),n.onload=i("loaded"),n.onerror=i("error"),n.src=e,()=>{t=!1}}),[e]),n}(i),c=Vf((e=>{a(e),o.onImageLoadingStatusChange(e)}));return qf((()=>{"idle"!==l&&c(l)}),[l,c]),"loaded"===l?Uf.jsx(Xf.img,{...s,ref:n,src:i}):null}));om.displayName=sm;var lm="AvatarFallback",cm=t.forwardRef(((e,n)=>{const{__scopeAvatar:r,delayMs:i,...a}=e,s=im(lm,r),[o,l]=t.useState(void 0===i);return t.useEffect((()=>{if(void 0!==i){const e=window.setTimeout((()=>l(!0)),i);return()=>window.clearTimeout(e)}}),[i]),o&&"loaded"!==s.imageLoadingStatus?Uf.jsx(Xf.span,{...a,ref:n}):null}));function um(e){if(!/^#?([a-fA-F\d]{6}|[a-fA-F\d]{3})$/.test(e))return{r:0,g:0,b:0};const t=e.replace(/^#/,"");let n=t;3===t.length&&(n=t.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return{r:r>>16&255,g:r>>8&255,b:255&r}}cm.displayName=lm;function dm(e){return Object.entries(e).reduce(((e,t)=>{let[n,r]=t;const i=n.replace(/(\d+)/,(e=>(1e3-parseInt(e)).toString()));return{...e,[i]:r}}),{})}const hm=.022;function pm(e){const{r:t,g:n,b:r}=e,i=e=>(e/255)**2.4;return.2126729*i(t)+.7151522*i(n)+.072175*i(r)}function fm(e,t){if(!e||!t)return 0;let n=pm(um(e)),r=pm(um(t)),i=0,a=0;return n=n>hm?n:n+(hm-n)**1.414,r=r>hm?r:r+(hm-r)**1.414,Math.abs(r-n)<5e-4?0:(r>n?(i=1.14*(r**.56-n**.57),a=i<.001?0:i<.035991?i-27.7847239587675*i*.027:i-.027):(i=1.14*(r**.65-n**.62),a=i>-.001?0:i>-.035991?i-27.7847239587675*i*.027:i+.027),Math.abs(100*a))}let mm=class{constructor(){vf(this,"eventMap"),this.eventMap={}}on(e,t){var n;return this.eventMap[e]||(this.eventMap[e]=new Set),null==(n=this.eventMap[e])||n.add(t),()=>{var n;null==(n=this.eventMap[e])||n.delete(t)}}emit(e,t){var n,r;null==(n=this.eventMap[e])||n.forEach((e=>{e(t)})),null==(r=this.eventMap["*"])||r.forEach((n=>{n({type:e,payload:t})}))}};const gm=new mm;function vm(e,t){let n=`${e} {`;for(const[r,i]of Object.entries(t))n+=`${r}: ${i}; `;return n+="}",n}function ym(e,t){let n=0;if(0==e.length)return n;for(let r=0;r<e.length;r++){n=(n<<5)-n+e.charCodeAt(r),n|=0}return Math.abs(n)%t}var bm,xm={exports:{}};(bm=xm).exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",a="minute",s="hour",o="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),a=n-i<0,s=t.clone().add(r+(a?-1:1),c);return+(-(r+(n-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:o,D:h,h:s,m:a,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=g;var w="$isDayjsObject",_=function(e){return e instanceof N||!(!e||!e[w])},k=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var a=t.toLowerCase();x[a]&&(i=a),n&&(x[a]=n,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;x[o]=t,i=o}return!r&&i&&(b=i),i||!r&&b},j=function(e,t){if(_(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new N(n)},S=y;S.l=k,S.i=_,S.w=function(e,t){return j(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var N=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,a=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,a)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return this.$d.toString()!==p},v.isSame=function(e,t){var n=j(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return j(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<j(e)},v.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!S.u(t)||t,u=S.p(e),p=function(e,t){var i=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(o)},f=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(r?v-x:v+(6-x),g);case o:case h:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case a:return f(y+"Seconds",2);case i:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=S.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[o]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[a]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===o?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(r,u){var h,p=this;r=Number(r);var f=S.p(u),m=function(e){var t=j(p);return S.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===o)return m(1);if(f===l)return m(7);var g=(h={},h[a]=t,h[s]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*g;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),a=this.$H,s=this.$m,o=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,a){return e&&(e[n]||e(t,r))||i[n].slice(0,a)},h=function(e){return S.s(a%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return o+1;case"MM":return S.s(o+1,2,"0");case"MMM":return d(n.monthsShort,o,c,3);case"MMMM":return d(c,o);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(a);case"HH":return S.s(a,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(a,s,!0);case"A":return f(a,s,!1);case"m":return String(s);case"mm":return S.s(s,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,p){var f,m=this,g=S.p(h),v=j(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,x=function(){return S.m(m,v)};switch(g){case d:f=x()/12;break;case c:f=x();break;case u:f=x()/3;break;case l:f=(b-y)/6048e5;break;case o:f=(b-y)/864e5;break;case s:f=b/n;break;case a:f=b/t;break;case i:f=b/e;break;default:f=b}return p?f:S.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=k(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),E=N.prototype;return j.prototype=E,[["$ms",r],["$s",i],["$m",a],["$H",s],["$W",o],["$M",c],["$y",d],["$D",h]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),j.extend=function(e,t){return e.$i||(e(t,N,j),e.$i=!0),j},j.locale=k,j.isDayjs=_,j.unix=function(e){return j(1e3*e)},j.en=x[b],j.Ls=x,j.p={},j}();const wm=Lf(xm.exports);var _m={exports:{}};!function(e){e.exports=function(e,t,n){t.prototype.isToday=function(){var e="YYYY-MM-DD",t=n();return this.format(e)===t.format(e)}}}(_m);const km=Lf(_m.exports);var jm={exports:{}};!function(e){e.exports=function(e,t,n){t.prototype.isYesterday=function(){var e="YYYY-MM-DD",t=n().subtract(1,"day");return this.format(e)===t.format(e)}}}(jm);const Sm=Lf(jm.exports);function Nm(e){return{id:jf(),direction:"system",sender:{name:"system"},timestamp:e,block:{type:"text",text:Em(e)}}}function Em(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=wm(e),r="h:mma";return n.isToday()?t?`Today \u2022 ${n.format(r)}`:"Today":n.isYesterday()?t?`Yesterday \u2022 ${n.format(r)}`:"Yesterday":t?n.format(`YYYY-MM-DD \u2022 ${r}`):n.format("YYYY-MM-DD")}function Cm(e){return"#"+e.map((e=>`0${e.toString(16).toUpperCase()}`.slice(-2))).join("")}wm.extend(km),wm.extend(Sm);const Om=e=>t=>function(e,t){return e.map((e=>Math.round(e+(255-e)*t)))}(t,e),Tm=e=>t=>function(e,t){return e.map((e=>Math.round(e*t)))}(t,e),Am={50:Om(.95),100:Om(.9),200:Om(.75),300:Om(.6),400:Om(.3),500:e=>e,600:Tm(.9),700:Tm(.6),800:Tm(.45),900:Tm(.3),950:Tm(.2)};function Pm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Am;const n={},r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof e)throw new TypeError("Color should be string!");const t=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(e);if(t)return t.splice(1).map((e=>Number.parseInt(e,16)));const n=/^#?([\da-f])([\da-f])([\da-f])$/i.exec(e);if(n)return n.splice(1).map((e=>Number.parseInt(e+e,16)));if(e.includes(","))return e.split(",").map((e=>Number.parseInt(e)));throw new Error("Invalid color format! Use #ABC or #AABBCC or r,g,b")}(e);for(const[i,a]of Object.entries(t))n[i]=Cm(a(r));return n}var Rm,Mm;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(Rm||(Rm={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(Mm||(Mm={}));const Im=Rm.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dm=e=>{switch(typeof e){case"undefined":return Im.undefined;case"string":return Im.string;case"number":return isNaN(e)?Im.nan:Im.number;case"boolean":return Im.boolean;case"function":return Im.function;case"bigint":return Im.bigint;case"symbol":return Im.symbol;case"object":return Array.isArray(e)?Im.array:null===e?Im.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Im.promise:typeof Map<"u"&&e instanceof Map?Im.map:typeof Set<"u"&&e instanceof Set?Im.set:typeof Date<"u"&&e instanceof Date?Im.date:Im.object;default:return Im.unknown}},Lm=Rm.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let Fm=class extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,Rm.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}};Fm.create=e=>new Fm(e);const zm=(e,t)=>{let n;switch(e.code){case Lm.invalid_type:n=e.received===Im.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Lm.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Rm.jsonStringifyReplacer)}`;break;case Lm.unrecognized_keys:n=`Unrecognized key(s) in object: ${Rm.joinValues(e.keys,", ")}`;break;case Lm.invalid_union:n="Invalid input";break;case Lm.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Rm.joinValues(e.options)}`;break;case Lm.invalid_enum_value:n=`Invalid enum value. Expected ${Rm.joinValues(e.options)}, received '${e.received}'`;break;case Lm.invalid_arguments:n="Invalid function arguments";break;case Lm.invalid_return_type:n="Invalid function return type";break;case Lm.invalid_date:n="Invalid date";break;case Lm.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Rm.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Lm.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Lm.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Lm.custom:n="Invalid input";break;case Lm.invalid_intersection_types:n="Intersection results could not be merged";break;case Lm.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Lm.not_finite:n="Number must be finite";break;default:n=t.defaultError,Rm.assertNever(e)}return{message:n}};let Bm=zm;function $m(){return Bm}const Um=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:i.message||o}};function Hm(e,t){const n=Um({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,$m(),zm].filter((e=>!!e))});e.common.issues.push(n)}let Vm=class e{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return qm;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(t,n){const r=[];for(const e of n)r.push({key:await e.key,value:await e.value});return e.mergeObjectSync(t,r)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return qm;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(typeof i.value<"u"||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}};const qm=Object.freeze({status:"aborted"}),Wm=e=>({status:"dirty",value:e}),Zm=e=>({status:"valid",value:e}),Km=e=>"aborted"===e.status,Ym=e=>"dirty"===e.status,Gm=e=>"valid"===e.status,Jm=e=>typeof Promise<"u"&&e instanceof Promise;var Qm;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(Qm||(Qm={}));let Xm=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const eg=(e,t)=>{if(Gm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Fm(e.common.issues);return this._error=t,this._error}}};function tg(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:typeof t.data>"u"?{message:r??t.defaultError}:{message:n??t.defaultError},description:i}}let ng=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Dm(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Dm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Vm,ctx:{common:e.parent.common,data:e.data,parsedType:Dm(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Jm(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dm(e)},i=this._parseSync({data:e,path:r.path,parent:r});return eg(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Dm(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Jm(r)?r:Promise.resolve(r));return eg(n,i)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:Lm.custom,...n(t)});return typeof Promise<"u"&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new qg({schema:this,typeName:rv.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Wg.create(this,this._def)}nullable(){return Zg.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ng.create(this,this._def)}promise(){return Vg.create(this,this._def)}or(e){return Og.create([this,e],this._def)}and(e){return Rg.create(this,e,this._def)}transform(e){return new qg({...tg(this._def),schema:this,typeName:rv.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Kg({...tg(this._def),innerType:this,defaultValue:t,typeName:rv.ZodDefault})}brand(){return new Qg({typeName:rv.ZodBranded,type:this,...tg(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Yg({...tg(this._def),innerType:this,catchValue:t,typeName:rv.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Xg.create(this,e)}readonly(){return ev.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const rg=/^c[^\s-]{8,}$/i,ig=/^[a-z][a-z0-9]*$/,ag=/^[0-9A-HJKMNP-TV-Z]{26}$/,sg=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,og=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let lg;const cg=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ug=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,dg=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function hg(e,t){return!(("v4"!==t&&t||!cg.test(e))&&("v6"!==t&&t||!ug.test(e)))}let pg=class e extends ng{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Im.string){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.string,received:t.parsedType}),qm}const t=new Vm;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,a=e.data.length<r.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?Hm(n,{code:Lm.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&Hm(n,{code:Lm.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)og.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"email",code:Lm.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)lg||(lg=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),lg.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"emoji",code:Lm.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)sg.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"uuid",code:Lm.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)rg.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"cuid",code:Lm.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)ig.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"cuid2",code:Lm.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)ag.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"ulid",code:Lm.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Hm(n,{validation:"url",code:Lm.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"regex",code:Lm.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?dg(r).test(e.data)||(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"ip"===r.kind?hg(e.data,r.version)||(n=this._getOrReturnCtx(e,n),Hm(n,{validation:"ip",code:Lm.invalid_string,message:r.message}),t.dirty()):Rm.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:Lm.invalid_string,...Qm.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(e){return this._addCheck({kind:"email",...Qm.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Qm.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Qm.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Qm.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Qm.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Qm.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Qm.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Qm.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...Qm.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Qm.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...Qm.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Qm.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Qm.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Qm.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Qm.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Qm.errToObj(t)})}nonempty(e){return this.min(1,Qm.errToObj(e))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};function fg(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}pg.create=e=>{var t;return new pg({checks:[],typeName:rv.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tg(e)})};let mg=class e extends ng{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Im.number){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.number,received:t.parsedType}),qm}let t;const n=new Vm;for(const r of this._def.checks)"int"===r.kind?Rm.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==fg(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.not_finite,message:r.message}),n.dirty()):Rm.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Qm.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Qm.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Qm.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Qm.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Qm.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(e){return this._addCheck({kind:"int",message:Qm.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qm.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qm.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qm.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qm.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Qm.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Qm.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qm.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qm.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&Rm.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}};mg.create=e=>new mg({checks:[],typeName:rv.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...tg(e)});let gg=class e extends ng{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Im.bigint){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.bigint,received:t.parsedType}),qm}let t;const n=new Vm;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Hm(t,{code:Lm.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):Rm.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Qm.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Qm.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Qm.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Qm.toString(t))}setLimit(t,n,r,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Qm.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qm.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qm.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qm.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qm.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Qm.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}};gg.create=e=>{var t;return new gg({checks:[],typeName:rv.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...tg(e)})};let vg=class extends ng{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Im.boolean){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.boolean,received:t.parsedType}),qm}return Zm(e.data)}};vg.create=e=>new vg({typeName:rv.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...tg(e)});let yg=class e extends ng{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Im.date){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.date,received:t.parsedType}),qm}if(isNaN(e.data.getTime())){return Hm(this._getOrReturnCtx(e),{code:Lm.invalid_date}),qm}const t=new Vm;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Hm(n,{code:Lm.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):Rm.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Qm.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Qm.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}};yg.create=e=>new yg({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:rv.ZodDate,...tg(e)});let bg=class extends ng{_parse(e){if(this._getType(e)!==Im.symbol){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.symbol,received:t.parsedType}),qm}return Zm(e.data)}};bg.create=e=>new bg({typeName:rv.ZodSymbol,...tg(e)});let xg=class extends ng{_parse(e){if(this._getType(e)!==Im.undefined){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.undefined,received:t.parsedType}),qm}return Zm(e.data)}};xg.create=e=>new xg({typeName:rv.ZodUndefined,...tg(e)});let wg=class extends ng{_parse(e){if(this._getType(e)!==Im.null){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.null,received:t.parsedType}),qm}return Zm(e.data)}};wg.create=e=>new wg({typeName:rv.ZodNull,...tg(e)});let _g=class extends ng{constructor(){super(...arguments),this._any=!0}_parse(e){return Zm(e.data)}};_g.create=e=>new _g({typeName:rv.ZodAny,...tg(e)});let kg=class extends ng{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zm(e.data)}};kg.create=e=>new kg({typeName:rv.ZodUnknown,...tg(e)});let jg=class extends ng{_parse(e){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.never,received:t.parsedType}),qm}};jg.create=e=>new jg({typeName:rv.ZodNever,...tg(e)});let Sg=class extends ng{_parse(e){if(this._getType(e)!==Im.undefined){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.void,received:t.parsedType}),qm}return Zm(e.data)}};Sg.create=e=>new Sg({typeName:rv.ZodVoid,...tg(e)});let Ng=class e extends ng{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==Im.array)return Hm(t,{code:Lm.invalid_type,expected:Im.array,received:t.parsedType}),qm;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(Hm(t,{code:e?Lm.too_big:Lm.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Hm(t,{code:Lm.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Hm(t,{code:Lm.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new Xm(t,e,t.path,n))))).then((e=>Vm.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new Xm(t,e,t.path,n))));return Vm.mergeArray(n,i)}get element(){return this._def.type}min(t,n){return new e({...this._def,minLength:{value:t,message:Qm.toString(n)}})}max(t,n){return new e({...this._def,maxLength:{value:t,message:Qm.toString(n)}})}length(t,n){return new e({...this._def,exactLength:{value:t,message:Qm.toString(n)}})}nonempty(e){return this.min(1,e)}};function Eg(e){if(e instanceof Cg){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Wg.create(Eg(r))}return new Cg({...e._def,shape:()=>t})}return e instanceof Ng?new Ng({...e._def,type:Eg(e.element)}):e instanceof Wg?Wg.create(Eg(e.unwrap())):e instanceof Zg?Zg.create(Eg(e.unwrap())):e instanceof Mg?Mg.create(e.items.map((e=>Eg(e)))):e}Ng.create=(e,t)=>new Ng({type:e,minLength:null,maxLength:null,exactLength:null,typeName:rv.ZodArray,...tg(t)});let Cg=class e extends ng{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=Rm.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==Im.object){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.object,received:t.parsedType}),qm}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof jg&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||a.push(o);const s=[];for(const o of i){const e=r[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new Xm(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof jg){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(Hm(n,{code:Lm.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Xm(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key;e.push({key:n,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>Vm.mergeObjectSync(t,e))):Vm.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(t){return Qm.errToObj,new e({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,n)=>{var r,i,a,s;const o=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,e,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===e.code?{message:null!==(s=Qm.errToObj(t).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:rv.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(t){return new e({...this._def,catchall:t})}pick(t){const n={};return Rm.objectKeys(t).forEach((e=>{t[e]&&this.shape[e]&&(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}omit(t){const n={};return Rm.objectKeys(this.shape).forEach((e=>{t[e]||(n[e]=this.shape[e])})),new e({...this._def,shape:()=>n})}deepPartial(){return Eg(this)}partial(t){const n={};return Rm.objectKeys(this.shape).forEach((e=>{const r=this.shape[e];t&&!t[e]?n[e]=r:n[e]=r.optional()})),new e({...this._def,shape:()=>n})}required(t){const n={};return Rm.objectKeys(this.shape).forEach((e=>{if(t&&!t[e])n[e]=this.shape[e];else{let t=this.shape[e];for(;t instanceof Wg;)t=t._def.innerType;n[e]=t}})),new e({...this._def,shape:()=>n})}keyof(){return $g(Rm.objectKeys(this.shape))}};Cg.create=(e,t)=>new Cg({shape:()=>e,unknownKeys:"strip",catchall:jg.create(),typeName:rv.ZodObject,...tg(t)}),Cg.strictCreate=(e,t)=>new Cg({shape:()=>e,unknownKeys:"strict",catchall:jg.create(),typeName:rv.ZodObject,...tg(t)}),Cg.lazycreate=(e,t)=>new Cg({shape:e,unknownKeys:"strip",catchall:jg.create(),typeName:rv.ZodObject,...tg(t)});let Og=class extends ng{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new Fm(e.ctx.common.issues)));return Hm(t,{code:Lm.invalid_union,unionErrors:n}),qm}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new Fm(e)));return Hm(t,{code:Lm.invalid_union,unionErrors:i}),qm}}get options(){return this._def.options}};Og.create=(e,t)=>new Og({options:e,typeName:rv.ZodUnion,...tg(t)});const Tg=e=>e instanceof zg?Tg(e.schema):e instanceof qg?Tg(e.innerType()):e instanceof Bg?[e.value]:e instanceof Ug?e.options:e instanceof Hg?Object.keys(e.enum):e instanceof Kg?Tg(e._def.innerType):e instanceof xg?[void 0]:e instanceof wg?[null]:null;let Ag=class e extends ng{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Im.object)return Hm(t,{code:Lm.invalid_type,expected:Im.object,received:t.parsedType}),qm;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(Hm(t,{code:Lm.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),qm)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const e of n){const n=Tg(e.shape[t]);if(!n)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const r of n){if(i.has(r))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(r)}`);i.set(r,e)}}return new e({typeName:rv.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...tg(r)})}};function Pg(e,t){const n=Dm(e),r=Dm(t);if(e===t)return{valid:!0,data:e};if(n===Im.object&&r===Im.object){const n=Rm.objectKeys(t),r=Rm.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const a of r){const n=Pg(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===Im.array&&r===Im.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=Pg(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===Im.date&&r===Im.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let Rg=class extends ng{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Km(e)||Km(r))return qm;const i=Pg(e.value,r.value);return i.valid?((Ym(e)||Ym(r))&&t.dirty(),{status:t.value,value:i.data}):(Hm(n,{code:Lm.invalid_intersection_types}),qm)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Rg.create=(e,t,n)=>new Rg({left:e,right:t,typeName:rv.ZodIntersection,...tg(n)});let Mg=class e extends ng{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Im.array)return Hm(n,{code:Lm.invalid_type,expected:Im.array,received:n.parsedType}),qm;if(n.data.length<this._def.items.length)return Hm(n,{code:Lm.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qm;!this._def.rest&&n.data.length>this._def.items.length&&(Hm(n,{code:Lm.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new Xm(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Vm.mergeArray(t,e))):Vm.mergeArray(t,r)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Mg.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Mg({items:e,typeName:rv.ZodTuple,rest:null,...tg(t)})};let Ig=class e extends ng{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Im.object)return Hm(n,{code:Lm.invalid_type,expected:Im.object,received:n.parsedType}),qm;const r=[],i=this._def.keyType,a=this._def.valueType;for(const s in n.data)r.push({key:i._parse(new Xm(n,s,n.path,s)),value:a._parse(new Xm(n,n.data[s],n.path,s))});return n.common.async?Vm.mergeObjectAsync(t,r):Vm.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(t,n,r){return new e(n instanceof ng?{keyType:t,valueType:n,typeName:rv.ZodRecord,...tg(r)}:{keyType:pg.create(),valueType:t,typeName:rv.ZodRecord,...tg(n)})}},Dg=class extends ng{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Im.map)return Hm(n,{code:Lm.invalid_type,expected:Im.map,received:n.parsedType}),qm;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(((e,t)=>{let[a,s]=e;return{key:r._parse(new Xm(n,a,n.path,[t,"key"])),value:i._parse(new Xm(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return qm;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return qm;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}};Dg.create=(e,t,n)=>new Dg({valueType:t,keyType:e,typeName:rv.ZodMap,...tg(n)});let Lg=class e extends ng{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Im.set)return Hm(n,{code:Lm.invalid_type,expected:Im.set,received:n.parsedType}),qm;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Hm(n,{code:Lm.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Hm(n,{code:Lm.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return qm;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new Xm(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>a(e))):a(s)}min(t,n){return new e({...this._def,minSize:{value:t,message:Qm.toString(n)}})}max(t,n){return new e({...this._def,maxSize:{value:t,message:Qm.toString(n)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}};Lg.create=(e,t)=>new Lg({valueType:e,minSize:null,maxSize:null,typeName:rv.ZodSet,...tg(t)});let Fg=class e extends ng{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Im.function)return Hm(t,{code:Lm.invalid_type,expected:Im.function,received:t.parsedType}),qm;function n(e,n){return Um({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$m(),zm].filter((e=>!!e)),issueData:{code:Lm.invalid_arguments,argumentsError:n}})}function r(e,n){return Um({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,$m(),zm].filter((e=>!!e)),issueData:{code:Lm.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof Vg){const e=this;return Zm((async function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=new Fm([]),c=await e._def.args.parseAsync(s,i).catch((e=>{throw l.addIssue(n(s,e)),l})),u=await Reflect.apply(a,this,c);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw l.addIssue(r(u,e)),l}))}))}{const e=this;return Zm((function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e._def.args.safeParse(s,i);if(!l.success)throw new Fm([n(s,l.error)]);const c=Reflect.apply(a,this,l.data),u=e._def.returns.safeParse(c,i);if(!u.success)throw new Fm([r(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e({...this._def,args:Mg.create(n).rest(kg.create())})}returns(t){return new e({...this._def,returns:t})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(t,n,r){return new e({args:t||Mg.create([]).rest(kg.create()),returns:n||kg.create(),typeName:rv.ZodFunction,...tg(r)})}},zg=class extends ng{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};zg.create=(e,t)=>new zg({getter:e,typeName:rv.ZodLazy,...tg(t)});let Bg=class extends ng{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Hm(t,{received:t.data,code:Lm.invalid_literal,expected:this._def.value}),qm}return{status:"valid",value:e.data}}get value(){return this._def.value}};function $g(e,t){return new Ug({values:e,typeName:rv.ZodEnum,...tg(t)})}Bg.create=(e,t)=>new Bg({value:e,typeName:rv.ZodLiteral,...tg(t)});let Ug=class e extends ng{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Hm(t,{expected:Rm.joinValues(n),received:t.parsedType,code:Lm.invalid_type}),qm}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Hm(t,{received:t.data,code:Lm.invalid_enum_value,options:n}),qm}return Zm(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(t){return e.create(t)}exclude(t){return e.create(this.options.filter((e=>!t.includes(e))))}};Ug.create=$g;let Hg=class extends ng{_parse(e){const t=Rm.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Im.string&&n.parsedType!==Im.number){const e=Rm.objectValues(t);return Hm(n,{expected:Rm.joinValues(e),received:n.parsedType,code:Lm.invalid_type}),qm}if(-1===t.indexOf(e.data)){const e=Rm.objectValues(t);return Hm(n,{received:n.data,code:Lm.invalid_enum_value,options:e}),qm}return Zm(e.data)}get enum(){return this._def.values}};Hg.create=(e,t)=>new Hg({values:e,typeName:rv.ZodNativeEnum,...tg(t)});let Vg=class extends ng{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Im.promise&&!1===t.common.async)return Hm(t,{code:Lm.invalid_type,expected:Im.promise,received:t.parsedType}),qm;const n=t.parsedType===Im.promise?t.data:Promise.resolve(t.data);return Zm(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}};Vg.create=(e,t)=>new Vg({type:e,typeName:rv.ZodPromise,...tg(t)});let qg=class extends ng{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rv.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{Hm(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:n.path,parent:n}))):this._def.schema._parseSync({data:e,path:n.path,parent:n})}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?qm:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?qm:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gm(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Gm(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}Rm.assertNever(r)}};qg.create=(e,t,n)=>new qg({schema:e,typeName:rv.ZodEffects,effect:t,...tg(n)}),qg.createWithPreprocess=(e,t,n)=>new qg({schema:t,effect:{type:"preprocess",transform:e},typeName:rv.ZodEffects,...tg(n)});let Wg=class extends ng{_parse(e){return this._getType(e)===Im.undefined?Zm(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Wg.create=(e,t)=>new Wg({innerType:e,typeName:rv.ZodOptional,...tg(t)});let Zg=class extends ng{_parse(e){return this._getType(e)===Im.null?Zm(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Zg.create=(e,t)=>new Zg({innerType:e,typeName:rv.ZodNullable,...tg(t)});let Kg=class extends ng{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Im.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Kg.create=(e,t)=>new Kg({innerType:e,typeName:rv.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...tg(t)});let Yg=class extends ng{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jm(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Fm(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new Fm(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Yg.create=(e,t)=>new Yg({innerType:e,typeName:rv.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...tg(t)});let Gg=class extends ng{_parse(e){if(this._getType(e)!==Im.nan){const t=this._getOrReturnCtx(e);return Hm(t,{code:Lm.invalid_type,expected:Im.nan,received:t.parsedType}),qm}return{status:"valid",value:e.data}}};Gg.create=e=>new Gg({typeName:rv.ZodNaN,...tg(e)});const Jg=Symbol("zod_brand");let Qg=class extends ng{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},Xg=class e extends ng{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?qm:"dirty"===e.status?(t.dirty(),Wm(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?qm:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(t,n){return new e({in:t,out:n,typeName:rv.ZodPipeline})}},ev=class extends ng{_parse(e){const t=this._def.innerType._parse(e);return Gm(t)&&(t.value=Object.freeze(t.value)),t}};ev.create=(e,t)=>new ev({innerType:e,typeName:rv.ZodReadonly,...tg(t)});const tv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?_g.create().superRefine(((r,i)=>{var a,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:o})}})):_g.create()},nv={object:Cg.lazycreate};var rv;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(rv||(rv={}));const iv=pg.create,av=mg.create,sv=Gg.create,ov=gg.create,lv=vg.create,cv=yg.create,uv=bg.create,dv=xg.create,hv=wg.create,pv=_g.create,fv=kg.create,mv=jg.create,gv=Sg.create,vv=Ng.create,yv=Cg.create,bv=Cg.strictCreate,xv=Og.create,wv=Ag.create,_v=Rg.create,kv=Mg.create,jv=Ig.create,Sv=Dg.create,Nv=Lg.create,Ev=Fg.create,Cv=zg.create,Ov=Bg.create,Tv=Ug.create,Av=Hg.create,Pv=Vg.create,Rv=qg.create,Mv=Wg.create,Iv=Zg.create,Dv=qg.createWithPreprocess,Lv=Xg.create,Fv={string:e=>pg.create({...e,coerce:!0}),number:e=>mg.create({...e,coerce:!0}),boolean:e=>vg.create({...e,coerce:!0}),bigint:e=>gg.create({...e,coerce:!0}),date:e=>yg.create({...e,coerce:!0})},zv=qm;var Bv=Object.freeze({__proto__:null,defaultErrorMap:zm,setErrorMap:function(e){Bm=e},getErrorMap:$m,makeIssue:Um,EMPTY_PATH:[],addIssueToContext:Hm,ParseStatus:Vm,INVALID:qm,DIRTY:Wm,OK:Zm,isAborted:Km,isDirty:Ym,isValid:Gm,isAsync:Jm,get util(){return Rm},get objectUtil(){return Mm},ZodParsedType:Im,getParsedType:Dm,ZodType:ng,ZodString:pg,ZodNumber:mg,ZodBigInt:gg,ZodBoolean:vg,ZodDate:yg,ZodSymbol:bg,ZodUndefined:xg,ZodNull:wg,ZodAny:_g,ZodUnknown:kg,ZodNever:jg,ZodVoid:Sg,ZodArray:Ng,ZodObject:Cg,ZodUnion:Og,ZodDiscriminatedUnion:Ag,ZodIntersection:Rg,ZodTuple:Mg,ZodRecord:Ig,ZodMap:Dg,ZodSet:Lg,ZodFunction:Fg,ZodLazy:zg,ZodLiteral:Bg,ZodEnum:Ug,ZodNativeEnum:Hg,ZodPromise:Vg,ZodEffects:qg,ZodTransformer:qg,ZodOptional:Wg,ZodNullable:Zg,ZodDefault:Kg,ZodCatch:Yg,ZodNaN:Gg,BRAND:Jg,ZodBranded:Qg,ZodPipeline:Xg,ZodReadonly:ev,custom:tv,Schema:ng,ZodSchema:ng,late:nv,get ZodFirstPartyTypeKind(){return rv},coerce:Fv,any:pv,array:vv,bigint:ov,boolean:lv,date:cv,discriminatedUnion:wv,effect:Rv,enum:Tv,function:Ev,instanceof:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`};return tv((t=>t instanceof e),t)},intersection:_v,lazy:Cv,literal:Ov,map:Sv,nan:sv,nativeEnum:Av,never:mv,null:hv,nullable:Iv,number:av,object:yv,oboolean:()=>lv().optional(),onumber:()=>av().optional(),optional:Mv,ostring:()=>iv().optional(),pipeline:Lv,preprocess:Dv,promise:Pv,record:jv,set:Nv,strictObject:bv,string:iv,symbol:uv,transformer:Rv,tuple:kv,undefined:dv,union:xv,unknown:fv,void:gv,NEVER:zv,ZodIssueCode:Lm,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:Fm});const $v=Bv.object({title:Bv.string().optional(),link:Bv.string().optional()}),Uv=Bv.object({color:Bv.string().optional(),variant:Bv.enum(["soft","solid"]).optional(),themeMode:Bv.enum(["light","dark"]).optional(),fontFamily:Bv.enum(["rubik","inter","ibm","fira"]).optional(),radius:Bv.number().min(.5).max(4).optional()}),Hv=Bv.object({composerPlaceholder:Bv.string().optional(),botName:Bv.string().optional(),botAvatar:Bv.string().optional(),botDescription:Bv.string().optional(),website:$v.optional(),email:$v.optional(),phone:$v.optional(),privacyPolicy:$v.optional(),termsOfService:$v.optional(),showPoweredBy:Bv.boolean().optional()}).merge(Uv),Vv=Bv.enum(["heading1","heading2","heading3","text","horizontalRule","link","italic","bold","orderedList","unorderedList","listItem","lineBreak","pre"]),qv=Bv.object({}).passthrough().transform((e=>e)),Wv=Bv.object({className:Bv.string().optional(),style:qv.optional()}),Zv=Bv.object({container:Wv.optional(),image:Wv.optional(),fallback:Wv.optional()}),Kv=Bv.object({button:Wv.optional(),text:Bv.record(Vv,Wv.optional()),image:Bv.object({image:Wv.optional(),placeholder:Wv.optional()}).optional(),audio:Wv.optional(),video:Wv.optional(),file:Bv.object({container:Wv.optional(),title:Wv.optional(),icon:Wv.optional()}).optional(),location:Bv.object({container:Wv.optional(),title:Wv.optional(),icon:Wv.optional()}).optional(),column:Wv.optional(),row:Wv.optional(),bubble:Wv.optional(),carousel:Bv.object({container:Wv.optional(),slidesContainer:Wv.optional(),backButton:Wv.optional(),nextButton:Wv.optional()}).optional(),dropdown:Bv.object({button:Bv.object({container:Wv.optional(),icon:Wv.optional(),text:Wv.optional()}).optional(),content:Bv.object({container:Wv.optional(),item:Wv.optional()}).optional()}).optional()}),Yv=Bv.object({container:Wv.optional(),modal:Bv.object({overlay:Wv.optional(),container:Wv.optional(),dialog:Bv.object({container:Wv.optional(),title:Bv.object({container:Wv.optional(),text:Wv.optional(),closeIcon:Wv.optional()}).optional(),content:Wv.optional(),newConversation:Bv.object({text:Wv.optional(),button:Wv.optional()}).optional()}).optional()}).optional(),notification:Bv.object({container:Wv.optional(),title:Wv.optional(),description:Wv.optional(),icon:Wv.optional(),closeIcon:Wv.optional()}).optional(),header:Bv.object({container:Wv.optional(),content:Bv.object({container:Wv.optional(),title:Wv.optional(),description:Wv.optional(),avatar:Zv.optional(),actions:Bv.object({container:Wv.optional(),icons:Wv.optional()}).optional()}),expandedContent:Bv.object({container:Wv.optional(),group:Wv.optional(),descriptionItems:Bv.object({container:Wv.optional(),icon:Wv.optional(),text:Wv.optional(),link:Wv.optional(),poweredBy:Wv.optional()}).optional()}).optional(),description:Bv.object({container:Wv.optional(),title:Wv.optional(),subtitle:Wv.optional()}).optional(),newConversationIcon:Wv.optional()}).optional(),composer:Bv.object({container:Wv.optional(),input:Wv.optional(),uploadButton:Bv.object({container:Wv.optional(),icon:Wv.optional()}).optional(),button:Bv.object({container:Wv.optional(),icon:Wv.optional()}).optional()}).optional(),fab:Bv.object({icon:Wv.optional(),container:Wv.optional()}).optional(),messageList:Bv.object({scrollbar:Bv.object({container:Wv.optional(),viewport:Wv.optional(),thumb:Wv.optional(),corner:Wv.optional(),background:Wv.optional()}).optional(),container:Wv.optional(),marquee:Bv.object({content:Wv.optional(),title:Wv.optional(),description:Wv.optional(),avatar:Zv.optional(),container:Wv.optional()}).optional(),scrollDownButton:Bv.object({container:Wv.optional(),button:Wv.optional(),icon:Wv.optional()}).optional()}).optional(),message:Bv.object({container:Wv.optional(),avatar:Zv.optional(),blocks:Kv.optional()}).optional(),loadingIndicator:Bv.object({container:Wv.optional(),loader:Wv.optional()}).optional()}),Gv=Bv.enum(["opened","closed","initial"]),Jv=Bv.object({name:Bv.string().optional(),pictureUrl:Bv.string().optional(),data:Bv.record(Bv.unknown()).optional()});Bv.object({configuration:Hv.optional().catch(void 0),theme:Yv.optional().catch(void 0),style:Bv.string().optional().catch(void 0),user:Jv.optional().catch(void 0)}).extend({clientId:Bv.string(),botId:Bv.string(),selector:Bv.string().optional().catch(void 0),webchatScriptUrl:Bv.string().optional().catch(void 0),fabScriptUrl:Bv.string().optional().catch(void 0),pushpinUrl:Bv.string().optional().catch(void 0),defaultState:Gv.optional().catch(void 0)});function Qv(e){const{fontFamily:t,radius:n,themeMode:r,variant:i,color:a}=Uv.parse(e);let s={},o={};if(a){const e=Pm(a),t="dark"===r?dm(e):e,n=Pm(function(e){return`#${((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)}`}(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;const n=Math.min(e.r,e.g,e.b),r=Math.max(e.r,e.g,e.b,n+1);return{r:Math.floor((e.r-n)/(r-n)*t*(1-.299)+120-t/2),g:Math.floor((e.g-n)/(r-n)*t*(1-.587)+120-t/2),b:Math.floor((e.b-n)/(r-n)*t*.886+120-t/2)}}(um(a)))),i="dark"===r?dm(n):n,l="dark"===r?"#101010":"#fdfdfd";o=Object.entries({...t,1:l}).reduce(((e,t)=>{let[n,r]=t;return{...e,[`--bpPrimary-${n}`]:r}}),{});const c=Object.entries({...i,1:l}).reduce(((e,t)=>{let[n,r]=t;return{...e,[`--bpGray-${n}`]:r}}),{});s={...o,...c}}n&&(s={...s,"--bpRadius-scale":n.toString()});const l=o?fm(o["--bpPrimary-600"],o["--bpPrimary-50"])>40?"var(--bpPrimary-50)":"var(--bpPrimary-900)":"var(--bpPrimary-50)",c="solid"===i?{"--header-bg":"var(--bpPrimary-600)","--header-bg-hover":"var(--bpPrimary-700)","--header-hover-dark":"var(--bpPrimary-800)","--header-title":l,"--header-description":l,"--header-description-icon":l,"--header-description-link":l,"--header-avatar-bg":"var(--bpPrimary-300)","--header-avatar-text":"var(--bpPrimary-700)","--message-bg":"var(--bpPrimary-600)","--message-bg-hover":"var(--bpPrimary-700)","--message-text":l,"--send-button-bg":"var(--bpPrimary-600)","--send-button-bg-hover":"var(--bpPrimary-700)","--send-button-text":"var(--bpPrimary-50)","--button-bg":"var(--bpPrimary-50)","--button-bg-hover":"var(--bpPrimary-100)","--button-text":"var(--bpPrimary-800)","--fab-bg":"var(--bpPrimary-600)","--fab-bg-hover":"var(--bpPrimary-700)","--fab-icon":l}:{"--header-bg":"var(--bpGray-50)","--header-bg-hover":"var(--bpGray-100)","--header-hover-dark":"var(--bpGray-200)","--header-title":"var(--bpGray-900)","--header-description":"var(--bpGray-800)","--header-description-icon":"var(--bpPrimary-700)","--header-description-link":"var(--bpPrimary-800)","--header-avatar-bg":"var(--bpPrimary-600)","--header-avatar-text":"var(--bpPrimary-50)","--message-bg":"var(--bpPrimary-100)","--message-bg-hover":"var(--bpPrimary-200)","--message-text":"var(--bpPrimary-900)","--send-button-bg":"var(--bpPrimary-600)","--send-button-bg-hover":"var(--bpPrimary-700)","--send-button-text":"var(--bpPrimary-50)","--button-bg":"var(--bpPrimary-500)","--button-bg-hover":"var(--bpPrimary-600)","--button-text":o?fm(o["--bpPrimary-500"],o["--bpPrimary-50"])>40?"var(--bpPrimary-50)":"var(--bpPrimary-900)":"var(--bpPrimary-50)","--fab-bg":"var(--bpPrimary-100)","--fab-bg-hover":"var(--bpPrimary-200)","--fab-icon":"var(--bpPrimary-700)"};return s={...s,...c},vm(":root",s)+(t?vm(".bpContainer",{"font-family":`var(--${t}-font)`}):"")}const Xv=(0,t.forwardRef)(((e,t)=>{let{userId:n,src:r,container:i,image:a,fallback:s,...o}=e;const l=ym(n??"",15);return Uf.jsxs(am,{ref:t,"data-color":l,...i,...o,children:[Uf.jsx(om,{src:r,...a}),Uf.jsx(cm,{...s,children:"string"==typeof o.children?o.children[0]:o.children})]})}));const ey=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ty=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,ny={};function ry(e,t){return(ny.jsx?ty:ey).test(e)}const iy=/[ \t\n\f\r]/g;function ay(e){return""===e.replace(iy,"")}class sy{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function oy(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new sy(n,r,t)}function ly(e){return e.toLowerCase()}sy.prototype.property={},sy.prototype.normal={},sy.prototype.space=null;class cy{constructor(e,t){this.property=e,this.attribute=t}}cy.prototype.space=null,cy.prototype.boolean=!1,cy.prototype.booleanish=!1,cy.prototype.overloadedBoolean=!1,cy.prototype.number=!1,cy.prototype.commaSeparated=!1,cy.prototype.spaceSeparated=!1,cy.prototype.commaOrSpaceSeparated=!1,cy.prototype.mustUseProperty=!1,cy.prototype.defined=!1;let uy=0;const dy=yy(),hy=yy(),py=yy(),fy=yy(),my=yy(),gy=yy(),vy=yy();function yy(){return 2**++uy}const by=Object.freeze(Object.defineProperty({__proto__:null,boolean:dy,booleanish:hy,commaOrSpaceSeparated:vy,commaSeparated:gy,number:fy,overloadedBoolean:py,spaceSeparated:my},Symbol.toStringTag,{value:"Module"})),xy=Object.keys(by);class wy extends cy{constructor(e,t,n,r){let i=-1;if(super(e,t),_y(this,"space",r),"number"==typeof n)for(;++i<xy.length;){const e=xy[i];_y(this,xy[i],(n&by[e])===by[e])}}}function _y(e,t,n){n&&(e[t]=n)}wy.prototype.defined=!0;const ky={}.hasOwnProperty;function jy(e){const t={},n={};let r;for(r in e.properties)if(ky.call(e.properties,r)){const i=e.properties[r],a=new wy(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[ly(r)]=r,n[ly(a.attribute)]=r}return new sy(t,n,e.space)}const Sy=jy({space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),Ny=jy({space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Ey(e,t){return t in e?e[t]:t}function Cy(e,t){return Ey(e,t.toLowerCase())}const Oy=jy({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:Cy,properties:{xmlns:null,xmlnsXLink:null}}),Ty=jy({transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:hy,ariaAutoComplete:null,ariaBusy:hy,ariaChecked:hy,ariaColCount:fy,ariaColIndex:fy,ariaColSpan:fy,ariaControls:my,ariaCurrent:null,ariaDescribedBy:my,ariaDetails:null,ariaDisabled:hy,ariaDropEffect:my,ariaErrorMessage:null,ariaExpanded:hy,ariaFlowTo:my,ariaGrabbed:hy,ariaHasPopup:null,ariaHidden:hy,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:my,ariaLevel:fy,ariaLive:null,ariaModal:hy,ariaMultiLine:hy,ariaMultiSelectable:hy,ariaOrientation:null,ariaOwns:my,ariaPlaceholder:null,ariaPosInSet:fy,ariaPressed:hy,ariaReadOnly:hy,ariaRelevant:null,ariaRequired:hy,ariaRoleDescription:my,ariaRowCount:fy,ariaRowIndex:fy,ariaRowSpan:fy,ariaSelected:hy,ariaSetSize:fy,ariaSort:null,ariaValueMax:fy,ariaValueMin:fy,ariaValueNow:fy,ariaValueText:null,role:null}}),Ay=jy({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:Cy,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:gy,acceptCharset:my,accessKey:my,action:null,allow:null,allowFullScreen:dy,allowPaymentRequest:dy,allowUserMedia:dy,alt:null,as:null,async:dy,autoCapitalize:null,autoComplete:my,autoFocus:dy,autoPlay:dy,blocking:my,capture:null,charSet:null,checked:dy,cite:null,className:my,cols:fy,colSpan:null,content:null,contentEditable:hy,controls:dy,controlsList:my,coords:fy|gy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:dy,defer:dy,dir:null,dirName:null,disabled:dy,download:py,draggable:hy,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:dy,formTarget:null,headers:my,height:fy,hidden:dy,high:fy,href:null,hrefLang:null,htmlFor:my,httpEquiv:my,id:null,imageSizes:null,imageSrcSet:null,inert:dy,inputMode:null,integrity:null,is:null,isMap:dy,itemId:null,itemProp:my,itemRef:my,itemScope:dy,itemType:my,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:dy,low:fy,manifest:null,max:null,maxLength:fy,media:null,method:null,min:null,minLength:fy,multiple:dy,muted:dy,name:null,nonce:null,noModule:dy,noValidate:dy,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:dy,optimum:fy,pattern:null,ping:my,placeholder:null,playsInline:dy,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:dy,referrerPolicy:null,rel:my,required:dy,reversed:dy,rows:fy,rowSpan:fy,sandbox:my,scope:null,scoped:dy,seamless:dy,selected:dy,shadowRootClonable:dy,shadowRootDelegatesFocus:dy,shadowRootMode:null,shape:null,size:fy,sizes:null,slot:null,span:fy,spellCheck:hy,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fy,step:null,style:null,tabIndex:fy,target:null,title:null,translate:null,type:null,typeMustMatch:dy,useMap:null,value:hy,width:fy,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:my,axis:null,background:null,bgColor:null,border:fy,borderColor:null,bottomMargin:fy,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:dy,declare:dy,event:null,face:null,frame:null,frameBorder:null,hSpace:fy,leftMargin:fy,link:null,longDesc:null,lowSrc:null,marginHeight:fy,marginWidth:fy,noResize:dy,noHref:dy,noShade:dy,noWrap:dy,object:null,profile:null,prompt:null,rev:null,rightMargin:fy,rules:null,scheme:null,scrolling:hy,standby:null,summary:null,text:null,topMargin:fy,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fy,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:dy,disableRemotePlayback:dy,prefix:null,property:null,results:fy,security:null,unselectable:null}}),Py=jy({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Ey,properties:{about:vy,accentHeight:fy,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fy,amplitude:fy,arabicForm:null,ascent:fy,attributeName:null,attributeType:null,azimuth:fy,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fy,by:null,calcMode:null,capHeight:fy,className:my,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fy,diffuseConstant:fy,direction:null,display:null,dur:null,divisor:fy,dominantBaseline:null,download:dy,dx:null,dy:null,edgeMode:null,editable:null,elevation:fy,enableBackground:null,end:null,event:null,exponent:fy,externalResourcesRequired:null,fill:null,fillOpacity:fy,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:gy,g2:gy,glyphName:gy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fy,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fy,horizOriginX:fy,horizOriginY:fy,id:null,ideographic:fy,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fy,k:fy,k1:fy,k2:fy,k3:fy,k4:fy,kernelMatrix:vy,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fy,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fy,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fy,overlineThickness:fy,paintOrder:null,panose1:null,path:null,pathLength:fy,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:my,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fy,pointsAtY:fy,pointsAtZ:fy,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:vy,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:vy,rev:vy,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:vy,requiredFeatures:vy,requiredFonts:vy,requiredFormats:vy,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fy,specularExponent:fy,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fy,strikethroughThickness:fy,string:null,stroke:null,strokeDashArray:vy,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fy,strokeOpacity:fy,strokeWidth:null,style:null,surfaceScale:fy,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:vy,tabIndex:fy,tableValues:null,target:null,targetX:fy,targetY:fy,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:vy,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fy,underlineThickness:fy,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fy,values:null,vAlphabetic:fy,vMathematical:fy,vectorEffect:null,vHanging:fy,vIdeographic:fy,version:null,vertAdvY:fy,vertOriginX:fy,vertOriginY:fy,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fy,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ry=/^data[-\w.:]+$/i,My=/-[a-z]/g,Iy=/[A-Z]/g;function Dy(e){return"-"+e.toLowerCase()}function Ly(e){return e.charAt(1).toUpperCase()}const Fy={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},zy=oy([Ny,Sy,Oy,Ty,Ay],"html"),By=oy([Ny,Sy,Oy,Ty,Py],"svg");var $y={},Uy=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Hy=/\n/g,Vy=/^\s*/,qy=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Wy=/^:\s*/,Zy=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Ky=/^[;\s]*/,Yy=/^\s+|\s+$/g,Gy="";function Jy(e){return e?e.replace(Yy,Gy):Gy}var Qy=Df&&Df.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($y,"__esModule",{value:!0});var Xy=$y.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,eb.default)(e),i="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,a=e.value;i?t(r,a,e):a&&((n=n||{})[r]=a)}})),n},eb=Qy((function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(e){var t=e.match(Hy);t&&(n+=t.length);var i=e.lastIndexOf("\n");r=~i?e.length-i:r+e.length}function a(){var e={line:n,column:r};return function(t){return t.position=new s(e),c(),t}}function s(e){this.start=e,this.end={line:n,column:r},this.source=t.source}function o(i){var a=new Error(t.source+":"+n+":"+r+": "+i);if(a.reason=i,a.filename=t.source,a.line=n,a.column=r,a.source=e,!t.silent)throw a}function l(t){var n=t.exec(e);if(n){var r=n[0];return i(r),e=e.slice(r.length),n}}function c(){l(Vy)}function u(e){var t;for(e=e||[];t=d();)!1!==t&&e.push(t);return e}function d(){var t=a();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;Gy!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,Gy===e.charAt(n-1))return o("End of comment missing");var s=e.slice(2,n-2);return r+=2,i(s),e=e.slice(n),r+=2,t({type:"comment",comment:s})}}function h(){var e=a(),t=l(qy);if(t){if(d(),!l(Wy))return o("property missing ':'");var n=l(Zy),r=e({type:"declaration",property:Jy(t[0].replace(Uy,Gy)),value:n?Jy(n[0].replace(Uy,Gy)):Gy});return l(Ky),r}}return s.prototype.content=e,c(),function(){var e,t=[];for(u(t);e=h();)!1!==e&&(t.push(e),u(t));return t}()}));const tb=Xy.default||Xy,nb=ib("end"),rb=ib("start");function ib(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function ab(e){return e&&"object"==typeof e?"position"in e||"type"in e?ob(e.position):"start"in e||"end"in e?ob(e):"line"in e||"column"in e?sb(e):"":""}function sb(e){return lb(e&&e.line)+":"+lb(e&&e.column)}function ob(e){return sb(e&&e.start)+"-"+sb(e&&e.end)}function lb(e){return e&&"number"==typeof e?e:1}class cb extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let r="",i={},a=!1;if(t&&(i="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?r=e:!i.cause&&e&&(a=!0,r=e.message,i.cause=e),!i.ruleId&&!i.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?i.ruleId=n:(i.source=n.slice(0,e),i.ruleId=n.slice(e+1))}if(!i.place&&i.ancestors&&i.ancestors){const e=i.ancestors[i.ancestors.length-1];e&&(i.place=e.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=r,this.line=s?s.line:void 0,this.name=ab(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=a&&i.cause&&"string"==typeof i.cause.stack?i.cause.stack:"",this.actual,this.expected,this.note,this.url}}cb.prototype.file="",cb.prototype.name="",cb.prototype.reason="",cb.prototype.message="",cb.prototype.stack="",cb.prototype.column=void 0,cb.prototype.line=void 0,cb.prototype.ancestors=void 0,cb.prototype.cause=void 0,cb.prototype.fatal=void 0,cb.prototype.place=void 0,cb.prototype.ruleId=void 0,cb.prototype.source=void 0;const ub={}.hasOwnProperty,db=new Map,hb=/[A-Z]/g,pb=/-([a-z])/g,fb=new Set(["table","tbody","thead","tfoot","tr"]),mb=new Set(["td","th"]),gb="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function vb(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=function(e,t){return n;function n(n,r,i,a){const s=Array.isArray(i.children),o=rb(n);return t(r,i,a,s,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");r=function(e,t,n){return r;function r(e,r,i,a){const s=Array.isArray(i.children)?n:t;return a?s(r,i,a):s(r,i)}}(0,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?By:zy,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},a=yb(i,e,void 0);return a&&"string"!=typeof a?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function yb(e,t,n){return"element"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.tagName.toLowerCase()&&"html"===r.space&&(i=By,e.schema=i),e.ancestors.push(t);const a=kb(e,t.tagName,!1),s=function(e,t){const n={};let r,i;for(i in t.properties)if("children"!==i&&ub.call(t.properties,i)){const a=_b(e,i,t.properties[i]);if(a){const[i,s]=a;e.tableCellAlignToStyle&&"align"===i&&"string"==typeof s&&mb.has(t.tagName)?r=s:n[i]=s}}if(r){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=r}return n}(e,t);let o=wb(e,t);return fb.has(t.tagName)&&(o=o.filter((function(e){return"string"!=typeof e||!function(e){return"object"==typeof e?"text"===e.type&&ay(e.value):ay(e)}(e)}))),bb(e,s,a,t),xb(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}jb(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const r=e.schema;let i=r;"svg"===t.name&&"html"===r.space&&(i=By,e.schema=i),e.ancestors.push(t);const a=null===t.name?e.Fragment:kb(e,t.name,!0),s=function(e,t){const n={};for(const r of t.attributes)if("mdxJsxExpressionAttribute"===r.type)if(r.data&&r.data.estree&&e.evaluater){const t=r.data.estree.body[0];t.type;const i=t.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else jb(e,t.position);else{const i=r.name;let a;if(r.value&&"object"==typeof r.value)if(r.value.data&&r.value.data.estree&&e.evaluater){const t=r.value.data.estree.body[0];t.type,a=e.evaluater.evaluateExpression(t.expression)}else jb(e,t.position);else a=null===r.value||r.value;n[i]=a}return n}(e,t),o=wb(e,t);return bb(e,s,a,t),xb(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);jb(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const r={};return xb(r,wb(e,t)),e.create(t,e.Fragment,r,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function bb(e,t,n,r){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=r)}function xb(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function wb(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:db;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const e="element"===a.type?a.tagName:"mdxJsxFlowElement"===a.type||"mdxJsxTextElement"===a.type?a.name:void 0;if(e){const t=i.get(e)||0;s=e+"-"+t,i.set(e,t+1)}}const o=yb(e,a,s);void 0!==o&&n.push(o)}return n}function _b(e,t,n){const r=function(e,t){const n=ly(t);let r=t,i=cy;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&Ry.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(My,Ly);r="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!My.test(e)){let n=e.replace(Iy,Dy);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}i=wy}return new i(r,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):function(e){return e.join(" ").trim()}(n)),"style"===r.property){let t="object"==typeof n?n:function(e,n){const r={};try{tb(n,i)}catch(t){if(!e.ignoreInvalidStyle){const r=t,i=new cb("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=gb+"#cannot-parse-style-attribute",i}}return r;function i(e,t){let n=e;"--"!==n.slice(0,2)&&("-ms-"===n.slice(0,4)&&(n="ms-"+n.slice(4)),n=n.replace(pb,Nb)),r[n]=t}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)ub.call(e,n)&&(t[Sb(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&r.space?Fy[r.property]||r.property:r.attribute,n]}}function kb(e,t,n){let r;if(n)if(t.includes(".")){const e=t.split(".");let n,i=-1;for(;++i<e.length;){const t=ry(e[i])?{type:"Identifier",name:e[i]}:{type:"Literal",value:e[i]};n=n?{type:"MemberExpression",object:n,property:t,computed:!(!i||"Literal"!==t.type),optional:!1}:t}r=n}else r=ry(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else r={type:"Literal",value:t};if("Literal"===r.type){const t=r.value;return ub.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(r);jb(e)}function jb(e,t){const n=new cb("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=gb+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Sb(e){let t=e.replace(hb,Eb);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function Nb(e,t){return t.toUpperCase()}function Eb(e){return"-"+e.toLowerCase()}const Cb={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ob={};function Tb(e,t){return Ab(e,"boolean"!=typeof Ob.includeImageAlt||Ob.includeImageAlt,"boolean"!=typeof Ob.includeHtml||Ob.includeHtml)}function Ab(e,t,n){if(function(e){return!(!e||"object"!=typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Pb(e.children,t,n)}return Array.isArray(e)?Pb(e,t,n):""}function Pb(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=Ab(e[i],t,n);return r.join("")}const Rb=document.createElement("i");function Mb(e){const t="&"+e+";";Rb.innerHTML=t;const n=Rb.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&n!==t&&n}function Ib(e,t,n,r){const i=e.length;let a,s=0;if(t=t<0?-t>i?0:i+t:t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function Db(e,t){return e.length>0?(Ib(e,e.length,0,t),e):t}const Lb={}.hasOwnProperty;function Fb(e){const t={};let n=-1;for(;++n<e.length;)zb(t,e[n]);return t}function zb(e,t){let n;for(n in t){const r=(Lb.call(e,n)?e[n]:void 0)||(e[n]={}),i=t[n];let a;if(i)for(a in i){Lb.call(r,a)||(r[a]=[]);const e=i[a];Bb(r[a],Array.isArray(e)?e:e?[e]:[])}}}function Bb(e,t){let n=-1;const r=[];for(;++n<t.length;)("after"===t[n].add?e:r).push(t[n]);Ib(e,0,0,r)}function $b(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535===(65535&n)||65534===(65535&n)||n>1114111?"\ufffd":String.fromCodePoint(n)}function Ub(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hb=tx(/[A-Za-z]/),Vb=tx(/[\dA-Za-z]/),qb=tx(/[#-'*+\--9=?A-Z^-~]/);function Wb(e){return null!==e&&(e<32||127===e)}const Zb=tx(/\d/),Kb=tx(/[\dA-Fa-f]/),Yb=tx(/[!-/:-@[-`{-~]/);function Gb(e){return null!==e&&e<-2}function Jb(e){return null!==e&&(e<0||32===e)}function Qb(e){return-2===e||-1===e||32===e}const Xb=tx(new RegExp("\\p{P}|\\p{S}","u")),ex=tx(/\s/);function tx(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function nx(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(37===a&&Vb(e.charCodeAt(n+1))&&Vb(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const t=e.charCodeAt(n+1);a<56320&&t>56319&&t<57344?(s=String.fromCharCode(a,t),i=1):s="\ufffd"}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function rx(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return function(r){return Qb(r)?(e.enter(n),s(r)):t(r)};function s(r){return Qb(r)&&a++<i?(e.consume(r),s):(e.exit(n),t(r))}}const ix={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rx(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),r(t)}));let n;return t;function r(t){const r=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(t)}function i(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Gb(t)?(e.consume(t),e.exit("chunkText"),r):(e.consume(t),i)}}};const ax={tokenize:function(e){const t=this,n=[];let r,i,a,s=0;return o;function o(r){if(s<n.length){const i=n[s];return t.containerState=i[1],e.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,r&&y();const n=t.events.length;let i,a=n;for(;a--;)if("exit"===t.events[a][0]&&"chunkFlow"===t.events[a][1].type){i=t.events[a][1].end;break}v(s);let o=n;for(;o<t.events.length;)t.events[o][1].end=Object.assign({},i),o++;return Ib(t.events,a+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(i){if(s===n.length){if(!r)return h(i);if(r.currentConstruct&&r.currentConstruct.concrete)return f(i);t.interrupt=!(!r.currentConstruct||r._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(sx,u,d)(i)}function u(e){return r&&y(),v(s),h(e)}function d(e){return t.parser.lazy[t.now().line]=s!==n.length,a=t.now().offset,f(e)}function h(n){return t.containerState={},e.attempt(sx,p,f)(n)}function p(e){return s++,n.push([t.currentConstruct,t.containerState]),h(e)}function f(n){return null===n?(r&&y(),v(0),void e.consume(n)):(r=r||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),m(n))}function m(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):Gb(n)?(e.consume(n),g(e.exit("chunkFlow")),s=0,t.interrupt=void 0,o):(e.consume(n),m)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=i,i&&(i.next=e),i=e,r.defineSkip(e.start),r.write(o),t.parser.lazy[e.start.line]){let e=r.events.length;for(;e--;)if(r.events[e][1].start.offset<a&&(!r.events[e][1].end||r.events[e][1].end.offset>a))return;const n=t.events.length;let i,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(i){o=t.events[l][1].end;break}i=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},o),e++;Ib(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(r){let i=n.length;for(;i-- >r;){const r=n[i];t.containerState=r[1],r[0].exit.call(t,e)}n.length=r}function y(){r.write([null]),i=void 0,r=void 0,t.containerState._closeFlow=void 0}}},sx={tokenize:function(e,t,n){return rx(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function ox(e){return null===e||Jb(e)||ex(e)?1:Xb(e)?2:void 0}function lx(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const cx={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=ox(r);let a;return function(t){return a=t,e.enter("attentionSequence"),s(t)};function s(o){if(o===a)return e.consume(o),s;const l=e.exit("attentionSequence"),c=ox(o),u=!c||2===c&&i||n.includes(o),d=!i||2===i&&c||n.includes(r);return l._open=!!(42===a?u:u&&(i||!d)),l._close=!!(42===a?d:d&&(c||!u)),t(o)}},resolveAll:function(e,t){let n,r,i,a,s,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[u][1].start);ux(d,-o),ux(h,o),a={type:o>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},s={type:o>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:h},i={type:o>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},r={type:o>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},a.start),e[u][1].start=Object.assign({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Db(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Db(l,[["enter",r,t],["enter",a,t],["exit",a,t],["enter",i,t]]),l=Db(l,lx(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Db(l,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",r,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Db(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Ib(e,n-1,u-n+3,l),u=n+l.length-c-2;break}for(u=-1;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function ux(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const dx={name:"autolink",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i};function i(t){return Hb(t)?(e.consume(t),a):64===t?n(t):l(t)}function a(e){return 43===e||45===e||46===e||Vb(e)?(r=1,s(e)):l(e)}function s(t){return 58===t?(e.consume(t),r=0,o):(43===t||45===t||46===t||Vb(t))&&r++<32?(e.consume(t),s):(r=0,l(t))}function o(r){return 62===r?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(r),e.exit("autolinkMarker"),e.exit("autolink"),t):null===r||32===r||60===r||Wb(r)?n(r):(e.consume(r),o)}function l(t){return 64===t?(e.consume(t),c):qb(t)?(e.consume(t),l):n(t)}function c(e){return Vb(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),r=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||Vb(t))&&r++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const hx={tokenize:function(e,t,n){return function(t){return Qb(t)?rx(e,r,"linePrefix")(t):r(t)};function r(e){return null===e||Gb(e)?t(e):n(e)}},partial:!0};const px={name:"blockQuote",tokenize:function(e,t,n){const r=this;return function(t){if(62===t){const n=r.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),i}return n(t)};function i(n){return Qb(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){const r=this;return function(t){return Qb(t)?rx(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):i(t)};function i(r){return e.attempt(px,t,n)(r)}}},exit:function(e){e.exit("blockQuote")}};const fx={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),r};function r(r){return Yb(r)?(e.enter("characterEscapeValue"),e.consume(r),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(r)}}};const mx={name:"characterReference",tokenize:function(e,t,n){const r=this;let i,a,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),i=31,a=Vb,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,a=Kb,c):(e.enter("characterReferenceValue"),i=7,a=Zb,c(t))}function c(o){if(59===o&&s){const i=e.exit("characterReferenceValue");return a!==Vb||Mb(r.sliceSerialize(i))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return a(o)&&s++<i?(e.consume(o),c):n(o)}}};const gx={tokenize:function(e,t,n){const r=this;return function(t){return null===t?n(t):(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0},vx={name:"codeFenced",tokenize:function(e,t,n){const r=this,i={tokenize:function(e,t,n){let i=0;return s;function s(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),Qb(t)?rx(e,c,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===a?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===a?(i++,e.consume(t),u):i>=o?(e.exit("codeFencedFenceSequence"),Qb(t)?rx(e,d,"whitespace")(t):d(t)):n(t)}function d(r){return null===r||Gb(r)?(e.exit("codeFencedFence"),t(r)):n(r)}},partial:!0};let a,s=0,o=0;return function(t){return function(t){const n=r.events[r.events.length-1];return s=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,a=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===a?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),Qb(t)?rx(e,c,"whitespace")(t):c(t))}function c(n){return null===n||Gb(n)?(e.exit("codeFencedFence"),r.interrupt?t(n):e.check(gx,p,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||Gb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):Qb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),rx(e,d,"whitespace")(t)):96===t&&t===a?n(t):(e.consume(t),u)}function d(t){return null===t||Gb(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Gb(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===a?n(t):(e.consume(t),h)}function p(t){return e.attempt(i,y,f)(t)}function f(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),m}function m(t){return s>0&&Qb(t)?rx(e,g,"linePrefix",s+1)(t):g(t)}function g(t){return null===t||Gb(t)?e.check(gx,p,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Gb(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const yx={name:"codeIndented",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("codeIndented"),rx(e,i,"linePrefix",5)(t)};function i(e){const t=r.events[r.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?a(e):n(e)}function a(t){return null===t?o(t):Gb(t)?e.attempt(bx,a,o)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||Gb(t)?(e.exit("codeFlowValue"),a(t)):(e.consume(t),s)}function o(n){return e.exit("codeIndented"),t(n)}}},bx={tokenize:function(e,t,n){const r=this;return i;function i(t){return r.parser.lazy[r.now().line]?n(t):Gb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):rx(e,a,"linePrefix",5)(t)}function a(e){const a=r.events[r.events.length-1];return a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(e):Gb(e)?i(e):n(e)}},partial:!0};const xx={name:"codeText",tokenize:function(e,t,n){let r,i,a=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),a++,s):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(i=e.enter("codeTextSequence"),r=0,c(t)):Gb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Gb(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),r++,c):r===a?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(i.type="codeTextData",l(n))}},resolve:function(e){let t,n,r=e.length-4,i=3;if(("lineEnding"===e[i][1].type||"space"===e[i][1].type)&&("lineEnding"===e[r][1].type||"space"===e[r][1].type))for(t=i;++t<r;)if("codeTextData"===e[t][1].type){e[i][1].type="codeTextPadding",e[r][1].type="codeTextPadding",i+=2,r-=2;break}for(t=i-1,r++;++t<=r;)void 0===n?t!==r&&"lineEnding"!==e[t][1].type&&(n=t):(t===r||"lineEnding"===e[t][1].type)&&(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),r-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};class wx{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=t??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const r=t||0;this.setCursor(Math.trunc(e));const i=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return n&&_x(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),_x(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),_x(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);_x(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);_x(this.left,t.reverse())}}}function _x(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function kx(e){const t={};let n,r,i,a,s,o,l,c=-1;const u=new wx(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,i=0,i<o.length&&"lineEndingBlank"===o[i][1].type&&(i+=2),i<o.length&&"content"===o[i][1].type))for(;++i<o.length&&"content"!==o[i][1].type;)"chunkText"===o[i][1].type&&(o[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,jx(u,c)),c=t[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--&&(a=u.get(i),"lineEnding"===a[1].type||"lineEndingBlank"===a[1].type);)"enter"===a[0]&&(r&&(u.get(r)[1].type="lineEndingBlank"),a[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},u.get(r)[1].start),s=u.slice(r,c),s.unshift(n),u.splice(r,c-r+1,s))}}return Ib(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function jx(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],c={};let u,d,h=-1,p=n,f=0,m=0;const g=[m];for(;p;){for(;e.get(++i)[1]!==p;);a.push(i),p._tokenizer||(u=r.sliceStream(p),p.next||u.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<o.length;)"exit"===o[h][0]&&"enter"===o[h-1][0]&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(m=h+1,g.push(m),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const t=o.slice(g[h],g[h+1]),n=a.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),h=-1;++h<l.length;)c[f+l[h][0]]=f+l[h][1],f+=l[h][1]-l[h][0]-1;return c}const Sx={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),r(t)};function r(t){return null===t?i(t):Gb(t)?e.check(Nx,a,i)(t):(e.consume(t),r)}function i(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function a(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(e){return kx(e),e}},Nx={tokenize:function(e,t,n){const r=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rx(e,i,"linePrefix")};function i(i){if(null===i||Gb(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&"linePrefix"===a[1].type&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}},partial:!0};function Ex(e,t,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){return 60===t?(e.enter(r),e.enter(i),e.enter(a),e.consume(t),e.exit(a),d):null===t||32===t||41===t||Wb(t)?n(t):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),f(t))};function d(n){return 62===n?(e.enter(a),e.consume(n),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||Gb(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function f(i){return u||null!==i&&41!==i&&!Jb(i)?u<c&&40===i?(e.consume(i),u++,f):41===i?(e.consume(i),u--,f):null===i||32===i||40===i||Wb(i)?n(i):(e.consume(i),92===i?m:f):(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(i))}function m(t){return 40===t||41===t||92===t?(e.consume(t),f):f(t)}}function Cx(e,t,n,r,i,a){const s=this;let o,l=0;return function(t){return e.enter(r),e.enter(i),e.consume(t),e.exit(i),e.enter(a),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):93===d?(e.exit(a),e.enter(i),e.consume(d),e.exit(i),e.exit(r),t):Gb(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Gb(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!Qb(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function Ox(e,t,n,r,i,a){let s;return function(t){return 34===t||39===t||40===t?(e.enter(r),e.enter(i),e.consume(t),e.exit(i),s=40===t?41:t,o):n(t)};function o(n){return n===s?(e.enter(i),e.consume(n),e.exit(i),e.exit(r),t):(e.enter(a),l(n))}function l(t){return t===s?(e.exit(a),o(s)):null===t?n(t):Gb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),rx(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||Gb(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function Tx(e,t){let n;return function r(i){return Gb(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Qb(i)?rx(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Ax={name:"definition",tokenize:function(e,t,n){const r=this;let i;return function(t){return e.enter("definition"),function(t){return Cx.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function a(t){return i=Ub(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),s):n(t)}function s(t){return Jb(t)?Tx(e,o)(t):o(t)}function o(t){return Ex(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(Px,c,c)(t)}function c(t){return Qb(t)?rx(e,u,"whitespace")(t):u(t)}function u(a){return null===a||Gb(a)?(e.exit("definition"),r.parser.defined.push(i),t(a)):n(a)}}},Px={tokenize:function(e,t,n){return function(t){return Jb(t)?Tx(e,r)(t):n(t)};function r(t){return Ox(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function i(t){return Qb(t)?rx(e,a,"whitespace")(t):a(t)}function a(e){return null===e||Gb(e)?t(e):n(e)}},partial:!0};const Rx={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),r};function r(r){return Gb(r)?(e.exit("hardBreakEscape"),t(r)):n(r)}}};const Mx={name:"headingAtx",tokenize:function(e,t,n){let r=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),i(t)}(t)};function i(t){return 35===t&&r++<6?(e.consume(t),i):null===t||Jb(t)?(e.exit("atxHeadingSequence"),a(t)):n(t)}function a(n){return 35===n?(e.enter("atxHeadingSequence"),s(n)):null===n||Gb(n)?(e.exit("atxHeading"),t(n)):Qb(n)?rx(e,a,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function s(t){return 35===t?(e.consume(t),s):(e.exit("atxHeadingSequence"),a(t))}function o(t){return null===t||35===t||Jb(t)?(e.exit("atxHeadingText"),a(t)):(e.consume(t),o)}},resolve:function(e,t){let n,r,i=e.length-2,a=3;return"whitespace"===e[a][1].type&&(a+=2),i-2>a&&"whitespace"===e[i][1].type&&(i-=2),"atxHeadingSequence"===e[i][1].type&&(a===i-1||i-4>a&&"whitespace"===e[i-2][1].type)&&(i-=a+1===i?2:4),i>a&&(n={type:"atxHeadingText",start:e[a][1].start,end:e[i][1].end},r={type:"chunkText",start:e[a][1].start,end:e[i][1].end,contentType:"text"},Ib(e,a,i-a+1,[["enter",n,t],["enter",r,t],["exit",r,t],["exit",n,t]])),e}};const Ix=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dx=["pre","script","style","textarea"],Lx={name:"htmlFlow",tokenize:function(e,t,n){const r=this;let i,a,s,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),a=!0,p):63===o?(e.consume(o),i=3,r.interrupt?t:M):Hb(o)?(e.consume(o),s=String.fromCharCode(o),f):n(o)}function u(a){return 45===a?(e.consume(a),i=2,d):91===a?(e.consume(a),i=5,o=0,h):Hb(a)?(e.consume(a),i=4,r.interrupt?t:M):n(a)}function d(i){return 45===i?(e.consume(i),r.interrupt?t:M):n(i)}function h(i){const a="CDATA[";return i===a.charCodeAt(o++)?(e.consume(i),6===o?r.interrupt?t:N:h):n(i)}function p(t){return Hb(t)?(e.consume(t),s=String.fromCharCode(t),f):n(t)}function f(o){if(null===o||47===o||62===o||Jb(o)){const l=47===o,c=s.toLowerCase();return l||a||!Dx.includes(c)?Ix.includes(s.toLowerCase())?(i=6,l?(e.consume(o),m):r.interrupt?t(o):N(o)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(o):a?g(o):v(o)):(i=1,r.interrupt?t(o):N(o))}return 45===o||Vb(o)?(e.consume(o),s+=String.fromCharCode(o),f):n(o)}function m(i){return 62===i?(e.consume(i),r.interrupt?t:N):n(i)}function g(t){return Qb(t)?(e.consume(t),g):j(t)}function v(t){return 47===t?(e.consume(t),j):58===t||95===t||Hb(t)?(e.consume(t),y):Qb(t)?(e.consume(t),v):j(t)}function y(t){return 45===t||46===t||58===t||95===t||Vb(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),x):Qb(t)?(e.consume(t),b):v(t)}function x(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,w):Qb(t)?(e.consume(t),x):_(t)}function w(t){return t===l?(e.consume(t),l=null,k):null===t||Gb(t)?n(t):(e.consume(t),w)}function _(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||Jb(t)?b(t):(e.consume(t),_)}function k(e){return 47===e||62===e||Qb(e)?v(e):n(e)}function j(t){return 62===t?(e.consume(t),S):n(t)}function S(t){return null===t||Gb(t)?N(t):Qb(t)?(e.consume(t),S):n(t)}function N(t){return 45===t&&2===i?(e.consume(t),T):60===t&&1===i?(e.consume(t),A):62===t&&4===i?(e.consume(t),I):63===t&&3===i?(e.consume(t),M):93===t&&5===i?(e.consume(t),R):!Gb(t)||6!==i&&7!==i?null===t||Gb(t)?(e.exit("htmlFlowData"),E(t)):(e.consume(t),N):(e.exit("htmlFlowData"),e.check(Fx,D,E)(t))}function E(t){return e.check(zx,C,D)(t)}function C(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),O}function O(t){return null===t||Gb(t)?E(t):(e.enter("htmlFlowData"),N(t))}function T(t){return 45===t?(e.consume(t),M):N(t)}function A(t){return 47===t?(e.consume(t),s="",P):N(t)}function P(t){if(62===t){const n=s.toLowerCase();return Dx.includes(n)?(e.consume(t),I):N(t)}return Hb(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),P):N(t)}function R(t){return 93===t?(e.consume(t),M):N(t)}function M(t){return 62===t?(e.consume(t),I):45===t&&2===i?(e.consume(t),M):N(t)}function I(t){return null===t||Gb(t)?(e.exit("htmlFlowData"),D(t)):(e.consume(t),I)}function D(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););return t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e},concrete:!0},Fx={tokenize:function(e,t,n){return function(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),e.attempt(hx,t,n)}},partial:!0},zx={tokenize:function(e,t,n){const r=this;return function(t){return Gb(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),i):n(t)};function i(e){return r.parser.lazy[r.now().line]?n(e):t(e)}},partial:!0};const Bx={name:"htmlText",tokenize:function(e,t,n){const r=this;let i,a,s;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),x):63===t?(e.consume(t),y):Hb(t)?(e.consume(t),k):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),a=0,p):Hb(t)?(e.consume(t),v):n(t)}function c(t){return 45===t?(e.consume(t),h):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):Gb(t)?(s=u,P(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),h):u(t)}function h(e){return 62===e?A(e):45===e?d(e):u(e)}function p(t){const r="CDATA[";return t===r.charCodeAt(a++)?(e.consume(t),6===a?f:p):n(t)}function f(t){return null===t?n(t):93===t?(e.consume(t),m):Gb(t)?(s=f,P(t)):(e.consume(t),f)}function m(t){return 93===t?(e.consume(t),g):f(t)}function g(t){return 62===t?A(t):93===t?(e.consume(t),g):f(t)}function v(t){return null===t||62===t?A(t):Gb(t)?(s=v,P(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):Gb(t)?(s=y,P(t)):(e.consume(t),y)}function b(e){return 62===e?A(e):y(e)}function x(t){return Hb(t)?(e.consume(t),w):n(t)}function w(t){return 45===t||Vb(t)?(e.consume(t),w):_(t)}function _(t){return Gb(t)?(s=_,P(t)):Qb(t)?(e.consume(t),_):A(t)}function k(t){return 45===t||Vb(t)?(e.consume(t),k):47===t||62===t||Jb(t)?j(t):n(t)}function j(t){return 47===t?(e.consume(t),A):58===t||95===t||Hb(t)?(e.consume(t),S):Gb(t)?(s=j,P(t)):Qb(t)?(e.consume(t),j):A(t)}function S(t){return 45===t||46===t||58===t||95===t||Vb(t)?(e.consume(t),S):N(t)}function N(t){return 61===t?(e.consume(t),E):Gb(t)?(s=N,P(t)):Qb(t)?(e.consume(t),N):j(t)}function E(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),i=t,C):Gb(t)?(s=E,P(t)):Qb(t)?(e.consume(t),E):(e.consume(t),O)}function C(t){return t===i?(e.consume(t),i=void 0,T):null===t?n(t):Gb(t)?(s=C,P(t)):(e.consume(t),C)}function O(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||Jb(t)?j(t):(e.consume(t),O)}function T(e){return 47===e||62===e||Jb(e)?j(e):n(e)}function A(r){return 62===r?(e.consume(r),e.exit("htmlTextData"),e.exit("htmlText"),t):n(r)}function P(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),R}function R(t){return Qb(t)?rx(e,M,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):M(t)}function M(t){return e.enter("htmlTextData"),s(t)}}};const $x={name:"labelEnd",tokenize:function(e,t,n){const r=this;let i,a,s=r.events.length;for(;s--;)if(("labelImage"===r.events[s][1].type||"labelLink"===r.events[s][1].type)&&!r.events[s][1]._balanced){i=r.events[s][1];break}return function(t){return i?i._inactive?u(t):(a=r.parser.defined.includes(Ub(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o):n(t)};function o(t){return 40===t?e.attempt(Ux,c,a?c:u)(t):91===t?e.attempt(Hx,c,a?l:u)(t):a?c(t):u(t)}function l(t){return e.attempt(Vx,c,u)(t)}function c(e){return t(e)}function u(e){return i._balanced=!0,n(e)}},resolveTo:function(e,t){let n,r,i,a,s=e.length,o=0;for(;s--;)if(n=e[s][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=s,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(i=s);const l={type:"labelLink"===e[r][1].type?"link":"image",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[r][1].start),end:Object.assign({},e[i][1].end)},u={type:"labelText",start:Object.assign({},e[r+o+2][1].end),end:Object.assign({},e[i-2][1].start)};return a=[["enter",l,t],["enter",c,t]],a=Db(a,e.slice(r+1,r+o+3)),a=Db(a,[["enter",u,t]]),a=Db(a,lx(t.parser.constructs.insideSpan.null,e.slice(r+o+4,i-3),t)),a=Db(a,[["exit",u,t],e[i-2],e[i-1],["exit",c,t]]),a=Db(a,e.slice(i+1)),a=Db(a,[["exit",l,t]]),Ib(e,r,e.length,a),e},resolveAll:function(e){let t=-1;for(;++t<e.length;){const n=e[t][1];("labelImage"===n.type||"labelLink"===n.type||"labelEnd"===n.type)&&(e.splice(t+1,"labelImage"===n.type?4:2),n.type="data",t++)}return e}},Ux={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),r};function r(t){return Jb(t)?Tx(e,i)(t):i(t)}function i(t){return 41===t?c(t):Ex(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function a(t){return Jb(t)?Tx(e,o)(t):c(t)}function s(e){return n(e)}function o(t){return 34===t||39===t||40===t?Ox(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return Jb(t)?Tx(e,c)(t):c(t)}function c(r){return 41===r?(e.enter("resourceMarker"),e.consume(r),e.exit("resourceMarker"),e.exit("resource"),t):n(r)}}},Hx={tokenize:function(e,t,n){const r=this;return function(t){return Cx.call(r,e,i,a,"reference","referenceMarker","referenceString")(t)};function i(e){return r.parser.defined.includes(Ub(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function a(e){return n(e)}}},Vx={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),r};function r(r){return 93===r?(e.enter("referenceMarker"),e.consume(r),e.exit("referenceMarker"),e.exit("reference"),t):n(r)}}};const qx={name:"labelStartImage",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),i};function i(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),a):n(t)}function a(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:$x.resolveAll};const Wx={name:"labelStartLink",tokenize:function(e,t,n){const r=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),i};function i(e){return 94===e&&"_hiddenFootnoteSupport"in r.parser.constructs?n(e):t(e)}},resolveAll:$x.resolveAll};const Zx={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),rx(e,t,"linePrefix")}}};const Kx={name:"thematicBreak",tokenize:function(e,t,n){let r,i=0;return function(t){return e.enter("thematicBreak"),function(e){return r=e,a(e)}(t)};function a(a){return a===r?(e.enter("thematicBreakSequence"),s(a)):i>=3&&(null===a||Gb(a))?(e.exit("thematicBreak"),t(a)):n(a)}function s(t){return t===r?(e.consume(t),i++,s):(e.exit("thematicBreakSequence"),Qb(t)?rx(e,a,"whitespace")(t):a(t))}}};const Yx={name:"list",tokenize:function(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,s=0;return function(t){const i=r.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||t===r.containerState.marker:Zb(t)){if(r.containerState.type||(r.containerState.type=i,e.enter(i,{_container:!0})),"listUnordered"===i)return e.enter("listItemPrefix"),42===t||45===t?e.check(Kx,n,l)(t):l(t);if(!r.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return Zb(t)&&++s<10?(e.consume(t),o):(!r.interrupt||s<2)&&(r.containerState.marker?t===r.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||t,e.check(hx,r.interrupt?n:c,e.attempt(Gx,d,u))}function c(e){return r.containerState.initialBlankLine=!0,a++,d(e)}function u(t){return Qb(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(hx,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,rx(e,t,"listItemIndent",r.containerState.size+1)(n)}),(function(n){return r.containerState.furtherBlankLines||!Qb(n)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Jx,t,i)(n))}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,rx(e,e.attempt(Yx,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(e){e.exit(this.containerState.type)}},Gx={tokenize:function(e,t,n){const r=this;return rx(e,(function(e){const i=r.events[r.events.length-1];return!Qb(e)&&i&&"listItemPrefixWhitespace"===i[1].type?t(e):n(e)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Jx={tokenize:function(e,t,n){const r=this;return rx(e,(function(e){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(e):n(e)}),"listItemIndent",r.containerState.size+1)},partial:!0};const Qx={name:"setextUnderline",tokenize:function(e,t,n){const r=this;let i;return function(t){let s,o=r.events.length;for(;o--;)if("lineEnding"!==r.events[o][1].type&&"linePrefix"!==r.events[o][1].type&&"content"!==r.events[o][1].type){s="paragraph"===r.events[o][1].type;break}return r.parser.lazy[r.now().line]||!r.interrupt&&!s?n(t):(e.enter("setextHeadingLine"),i=t,function(t){return e.enter("setextHeadingLineSequence"),a(t)}(t))};function a(t){return t===i?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),Qb(t)?rx(e,s,"lineSuffix")(t):s(t))}function s(r){return null===r||Gb(r)?(e.exit("setextHeadingLine"),t(r)):n(r)}},resolveTo:function(e,t){let n,r,i,a=e.length;for(;a--;)if("enter"===e[a][0]){if("content"===e[a][1].type){n=a;break}"paragraph"===e[a][1].type&&(r=a)}else"content"===e[a][1].type&&e.splice(a,1),!i&&"definition"===e[a][1].type&&(i=a);const s={type:"setextHeading",start:Object.assign({},e[r][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[r][1].type="setextHeadingText",i?(e.splice(r,0,["enter",s,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[i][1].end)):e[n][1]=s,e.push(["exit",s,t]),e}};const Xx={tokenize:function(e){const t=this,n=e.attempt(hx,(function(r){if(null===r)return void e.consume(r);return e.enter("lineEndingBlank"),e.consume(r),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,r,rx(e,e.attempt(this.parser.constructs.flow,r,e.attempt(Sx,r)),"linePrefix")));return n;function r(r){if(null!==r)return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(r)}}};const ew={resolveAll:iw()},tw=rw("string"),nw=rw("text");function rw(e){return{tokenize:function(t){const n=this,r=this.parser.constructs[e],i=t.attempt(r,a,s);return a;function a(e){return l(e)?i(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),i(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=r[e];let i=-1;if(t)for(;++i<t.length;){const e=t[i];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:iw("text"===e?aw:void 0)}}function iw(e){return function(t,n){let r,i=-1;for(;++i<=t.length;)void 0===r?t[i]&&"data"===t[i][1].type&&(r=i,i++):(!t[i]||"data"!==t[i][1].type)&&(i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),i=r+2),r=void 0);return e?e(t,n):t}}function aw(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const r=e[n-1][1],i=t.sliceStream(r);let a,s=i.length,o=-1,l=0;for(;s--;){const e=i[s];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)a=!0,l++;else if(-1!==e){s++;break}}if(l){const i={type:n===e.length||a||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+s,_bufferIndex:s?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(e.splice(n,0,["enter",i,t],["exit",i,t]),n+=2)}n++}return e}function sw(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:function(e){Gb(e)?(r.line++,r.column=1,r.offset+=-3===e?2:1,v()):-1!==e&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=h(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=h(),c.events.push(["exit",t,c]),t},attempt:m((function(e,t){g(e,t.from)})),check:m(f),interrupt:m(f,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:d,sliceSerialize:function(e,t){return function(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if("string"==typeof a)s=a;else switch(a){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&i)continue;s=" ";break;default:s=String.fromCharCode(a)}i=-2===a,r.push(s)}return r.join("")}(d(e),t)},now:h,defineSkip:function(e){i[e.line]=e.column,v()},write:function(e){return s=Db(s,e),function(){let e;for(;r._index<s.length;){const t=s[r._index];if("string"==typeof t)for(e=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===e&&r._bufferIndex<t.length;)p(t.charCodeAt(r._bufferIndex));else p(t)}}(),null!==s[s.length-1]?[]:(g(t,0),c.events=lx(a,c.events,c),c.events)}};let u=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function d(e){return function(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const e=s[0];"string"==typeof e?s[0]=e.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}(s,e)}function h(){const{line:e,column:t,offset:n,_index:i,_bufferIndex:a}=r;return{line:e,column:t,offset:n,_index:i,_bufferIndex:a}}function p(e){u=u(e)}function f(e,t){t.restore()}function m(e,t){return function(n,i,a){let s,u,d,p;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],r=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(t)}}(n);function f(e){return s=e,u=0,0===e.length?a:m(e[u])}function m(e){return function(n){return p=function(){const e=h(),t=c.previous,n=c.currentConstruct,i=c.events.length,a=Array.from(o);return{restore:s,from:i};function s(){r=e,c.previous=t,c.currentConstruct=n,c.events.length=i,o=a,v()}}(),d=e,e.partial||(c.currentConstruct=e),e.name&&c.parser.constructs.disable.null.includes(e.name)?y():e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,y)(n)}}function g(t){return e(d,p),i}function y(e){return p.restore(),++u<s.length?m(s[u]):a}}}function g(e,t){e.resolveAll&&!a.includes(e)&&a.push(e),e.resolve&&Ib(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function v(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const ow={42:Yx,43:Yx,45:Yx,48:Yx,49:Yx,50:Yx,51:Yx,52:Yx,53:Yx,54:Yx,55:Yx,56:Yx,57:Yx,62:px},lw={91:Ax},cw={[-2]:yx,[-1]:yx,32:yx},uw={35:Mx,42:Kx,45:[Qx,Kx],60:Lx,61:Qx,95:Kx,96:vx,126:vx},dw={38:mx,92:fx},hw={[-5]:Zx,[-4]:Zx,[-3]:Zx,33:qx,38:mx,42:cx,60:[dx,Bx],91:Wx,92:[Rx,fx],93:$x,95:cx,96:xx},pw={null:[cx,ew]},fw=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:lw,disable:{null:[]},document:ow,flow:uw,flowInitial:cw,insideSpan:pw,string:dw,text:hw},Symbol.toStringTag,{value:"Module"}));const mw=/[\0\t\n\r]/g;const gw=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vw(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return $b(n.slice(t?2:1),t?16:10)}return Mb(n)||e}const yw={}.hasOwnProperty;function bw(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(te),autolinkProtocol:S,autolinkEmail:S,atxHeading:a(J),blockQuote:a(W),characterEscape:S,characterReference:S,codeFenced:a(Z),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Z,s),codeText:a(K,s),codeTextData:S,data:S,codeFlowValue:S,definition:a(Y),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(G),hardBreakEscape:a(Q),hardBreakTrailing:a(Q),htmlFlow:a(X,s),htmlFlowData:S,htmlText:a(X,s),htmlTextData:S,image:a(ee),label:s,link:a(te),listItem:a(re),listItemValue:h,listOrdered:a(ne,d),listUnordered:a(ne),paragraph:a(ie),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(J),strong:a(ae),thematicBreak:a(oe)},exit:{atxHeading:l(),atxHeadingSequence:w,autolink:l(),autolinkEmail:q,autolinkProtocol:V,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:$,characterReferenceMarkerNumeric:$,characterReferenceValue:U,characterReference:H,codeFenced:l(g),codeFencedFence:m,codeFencedFenceInfo:p,codeFencedFenceMeta:f,codeFlowValue:N,codeIndented:l(v),codeText:l(A),codeTextData:N,data:N,definition:l(),definitionDestinationString:x,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(C),hardBreakTrailing:l(C),htmlFlow:l(O),htmlFlowData:N,htmlText:l(T),htmlTextData:N,image:l(R),label:I,labelText:M,lineEnding:E,link:l(P),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:D,resourceTitleString:L,resource:F,setextHeading:l(j),setextHeadingLineSequence:k,setextHeadingText:_,strong:l(),thematicBreak:l()}};ww(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(e){let r={type:"root",children:[]};const a={stack:[r],tokenStack:[],config:t,enter:o,exit:c,buffer:s,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=i(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];yw.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},a),e[d][1])}if(a.tokenStack.length>0){const e=a.tokenStack[a.tokenStack.length-1];(e[1]||kw).call(a,void 0,e[0])}for(r.position={start:xw(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:xw(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)r=t.transforms[d](r)||r;return r}function i(e,t,n){let r,i,a,s,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,s=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(r&&!s&&!l&&!a&&(a=o),s=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:s=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(r){let s=o;for(i=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;i&&(e[i][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",i=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}a&&(!i||a<i)&&(r._spread=!0),r.end=Object.assign({},i?e[i][1].start:t[1].end),e.splice(i||o,0,["exit",r,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};r=i,e.splice(o,0,["enter",i,t[2]]),o++,n++,a=void 0,s=!0}}}return e[t][1]._spread=c,n}function a(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n]),e.position={start:xw(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+e.type+"` ("+ab({start:e.start,end:e.end})+"): it\u2019s not open");r[0].type!==e.type&&(t?t.call(this,e,r[0]):(r[1]||kw).call(this,e,r[0])),n.position.end=xw(e.end)}function u(){return Tb(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function p(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function f(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ub(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function x(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function k(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function j(){this.data.setextHeadingSlurpLineEnding=void 0}function S(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];(!n||"text"!==n.type)&&(n=se(),n.position={start:xw(e.start),end:void 0},t.push(n)),this.stack.push(n)}function N(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=xw(e.end)}function E(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=xw(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(S.call(this,e),N.call(this,e))}function C(){this.data.atHardBreak=!0}function O(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(gw,vw)}(t),n.identifier=Ub(t).toLowerCase()}function I(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function D(){const e=this.resume();this.stack[this.stack.length-1].url=e}function L(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function B(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=Ub(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function $(e){this.data.characterReferenceType=e.type}function U(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let r;n?(r=$b(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0):r=Mb(t);this.stack[this.stack.length-1].value+=r}function H(e){this.stack.pop().position.end=xw(e.end)}function V(e){N.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function q(e){N.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function W(){return{type:"blockquote",children:[]}}function Z(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function G(){return{type:"emphasis",children:[]}}function J(){return{type:"heading",depth:0,children:[]}}function Q(){return{type:"break"}}function X(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function ie(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!kx(e););return e}(function(e){const t={defined:[],lazy:{},constructs:Fb([fw,...(e||{}).extensions||[]]),content:n(ix),document:n(ax),flow:n(Xx),string:n(tw),text:n(nw)};return t;function n(e){return function(n){return sw(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",r=!0;return function(i,a,s){const o=[];let l,c,u,d,h;for(i=n+("string"==typeof i?i.toString():new TextDecoder(a||void 0).decode(i)),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(mw.lastIndex=u,l=mw.exec(i),d=l&&void 0!==l.index?l.index:i.length,h=i.charCodeAt(d),!l){n=i.slice(u);break}if(10===h&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(i.slice(u,d)),t+=d-u),h){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return s&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function xw(e){return{line:e.line,column:e.column,offset:e.offset}}function ww(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?ww(e,r):_w(e,r)}}function _w(e,t){let n;for(n in t)if(yw.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function kw(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ab({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ab({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ab({start:t.start,end:t.end})+") is still open")}function jw(e){const t=this;t.parser=function(n){return bw(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Sw(e,t){const n=t.referenceType;let r="]";if("collapsed"===n?r+="[]":"full"===n&&(r+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&"text"===a.type?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&"text"===s.type?s.value+=r:i.push({type:"text",value:r}),i}function Nw(e){return e.spread??e.children.length>1}function Ew(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(Cw(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(Cw(t.slice(i),i>0,!1)),a.join("")}function Cw(e,t,n){let r=0,i=e.length;if(t){let t=e.codePointAt(r);for(;9===t||32===t;)r++,t=e.codePointAt(r)}if(n){let t=e.codePointAt(i-1);for(;9===t||32===t;)i--,t=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}const Ow={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=nx(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);void 0===o?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sw(e,t);const i={src:nx(r.url||""),alt:t.alt};null!==r.title&&void 0!==r.title&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)},image:function(e,t){const n={src:nx(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Sw(e,t);const i={href:nx(r.url||"")};null!==r.title&&void 0!==r.title&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)},link:function(e,t){const n={href:nx(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)},listItem:function(e,t,n){const r=e.all(t),i=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Nw(n[r])}return t}(n):Nw(t),a={},s=[];if("boolean"==typeof t.checked){const e=r[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},r.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const e=r[o];(i||0!==o||"element"!==e.type||"p"!==e.tagName)&&s.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||i?s.push(e):s.push(...e.children)}const l=r[r.length-1];l&&(i||"element"!==l.type||"p"!==l.tagName)&&s.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},r=e.all(t);let i=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++i<r.length;){const e=r[i];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],n),i.push(n)}if(n.length>0){const r={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=rb(t.children[1]),s=nb(t.children[t.children.length-1]);a&&s&&(r.position={start:a,end:s}),i.push(r)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const r=n?n.children:void 0,i=0===(r?r.indexOf(t):1)?"th":"td",a=n&&"table"===n.type?n.align:void 0,s=a?a.length:t.children.length;let o=-1;const l=[];for(;++o<s;){const n=t.children[o],r={},s=a?a[o]:void 0;s&&(r.align=s);let c={type:"element",tagName:i,properties:r,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:Ew(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:Tw,yaml:Tw,definition:Tw,footnoteDefinition:Tw};function Tw(){}const Aw="object"==typeof self?self:globalThis,Pw=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case 0:case-1:return n(s,i);case 1:{const e=n([],i);for(const t of s)e.push(r(t));return e}case 2:{const e=n({},i);for(const[t,n]of s)e[r(t)]=r(n);return e}case 3:return n(new Date(s),i);case 4:{const{source:e,flags:t}=s;return n(new RegExp(e,t),i)}case 5:{const e=n(new Map,i);for(const[t,n]of s)e.set(r(t),r(n));return e}case 6:{const e=n(new Set,i);for(const t of s)e.add(r(t));return e}case 7:{const{name:e,message:t}=s;return n(new Aw[e](t),i)}case 8:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new Aw[a](s),i)};return r})(new Map,e)(0),Rw="",{toString:Mw}={},{keys:Iw}=Object,Dw=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=Mw.call(e).slice(8,-1);switch(n){case"Array":return[1,Rw];case"Object":return[2,Rw];case"Date":return[3,Rw];case"RegExp":return[4,Rw];case"Map":return[5,Rw];case"Set":return[6,Rw]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},Lw=e=>{let[t,n]=e;return 0===t&&("function"===n||"symbol"===n)},Fw=function(e){let{json:t,lossy:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return((e,t,n,r)=>{const i=(e,t)=>{const i=r.push(e)-1;return n.set(t,i),i},a=r=>{if(n.has(r))return n.get(r);let[s,o]=Dw(r);switch(s){case 0:{let t=r;switch(o){case"bigint":s=8,t=r.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return i([-1],r)}return i([s,t],r)}case 1:{if(o)return i([o,[...r]],r);const e=[],t=i([s,e],r);for(const n of r)e.push(a(n));return t}case 2:{if(o)switch(o){case"BigInt":return i([o,r.toString()],r);case"Boolean":case"Number":case"String":return i([o,r.valueOf()],r)}if(t&&"toJSON"in r)return a(r.toJSON());const n=[],l=i([s,n],r);for(const t of Iw(r))(e||!Lw(Dw(r[t])))&&n.push([a(t),a(r[t])]);return l}case 3:return i([s,r.toISOString()],r);case 4:{const{source:e,flags:t}=r;return i([s,{source:e,flags:t}],r)}case 5:{const t=[],n=i([s,t],r);for(const[i,s]of r)(e||!Lw(Dw(i))&&!Lw(Dw(s)))&&t.push([a(i),a(s)]);return n}case 6:{const t=[],n=i([s,t],r);for(const i of r)(e||!Lw(Dw(i)))&&t.push(a(i));return n}}const{message:l}=r;return i([s,{name:o,message:l}],r)};return a})(!(t||n),!!t,new Map,r)(e),r},zw="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?Pw(Fw(e,t)):structuredClone(e):(e,t)=>Pw(Fw(e,t));function Bw(e,t){const n=[{type:"text",value:"\u21a9"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function $w(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const Uw=function(e){if(null==e)return Vw;if("function"==typeof e)return Hw(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Uw(e[n]);return Hw(r);function r(){let e=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++e<t.length;)if(t[e].apply(this,r))return!0;return!1}}(e):function(e){const t=e;return Hw(n);function n(n){const r=n;let i;for(i in e)if(r[i]!==t[i])return!1;return!0}}(e);if("string"==typeof e)return function(e){return Hw(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function Hw(e){return function(t,n,r){return!(!function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)||!e.call(this,t,"number"==typeof n?n:void 0,r||void 0))}}function Vw(){return!0}const qw=[],Ww=!0,Zw=!1;function Kw(e,t,n,r){let i;"function"==typeof t&&"function"!=typeof n?(r=n,n=t):i=t;const a=Uw(i),s=r?-1:1;!function e(i,o,l){const c=i&&"object"==typeof i?i:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+i.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,h=qw;if((!t||a(i,o,l[l.length-1]||void 0))&&(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[Ww,e]:null==e?qw:[e]}(n(i,l)),h[0]===Zw))return h;if("children"in i&&i.children){const t=i;if(t.children&&"skip"!==h[0])for(u=(r?t.children.length:-1)+s,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===Zw)return c;u="number"==typeof c[1]?c[1]:u+s}}return h}}(e,void 0,[])()}function Yw(e,t,n,r){let i,a,s;"function"==typeof t&&"function"!=typeof n?(a=void 0,s=t,i=n):(a=t,s=n,i=r),Kw(e,a,(function(e,t){const n=t[t.length-1],r=n?n.children.indexOf(e):void 0;return s(e,r,n)}),i)}const Gw={}.hasOwnProperty,Jw={};function Qw(e,t){const n=t||Jw,r=new Map,i=new Map,a=new Map,s={...Ow,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let r=-1;for(;++r<n.length;){const i=o.one(n[r],e);if(i){if(r&&"break"===n[r-1].type&&(!Array.isArray(i)&&"text"===i.type&&(i.value=r_(i.value)),!Array.isArray(i)&&"element"===i.type)){const e=i.children[0];e&&"text"===e.type&&(e.value=r_(e.value))}Array.isArray(i)?t.push(...i):t.push(i)}}}return t},applyData:e_,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:function(e,t){const n=e.type,r=o.handlers[n];if(Gw.call(o.handlers,n)&&r)return r(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,r=zw(n);return r.children=o.all(e),r}return zw(e)}return(o.options.unknownHandler||t_)(o,e,t)},options:n,patch:Xw,wrap:n_};return Yw(e,(function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?r:i,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}})),o}function Xw(e,t){e.position&&(t.position=function(e){const t=rb(e),n=nb(e);if(t&&n)return{start:t,end:n}}(e))}function e_(e,t){let n=t;if(e&&e.data){const t=e.data.hName,r=e.data.hChildren,i=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&i&&Object.assign(n.properties,zw(i)),"children"in n&&n.children&&null!==r&&void 0!==r&&(n.children=r)}return n}function t_(e,t){const n=t.data||{},r=!("value"in t)||Gw.call(n,"hProperties")||Gw.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,r),e.applyData(t,r)}function n_(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:"\n"});++r<e.length;)r&&n.push({type:"text",value:"\n"}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function r_(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function i_(e,t){const n=Qw(e,t),r=n.one(e,void 0),i=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Bw,r=e.options.footnoteBackLabel||$w,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const i=e.footnoteById.get(e.footnoteOrder[l]);if(!i)continue;const a=e.all(i),s=String(i.identifier).toUpperCase(),c=nx(s.toLowerCase());let u=0;const d=[],h=e.footnoteCounts.get(s);for(;void 0!==h&&++u<=h;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof r?r:r(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const p=a[a.length-1];if(p&&"element"===p.type&&"p"===p.tagName){const e=p.children[p.children.length-1];e&&"text"===e.type?e.value+=" ":p.children.push({type:"text",value:" "}),p.children.push(...d)}else a.push(...d);const f={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(a,!0)};e.patch(i,f),o.push(f)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...zw(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:"\n"},i),a}function a_(e,t){return e&&"run"in e?async function(n,r){const i=i_(n,{file:r,...t});await e.run(i,r)}:function(n,r){return i_(n,{file:r,...e||t})}}function s_(e){if(e)throw e}var o_=Object.prototype.hasOwnProperty,l_=Object.prototype.toString,c_=Object.defineProperty,u_=Object.getOwnPropertyDescriptor,d_=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===l_.call(e)},h_=function(e){if(!e||"[object Object]"!==l_.call(e))return!1;var t,n=o_.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o_.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;for(t in e);return typeof t>"u"||o_.call(e,t)},p_=function(e,t){c_&&"__proto__"===t.name?c_(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},f_=function(e,t){if("__proto__"===t){if(!o_.call(e,t))return;if(u_)return u_(e,t).value}return e[t]},m_=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),(null==o||"object"!=typeof o&&"function"!=typeof o)&&(o={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)r=f_(o,n),o!==(i=f_(t,n))&&(u&&i&&(h_(i)||(a=d_(i)))?(a?(a=!1,s=r&&d_(r)?r:[]):s=r&&h_(r)?r:{},p_(o,{name:n,newValue:e(u,s,i)})):typeof i<"u"&&p_(o,{name:n,newValue:i}));return o};const g_=Lf(m_);function v_(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function y_(){const e=[],t={run:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];let i=-1;const a=n.pop();if("function"!=typeof a)throw new TypeError("Expected function as last argument, not "+a);!function t(r){const s=e[++i];let o=-1;if(r)a(r);else{for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];for(;++o<n.length;)(null===c[o]||void 0===c[o])&&(c[o]=n[o]);n=c,s?function(e,t){let n;return r;function r(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];const o=e.length>r.length;let l;o&&r.push(i);try{l=e.apply(this,r)}catch(c){if(o&&n)throw c;return i(c)}o||(l&&l.then&&"function"==typeof l.then?l.then(a,i):l instanceof Error?i(l):a(l))}function i(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];n||(n=!0,t(e,...i))}function a(e){i(null,e)}}(s,t)(...c):a(null,...c)}}(null,...n)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const b_={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');x_(e);let n,r=0,i=-1,a=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else i<0&&(n=!0,i=a+1);return i<0?"":e.slice(r,i)}if(t===e)return"";let s=-1,o=t.length-1;for(;a--;)if(47===e.codePointAt(a)){if(n){r=a+1;break}}else s<0&&(n=!0,s=a+1),o>-1&&(e.codePointAt(a)===t.codePointAt(o--)?o<0&&(i=a):(o=-1,i=s));return r===i?i=s:i<0&&(i=e.length),e.slice(r,i)},dirname:function(e){if(x_(e),0===e.length)return".";let t,n=-1,r=e.length;for(;--r;)if(47===e.codePointAt(r)){if(t){n=r;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){x_(e);let t,n=e.length,r=-1,i=0,a=-1,s=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)r<0&&(t=!0,r=n+1),46===o?a<0?a=n:1!==s&&(s=1):a>-1&&(s=-1);else if(t){i=n+1;break}}return a<0||r<0||0===s||1===s&&a===r-1&&a===i+1?"":e.slice(a,r)},join:function(){let e,t=-1;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(;++t<r.length;)x_(r[t]),r[t]&&(e=void 0===e?r[t]:e+"/"+r[t]);return void 0===e?".":function(e){x_(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,r,i="",a=0,s=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(s!==l-1&&1!==o)if(s!==l-1&&2===o){if(i.length<2||2!==a||46!==i.codePointAt(i.length-1)||46!==i.codePointAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",a=0):(i=i.slice(0,r),a=i.length-1-i.lastIndexOf("/")),s=l,o=0;continue}}else if(i.length>0){i="",a=0,s=l,o=0;continue}t&&(i=i.length>0?i+"/..":"..",a=2)}else i.length>0?i+="/"+e.slice(s+1,l):i=e.slice(s+1,l),a=l-s-1;s=l,o=0}else 46===n&&o>-1?o++:o=-1}return i}(e,!t);return 0===n.length&&!t&&(n="."),n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/"),t?"/"+n:n}(e)},sep:"/"};function x_(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const w_={cwd:function(){return"/"}};function __(e){return!!(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function k_(e){if("string"==typeof e)e=new URL(e);else if(!__(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const j_=["history","path","basename","stem","extname","dirname"];class S_{constructor(e){let t;t=e?__(e)?{path:e}:"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":w_.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,r=-1;for(;++r<j_.length;){const e=j_[r];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)j_.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?b_.basename(this.path):void 0}set basename(e){E_(e,"basename"),N_(e,"basename"),this.path=b_.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?b_.dirname(this.path):void 0}set dirname(e){C_(this.basename,"dirname"),this.path=b_.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?b_.extname(this.path):void 0}set extname(e){if(N_(e,"extname"),C_(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=b_.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){__(e)&&(e=k_(e)),E_(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?b_.basename(this.path,this.extname):void 0}set stem(e){E_(e,"stem"),N_(e,"stem"),this.path=b_.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const r=this.message(e,t,n);throw r.fatal=!0,r}info(e,t,n){const r=this.message(e,t,n);return r.fatal=void 0,r}message(e,t,n){const r=new cb(e,t,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return void 0===this.value?"":"string"==typeof this.value?this.value:new TextDecoder(e||void 0).decode(this.value)}}function N_(e,t){if(e&&e.includes(b_.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+b_.sep+"`")}function E_(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function C_(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const O_=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},T_={}.hasOwnProperty;class A_ extends O_{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=y_()}copy(){const e=new A_;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(g_(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(I_("data",this.frozen),this.namespace[e]=t,this):T_.call(this.namespace,e)&&this.namespace[e]||void 0:e?(I_("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const r=t.call(e,...n);"function"==typeof r&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=F_(e),n=this.parser||this.Parser;return R_("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),R_("process",this.parser||this.Parser),M_("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(r,i){const a=F_(e),s=n.parse(a);function o(e,n){e||!n?i(e):r?r(n):t(void 0,n)}n.run(s,a,(function(e,t,r){if(e||!t||!r)return o(e);const i=t,a=n.stringify(i,r);!function(e){return"string"==typeof e||function(e){return!!(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)}(a)?r.result=a:r.value=a,o(e,r)}))}}processSync(e){let t,n=!1;return this.freeze(),R_("processSync",this.parser||this.Parser),M_("processSync",this.compiler||this.Compiler),this.process(e,(function(e,r){n=!0,s_(e),t=r})),L_("processSync","process",n),t}run(e,t,n){D_(e),this.freeze();const r=this.transformers;return!n&&"function"==typeof t&&(n=t,t=void 0),n?i(void 0,n):new Promise(i);function i(i,a){const s=F_(t);r.run(e,s,(function(t,r,s){const o=r||e;t?a(t):i?i(o):n(void 0,o,s)}))}}runSync(e,t){let n,r=!1;return this.run(e,t,(function(e,t){s_(e),n=t,r=!0})),L_("runSync","run",r),n}stringify(e,t){this.freeze();const n=F_(t),r=this.compiler||this.Compiler;return M_("stringify",r),D_(e),r(e,n)}use(e){const t=this.attachers,n=this.namespace;for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(I_("use",this.frozen),null!=e)if("function"==typeof e)c(e,i);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?l(e):o(e)}return this;function s(e){if("function"==typeof e)c(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;c(t,n)}else o(e)}}function o(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(e.plugins),e.settings&&(n.settings=g_(!0,n.settings,e.settings))}function l(e){let t=-1;if(null!=e){if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){s(e[t])}}}function c(e,n){let r=-1,i=-1;for(;++r<t.length;)if(t[r][0]===e){i=r;break}if(-1===i)t.push([e,...n]);else if(n.length>0){let[r,...a]=n;const s=t[i][1];v_(s)&&v_(r)&&(r=g_(!0,s,r)),t[i]=[e,r,...a]}}}}const P_=(new A_).freeze();function R_(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function M_(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function I_(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function D_(e){if(!v_(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function L_(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function F_(e){return function(e){return!!(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new S_(e)}const z_=[],B_={allowDangerousHtml:!0},$_=/^(https?|ircs?|mailto|xmpp)$/i,U_=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H_(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,s=e.disallowedElements,o=e.rehypePlugins||z_,l=e.remarkPlugins||z_,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...B_}:B_,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||V_,p=P_().use(jw).use(l).use(a_,c).use(o),f=new S_;"string"==typeof r&&(f.value=r);for(const v of U_)Object.hasOwn(e,v.from)&&(v.from,v.to&&v.to,v.id);const m=p.parse(f);let g=p.runSync(m,f);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:"root"===g.type?g.children:[g]}),Yw(g,(function(e,r,i){if("raw"===e.type&&i&&"number"==typeof r)return u?i.children.splice(r,1):i.children[r]={type:"text",value:e.value},r;if("element"===e.type){let t;for(t in Cb)if(Object.hasOwn(Cb,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],r=Cb[t];(null===r||r.includes(e.tagName))&&(e.properties[t]=h(String(n||""),t,e))}}if("element"===e.type){let a=t?!t.includes(e.tagName):!!s&&s.includes(e.tagName);if(!a&&n&&"number"==typeof r&&(a=!n(e,r,i)),a&&i&&"number"==typeof r)return d&&e.children?i.children.splice(r,1,...e.children):i.children.splice(r,1),r}})),vb(g,{Fragment:Uf.Fragment,components:a,ignoreInvalidStyle:!0,jsx:Uf.jsx,jsxs:Uf.jsxs,passKeys:!0,passNode:!0})}function V_(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||$_.test(e.slice(0,t))?e:""}function q_(e,t,n){const r=Uw((n||{}).ignore||[]),i=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const e=n[r];t.push([W_(e[0]),Z_(e[1])])}return t}(t);let a=-1;for(;++a<i.length;)Kw(e,"text",s);function s(e,t){let n,s=-1;for(;++s<t.length;){const e=t[s],i=n?n.children:void 0;if(r(e,i?i.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],r=i[a][0],s=i[a][1];let o=0;const l=n.children.indexOf(e);let c=!1,u=[];r.lastIndex=0;let d=r.exec(e.value);for(;d;){const n=d.index,i={index:d.index,input:d.input,stack:[...t,e]};let a=s(...d,i);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?r.lastIndex=n+1:(o!==n&&u.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(a)?u.push(...a):a&&u.push(a),o=n+d[0].length,c=!0),!r.global)break;d=r.exec(e.value)}return c?(o<e.value.length&&u.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...u)):u=[e],l+u.length}(e,t)}}function W_(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Z_(e){return"function"==typeof e?e:function(){return e}}function K_(){return{type:"break"}}function Y_(){return function(e){!function(e){q_(e,[/\r?\n|\r/g,K_])}(e)}}function G_(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;-1!==i;)r++,i=n.indexOf(t,i+t.length);return r}const J_="phrasing",Q_=["autolink","link","image","label"];function X_(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ek(e){this.config.enter.autolinkProtocol.call(this,e)}function tk(e){this.config.exit.autolinkProtocol.call(this,e)}function nk(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function rk(e){this.config.exit.autolinkEmail.call(this,e)}function ik(e){this.exit(e)}function ak(e){q_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,sk],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),ok]],{ignore:["link","linkReference"]})}function sk(e,t,n,r,i){let a="";if(!lk(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n)))return!1;const s=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=G_(e,"(");let a=G_(e,")");for(;-1!==r&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function ok(e,t,n,r){return!(!lk(r,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function lk(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||ex(n)||Xb(n))&&(!t||47!==n)}function ck(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function uk(){this.buffer()}function dk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Ub(this.sliceSerialize(e)).toLowerCase()}function hk(e){this.exit(e)}function pk(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function fk(){this.buffer()}function mk(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.label=t,n.identifier=Ub(this.sliceSerialize(e)).toLowerCase()}function gk(e){this.exit(e)}function vk(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{...i.current(),before:a,after:"]"})),o(),s(),a+=i.move("]"),a}function yk(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteDefinition"),o=n.enter("label");return a+=i.move(n.safe(n.associationId(e),{...i.current(),before:a,after:"]"})),o(),a+=i.move("]:"+(e.children&&e.children.length>0?" ":"")),i.shift(4),a+=i.move(n.indentLines(n.containerFlow(e,i.current()),bk)),s(),a}function bk(e,t,n){return 0===t?e:(n?"":"    ")+e}vk.peek=function(){return"["};const xk=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function wk(e){this.enter({type:"delete",children:[]},e)}function _k(e){this.exit(e)}function kk(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function jk(e){return e.length}function Sk(e){return null==e?"":String(e)}function Nk(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function Ek(e,t,n){return">"+(n?"":" ")+e}function Ck(e,t){return Ok(e,t.inConstruct,!0)&&!Ok(e,t.notInConstruct,!1)}function Ok(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function Tk(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&Ck(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}function Ak(e,t,n){return(n?"":"    ")+e}function Pk(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Rk(e,t,n,r){const i=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),a=n.enter("emphasis"),s=n.createTracker(r);let o=s.move(i);return o+=s.move(n.containerPhrasing(e,{before:o,after:i,...s.current()})),o+=s.move(i),a(),o}function Mk(e){return e.value||""}function Ik(e,t,n,r){const i=Pk(n),a='"'===i?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),c+=l.move(")"),s(),c}function Dk(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function Lk(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const e=n.unsafe[a],t=n.compilePattern(e);let i;if(e.atBreak)for(;i=t.exec(r);){let e=i.index;10===r.charCodeAt(e)&&13===r.charCodeAt(e-1)&&e--,r=r.slice(0,e)+" "+r.slice(i.index+1)}}return i+r+i}function Fk(e,t){const n=Tb(e);return!(t.options.resourceLink||!e.url||e.title||!e.children||1!==e.children.length||"text"!==e.children[0].type||n!==e.url&&"mailto:"+n!==e.url||!/^[a-z][a-z+.-]+:/i.test(e.url)||/[\0- <>\u007F]/.test(e.url))}function zk(e,t,n,r){const i=Pk(n),a='"'===i?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(Fk(e,n)){const t=n.stack;n.stack=[],o=n.enter("autolink");let r=s.move("<");return r+=s.move(n.containerPhrasing(e,{before:r,after:">",...s.current()})),r+=s.move(">"),o(),n.stack=t,r}o=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(e,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(e.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(e.url,{before:c,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),c+=s.move(" "+i),c+=s.move(n.safe(e.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),o(),c}function Bk(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=u,a(),"full"!==i&&c&&c===d?"shortcut"===i?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function $k(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Uk(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}kk.peek=function(){return"~"},Rk.peek=function(e,t,n){return n.options.emphasis||"*"},Mk.peek=function(){return"<"},Ik.peek=function(){return"!"},Dk.peek=function(){return"!"},Lk.peek=function(){return"`"},zk.peek=function(e,t,n){return Fk(e,n)?"<":"["},Bk.peek=function(){return"["};const Hk=Uw(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Vk(e,t,n,r){const i=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),a=n.enter("strong"),s=n.createTracker(r);let o=s.move(i+i);return o+=s.move(n.containerPhrasing(e,{before:o,after:i,...s.current()})),o+=s.move(i+i),a(),o}Vk.peek=function(e,t,n){return n.options.strong||"*"};const qk={blockquote:function(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),Ek);return i(),s},break:Tk,code:function(e,t,n,r){const i=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),a=e.value||"",s="`"===i?"GraveAccent":"Tilde";if(function(e,t){return!(!1!==t.options.fences||!e.value||e.lang||!/[^ \r\n]/.test(e.value)||/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(a,Ak);return e(),t}const o=n.createTracker(r),l=i.repeat(Math.max(function(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==r;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}(a,i)+1,3)),c=n.enter("codeFenced");let u=o.move(l);if(e.lang){const t=n.enter(`codeFencedLang${s}`);u+=o.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${s}`);u+=o.move(" "),u+=o.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...o.current()})),t()}return u+=o.move("\n"),a&&(u+=o.move(a+"\n")),u+=o.move(l),c(),u},definition:function(e,t,n,r){const i=Pk(n),a='"'===i?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),c+=l.move(" "+i),c+=l.move(n.safe(e.title,{before:c,after:i,...l.current()})),c+=l.move(i),o()),s(),c},emphasis:Rk,hardBreak:Tk,heading:function(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(function(e,t){let n=!1;return Yw(e,(function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,Zw})),!(e.depth&&!(e.depth<3)||!Tb(e)||!t.options.setext&&!n)}(e,n)){const t=n.enter("headingSetext"),r=n.enter("phrasing"),s=n.containerPhrasing(e,{...a.current(),before:"\n",after:"\n"});return r(),t(),s+"\n"+(1===i?"=":"-").repeat(s.length-(Math.max(s.lastIndexOf("\r"),s.lastIndexOf("\n"))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...a.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),o(),c},html:Mk,image:Ik,imageReference:Dk,inlineCode:Lk,link:zk,linkReference:Bk,list:function(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):$k(n);const o=e.ordered?"."===s?")":".":function(e){const t=$k(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&s===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if(("*"===s||"-"===s)&&t&&(!t.children||!t.children[0])&&"list"===n.stack[n.stack.length-1]&&"listItem"===n.stack[n.stack.length-2]&&"list"===n.stack[n.stack.length-3]&&"listItem"===n.stack[n.stack.length-4]&&0===n.indexStack[n.indexStack.length-1]&&0===n.indexStack[n.indexStack.length-2]&&0===n.indexStack[n.indexStack.length-3]&&(l=!0),Uk(n)===s&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const c=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),c},listItem:function(e,t,n,r){const i=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let a=n.bulletCurrent||$k(n);t&&"list"===t.type&&t.ordered&&(a=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+a);let s=a.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(s=4*Math.ceil(s/4));const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),(function(e,t,n){return t?(n?"":" ".repeat(s))+e:(n?a:a+" ".repeat(s-a.length))+e}));return l(),c},paragraph:function(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s},root:function(e,t,n,r){return(e.children.some((function(e){return Hk(e)}))?n.containerPhrasing:n.containerFlow).call(n,e,r)},strong:Vk,text:function(e,t,n,r){return n.safe(e.value,r)},thematicBreak:function(e,t,n){const r=(Uk(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?r.slice(0,-1):r}};function Wk(e){const t=e._align;this.enter({type:"table",align:t.map((function(e){return"none"===e?null:e})),children:[]},e),this.data.inTable=!0}function Zk(e){this.exit(e),this.data.inTable=void 0}function Kk(e){this.enter({type:"tableRow",children:[]},e)}function Yk(e){this.exit(e)}function Gk(e){this.enter({type:"tableCell",children:[]},e)}function Jk(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Qk));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Qk(e,t){return"|"===t?t:e}function Xk(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let r=qk.inlineCode(e,t,n);return n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&")),r},table:function(e,t,n,r){return o(function(e,t,n){const r=e.children;let i=-1;const a=[],s=t.enter("table");for(;++i<r.length;)a[i]=l(r[i],t,n);return s(),a}(e,n,r),e.align)},tableCell:s,tableRow:function(e,t,n,r){const i=o([l(e,n,r)]);return i.slice(0,i.indexOf("\n"))}}};function s(e,t,n,r){const i=n.enter("tableCell"),s=n.enter("phrasing"),o=n.containerPhrasing(e,{...r,before:a,after:a});return s(),i(),o}function o(e,t){return function(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||jk,a=[],s=[],o=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],r=[];let a=-1;for(e[u].length>c&&(c=e[u].length);++a<e[u].length;){const s=Sk(e[u][a]);if(!1!==n.alignDelimiters){const e=i(s);r[a]=e,(void 0===l[a]||e>l[a])&&(l[a]=e)}t.push(s)}s[u]=t,o[u]=r}let d=-1;if("object"==typeof r&&"length"in r)for(;++d<c;)a[d]=Nk(r[d]);else{const e=Nk(r);for(;++d<c;)a[d]=e}d=-1;const h=[],p=[];for(;++d<c;){const e=a[d];let t="",r="";99===e?(t=":",r=":"):108===e?t=":":114===e&&(r=":");let i=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-r.length);const s=t+"-".repeat(i)+r;!1!==n.alignDelimiters&&(i=t.length+i+r.length,i>l[d]&&(l[d]=i),p[d]=i),h[d]=s}s.splice(1,0,h),o.splice(1,0,p),u=-1;const f=[];for(;++u<s.length;){const e=s[u],t=o[u];d=-1;const r=[];for(;++d<c;){const i=e[d]||"";let s="",o="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=a[d];114===n?s=" ".repeat(e):99===n?e%2?(s=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(s=" ".repeat(e/2),o=s):o=" ".repeat(e)}!1!==n.delimiterStart&&!d&&r.push("|"),!1!==n.padding&&!(!1===n.alignDelimiters&&""===i)&&(!1!==n.delimiterStart||d)&&r.push(" "),!1!==n.alignDelimiters&&r.push(s),r.push(i),!1!==n.alignDelimiters&&r.push(o),!1!==n.padding&&r.push(" "),(!1!==n.delimiterEnd||d!==c-1)&&r.push("|")}f.push(!1===n.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return f.join("\n")}(e,{align:t,alignDelimiters:r,padding:n,stringLength:i})}function l(e,t,n){const r=e.children;let i=-1;const a=[],o=t.enter("tableRow");for(;++i<r.length;)a[i]=s(r[i],0,t,n);return o(),a}}function ej(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function tj(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const r=t.children;let i,a=-1;for(;++a<r.length;){const e=r[a];if("paragraph"===e.type){i=e;break}}i===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function nj(e,t,n,r){const i=e.children[0],a="boolean"==typeof e.checked&&i&&"paragraph"===i.type,s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=qk.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(e){return e+s}))),l}const rj={tokenize:function(e,t,n){let r=0;return function t(a){return(87===a||119===a)&&r<3?(r++,e.consume(a),t):46===a&&3===r?(e.consume(a),i):n(a)};function i(e){return null===e?n(e):t(e)}},partial:!0},ij={tokenize:function(e,t,n){let r,i,a;return s;function s(t){return 46===t||95===t?e.check(sj,l,o)(t):null===t||Jb(t)||ex(t)||45!==t&&Xb(t)?l(t):(a=!0,e.consume(t),s)}function o(t){return 95===t?r=!0:(i=r,r=void 0),e.consume(t),s}function l(e){return i||r||!a?n(e):t(e)}},partial:!0},aj={tokenize:function(e,t){let n=0,r=0;return i;function i(s){return 40===s?(n++,e.consume(s),i):41===s&&r<n?a(s):33===s||34===s||38===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||60===s||63===s||93===s||95===s||126===s?e.check(sj,t,a)(s):null===s||Jb(s)||ex(s)?t(s):(e.consume(s),i)}function a(t){return 41===t&&r++,e.consume(t),i}},partial:!0},sj={tokenize:function(e,t,n){return r;function r(s){return 33===s||34===s||39===s||41===s||42===s||44===s||46===s||58===s||59===s||63===s||95===s||126===s?(e.consume(s),r):38===s?(e.consume(s),a):93===s?(e.consume(s),i):60===s||null===s||Jb(s)||ex(s)?t(s):n(s)}function i(e){return null===e||40===e||91===e||Jb(e)||ex(e)?t(e):r(e)}function a(e){return Hb(e)?s(e):n(e)}function s(t){return 59===t?(e.consume(t),r):Hb(t)?(e.consume(t),s):n(t)}},partial:!0},oj={tokenize:function(e,t,n){return function(t){return e.consume(t),r};function r(e){return Vb(e)?n(e):t(e)}},partial:!0},lj={name:"wwwAutolink",tokenize:function(e,t,n){const r=this;return function(t){return 87!==t&&119!==t||!pj.call(r,r.previous)||vj(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(rj,e.attempt(ij,e.attempt(aj,i),n),n)(t))};function i(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:pj},cj={name:"protocolAutolink",tokenize:function(e,t,n){const r=this;let i="",a=!1;return function(t){return 72!==t&&104!==t||!fj.call(r,r.previous)||vj(r.events)?n(t):(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(t),e.consume(t),s)};function s(t){if(Hb(t)&&i.length<5)return i+=String.fromCodePoint(t),e.consume(t),s;if(58===t){const n=i.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),a?l:(a=!0,o)):n(t)}function l(t){return null===t||Wb(t)||Jb(t)||ex(t)||Xb(t)?n(t):e.attempt(ij,e.attempt(aj,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:fj},uj={name:"emailAutolink",tokenize:function(e,t,n){const r=this;let i,a;return function(t){return gj(t)&&mj.call(r,r.previous)&&!vj(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)):n(t)};function s(t){return gj(t)?(e.consume(t),s):64===t?(e.consume(t),o):n(t)}function o(t){return 46===t?e.check(oj,c,l)(t):45===t||95===t||Vb(t)?(a=!0,e.consume(t),o):c(t)}function l(t){return e.consume(t),i=!0,o}function c(s){return a&&i&&Hb(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(s)):n(s)}},previous:mj},dj={};let hj=48;for(;hj<123;)dj[hj]=uj,hj++,58===hj?hj=65:91===hj&&(hj=97);function pj(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||Jb(e)}function fj(e){return!Hb(e)}function mj(e){return!(47===e||gj(e))}function gj(e){return 43===e||45===e||46===e||95===e||Vb(e)}function vj(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}dj[43]=uj,dj[45]=uj,dj[46]=uj,dj[95]=uj,dj[72]=[uj,cj],dj[104]=[uj,cj],dj[87]=[uj,lj],dj[119]=[uj,lj];const yj={tokenize:function(e,t,n){const r=this;return rx(e,(function(e){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function bj(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const e=r.events[i][1];if("labelImage"===e.type){s=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(i){if(!s||!s._balanced)return n(i);const o=Ub(r.sliceSerialize({start:s.end,end:r.now()}));return 94===o.codePointAt(0)&&a.includes(o.slice(1))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(i),e.exit("gfmFootnoteCallLabelMarker"),t(i)):n(i)}}function xj(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function wj(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(s>999||93===o&&!a||null===o||91===o||Jb(o))return n(o);if(93===o){e.exit("chunkString");const a=e.exit("gfmFootnoteCallString");return i.includes(Ub(r.sliceSerialize(a)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return Jb(o)||(a=!0),s++,e.consume(o),92===o?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function _j(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(o>999||93===t&&!s||null===t||91===t||Jb(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return a=Ub(r.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return Jb(t)||(s=!0),o++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),i.includes(a)||i.push(a),rx(e,h,"gfmFootnoteDefinitionWhitespace")):n(t)}function h(e){return t(e)}}function kj(e,t,n){return e.check(hx,t,e.attempt(yj,t,n))}function jj(e){e.exit("gfmFootnoteDefinition")}function Sj(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,r){const i=this.previous,a=this.events;let s=0;return function(t){return 126===i&&"characterEscape"!==a[a.length-1][1].type?r(t):(e.enter("strikethroughSequenceTemporary"),o(t))};function o(a){const l=ox(i);if(126===a)return s>1?r(a):(e.consume(a),s++,o);if(s<2&&!t)return r(a);const c=e.exit("strikethroughSequenceTemporary"),u=ox(a);return c._open=!u||2===u&&!!l,c._close=!l||2===l&&!!u,n(a)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let r=n;for(;r--;)if("exit"===e[r][0]&&"strikethroughSequenceTemporary"===e[r][1].type&&e[r][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[r][1].end.offset-e[r][1].start.offset){e[n][1].type="strikethroughSequence",e[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},e[r][1].start),end:Object.assign({},e[n][1].end)},a={type:"strikethroughText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},s=[["enter",i,t],["enter",e[r][1],t],["exit",e[r][1],t],["enter",a,t]],o=t.parser.constructs.insideSpan.null;o&&Ib(s,s.length,0,lx(o,e.slice(r+1,n),t)),Ib(s,s.length,0,[["exit",a,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",i,t]]),Ib(e,r-1,n-r+3,s),n=r+s.length-2;break}}for(n=-1;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class Nj{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,r){let i=0;if(0!==n||0!==r.length){for(;i<e.map.length;){if(e.map[i][0]===t)return e.map[i][1]+=n,void e.map[i][2].push(...r);i+=1}e.map.push([t,n,r])}}(this,e,t,n)}consume(e){if(this.map.sort((function(e,t){return e[0]-t[0]})),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push([...e]),e.length=0;let r=n.pop();for(;r;)e.push(...r),r=n.pop();this.map.length=0}}function Ej(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if("enter"===i[0])"tableContent"===i[1].type&&r.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===i[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=r.length-1;r[e]="left"===r[e]?"center":"right"}}else if("tableDelimiterRow"===i[1].type)break}else"enter"===i[0]&&"tableDelimiterRow"===i[1].type&&(n=!0);t+=1}return r}function Cj(e,t,n){const r=this;let i,a=0,s=0;return function(e){let t=r.events.length-1;for(;t>-1;){const e=r.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const i=t>-1?r.events[t][1].type:null,a="tableHead"===i||"tableRow"===i?x:o;return a===x&&r.parser.lazy[r.now().line]?n(e):a(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){return 124===e||(i=!0,s+=1),l(e)}(t)}function l(t){return null===t?n(t):Gb(t)?s>1?(s=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):Qb(t)?rx(e,l,"whitespace")(t):(s+=1,i&&(i=!1,a+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),i=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||Jb(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(t):(e.enter("tableDelimiterRow"),i=!1,Qb(t)?rx(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):h(t))}function h(t){return 45===t||58===t?f(t):124===t?(i=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),p):b(t)}function p(t){return Qb(t)?rx(e,f,"whitespace")(t):f(t)}function f(t){return 58===t?(s+=1,i=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),m):45===t?(s+=1,m(t)):null===t||Gb(t)?y(t):b(t)}function m(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):b(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(i=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(t))}function v(t){return Qb(t)?rx(e,y,"whitespace")(t):y(t)}function y(n){return 124===n?h(n):(null===n||Gb(n))&&i&&a===s?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function x(t){return e.enter("tableRow"),w(t)}function w(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),w):null===n||Gb(n)?(e.exit("tableRow"),t(n)):Qb(n)?rx(e,w,"whitespace")(n):(e.enter("data"),_(n))}function _(t){return null===t||124===t||Jb(t)?(e.exit("data"),w(t)):(e.consume(t),92===t?k:_)}function k(t){return 92===t||124===t?(e.consume(t),_):_(t)}}function Oj(e,t){let n,r,i,a=-1,s=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const h=new Nj;for(;++a<e.length;){const p=e[a],f=p[1];"enter"===p[0]?"tableHead"===f.type?(u=!1,0!==d&&(Aj(h,t,d,n,r),r=void 0,d=0),n={type:"table",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",n,t]])):"tableRow"===f.type||"tableDelimiterRow"===f.type?(s=!0,i=void 0,l=[0,0,0,0],c=[0,a+1,0,0],u&&(u=!1,r={type:"tableBody",start:Object.assign({},f.start),end:Object.assign({},f.end)},h.add(a,0,[["enter",r,t]])),o="tableDelimiterRow"===f.type?2:r?3:1):!o||"data"!==f.type&&"tableDelimiterMarker"!==f.type&&"tableDelimiterFiller"!==f.type?"tableCellDivider"===f.type&&(s?s=!1:(0!==l[1]&&(c[0]=c[1],i=Tj(h,t,l,o,void 0,i)),l=c,c=[l[1],a,0,0])):(s=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],i=Tj(h,t,l,o,void 0,i),l=[0,0,0,0]),c[2]=a)):"tableHead"===f.type?(u=!0,d=a):"tableRow"===f.type||"tableDelimiterRow"===f.type?(d=a,0!==l[1]?(c[0]=c[1],i=Tj(h,t,l,o,a,i)):0!==c[1]&&(i=Tj(h,t,c,o,a,i)),o=0):o&&("data"===f.type||"tableDelimiterMarker"===f.type||"tableDelimiterFiller"===f.type)&&(c[3]=a)}for(0!==d&&Aj(h,t,d,n,r),h.consume(t.events),a=-1;++a<t.events.length;){const e=t.events[a];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=Ej(t.events,a))}return e}function Tj(e,t,n,r,i,a){const s=1===r?"tableHeader":2===r?"tableDelimiter":"tableData";0!==n[0]&&(a.end=Object.assign({},Pj(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const o=Pj(t.events,n[1]);if(a={type:s,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",a,t]]),0!==n[2]){const i=Pj(t.events,n[2]),a=Pj(t.events,n[3]),s={type:"tableContent",start:Object.assign({},i),end:Object.assign({},a)};if(e.add(n[2],0,[["enter",s,t]]),2!==r){const r=t.events[n[2]],i=t.events[n[3]];if(r[1].end=Object.assign({},i[1].end),r[1].type="chunkText",r[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,r=n[3]-n[2]-1;e.add(t,r,[])}}e.add(n[3]+1,0,[["exit",s,t]])}return void 0!==i&&(a.end=Object.assign({},Pj(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function Aj(e,t,n,r,i){const a=[],s=Pj(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Pj(e,t){const n=e[t],r="enter"===n[0]?"start":"end";return n[1][r]}const Rj={name:"tasklistCheck",tokenize:function(e,t,n){const r=this;return function(t){return null===r.previous&&r._gfmTasklistFirstContentOfListItem?(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),i):n(t)};function i(t){return Jb(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),a):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),a):n(t)}function a(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(t)}function s(r){return Gb(r)?t(r):Qb(r)?e.check({tokenize:Mj},t,n)(r):n(r)}}};function Mj(e,t,n){return rx(e,(function(e){return null===e?n(e):t(e)}),"whitespace")}const Ij={};function Dj(e){const t=e||Ij,n=this.data(),r=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);r.push(function(e){return Fb([{text:dj},{document:{91:{name:"gfmFootnoteDefinition",tokenize:_j,continuation:{tokenize:kj},exit:jj}},text:{91:{name:"gfmFootnoteCall",tokenize:wj},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bj,resolveTo:xj}}},Sj(e),{flow:{null:{name:"table",tokenize:Cj,resolveAll:Oj}}},{text:{91:Rj}}])}(t)),i.push([{transforms:[ak],enter:{literalAutolink:X_,literalAutolinkEmail:ek,literalAutolinkHttp:ek,literalAutolinkWww:ek},exit:{literalAutolink:ik,literalAutolinkEmail:rk,literalAutolinkHttp:tk,literalAutolinkWww:nk}},{enter:{gfmFootnoteDefinition:ck,gfmFootnoteDefinitionLabelString:uk,gfmFootnoteCall:pk,gfmFootnoteCallString:fk},exit:{gfmFootnoteDefinition:hk,gfmFootnoteDefinitionLabelString:dk,gfmFootnoteCall:gk,gfmFootnoteCallString:mk}},{canContainEols:["delete"],enter:{strikethrough:wk},exit:{strikethrough:_k}},{enter:{table:Wk,tableData:Gk,tableHeader:Gk,tableRow:Kk},exit:{codeText:Jk,table:Zk,tableData:Yk,tableHeader:Yk,tableRow:Yk}},{exit:{taskListCheckValueChecked:ej,taskListCheckValueUnchecked:ej,paragraph:tj}}]),a.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:J_,notInConstruct:Q_},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:J_,notInConstruct:Q_},{character:":",before:"[ps]",after:"\\/",inConstruct:J_,notInConstruct:Q_}]},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:yk,footnoteReference:vk}},{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:xk}],handlers:{delete:kk}},Xk(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nj}}]}}(t))}const Lj={container:{className:"bpReset bpContainer"},modal:{container:{className:"bpReset bpModalContainer"},overlay:{className:"bpModalOverlay"},dialog:{container:{className:"bpReset bpModalDialogContainer"},title:{container:{className:"bpReset bpModalDialogTitleContainer"},text:{className:"bpModalDialogTitleText"},closeIcon:{className:"bpModalDialogTitleCloseIcon"}},content:{className:"bpModalDialogContent"},newConversation:{button:{className:"bpModalDialogNewConversationButton"},text:{className:"bpModalDialogNewConversationText"}}}},fab:{container:{className:"bpReset bpFabContainer"},icon:{className:"bpFabIcon"}},notification:{container:{className:"bpReset bpNotificationContainer"},title:{className:"bpNotificationTitle"},description:{className:"bpNotificationDescription"},icon:{className:"bpNotificationIcon"},closeIcon:{className:"bpNotificationCloseIcon"}},header:{container:{className:"bpReset bpHeaderContainer"},content:{container:{className:"bpReset bpHeaderContentContainer"},title:{className:"bpHeaderContentTitle"},description:{className:"bpHeaderContentDescription"},avatar:{container:{className:"bpReset bpHeaderContentAvatarContainer"},image:{className:"bpHeaderContentAvatarImage"},fallback:{className:"bpHeaderContentAvatarFallback"}},actions:{container:{className:"bpReset bpHeaderContentActionsContainer"},icons:{className:"bpHeaderContentActionsIcons"}}},expandedContent:{container:{className:"bpReset bpHeaderExpandedContentContainer"},descriptionItems:{container:{className:"bpReset bpHeaderExpandedContentDescriptionItemsContainer"},icon:{className:"bpHeaderExpandedContentDescriptionItemsIcon"},text:{className:"bpHeaderExpandedContentDescriptionItemsText"},link:{className:"bpHeaderExpandedContentDescriptionItemsLink"}},group:{className:"bpHeaderExpandedContentGroup"}},newConversationIcon:{className:"bpHeaderNewConversationIcon"}},composer:{container:{className:"bpReset bpComposerContainer"},poweredBy:{className:"bpComposerPoweredBy"},input:{className:"bpComposerInput"},button:{container:{className:"bpReset bpComposerButtonContainer"},icon:{className:"bpComposerButtonIcon"}},uploadButton:{icon:{className:"bpComposerUploadButtonIcon"},container:{className:"bpReset bpComposerUploadButtonContainer"}},voiceButton:{icon:{className:"bpComposerVoiceButtonIcon"},container:{className:"bpReset bpComposerVoiceButtonContainer"}}},messageList:{scrollDownButton:{container:{className:"bpReset bpMessageListScrollDownButtonContainer"},button:{className:"bpMessageListScrollDownButtonButton"},icon:{className:"bpMessageListScrollDownButtonIcon"}},container:{className:"bpReset bpMessageListContainer"},viewPort:{className:"bpMessageListViewport"},marquee:{container:{className:"bpReset bpMessageListMarqueeContainer"},content:{className:"bpMessageListMarqueeContent"},title:{className:"bpMessageListMarqueeTitle"},description:{className:"bpMessageListMarqueeDescription"},avatar:{container:{className:"bpReset bpMessageListMarqueeAvatarContainer"},image:{className:"bpMessageListMarqueeAvatarImage"},fallback:{className:"bpMessageListMarqueeAvatarFallback"}}},headerMessage:{className:"bpMessageListHeaderMessage"}},message:{container:{className:"bpReset bpMessageContainer"},avatar:{container:{className:"bpReset bpMessageAvatarContainer"},image:{className:"bpMessageAvatarImage"},fallback:{className:"bpMessageAvatarFallback"}},blocks:{text:{heading1:{className:"bpMessageBlocksTextHeading1"},heading2:{className:"bpMessageBlocksTextHeading2"},heading3:{className:"bpMessageBlocksTextHeading3"},unorderedList:{className:"bpMessageBlocksTextUnorderedList"},orderedList:{className:"bpMessageBlocksTextOrderedList"},link:{className:"bpMessageBlocksTextLink"},italic:{className:"bpMessageBlocksTextItalic"},bold:{className:"bpMessageBlocksTextBold"},text:{className:"bpMessageBlocksTextText"},horizontalRule:{className:"bpMessageBlocksTextHorizontalRule"},listItem:{className:"bpMessageBlocksTextListItem"},lineBreak:{className:"bpMessageBlocksTextLineBreak"},pre:{className:"bpMessageBlocksTextPre"}},audio:{className:"bpMessageBlocksAudio"},image:{image:{className:"bpMessageBlocksImageImage"},placeholder:{className:"bpMessageBlocksImagePlaceholder"}},video:{className:"bpMessageBlocksVideo"},location:{container:{className:"bpMessageBlocksLocationContainer"},title:{className:"bpMessageBlocksLocationTitle"},icon:{className:"bpMessageBlocksLocationIcon"}},file:{container:{className:"bpMessageBlocksFileContainer"},title:{className:"bpMessageBlocksFileTitle"},icon:{className:"bpMessageBlocksFileIcon"}},row:{className:"bpMessageBlocksRow"},column:{className:"bpMessageBlocksColumn"},bubble:{className:"bpMessageBlocksBubble"},carousel:{container:{className:"bpMessageBlocksCarouselContainer"},slidesContainer:{className:"bpMessageBlocksCarouselSlidesContainer"},backButton:{className:"bpMessageBlocksCarouselBackButton"},nextButton:{className:"bpMessageBlocksCarouselNextButton"}},dropdown:{button:{container:{className:"bpMessageBlocksDropdownButtonContainer"},text:{className:"bpMessageBlocksDropdownButtonText"},icon:{className:"bpMessageBlocksDropdownButtonIcon"}},content:{container:{className:"bpMessageBlocksDropdownContentContainer"},item:{className:"bpMessageBlocksDropdownContentItem"}}},button:{className:"bpMessageBlocksButton"}}},typingIndicator:{container:{className:"bpTypingIndicatorContainer"},loader:{className:"bpTypingIndicatorLoader"}}};function Fj(e,t){return function(){return e.apply(t,arguments)}}const{toString:zj}=Object.prototype,{getPrototypeOf:Bj}=Object,$j=(e=>t=>{const n=zj.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Uj=e=>(e=e.toLowerCase(),t=>$j(t)===e),Hj=e=>t=>typeof t===e,{isArray:Vj}=Array,qj=Hj("undefined");const Wj=Uj("ArrayBuffer");const Zj=Hj("string"),Kj=Hj("function"),Yj=Hj("number"),Gj=e=>null!==e&&"object"==typeof e,Jj=e=>{if("object"!==$j(e))return!1;const t=Bj(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qj=Uj("Date"),Xj=Uj("File"),eS=Uj("Blob"),tS=Uj("FileList"),nS=Uj("URLSearchParams");function rS(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null===e||typeof e>"u"))if("object"!=typeof e&&(e=[e]),Vj(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function iS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const aS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sS=e=>!qj(e)&&e!==aS;const oS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Bj(Uint8Array)),lS=Uj("HTMLFormElement"),cS=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),uS=Uj("RegExp"),dS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rS(n,((n,i)=>{!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},hS={isArray:Vj,isArrayBuffer:Wj,isBuffer:function(e){return null!==e&&!qj(e)&&null!==e.constructor&&!qj(e.constructor)&&Kj(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{const t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||zj.call(e)===t||Kj(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){let t;return t=typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Wj(e.buffer),t},isString:Zj,isNumber:Yj,isBoolean:e=>!0===e||!1===e,isObject:Gj,isPlainObject:Jj,isUndefined:qj,isDate:Qj,isFile:Xj,isBlob:eS,isRegExp:uS,isFunction:Kj,isStream:e=>Gj(e)&&Kj(e.pipe),isURLSearchParams:nS,isTypedArray:oS,isFileList:tS,forEach:rS,merge:function e(){const{caseless:t}=sS(this)&&this||{},n={},r=(r,i)=>{const a=t&&iS(n,i)||i;Jj(n[a])&&Jj(r)?n[a]=e(n[a],r):Jj(r)?n[a]=e({},r):Vj(r)?n[a]=r.slice():n[a]=r};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&rS(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return rS(t,((t,r)=>{n&&Kj(t)?e[r]=Fj(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,a,s;const o={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)s=i[a],(!r||r(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=!1!==n&&Bj(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:$j,kindOfTest:Uj,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Vj(e))return e;let t=e.length;if(!Yj(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:lS,hasOwnProperty:cS,hasOwnProp:cS,reduceDescriptors:dS,freezeMethods:e=>{dS(e,((t,n)=>{if(Kj(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];if(Kj(r)){if(t.enumerable=!1,"writable"in t)return void(t.writable=!1);t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Vj(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:iS,global:aS,isContextDefined:sS,toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Gj(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Vj(e)?[]:{};return rS(e,((e,t)=>{const a=n(e,r+1);!qj(a)&&(i[t]=a)})),t[r]=void 0,i}}return e};return n(e,0)}};function pS(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}hS.inherits(pS,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:hS.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const fS=pS.prototype,mS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{mS[e]={value:e}})),Object.defineProperties(pS,mS),Object.defineProperty(fS,"isAxiosError",{value:!0}),pS.from=(e,t,n,r,i,a)=>{const s=Object.create(fS);return hS.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),pS.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};const gS=Lf("object"==typeof self?self.FormData:window.FormData);function vS(e){return hS.isPlainObject(e)||hS.isArray(e)}function yS(e){return hS.endsWith(e,"[]")?e.slice(0,-2):e}function bS(e,t,n){return e?e.concat(t).map((function(e,t){return e=yS(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const xS=hS.toFlatObject(hS,{},null,(function(e){return/^is[A-Z]/.test(e)}));function wS(e,t,n){if(!hS.isObject(e))throw new TypeError("target must be an object");t=t||new(gS||FormData);const r=(n=hS.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!hS.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,s=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&function(e){return e&&hS.isFunction(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator]}(t);if(!hS.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(hS.isDate(e))return e.toISOString();if(!o&&hS.isBlob(e))throw new pS("Blob is not supported. Use a Buffer instead.");return hS.isArrayBuffer(e)||hS.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let o=e;if(e&&!i&&"object"==typeof e)if(hS.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(hS.isArray(e)&&function(e){return hS.isArray(e)&&!e.some(vS)}(e)||hS.isFileList(e)||hS.endsWith(n,"[]")&&(o=hS.toArray(e)))return n=yS(n),o.forEach((function(e,r){!hS.isUndefined(e)&&null!==e&&t.append(!0===s?bS([n],r,a):null===s?n:n+"[]",l(e))})),!1;return!!vS(e)||(t.append(bS(i,n,a),l(e)),!1)}const u=[],d=Object.assign(xS,{defaultVisitor:c,convertValue:l,isVisitable:vS});if(!hS.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!hS.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),hS.forEach(n,(function(n,a){!0===(!(hS.isUndefined(n)||null===n)&&i.call(t,n,hS.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])})),u.pop()}}(e),t}function _S(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function kS(e,t){this._pairs=[],e&&wS(e,this,t)}const jS=kS.prototype;function SS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NS(e,t,n){if(!t)return e;const r=n&&n.encode||SS,i=n&&n.serialize;let a;if(a=i?i(t,n):hS.isURLSearchParams(t)?t.toString():new kS(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}jS.append=function(e,t){this._pairs.push([e,t])},jS.toString=function(e){const t=e?function(t){return e.call(this,t,_S)}:_S;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};class ES{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){hS.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}const CS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},OS=typeof URLSearchParams<"u"?URLSearchParams:kS,TS=FormData,AS=(()=>{let e;return(!(typeof navigator<"u")||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&(typeof window<"u"&&typeof document<"u")})(),PS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,RS={isBrowser:!0,classes:{URLSearchParams:OS,FormData:TS,Blob:Blob},isStandardBrowserEnv:AS,isStandardBrowserWebWorkerEnv:PS,protocols:["http","https","file","blob","url","data"]};function MS(e){function t(e,n,r,i){let a=e[i++];const s=Number.isFinite(+a),o=i>=e.length;return a=!a&&hS.isArray(r)?r.length:a,o?(hS.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!s):((!r[a]||!hS.isObject(r[a]))&&(r[a]=[]),t(e,n,r[a],i)&&hS.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],t[a]=e[a];return t}(r[a])),!s)}if(hS.isFormData(e)&&hS.isFunction(e.entries)){const n={};return hS.forEachEntry(e,((e,r)=>{t(function(e){return hS.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null}const IS={"Content-Type":void 0};const DS={transitional:CS,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=hS.isObject(e);if(i&&hS.isHTMLForm(e)&&(e=new FormData(e)),hS.isFormData(e))return r&&r?JSON.stringify(MS(e)):e;if(hS.isArrayBuffer(e)||hS.isBuffer(e)||hS.isStream(e)||hS.isFile(e)||hS.isBlob(e))return e;if(hS.isArrayBufferView(e))return e.buffer;if(hS.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return wS(e,new RS.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return RS.isNode&&hS.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=hS.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return wS(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,r){if(hS.isString(e))try{return(t||JSON.parse)(e),hS.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||DS.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&hS.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n)throw"SyntaxError"===i.name?pS.from(i,pS.ERR_BAD_RESPONSE,this,null,this.response):i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:RS.classes.FormData,Blob:RS.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};hS.forEach(["delete","get","head"],(function(e){DS.headers[e]={}})),hS.forEach(["post","put","patch"],(function(e){DS.headers[e]=hS.merge(IS)}));const LS=hS.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FS=Symbol("internals");function zS(e){return e&&String(e).trim().toLowerCase()}function BS(e){return!1===e||null==e?e:hS.isArray(e)?e.map(BS):String(e)}function $S(e,t,n,r){if(hS.isFunction(r))return r.call(this,t,n);if(hS.isString(t)){if(hS.isString(r))return-1!==t.indexOf(r);if(hS.isRegExp(r))return r.test(t)}}class US{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=zS(t);if(!i)throw new Error("header name must be a non-empty string");const a=hS.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=BS(e))}const a=(e,t)=>hS.forEach(e,((e,n)=>i(e,n,t)));return hS.isPlainObject(e)||e instanceof this.constructor?a(e,t):hS.isString(e)&&(e=e.trim())&&!function(e){return/^[-_a-zA-Z]+$/.test(e.trim())}(e)?a((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!(!n||t[n]&&LS[n])&&("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=zS(e)){const n=hS.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(hS.isFunction(t))return t.call(this,e,n);if(hS.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=zS(e)){const n=hS.findKey(this,e);return!(!n||t&&!$S(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=zS(e)){const i=hS.findKey(n,e);i&&(!t||$S(0,n[i],i,t))&&(delete n[i],r=!0)}}return hS.isArray(e)?e.forEach(i):i(e),r}clear(){return Object.keys(this).forEach(this.delete.bind(this))}normalize(e){const t=this,n={};return hS.forEach(this,((r,i)=>{const a=hS.findKey(n,i);if(a)return t[a]=BS(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=BS(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return hS.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&hS.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[FS]=this[FS]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=zS(e);t[r]||(function(e,t){const n=hS.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return hS.isArray(e)?e.forEach(r):r(e),this}}function HS(e,t){const n=this||DS,r=t||n,i=US.from(r.headers);let a=r.data;return hS.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function VS(e){return!(!e||!e.__CANCEL__)}function qS(e,t,n){pS.call(this,e??"canceled",pS.ERR_CANCELED,t,n),this.name="CanceledError"}US.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]),hS.freezeMethods(US.prototype),hS.freezeMethods(US),hS.inherits(qS,pS,{__CANCEL__:!0});const WS=RS.isStandardBrowserEnv?function(){return{write:function(e,t,n,r,i,a){const s=[];s.push(e+"="+encodeURIComponent(t)),hS.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),hS.isString(r)&&s.push("path="+r),hS.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ZS(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const KS=RS.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=hS.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return function(){return!0}}();function YS(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[s];i||(i=l),n[a]=o,r[a]=l;let u=s,d=0;for(;u!==a;)d+=n[u++],u%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}}(50,250);return i=>{const a=i.loaded,s=i.lengthComputable?i.total:void 0,o=a-n,l=r(o);n=a;const c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const GS=typeof XMLHttpRequest<"u"&&function(e){return new Promise((function(t,n){let r=e.data;const i=US.from(e.headers).normalize(),a=e.responseType;let s;function o(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}hS.isFormData(r)&&(RS.isStandardBrowserEnv||RS.isStandardBrowserWebWorkerEnv)&&i.setContentType(!1);let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const c=ZS(e.baseURL,e.url);function u(){if(!l)return;const r=US.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());(function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new pS("Request failed with status code "+n.status,[pS.ERR_BAD_REQUEST,pS.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)})((function(e){t(e),o()}),(function(e){n(e),o()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),NS(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){!l||4!==l.readyState||0===l.status&&(!l.responseURL||0!==l.responseURL.indexOf("file:"))||setTimeout(u)},l.onabort=function(){l&&(n(new pS("Request aborted",pS.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new pS("Network Error",pS.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||CS;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new pS(t,r.clarifyTimeoutError?pS.ETIMEDOUT:pS.ECONNABORTED,e,l)),l=null},RS.isStandardBrowserEnv){const t=(e.withCredentials||KS(c))&&e.xsrfCookieName&&WS.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&hS.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),hS.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",YS(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",YS(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(n(!t||t.type?new qS(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const d=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c);d&&-1===RS.protocols.indexOf(d)?n(new pS("Unsupported protocol "+d+":",pS.ERR_BAD_REQUEST,e)):l.send(r||null)}))},JS={http:null,xhr:GS};hS.forEach(JS,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}}));const QS=e=>{e=hS.isArray(e)?e:[e];const{length:t}=e;let n,r;for(let i=0;i<t&&(n=e[i],!(r=hS.isString(n)?JS[n.toLowerCase()]:n));i++);if(!r)throw!1===r?new pS(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(hS.hasOwnProp(JS,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!hS.isFunction(r))throw new TypeError("adapter is not a function");return r};function XS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qS(null,e)}function eN(e){return XS(e),e.headers=US.from(e.headers),e.data=HS.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),QS(e.adapter||DS.adapter)(e).then((function(t){return XS(e),t.data=HS.call(e,e.transformResponse,t),t.headers=US.from(t.headers),t}),(function(t){return VS(t)||(XS(e),t&&t.response&&(t.response.data=HS.call(e,e.transformResponse,t.response),t.response.headers=US.from(t.response.headers))),Promise.reject(t)}))}const tN=e=>e instanceof US?e.toJSON():e;function nN(e,t){t=t||{};const n={};function r(e,t,n){return hS.isPlainObject(e)&&hS.isPlainObject(t)?hS.merge.call({caseless:n},e,t):hS.isPlainObject(t)?hS.merge({},t):hS.isArray(t)?t.slice():t}function i(e,t,n){return hS.isUndefined(t)?hS.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!hS.isUndefined(t))return r(void 0,t)}function s(e,t){return hS.isUndefined(t)?hS.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>i(tN(e),tN(t),!0)};return hS.forEach(Object.keys(e).concat(Object.keys(t)),(function(r){const a=l[r]||i,s=a(e[r],t[r],r);hS.isUndefined(s)&&a!==o||(n[r]=s)})),n}const rN="1.2.5",iN={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{iN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const aN={};iN.transitional=function(e,t,n){function r(e,t){return"[Axios v1.2.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,a)=>{if(!1===e)throw new pS(r(i," has been removed"+(t?" in "+t:"")),pS.ERR_DEPRECATED);return t&&!aN[i]&&(aN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};const sN={assertOptions:function(e,t,n){if("object"!=typeof e)throw new pS("options must be an object",pS.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const a=r[i],s=t[a];if(s){const t=e[a],n=void 0===t||s(t,a,e);if(!0!==n)throw new pS("option "+a+" must be "+n,pS.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new pS("Unknown option "+a,pS.ERR_BAD_OPTION)}},validators:iN},oN=sN.validators;class lN{constructor(e){this.defaults=e,this.interceptors={request:new ES,response:new ES}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=nN(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;let a;void 0!==n&&sN.assertOptions(n,{silentJSONParsing:oN.transitional(oN.boolean),forcedJSONParsing:oN.transitional(oN.boolean),clarifyTimeoutError:oN.transitional(oN.boolean)},!1),void 0!==r&&sN.assertOptions(r,{encode:oN.function,serialize:oN.function},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase(),a=i&&hS.merge(i.common,i[t.method]),a&&hS.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=US.concat(a,i);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,u,d=0;if(!o){const e=[eN.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=eN.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return NS(ZS((e=nN(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}hS.forEach(["delete","get","head","options"],(function(e){lN.prototype[e]=function(t,n){return this.request(nN(n||{},{method:e,url:t,data:(n||{}).data}))}})),hS.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(nN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}lN.prototype[e]=t(),lN.prototype[e+"Form"]=t(!0)}));class cN{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new qS(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new cN((function(t){e=t})),cancel:e}}}const uN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uN).forEach((e=>{let[t,n]=e;uN[n]=t}));const dN=function e(t){const n=new lN(t),r=Fj(lN.prototype.request,n);return hS.extend(r,lN.prototype,n,{allOwnKeys:!0}),hS.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(nN(t,n))},r}(DS);dN.Axios=lN,dN.CanceledError=qS,dN.CancelToken=cN,dN.isCancel=VS,dN.VERSION=rN,dN.toFormData=wS,dN.AxiosError=pS,dN.Cancel=dN.CanceledError,dN.all=function(e){return Promise.all(e)},dN.spread=function(e){return function(t){return e.apply(null,t)}},dN.isAxiosError=function(e){return hS.isObject(e)&&!0===e.isAxiosError},dN.mergeConfig=nN,dN.AxiosHeaders=US,dN.formToJSON=e=>MS(hS.isHTMLForm(e)?new FormData(e):e),dN.HttpStatusCode=uN,dN.default=dN;const hN={},pN=Object.freeze(Object.defineProperty({__proto__:null,default:hN},Symbol.toStringTag,{value:"Module"}));var fN,mN=Error,gN=EvalError,vN=RangeError,yN=ReferenceError,bN=SyntaxError,xN=TypeError,wN=URIError,_N=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0},kN=typeof Symbol<"u"&&Symbol,jN=_N,SN=function(){return"function"==typeof kN&&"function"==typeof Symbol&&"symbol"==typeof kN("foo")&&"symbol"==typeof Symbol("bar")&&jN()},NN={__proto__:null,foo:{}},EN=Object,CN=Object.prototype.toString,ON=Math.max,TN=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},AN=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==CN.apply(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n,r=function(e,t){for(var n=[],r=t,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),i=ON(0,t.length-r.length),a=[],s=0;s<i;s++)a[s]="$"+s;if(n=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(a,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof n){var i=t.apply(this,TN(r,arguments));return Object(i)===i?i:this}return t.apply(e,TN(r,arguments))})),t.prototype){var o=function(){};o.prototype=t.prototype,n.prototype=new o,o.prototype=null}return n},PN=Function.prototype.bind||AN,RN=Function.prototype.call,MN=Object.prototype.hasOwnProperty,IN=PN.call(RN,MN),DN=mN,LN=gN,FN=vN,zN=yN,BN=bN,$N=xN,UN=wN,HN=Function,VN=function(e){try{return HN('"use strict"; return ('+e+").constructor;")()}catch{}},qN=Object.getOwnPropertyDescriptor;if(qN)try{qN({},"")}catch{qN=null}var WN=function(){throw new $N},ZN=qN?function(){try{return WN}catch{try{return qN(arguments,"callee").get}catch{return WN}}}():WN,KN=SN(),YN={__proto__:NN}.foo===NN.foo&&!(NN instanceof EN),GN=Object.getPrototypeOf||(YN?function(e){return e.__proto__}:null),JN={},QN=typeof Uint8Array>"u"||!GN?fN:GN(Uint8Array),XN={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?fN:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fN:ArrayBuffer,"%ArrayIteratorPrototype%":KN&&GN?GN([][Symbol.iterator]()):fN,"%AsyncFromSyncIteratorPrototype%":fN,"%AsyncFunction%":JN,"%AsyncGenerator%":JN,"%AsyncGeneratorFunction%":JN,"%AsyncIteratorPrototype%":JN,"%Atomics%":typeof Atomics>"u"?fN:Atomics,"%BigInt%":typeof BigInt>"u"?fN:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?fN:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?fN:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fN:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":DN,"%eval%":eval,"%EvalError%":LN,"%Float32Array%":typeof Float32Array>"u"?fN:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fN:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fN:FinalizationRegistry,"%Function%":HN,"%GeneratorFunction%":JN,"%Int8Array%":typeof Int8Array>"u"?fN:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fN:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fN:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":KN&&GN?GN(GN([][Symbol.iterator]())):fN,"%JSON%":"object"==typeof JSON?JSON:fN,"%Map%":typeof Map>"u"?fN:Map,"%MapIteratorPrototype%":typeof Map>"u"||!KN||!GN?fN:GN((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fN:Promise,"%Proxy%":typeof Proxy>"u"?fN:Proxy,"%RangeError%":FN,"%ReferenceError%":zN,"%Reflect%":typeof Reflect>"u"?fN:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fN:Set,"%SetIteratorPrototype%":typeof Set>"u"||!KN||!GN?fN:GN((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fN:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":KN&&GN?GN(""[Symbol.iterator]()):fN,"%Symbol%":KN?Symbol:fN,"%SyntaxError%":BN,"%ThrowTypeError%":ZN,"%TypedArray%":QN,"%TypeError%":$N,"%Uint8Array%":typeof Uint8Array>"u"?fN:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fN:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fN:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fN:Uint32Array,"%URIError%":UN,"%WeakMap%":typeof WeakMap>"u"?fN:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fN:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fN:WeakSet};if(GN)try{null.error}catch(bm){var eE=GN(GN(bm));XN["%Error.prototype%"]=eE}var tE,nE,rE=function e(t){var n;if("%AsyncFunction%"===t)n=VN("async function () {}");else if("%GeneratorFunction%"===t)n=VN("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=VN("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&GN&&(n=GN(i.prototype))}return XN[t]=n,n},iE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},aE=PN,sE=IN,oE=aE.call(Function.call,Array.prototype.concat),lE=aE.call(Function.apply,Array.prototype.splice),cE=aE.call(Function.call,String.prototype.replace),uE=aE.call(Function.call,String.prototype.slice),dE=aE.call(Function.call,RegExp.prototype.exec),hE=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,pE=/\\(\\)?/g,fE=function(e,t){var n,r=e;if(sE(iE,r)&&(r="%"+(n=iE[r])[0]+"%"),sE(XN,r)){var i=XN[r];if(i===JN&&(i=rE(r)),typeof i>"u"&&!t)throw new $N("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new BN("intrinsic "+e+" does not exist!")},mE=function(e,t){if("string"!=typeof e||0===e.length)throw new $N("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $N('"allowMissing" argument must be a boolean');if(null===dE(/^%?[^%]*%?$/,e))throw new BN("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=uE(e,0,1),n=uE(e,-1);if("%"===t&&"%"!==n)throw new BN("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new BN("invalid intrinsic syntax, expected opening `%`");var r=[];return cE(e,hE,(function(e,t,n,i){r[r.length]=n?cE(i,pE,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=fE("%"+r+"%",t),a=i.name,s=i.value,o=!1,l=i.alias;l&&(r=l[0],lE(n,oE([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],h=uE(d,0,1),p=uE(d,-1);if(('"'===h||"'"===h||"`"===h||'"'===p||"'"===p||"`"===p)&&h!==p)throw new BN("property names with quotes must have matching quotes");if(("constructor"===d||!u)&&(o=!0),sE(XN,a="%"+(r+="."+d)+"%"))s=XN[a];else if(null!=s){if(!(d in s)){if(!t)throw new $N("base intrinsic for "+e+" exists, but the property is not available.");return}if(qN&&c+1>=n.length){var f=qN(s,d);s=(u=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:s[d]}else u=sE(s,d),s=s[d];u&&!o&&(XN[a]=s)}}return s},gE={exports:{}};function vE(){if(nE)return tE;nE=1;var e=mE("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return tE=e}var yE=mE("%Object.getOwnPropertyDescriptor%",!0);if(yE)try{yE([],"length")}catch{yE=null}var bE=yE,xE=vE(),wE=bN,_E=xN,kE=bE,jE=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new _E("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new _E("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new _E("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new _E("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new _E("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new _E("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,i=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,s=arguments.length>6&&arguments[6],o=!!kE&&kE(e,t);if(xE)xE(e,t,{configurable:null===a&&o?o.configurable:!a,enumerable:null===r&&o?o.enumerable:!r,value:n,writable:null===i&&o?o.writable:!i});else{if(!s&&(r||i||a))throw new wE("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}},SE=vE(),NE=function(){return!!SE};NE.hasArrayLengthDefineBug=function(){if(!SE)return null;try{return 1!==SE([],"length",{value:1}).length}catch{return!0}};var EE=NE,CE=mE,OE=jE,TE=EE(),AE=bE,PE=xN,RE=CE("%Math.floor%"),ME=function(e,t){if("function"!=typeof e)throw new PE("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||RE(t)!==t)throw new PE("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,i=!0;if("length"in e&&AE){var a=AE(e,"length");a&&!a.configurable&&(r=!1),a&&!a.writable&&(i=!1)}return(r||i||!n)&&(TE?OE(e,"length",t,!0,!0):OE(e,"length",t)),e};!function(e){var t=PN,n=mE,r=ME,i=xN,a=n("%Function.prototype.apply%"),s=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||t.call(s,a),l=vE(),c=n("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new i("a function is required");var n=o(t,s,arguments);return r(n,1+c(0,e.length-(arguments.length-1)),!0)};var u=function(){return o(t,a,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(gE);var IE=gE.exports,DE=mE,LE=IE,FE=LE(DE("String.prototype.indexOf")),zE=function(e,t){var n=DE(e,!!t);return"function"==typeof n&&FE(e,".prototype.")>-1?LE(n):n};const BE=Ff(pN);var $E="function"==typeof Map&&Map.prototype,UE=Object.getOwnPropertyDescriptor&&$E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,HE=$E&&UE&&"function"==typeof UE.get?UE.get:null,VE=$E&&Map.prototype.forEach,qE="function"==typeof Set&&Set.prototype,WE=Object.getOwnPropertyDescriptor&&qE?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ZE=qE&&WE&&"function"==typeof WE.get?WE.get:null,KE=qE&&Set.prototype.forEach,YE="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,GE="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,JE="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,QE=Boolean.prototype.valueOf,XE=Object.prototype.toString,eC=Function.prototype.toString,tC=String.prototype.match,nC=String.prototype.slice,rC=String.prototype.replace,iC=String.prototype.toUpperCase,aC=String.prototype.toLowerCase,sC=RegExp.prototype.test,oC=Array.prototype.concat,lC=Array.prototype.join,cC=Array.prototype.slice,uC=Math.floor,dC="function"==typeof BigInt?BigInt.prototype.valueOf:null,hC=Object.getOwnPropertySymbols,pC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,fC="function"==typeof Symbol&&"object"==typeof Symbol.iterator,mC="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,gC=Object.prototype.propertyIsEnumerable,vC=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function yC(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||sC.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var r=e<0?-uC(-e):uC(e);if(r!==e){var i=String(r),a=nC.call(t,i.length+1);return rC.call(i,n,"$&_")+"."+rC.call(rC.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return rC.call(t,n,"$&_")}var bC=BE,xC=bC.custom,wC=NC(xC)?xC:null;function _C(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function kC(e){return rC.call(String(e),/"/g,"&quot;")}function jC(e){return"[object Array]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}function SC(e){return"[object RegExp]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}function NC(e){if(fC)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!pC)return!1;try{return pC.call(e),!0}catch{}return!1}var EC=Object.prototype.hasOwnProperty||function(e){return e in this};function CC(e,t){return EC.call(e,t)}function OC(e){return XE.call(e)}function TC(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function AC(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return AC(nC.call(e,0,t.maxStringLength),t)+r}return _C(rC.call(rC.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,PC),"single",t)}function PC(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+iC.call(t.toString(16))}function RC(e){return"Object("+e+")"}function MC(e){return e+" { ? }"}function IC(e,t,n,r){return e+" ("+t+") {"+(r?DC(n,r):lC.call(n,", "))+"}"}function DC(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+lC.call(e,","+n)+"\n"+t.prev}function LC(e,t){var n=jC(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=CC(e,i)?t(e[i],e):""}var a,s="function"==typeof hC?hC(e):[];if(fC){a={};for(var o=0;o<s.length;o++)a["$"+s[o]]=s[o]}for(var l in e)CC(e,l)&&(n&&String(Number(l))===l&&l<e.length||fC&&a["$"+l]instanceof Symbol||(sC.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"==typeof hC)for(var c=0;c<s.length;c++)gC.call(e,s[c])&&r.push("["+t(s[c])+"]: "+t(e[s[c]],e));return r}var FC=mE,zC=zE,BC=function e(t,n,r,i){var a=n||{};if(CC(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(CC(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!CC(a,"customInspect")||a.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(CC(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(CC(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var o=a.numericSeparator;if(typeof t>"u")return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return AC(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return o?yC(t,l):l}if("bigint"==typeof t){var c=String(t)+"n";return o?yC(t,c):c}var u=typeof a.depth>"u"?5:a.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&"object"==typeof t)return jC(t)?"[Array]":"[Object]";var d=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=lC.call(Array(e.indent+1)," ")}return{base:n,prev:lC.call(Array(t+1),n)}}(a,r);if(typeof i>"u")i=[];else if(TC(i,t)>=0)return"[Circular]";function h(t,n,s){if(n&&(i=cC.call(i)).push(n),s){var o={depth:a.depth};return CC(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),e(t,o,r+1,i)}return e(t,a,r+1,i)}if("function"==typeof t&&!SC(t)){var p=function(e){if(e.name)return e.name;var t=tC.call(eC.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),f=LC(t,h);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(f.length>0?" { "+lC.call(f,", ")+" }":"")}if(NC(t)){var m=fC?rC.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):pC.call(t);return"object"!=typeof t||fC?m:RC(m)}if(function(e){return!(!e||"object"!=typeof e)&&(typeof HTMLElement<"u"&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}(t)){for(var g="<"+aC.call(String(t.nodeName)),v=t.attributes||[],y=0;y<v.length;y++)g+=" "+v[y].name+"="+_C(kC(v[y].value),"double",a);return g+=">",t.childNodes&&t.childNodes.length&&(g+="..."),g+="</"+aC.call(String(t.nodeName))+">"}if(jC(t)){if(0===t.length)return"[]";var b=LC(t,h);return d&&!function(e){for(var t=0;t<e.length;t++)if(TC(e[t],"\n")>=0)return!1;return!0}(b)?"["+DC(b,d)+"]":"[ "+lC.call(b,", ")+" ]"}if(function(e){return"[object Error]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}(t)){var x=LC(t,h);return"cause"in Error.prototype||!("cause"in t)||gC.call(t,"cause")?0===x.length?"["+String(t)+"]":"{ ["+String(t)+"] "+lC.call(x,", ")+" }":"{ ["+String(t)+"] "+lC.call(oC.call("[cause]: "+h(t.cause),x),", ")+" }"}if("object"==typeof t&&s){if(wC&&"function"==typeof t[wC]&&bC)return bC(t,{depth:u-r});if("symbol"!==s&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!HE||!e||"object"!=typeof e)return!1;try{HE.call(e);try{ZE.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}(t)){var w=[];return VE&&VE.call(t,(function(e,n){w.push(h(n,t,!0)+" => "+h(e,t))})),IC("Map",HE.call(t),w,d)}if(function(e){if(!ZE||!e||"object"!=typeof e)return!1;try{ZE.call(e);try{HE.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}(t)){var _=[];return KE&&KE.call(t,(function(e){_.push(h(e,t))})),IC("Set",ZE.call(t),_,d)}if(function(e){if(!YE||!e||"object"!=typeof e)return!1;try{YE.call(e,YE);try{GE.call(e,GE)}catch{return!0}return e instanceof WeakMap}catch{}return!1}(t))return MC("WeakMap");if(function(e){if(!GE||!e||"object"!=typeof e)return!1;try{GE.call(e,GE);try{YE.call(e,YE)}catch{return!0}return e instanceof WeakSet}catch{}return!1}(t))return MC("WeakSet");if(function(e){if(!JE||!e||"object"!=typeof e)return!1;try{return JE.call(e),!0}catch{}return!1}(t))return MC("WeakRef");if(function(e){return"[object Number]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}(t))return RC(h(Number(t)));if(function(e){if(!e||"object"!=typeof e||!dC)return!1;try{return dC.call(e),!0}catch{}return!1}(t))return RC(h(dC.call(t)));if(function(e){return"[object Boolean]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}(t))return RC(QE.call(t));if(function(e){return"[object String]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}(t))return RC(h(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof Df<"u"&&t===Df)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===OC(e)&&(!mC||!("object"==typeof e&&mC in e))}(t)&&!SC(t)){var k=LC(t,h),j=vC?vC(t)===Object.prototype:t instanceof Object||t.constructor===Object,S=t instanceof Object?"":"null prototype",N=!j&&mC&&Object(t)===t&&mC in t?nC.call(OC(t),8,-1):S?"Object":"",E=(j||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(N||S?"["+lC.call(oC.call([],N||[],S||[]),": ")+"] ":"");return 0===k.length?E+"{}":d?E+"{"+DC(k,d)+"}":E+"{ "+lC.call(k,", ")+" }"}return String(t)},$C=xN,UC=FC("%WeakMap%",!0),HC=FC("%Map%",!0),VC=zC("WeakMap.prototype.get",!0),qC=zC("WeakMap.prototype.set",!0),WC=zC("WeakMap.prototype.has",!0),ZC=zC("Map.prototype.get",!0),KC=zC("Map.prototype.set",!0),YC=zC("Map.prototype.has",!0),GC=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},JC=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new $C("Side channel does not contain "+BC(e))},get:function(r){if(UC&&r&&("object"==typeof r||"function"==typeof r)){if(e)return VC(e,r)}else if(HC){if(t)return ZC(t,r)}else if(n)return function(e,t){var n=GC(e,t);return n&&n.value}(n,r)},has:function(r){if(UC&&r&&("object"==typeof r||"function"==typeof r)){if(e)return WC(e,r)}else if(HC){if(t)return YC(t,r)}else if(n)return function(e,t){return!!GC(e,t)}(n,r);return!1},set:function(r,i){UC&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new UC),qC(e,r,i)):HC?(t||(t=new HC),KC(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=GC(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r},QC=String.prototype.replace,XC=/%20/g,eO="RFC3986",tO={default:eO,formatters:{RFC1738:function(e){return QC.call(e,XC,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:eO},nO=tO,rO=Object.prototype.hasOwnProperty,iO=Array.isArray,aO=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),sO=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)typeof e[r]<"u"&&(n[r]=e[r]);return n},oO=1024,lO={arrayToObject:sO,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),o=0;o<s.length;++o){var l=s[o],c=a[l];"object"==typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:a,prop:l}),n.push(c))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(iO(n)){for(var r=[],i=0;i<n.length;++i)typeof n[i]<"u"&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var s="",o=0;o<a.length;o+=oO){for(var l=a.length>=oO?a.slice(o,o+oO):a,c=[],u=0;u<l.length;++u){var d=l.charCodeAt(u);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||i===nO.RFC1738&&(40===d||41===d)?c[c.length]=l.charAt(u):d<128?c[c.length]=aO[d]:d<2048?c[c.length]=aO[192|d>>6]+aO[128|63&d]:d<55296||d>=57344?c[c.length]=aO[224|d>>12]+aO[128|d>>6&63]+aO[128|63&d]:(u+=1,d=65536+((1023&d)<<10|1023&l.charCodeAt(u)),c[c.length]=aO[240|d>>18]+aO[128|d>>12&63]+aO[128|d>>6&63]+aO[128|63&d])}s+=c.join("")}return s},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(iO(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(iO(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!rO.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return iO(t)&&!iO(n)&&(i=sO(t,r)),iO(t)&&iO(n)?(n.forEach((function(n,i){if(rO.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var a=n[i];return rO.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t}),i)}},cO=JC,uO=lO,dO=tO,hO=Object.prototype.hasOwnProperty,pO={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},fO=Array.isArray,mO=Array.prototype.push,gO=function(e,t){mO.apply(e,fO(t)?t:[t])},vO=Date.prototype.toISOString,yO=dO.default,bO={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:uO.encode,encodeValuesOnly:!1,format:yO,formatter:dO.formatters[yO],indices:!1,serializeDate:function(e){return vO.call(e)},skipNulls:!1,strictNullHandling:!1},xO={},wO=function e(t,n,r,i,a,s,o,l,c,u,d,h,p,f,m,g,v,y){for(var b=t,x=y,w=0,_=!1;void 0!==(x=x.get(xO))&&!_;){var k=x.get(t);if(w+=1,typeof k<"u"){if(k===w)throw new RangeError("Cyclic object value");_=!0}typeof x.get(xO)>"u"&&(w=0)}if("function"==typeof u?b=u(n,b):b instanceof Date?b=p(b):"comma"===r&&fO(b)&&(b=uO.maybeMap(b,(function(e){return e instanceof Date?p(e):e}))),null===b){if(s)return c&&!g?c(n,bO.encoder,v,"key",f):n;b=""}if(function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e}(b)||uO.isBuffer(b))return c?[m(g?n:c(n,bO.encoder,v,"key",f))+"="+m(c(b,bO.encoder,v,"value",f))]:[m(n)+"="+m(String(b))];var j,S=[];if(typeof b>"u")return S;if("comma"===r&&fO(b))g&&c&&(b=uO.maybeMap(b,c)),j=[{value:b.length>0?b.join(",")||null:void 0}];else if(fO(u))j=u;else{var N=Object.keys(b);j=d?N.sort(d):N}var E=l?n.replace(/\./g,"%2E"):n,C=i&&fO(b)&&1===b.length?E+"[]":E;if(a&&fO(b)&&0===b.length)return C+"[]";for(var O=0;O<j.length;++O){var T=j[O],A="object"==typeof T&&typeof T.value<"u"?T.value:b[T];if(!o||null!==A){var P=h&&l?T.replace(/\./g,"%2E"):T,R=fO(b)?"function"==typeof r?r(C,P):C:C+(h?"."+P:"["+P+"]");y.set(t,w);var M=cO();M.set(xO,y),gO(S,e(A,R,r,i,a,s,o,l,"comma"===r&&g&&fO(b)?null:c,u,d,h,p,f,m,g,v,M))}}return S},_O=lO,kO=Object.prototype.hasOwnProperty,jO=Array.isArray,SO={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:_O.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},NO=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},EO=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},CO=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(i),o=s?i.slice(0,s.index):i,l=[];if(o){if(!n.plainObjects&&kO.call(Object.prototype,o)&&!n.allowPrototypes)return;l.push(o)}for(var c=0;n.depth>0&&null!==(s=a.exec(i))&&c<n.depth;){if(c+=1,!n.plainObjects&&kO.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;l.push(s[1])}if(s){if(!0===n.strictDepth)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");l.push("["+i.slice(s.index)+"]")}return function(e,t,n,r){for(var i=r?t:EO(t,n),a=e.length-1;a>=0;--a){var s,o=e[a];if("[]"===o&&n.parseArrays)s=n.allowEmptyArrays&&(""===i||n.strictNullHandling&&null===i)?[]:[].concat(i);else{s=n.plainObjects?Object.create(null):{};var l="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=n.decodeDotInKeys?l.replace(/%2E/g,"."):l,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&o!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=i:"__proto__"!==c&&(s[c]=i):s={0:i}}i=s}return i}(l,t,n,r)}},OO=function(e,t){var n,r=e,i=function(e){if(!e)return bO;if(typeof e.allowEmptyArrays<"u"&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&typeof e.encoder<"u"&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||bO.charset;if(typeof e.charset<"u"&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=dO.default;if(typeof e.format<"u"){if(!hO.call(dO.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=dO.formatters[n],a=bO.filter;if(("function"==typeof e.filter||fO(e.filter))&&(a=e.filter),r=e.arrayFormat in pO?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":bO.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?!0===e.encodeDotInKeys||bO.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:bO.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:bO.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:bO.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?bO.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:bO.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:bO.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:bO.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:bO.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:bO.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:bO.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:bO.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):fO(i.filter)&&(n=i.filter);var a=[];if("object"!=typeof r||null===r)return"";var s=pO[i.arrayFormat],o="comma"===s&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var l=cO(),c=0;c<n.length;++c){var u=n[c];i.skipNulls&&null===r[u]||gO(a,wO(r[u],u,s,o,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,l))}var d=a.join(i.delimiter),h=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&("iso-8859-1"===i.charset?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),d.length>0?h+d:""},TO=function(e,t){var n=function(e){if(!e)return SO;if(typeof e.allowEmptyArrays<"u"&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&typeof e.decoder<"u"&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?SO.charset:e.charset,n=typeof e.duplicates>"u"?SO.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:typeof e.allowDots>"u"?!0===e.decodeDotInKeys||SO.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:SO.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:SO.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:SO.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:SO.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:SO.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:SO.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:SO.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:SO.decoder,delimiter:"string"==typeof e.delimiter||_O.isRegExp(e.delimiter)?e.delimiter:SO.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:SO.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:SO.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:SO.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:SO.plainObjects,strictDepth:"boolean"==typeof e.strictDepth?!!e.strictDepth:SO.strictDepth,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:SO.strictNullHandling}}(t);if(""===e||null===e||typeof e>"u")return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n={__proto__:null},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i,a=t.parameterLimit===1/0?void 0:t.parameterLimit,s=r.split(t.delimiter,a),o=-1,l=t.charset;if(t.charsetSentinel)for(i=0;i<s.length;++i)0===s[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===s[i]?l="utf-8":"utf8=%26%2310003%3B"===s[i]&&(l="iso-8859-1"),o=i,i=s.length);for(i=0;i<s.length;++i)if(i!==o){var c,u,d=s[i],h=d.indexOf("]="),p=-1===h?d.indexOf("="):h+1;-1===p?(c=t.decoder(d,SO.decoder,l,"key"),u=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,p),SO.decoder,l,"key"),u=_O.maybeMap(EO(d.slice(p+1),t),(function(e){return t.decoder(e,SO.decoder,l,"value")}))),u&&t.interpretNumericEntities&&"iso-8859-1"===l&&(u=NO(u)),d.indexOf("[]=")>-1&&(u=jO(u)?[u]:u);var f=kO.call(n,c);f&&"combine"===t.duplicates?n[c]=_O.combine(n[c],u):(!f||"last"===t.duplicates)&&(n[c]=u)}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),s=0;s<a.length;++s){var o=a[s],l=CO(o,r[o],n,"string"==typeof e);i=_O.merge(i,l,n)}return!0===n.allowSparse?i:_O.compact(i)};const AO=Lf({formats:tO,parse:TO,stringify:OO});var PO={exports:{}};!function(e,t){!function(n){var r=n.setTimeout,i=n.clearTimeout,a=n.XMLHttpRequest,s=n.XDomainRequest,o=n.ActiveXObject,l=n.EventSource,c=n.document,u=n.Promise,d=n.fetch,h=n.Response,p=n.TextDecoder,f=n.TextEncoder,m=n.AbortController;if(typeof window<"u"&&typeof c<"u"&&!("readyState"in c)&&null==c.body&&(c.readyState="loading",window.addEventListener("load",(function(e){c.readyState="complete"}),!1)),null==a&&null!=o&&(a=function(){return new o("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==m){var g=d;d=function(e,t){var n=t.signal;return g(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then((function(e){var t=e.body.getReader();return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}}))},m=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(e){function t(e,t,n){if(1===n)return e>=128>>t&&e<<t<=2047;if(2===n)return e>=2048>>t&&e<<t<=55295||e>=57344>>t&&e<<t<=65535;if(3===n)return e>=65536>>t&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return t>>6>15?3:t>31?2:1;if(12===e)return t>15?3:2;if(18===e)return 3;throw new Error}for(var r=65533,i="",a=this.bitsNeeded,s=this.codePoint,o=0;o<e.length;o+=1){var l=e[o];0!==a&&(l<128||l>191||!t(s<<6|63&l,a-6,n(a,s)))&&(a=0,s=r,i+=String.fromCharCode(s)),0===a?(l>=0&&l<=127?(a=0,s=l):l>=192&&l<=223?(a=6,s=31&l):l>=224&&l<=239?(a=12,s=15&l):l>=240&&l<=247?(a=18,s=7&l):(a=0,s=r),0!==a&&!t(s,a,n(a,s))&&(a=0,s=r)):(a-=6,s=s<<6|63&l),0===a&&(s<=65535?i+=String.fromCharCode(s):(i+=String.fromCharCode(55296+(s-65535-1>>10)),i+=String.fromCharCode(56320+(s-65535-1&1023))))}return this.bitsNeeded=a,this.codePoint=s,i};(null==p||null==f||!function(){try{return"test"===(new p).decode((new f).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}())&&(p=v);var y=function(){};function b(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=y,this.onload=y,this.onerror=y,this.onreadystatechange=y,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=y}function x(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function w(e){for(var t=Object.create(null),n=e.split("\r\n"),r=0;r<n.length;r+=1){var i=n[r].split(": "),a=i.shift(),s=i.join(": ");t[x(a)]=s}this._map=t}function _(){}function k(e){this._headers=e}function j(){}function S(){this._listeners=Object.create(null)}function N(e){r((function(){throw e}),0)}function E(e){this.type=e,this.target=void 0}function C(e,t){E.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function O(e,t){E.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function T(e,t){E.call(this,e),this.error=t.error}b.prototype.open=function(e,t){this._abort(!0);var n=this,s=this._xhr,o=1,l=0;this._abort=function(e){0!==n._sendTimeout&&(i(n._sendTimeout),n._sendTimeout=0),(1===o||2===o||3===o)&&(o=4,s.onload=y,s.onerror=y,s.onabort=y,s.onprogress=y,s.onreadystatechange=y,s.abort(),0!==l&&(i(l),l=0),e||(n.readyState=4,n.onabort(null),n.onreadystatechange())),o=0};var c=function(){if(1===o){var e=0,t="",r=void 0;if("contentType"in s)e=200,t="OK",r=s.contentType;else try{e=s.status,t=s.statusText,r=s.getResponseHeader("Content-Type")}catch{e=0,t="",r=void 0}0!==e&&(o=2,n.readyState=2,n.status=e,n.statusText=t,n._contentType=r,n.onreadystatechange())}},u=function(){if(c(),2===o||3===o){o=3;var e="";try{e=s.responseText}catch{}n.readyState=3,n.responseText=e,n.onprogress()}},d=function(e,t){if((null==t||null==t.preventDefault)&&(t={preventDefault:y}),u(),1===o||2===o||3===o){if(o=4,0!==l&&(i(l),l=0),n.readyState=4,"load"===e)n.onload(t);else if("error"===e)n.onerror(t);else{if("abort"!==e)throw new TypeError;n.onabort(t)}n.onreadystatechange()}},h=function(){l=r((function(){h()}),500),3===s.readyState&&u()};"onload"in s&&(s.onload=function(e){d("load",e)}),"onerror"in s&&(s.onerror=function(e){d("error",e)}),"onabort"in s&&(s.onabort=function(e){d("abort",e)}),"onprogress"in s&&(s.onprogress=u),"onreadystatechange"in s&&(s.onreadystatechange=function(e){!function(e){null!=s&&(4===s.readyState?(!("onload"in s)||!("onerror"in s)||!("onabort"in s))&&d(""===s.responseText?"error":"load",e):3===s.readyState?"onprogress"in s||u():2===s.readyState&&c())}(e)}),("contentType"in s||!("ontimeout"in a.prototype))&&(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),s.open(e,t,!0),"readyState"in s&&(l=r((function(){h()}),0))},b.prototype.abort=function(){this._abort(!1)},b.prototype.getResponseHeader=function(e){return this._contentType},b.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},b.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},b.prototype.send=function(){if("ontimeout"in a.prototype&&("sendAsBinary"in a.prototype||"mozAnon"in a.prototype)||null==c||null==c.readyState||"complete"===c.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(n){throw n}}else{var t=this;t._sendTimeout=r((function(){t._sendTimeout=0,t.send()}),4)}},w.prototype.get=function(e){return this._map[x(e)]},null!=a&&null==a.HEADERS_RECEIVED&&(a.HEADERS_RECEIVED=2),_.prototype.open=function(e,t,n,r,i,s,o){e.open("GET",i);var l=0;for(var c in e.onprogress=function(){var t=e.responseText.slice(l);l+=t.length,n(t)},e.onerror=function(e){e.preventDefault(),r(new Error("NetworkError"))},e.onload=function(){r(null)},e.onabort=function(){r(null)},e.onreadystatechange=function(){if(e.readyState===a.HEADERS_RECEIVED){var n=e.status,r=e.statusText,i=e.getResponseHeader("Content-Type"),s=e.getAllResponseHeaders();t(n,r,i,new w(s))}},e.withCredentials=s,o)Object.prototype.hasOwnProperty.call(o,c)&&e.setRequestHeader(c,o[c]);return e.send(),e},k.prototype.get=function(e){return this._headers.get(e)},j.prototype.open=function(e,t,n,r,i,a,s){var o=null,l=new m,c=l.signal,h=new p;return d(i,{headers:s,credentials:a?"include":"same-origin",signal:c,cache:"no-store"}).then((function(e){return o=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new k(e.headers)),new u((function(e,t){var r=function(){o.read().then((function(t){if(t.done)e(void 0);else{var i=h.decode(t.value,{stream:!0});n(i),r()}})).catch((function(e){t(e)}))};r()}))})).catch((function(e){if("AbortError"!==e.name)return e})).then((function(e){r(e)})),{abort:function(){null!=o&&o.cancel(),l.abort()}}},S.prototype.dispatchEvent=function(e){e.target=this;var t=this._listeners[e.type];if(null!=t)for(var n=t.length,r=0;r<n;r+=1){var i=t[r];try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(a){N(a)}}},S.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];null==r&&(r=[],n[e]=r);for(var i=!1,a=0;a<r.length;a+=1)r[a]===t&&(i=!0);i||r.push(t)},S.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,r=n[e];if(null!=r){for(var i=[],a=0;a<r.length;a+=1)r[a]!==t&&i.push(r[a]);0===i.length?delete n[e]:n[e]=i}},C.prototype=Object.create(E.prototype),O.prototype=Object.create(E.prototype),T.prototype=Object.create(E.prototype);var A=-1,P=-1,R=/^text\/event\-stream(;.*)?$/i,M=function(e,t){var n=null==e?t:parseInt(e,10);return n!==n&&(n=t),I(n)},I=function(e){return Math.min(Math.max(e,1e3),18e6)},D=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(r){N(r)}};function L(e,t){S.call(this),t=t||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,t,n){t=String(t);var o=!!n.withCredentials,l=n.lastEventIdQueryParameterName||"lastEventId",c=I(1e3),u=M(n.heartbeatTimeout,45e3),d="",h=c,p=!1,f=0,m=n.headers||{},g=n.Transport,v=F&&null==g?void 0:new b(null!=g?new g:null!=a&&"withCredentials"in a.prototype||null==s?new a:new s),y=null!=g&&"string"!=typeof g?new g:null==v?new j:new _,x=void 0,w=0,k=A,S="",N="",E="",L="",z=0,B=0,$=0,U=function(t,n,r,i){if(0===k)if(200===t&&null!=r&&R.test(r)){k=1,p=Date.now(),h=c,e.readyState=1;var a=new O("open",{status:t,statusText:n,headers:i});e.dispatchEvent(a),D(e,e.onopen,a)}else{var s="";200!==t?(n&&(n=n.replace(/\s+/g," ")),s="EventSource's response has a status "+t+" "+n+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",q();a=new O("error",{status:t,statusText:n,headers:i});e.dispatchEvent(a),D(e,e.onerror,a),console.error(s)}},H=function(t){if(1===k){for(var n=-1,a=0;a<t.length;a+=1){(10===(l=t.charCodeAt(a))||13===l)&&(n=a)}var s=(-1!==n?L:"")+t.slice(0,n+1);L=(-1===n?L:"")+t.slice(n+1),""!==t&&(p=Date.now(),f+=t.length);for(var o=0;o<s.length;o+=1){var l=s.charCodeAt(o);if(z===P&&10===l)z=0;else if(z===P&&(z=0),13===l||10===l){if(0!==z){1===z&&($=o+1);var m=s.slice(B,$-1),g=s.slice($+($<o&&32===s.charCodeAt($)?1:0),o);"data"===m?(S+="\n",S+=g):"id"===m?N=g:"event"===m?E=g:"retry"===m?(c=M(g,c),h=c):"heartbeatTimeout"===m&&(u=M(g,u),0!==w&&(i(w),w=r((function(){W()}),u)))}if(0===z){if(""!==S){d=N,""===E&&(E="message");var v=new C(E,{data:S.slice(1),lastEventId:N});if(e.dispatchEvent(v),"open"===E?D(e,e.onopen,v):"message"===E?D(e,e.onmessage,v):"error"===E&&D(e,e.onerror,v),2===k)return}S="",E=""}z=13===l?P:0}else 0===z&&(B=o,z=1),1===z?58===l&&($=o+1,z=2):2===z&&(z=3)}}},V=function(t){if(1===k||0===k){k=A,0!==w&&(i(w),w=0),w=r((function(){W()}),h),h=I(Math.min(16*c,2*h)),e.readyState=0;var n=new T("error",{error:t});e.dispatchEvent(n),D(e,e.onerror,n),null!=t&&console.error(t)}},q=function(){k=2,null!=x&&(x.abort(),x=void 0),0!==w&&(i(w),w=0),e.readyState=2},W=function(){if(w=0,k===A){p=!1,f=0,w=r((function(){W()}),u),k=0,S="",E="",N=d,L="",B=0,$=0,z=0;var n=t;if("data:"!==t.slice(0,5)&&"blob:"!==t.slice(0,5)&&""!==d){var i=t.indexOf("?");n=-1===i?t:t.slice(0,i+1)+t.slice(i+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,t){return t===l?"":e})),n+=(-1===t.indexOf("?")?"?":"&")+l+"="+encodeURIComponent(d)}var a=e.withCredentials,s={Accept:"text/event-stream"},o=e.headers;if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[c]=o[c]);try{x=y.open(v,U,H,V,n,a,s)}catch(m){throw q(),m}}else if(p||null==x){var h=Math.max((p||Date.now())+u-Date.now(),1);p=!1,w=r((function(){W()}),h)}else V(new Error("No activity within "+u+" milliseconds. "+(0===k?"No response received.":f+" chars received.")+" Reconnecting.")),null!=x&&(x.abort(),x=void 0)};e.url=t,e.readyState=0,e.withCredentials=o,e.headers=m,e._close=q,W()}(this,e,t)}var F=null!=d&&null!=h&&"body"in h.prototype;L.prototype=Object.create(S.prototype),L.prototype.CONNECTING=0,L.prototype.OPEN=1,L.prototype.CLOSED=2,L.prototype.close=function(){this._close()},L.CONNECTING=0,L.OPEN=1,L.CLOSED=2,L.prototype.withCredentials=void 0;var z=l;null!=a&&(null==l||!("withCredentials"in l.prototype))&&(z=L),function(){var n=function(e){e.EventSourcePolyfill=L,e.NativeEventSource=l,e.EventSource=z}(t);void 0!==n&&(e.exports=n)}()}(typeof globalThis>"u"?typeof window<"u"?window:typeof self<"u"?self:Df:globalThis)}(PO,PO.exports);const RO=Lf(PO.exports);var MO,IO;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(MO||(MO={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(IO||(IO={}));const DO=MO.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),LO=e=>{switch(typeof e){case"undefined":return DO.undefined;case"string":return DO.string;case"number":return isNaN(e)?DO.nan:DO.number;case"boolean":return DO.boolean;case"function":return DO.function;case"bigint":return DO.bigint;case"symbol":return DO.symbol;case"object":return Array.isArray(e)?DO.array:null===e?DO.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?DO.promise:typeof Map<"u"&&e instanceof Map?DO.map:typeof Set<"u"&&e instanceof Set?DO.set:typeof Date<"u"&&e instanceof Date?DO.date:DO.object;default:return DO.unknown}},FO=MO.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zO extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof zO))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,MO.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}zO.create=e=>new zO(e);const BO=(e,t)=>{let n;switch(e.code){case FO.invalid_type:n=e.received===DO.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case FO.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,MO.jsonStringifyReplacer)}`;break;case FO.unrecognized_keys:n=`Unrecognized key(s) in object: ${MO.joinValues(e.keys,", ")}`;break;case FO.invalid_union:n="Invalid input";break;case FO.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${MO.joinValues(e.options)}`;break;case FO.invalid_enum_value:n=`Invalid enum value. Expected ${MO.joinValues(e.options)}, received '${e.received}'`;break;case FO.invalid_arguments:n="Invalid function arguments";break;case FO.invalid_return_type:n="Invalid function return type";break;case FO.invalid_date:n="Invalid date";break;case FO.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:MO.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case FO.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case FO.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case FO.custom:n="Invalid input";break;case FO.invalid_intersection_types:n="Intersection results could not be merged";break;case FO.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case FO.not_finite:n="Number must be finite";break;default:n=t.defaultError,MO.assertNever(e)}return{message:n}};let $O=BO;function UO(){return $O}const HO=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)o=c(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function VO(e,t){const n=UO(),r=HO({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===BO?void 0:BO].filter((e=>!!e))});e.common.issues.push(r)}class qO{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return WO;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return qO.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status||"aborted"===i.status)return WO;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(typeof i.value<"u"||r.alwaysSet)&&(n[t.value]=i.value)}return{status:e.value,value:n}}}const WO=Object.freeze({status:"aborted"}),ZO=e=>({status:"dirty",value:e}),KO=e=>({status:"valid",value:e}),YO=e=>"aborted"===e.status,GO=e=>"dirty"===e.status,JO=e=>"valid"===e.status,QO=e=>typeof Promise<"u"&&e instanceof Promise;function XO(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function eT(e,t,n,r,i){if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var tT,nT,rT;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(tT||(tT={}));class iT{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const aT=(e,t)=>{if(JO(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new zO(e.common.issues);return this._error=t,this._error}}};function sT(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var a,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:o??i.defaultError}:typeof i.data>"u"?{message:null!==(a=o??r)&&void 0!==a?a:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(s=o??n)&&void 0!==s?s:i.defaultError}},description:i}}class oT{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return LO(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:LO(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qO,ctx:{common:e.parent.common,data:e.data,parsedType:LO(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(QO(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:LO(e)},i=this._parseSync({data:e,path:r.path,parent:r});return aT(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:LO(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(QO(r)?r:Promise.resolve(r));return aT(n,i)}refine(e,t){const n=e=>"string"==typeof t||typeof t>"u"?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),a=()=>r.addIssue({code:FO.custom,...n(t)});return typeof Promise<"u"&&i instanceof Promise?i.then((e=>!!e||(a(),!1))):!!i||(a(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new rA({schema:this,typeName:mA.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return iA.create(this,this._def)}nullable(){return aA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return FT.create(this,this._def)}promise(){return nA.create(this,this._def)}or(e){return $T.create([this,e],this._def)}and(e){return qT.create(this,e,this._def)}transform(e){return new rA({...sT(this._def),schema:this,typeName:mA.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new sA({...sT(this._def),innerType:this,defaultValue:t,typeName:mA.ZodDefault})}brand(){return new uA({typeName:mA.ZodBranded,type:this,...sT(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new oA({...sT(this._def),innerType:this,catchValue:t,typeName:mA.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return dA.create(this,e)}readonly(){return hA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const lT=/^c[^\s-]{8,}$/i,cT=/^[0-9a-z]+$/,uT=/^[0-9A-HJKMNP-TV-Z]{26}$/,dT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,hT=/^[a-z0-9_-]{21}$/i,pT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let mT;const gT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vT=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,yT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bT="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",xT=new RegExp(`^${bT}$`);function wT(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function _T(e){return new RegExp(`^${wT(e)}$`)}function kT(e){let t=`${bT}T${wT(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function jT(e,t){return!(("v4"!==t&&t||!gT.test(e))&&("v6"!==t&&t||!vT.test(e)))}class ST extends oT{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==DO.string){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.string,received:t.parsedType}),WO}const t=new qO;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,a=e.data.length<r.value;(i||a)&&(n=this._getOrReturnCtx(e,n),i?VO(n,{code:FO.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):a&&VO(n,{code:FO.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)fT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"email",code:FO.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)mT||(mT=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),mT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"emoji",code:FO.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)dT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"uuid",code:FO.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)hT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"nanoid",code:FO.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)lT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"cuid",code:FO.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)cT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"cuid2",code:FO.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)uT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"ulid",code:FO.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),VO(n,{validation:"url",code:FO.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"regex",code:FO.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?kT(r).test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?xT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?_T(r).test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?pT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"duration",code:FO.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?jT(e.data,r.version)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"ip",code:FO.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?yT.test(e.data)||(n=this._getOrReturnCtx(e,n),VO(n,{validation:"base64",code:FO.invalid_string,message:r.message}),t.dirty()):MO.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:FO.invalid_string,...tT.errToObj(n)})}_addCheck(e){return new ST({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...tT.errToObj(e)})}url(e){return this._addCheck({kind:"url",...tT.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...tT.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...tT.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...tT.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...tT.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...tT.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...tT.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...tT.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...tT.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...tT.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(null==e?void 0:e.precision)>"u"?null:null==e?void 0:e.precision,...tT.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...tT.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...tT.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...tT.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...tT.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...tT.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...tT.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...tT.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...tT.errToObj(t)})}nonempty(e){return this.min(1,tT.errToObj(e))}trim(){return new ST({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ST({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ST({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function NT(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}ST.create=e=>{var t;return new ST({checks:[],typeName:mA.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...sT(e)})};class ET extends oT{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==DO.number){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.number,received:t.parsedType}),WO}let t;const n=new qO;for(const r of this._def.checks)"int"===r.kind?MO.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==NT(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.not_finite,message:r.message}),n.dirty()):MO.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,tT.toString(t))}gt(e,t){return this.setLimit("min",e,!1,tT.toString(t))}lte(e,t){return this.setLimit("max",e,!0,tT.toString(t))}lt(e,t){return this.setLimit("max",e,!1,tT.toString(t))}setLimit(e,t,n,r){return new ET({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:tT.toString(r)}]})}_addCheck(e){return new ET({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:tT.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:tT.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:tT.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:tT.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:tT.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tT.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:tT.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:tT.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:tT.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&MO.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ET.create=e=>new ET({checks:[],typeName:mA.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...sT(e)});class CT extends oT{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==DO.bigint){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.bigint,received:t.parsedType}),WO}let t;const n=new qO;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),VO(t,{code:FO.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):MO.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,tT.toString(t))}gt(e,t){return this.setLimit("min",e,!1,tT.toString(t))}lte(e,t){return this.setLimit("max",e,!0,tT.toString(t))}lt(e,t){return this.setLimit("max",e,!1,tT.toString(t))}setLimit(e,t,n,r){return new CT({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:tT.toString(r)}]})}_addCheck(e){return new CT({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:tT.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:tT.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:tT.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:tT.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:tT.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}CT.create=e=>{var t;return new CT({checks:[],typeName:mA.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...sT(e)})};class OT extends oT{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==DO.boolean){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.boolean,received:t.parsedType}),WO}return KO(e.data)}}OT.create=e=>new OT({typeName:mA.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...sT(e)});class TT extends oT{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==DO.date){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.date,received:t.parsedType}),WO}if(isNaN(e.data.getTime())){return VO(this._getOrReturnCtx(e),{code:FO.invalid_date}),WO}const t=new qO;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),VO(n,{code:FO.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):MO.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new TT({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:tT.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:tT.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}TT.create=e=>new TT({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:mA.ZodDate,...sT(e)});class AT extends oT{_parse(e){if(this._getType(e)!==DO.symbol){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.symbol,received:t.parsedType}),WO}return KO(e.data)}}AT.create=e=>new AT({typeName:mA.ZodSymbol,...sT(e)});class PT extends oT{_parse(e){if(this._getType(e)!==DO.undefined){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.undefined,received:t.parsedType}),WO}return KO(e.data)}}PT.create=e=>new PT({typeName:mA.ZodUndefined,...sT(e)});class RT extends oT{_parse(e){if(this._getType(e)!==DO.null){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.null,received:t.parsedType}),WO}return KO(e.data)}}RT.create=e=>new RT({typeName:mA.ZodNull,...sT(e)});class MT extends oT{constructor(){super(...arguments),this._any=!0}_parse(e){return KO(e.data)}}MT.create=e=>new MT({typeName:mA.ZodAny,...sT(e)});class IT extends oT{constructor(){super(...arguments),this._unknown=!0}_parse(e){return KO(e.data)}}IT.create=e=>new IT({typeName:mA.ZodUnknown,...sT(e)});class DT extends oT{_parse(e){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.never,received:t.parsedType}),WO}}DT.create=e=>new DT({typeName:mA.ZodNever,...sT(e)});class LT extends oT{_parse(e){if(this._getType(e)!==DO.undefined){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.void,received:t.parsedType}),WO}return KO(e.data)}}LT.create=e=>new LT({typeName:mA.ZodVoid,...sT(e)});class FT extends oT{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==DO.array)return VO(t,{code:FO.invalid_type,expected:DO.array,received:t.parsedType}),WO;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(VO(t,{code:e?FO.too_big:FO.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(VO(t,{code:FO.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(VO(t,{code:FO.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new iT(t,e,t.path,n))))).then((e=>qO.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new iT(t,e,t.path,n))));return qO.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new FT({...this._def,minLength:{value:e,message:tT.toString(t)}})}max(e,t){return new FT({...this._def,maxLength:{value:e,message:tT.toString(t)}})}length(e,t){return new FT({...this._def,exactLength:{value:e,message:tT.toString(t)}})}nonempty(e){return this.min(1,e)}}function zT(e){if(e instanceof BT){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=iA.create(zT(r))}return new BT({...e._def,shape:()=>t})}return e instanceof FT?new FT({...e._def,type:zT(e.element)}):e instanceof iA?iA.create(zT(e.unwrap())):e instanceof aA?aA.create(zT(e.unwrap())):e instanceof WT?WT.create(e.items.map((e=>zT(e)))):e}FT.create=(e,t)=>new FT({type:e,minLength:null,maxLength:null,exactLength:null,typeName:mA.ZodArray,...sT(t)});class BT extends oT{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=MO.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==DO.object){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.object,received:t.parsedType}),WO}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof DT&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||a.push(o);const s=[];for(const o of i){const e=r[o],t=n.data[o];s.push({key:{status:"valid",value:o},value:e._parse(new iT(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof DT){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(VO(n,{code:FO.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new iT(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>qO.mergeObjectSync(t,e))):qO.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return tT.errToObj,new BT({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,a,s;const o=null!==(a=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==a?a:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=tT.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new BT({...this._def,unknownKeys:"strip"})}passthrough(){return new BT({...this._def,unknownKeys:"passthrough"})}extend(e){return new BT({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new BT({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:mA.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new BT({...this._def,catchall:e})}pick(e){const t={};return MO.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new BT({...this._def,shape:()=>t})}omit(e){const t={};return MO.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new BT({...this._def,shape:()=>t})}deepPartial(){return zT(this)}partial(e){const t={};return MO.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new BT({...this._def,shape:()=>t})}required(e){const t={};return MO.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof iA;)e=e._def.innerType;t[n]=e}})),new BT({...this._def,shape:()=>t})}keyof(){return XT(MO.objectKeys(this.shape))}}BT.create=(e,t)=>new BT({shape:()=>e,unknownKeys:"strip",catchall:DT.create(),typeName:mA.ZodObject,...sT(t)}),BT.strictCreate=(e,t)=>new BT({shape:()=>e,unknownKeys:"strict",catchall:DT.create(),typeName:mA.ZodObject,...sT(t)}),BT.lazycreate=(e,t)=>new BT({shape:e,unknownKeys:"strip",catchall:DT.create(),typeName:mA.ZodObject,...sT(t)});class $T extends oT{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new zO(e.ctx.common.issues)));return VO(t,{code:FO.invalid_union,unionErrors:n}),WO}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"===i.status&&!e&&(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new zO(e)));return VO(t,{code:FO.invalid_union,unionErrors:i}),WO}}get options(){return this._def.options}}$T.create=(e,t)=>new $T({options:e,typeName:mA.ZodUnion,...sT(t)});const UT=e=>e instanceof JT?UT(e.schema):e instanceof rA?UT(e.innerType()):e instanceof QT?[e.value]:e instanceof eA?e.options:e instanceof tA?MO.objectValues(e.enum):e instanceof sA?UT(e._def.innerType):e instanceof PT?[void 0]:e instanceof RT?[null]:e instanceof iA?[void 0,...UT(e.unwrap())]:e instanceof aA?[null,...UT(e.unwrap())]:e instanceof uA||e instanceof hA?UT(e.unwrap()):e instanceof oA?UT(e._def.innerType):[];class HT extends oT{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==DO.object)return VO(t,{code:FO.invalid_type,expected:DO.object,received:t.parsedType}),WO;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(VO(t,{code:FO.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),WO)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=UT(i.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,i)}}return new HT({typeName:mA.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...sT(n)})}}function VT(e,t){const n=LO(e),r=LO(t);if(e===t)return{valid:!0,data:e};if(n===DO.object&&r===DO.object){const n=MO.objectKeys(t),r=MO.objectKeys(e).filter((e=>-1!==n.indexOf(e))),i={...e,...t};for(const a of r){const n=VT(e[a],t[a]);if(!n.valid)return{valid:!1};i[a]=n.data}return{valid:!0,data:i}}if(n===DO.array&&r===DO.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=VT(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===DO.date&&r===DO.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class qT extends oT{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(YO(e)||YO(r))return WO;const i=VT(e.value,r.value);return i.valid?((GO(e)||GO(r))&&t.dirty(),{status:t.value,value:i.data}):(VO(n,{code:FO.invalid_intersection_types}),WO)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qT.create=(e,t,n)=>new qT({left:e,right:t,typeName:mA.ZodIntersection,...sT(n)});class WT extends oT{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==DO.array)return VO(n,{code:FO.invalid_type,expected:DO.array,received:n.parsedType}),WO;if(n.data.length<this._def.items.length)return VO(n,{code:FO.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),WO;!this._def.rest&&n.data.length>this._def.items.length&&(VO(n,{code:FO.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new iT(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>qO.mergeArray(t,e))):qO.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new WT({...this._def,rest:e})}}WT.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new WT({items:e,typeName:mA.ZodTuple,rest:null,...sT(t)})};class ZT extends oT{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==DO.object)return VO(n,{code:FO.invalid_type,expected:DO.object,received:n.parsedType}),WO;const r=[],i=this._def.keyType,a=this._def.valueType;for(const s in n.data)r.push({key:i._parse(new iT(n,s,n.path,s)),value:a._parse(new iT(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?qO.mergeObjectAsync(t,r):qO.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ZT(t instanceof oT?{keyType:e,valueType:t,typeName:mA.ZodRecord,...sT(n)}:{keyType:ST.create(),valueType:e,typeName:mA.ZodRecord,...sT(t)})}}class KT extends oT{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==DO.map)return VO(n,{code:FO.invalid_type,expected:DO.map,received:n.parsedType}),WO;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(((e,t)=>{let[a,s]=e;return{key:r._parse(new iT(n,a,n.path,[t,"key"])),value:i._parse(new iT(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return WO;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return WO;("dirty"===r.status||"dirty"===i.status)&&t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}KT.create=(e,t,n)=>new KT({valueType:t,keyType:e,typeName:mA.ZodMap,...sT(n)});class YT extends oT{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==DO.set)return VO(n,{code:FO.invalid_type,expected:DO.set,received:n.parsedType}),WO;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(VO(n,{code:FO.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(VO(n,{code:FO.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return WO;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>i._parse(new iT(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>a(e))):a(s)}min(e,t){return new YT({...this._def,minSize:{value:e,message:tT.toString(t)}})}max(e,t){return new YT({...this._def,maxSize:{value:e,message:tT.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}YT.create=(e,t)=>new YT({valueType:e,minSize:null,maxSize:null,typeName:mA.ZodSet,...sT(t)});class GT extends oT{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==DO.function)return VO(t,{code:FO.invalid_type,expected:DO.function,received:t.parsedType}),WO;function n(e,n){return HO({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,UO(),BO].filter((e=>!!e)),issueData:{code:FO.invalid_arguments,argumentsError:n}})}function r(e,n){return HO({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,UO(),BO].filter((e=>!!e)),issueData:{code:FO.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof nA){const e=this;return KO((async function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=new zO([]),c=await e._def.args.parseAsync(s,i).catch((e=>{throw l.addIssue(n(s,e)),l})),u=await Reflect.apply(a,this,c);return await e._def.returns._def.type.parseAsync(u,i).catch((e=>{throw l.addIssue(r(u,e)),l}))}))}{const e=this;return KO((function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];const l=e._def.args.safeParse(s,i);if(!l.success)throw new zO([n(s,l.error)]);const c=Reflect.apply(a,this,l.data),u=e._def.returns.safeParse(c,i);if(!u.success)throw new zO([r(c,u.error)]);return u.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GT({...this._def,args:WT.create(t).rest(IT.create())})}returns(e){return new GT({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new GT({args:e||WT.create([]).rest(IT.create()),returns:t||IT.create(),typeName:mA.ZodFunction,...sT(n)})}}class JT extends oT{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}JT.create=(e,t)=>new JT({getter:e,typeName:mA.ZodLazy,...sT(t)});class QT extends oT{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return VO(t,{received:t.data,code:FO.invalid_literal,expected:this._def.value}),WO}return{status:"valid",value:e.data}}get value(){return this._def.value}}function XT(e,t){return new eA({values:e,typeName:mA.ZodEnum,...sT(t)})}QT.create=(e,t)=>new QT({value:e,typeName:mA.ZodLiteral,...sT(t)});class eA extends oT{constructor(){super(...arguments),nT.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return VO(t,{expected:MO.joinValues(n),received:t.parsedType,code:FO.invalid_type}),WO}if(XO(this,nT)||eT(this,nT,new Set(this._def.values)),!XO(this,nT).has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return VO(t,{received:t.data,code:FO.invalid_enum_value,options:n}),WO}return KO(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return eA.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return eA.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}nT=new WeakMap,eA.create=XT;class tA extends oT{constructor(){super(...arguments),rT.set(this,void 0)}_parse(e){const t=MO.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==DO.string&&n.parsedType!==DO.number){const e=MO.objectValues(t);return VO(n,{expected:MO.joinValues(e),received:n.parsedType,code:FO.invalid_type}),WO}if(XO(this,rT)||eT(this,rT,new Set(MO.getValidEnumValues(this._def.values))),!XO(this,rT).has(e.data)){const e=MO.objectValues(t);return VO(n,{received:n.data,code:FO.invalid_enum_value,options:e}),WO}return KO(e.data)}get enum(){return this._def.values}}rT=new WeakMap,tA.create=(e,t)=>new tA({values:e,typeName:mA.ZodNativeEnum,...sT(t)});class nA extends oT{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==DO.promise&&!1===t.common.async)return VO(t,{code:FO.invalid_type,expected:DO.promise,received:t.parsedType}),WO;const n=t.parsedType===DO.promise?t.data:Promise.resolve(t.data);return KO(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}nA.create=(e,t)=>new nA({type:e,typeName:mA.ZodPromise,...sT(t)});class rA extends oT{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===mA.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{VO(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return WO;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?WO:"dirty"===r.status||"dirty"===t.value?ZO(r.value):r}));{if("aborted"===t.value)return WO;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?WO:"dirty"===r.status||"dirty"===t.value?ZO(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?WO:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?WO:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!JO(e))return e;const a=r.transform(e.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>JO(e)?Promise.resolve(r.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}MO.assertNever(r)}}rA.create=(e,t,n)=>new rA({schema:e,typeName:mA.ZodEffects,effect:t,...sT(n)}),rA.createWithPreprocess=(e,t,n)=>new rA({schema:t,effect:{type:"preprocess",transform:e},typeName:mA.ZodEffects,...sT(n)});class iA extends oT{_parse(e){return this._getType(e)===DO.undefined?KO(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}iA.create=(e,t)=>new iA({innerType:e,typeName:mA.ZodOptional,...sT(t)});class aA extends oT{_parse(e){return this._getType(e)===DO.null?KO(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}aA.create=(e,t)=>new aA({innerType:e,typeName:mA.ZodNullable,...sT(t)});class sA extends oT{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===DO.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}sA.create=(e,t)=>new sA({innerType:e,typeName:mA.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...sT(t)});class oA extends oT{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return QO(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new zO(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new zO(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}oA.create=(e,t)=>new oA({innerType:e,typeName:mA.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...sT(t)});class lA extends oT{_parse(e){if(this._getType(e)!==DO.nan){const t=this._getOrReturnCtx(e);return VO(t,{code:FO.invalid_type,expected:DO.nan,received:t.parsedType}),WO}return{status:"valid",value:e.data}}}lA.create=e=>new lA({typeName:mA.ZodNaN,...sT(e)});const cA=Symbol("zod_brand");class uA extends oT{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class dA extends oT{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?WO:"dirty"===e.status?(t.dirty(),ZO(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?WO:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new dA({in:e,out:t,typeName:mA.ZodPipeline})}}class hA extends oT{_parse(e){const t=this._def.innerType._parse(e),n=e=>(JO(e)&&(e.value=Object.freeze(e.value)),e);return QO(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function pA(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?MT.create().superRefine(((r,i)=>{var a,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(a=e.fatal)&&void 0!==a?a:n)||void 0===s||s,l="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:o})}})):MT.create()}hA.create=(e,t)=>new hA({innerType:e,typeName:mA.ZodReadonly,...sT(t)});const fA={object:BT.lazycreate};var mA;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(mA||(mA={}));const gA=ST.create,vA=ET.create,yA=lA.create,bA=CT.create,xA=OT.create,wA=TT.create,_A=AT.create,kA=PT.create,jA=RT.create,SA=MT.create,NA=IT.create,EA=DT.create,CA=LT.create,OA=FT.create,TA=BT.create,AA=BT.strictCreate,PA=$T.create,RA=HT.create,MA=qT.create,IA=WT.create,DA=ZT.create,LA=KT.create,FA=YT.create,zA=GT.create,BA=JT.create,$A=QT.create,UA=eA.create,HA=tA.create,VA=nA.create,qA=rA.create,WA=iA.create,ZA=aA.create,KA=rA.createWithPreprocess,YA=dA.create,GA={string:e=>ST.create({...e,coerce:!0}),number:e=>ET.create({...e,coerce:!0}),boolean:e=>OT.create({...e,coerce:!0}),bigint:e=>CT.create({...e,coerce:!0}),date:e=>TT.create({...e,coerce:!0})},JA=WO;var QA=Object.freeze({__proto__:null,defaultErrorMap:BO,setErrorMap:function(e){$O=e},getErrorMap:UO,makeIssue:HO,EMPTY_PATH:[],addIssueToContext:VO,ParseStatus:qO,INVALID:WO,DIRTY:ZO,OK:KO,isAborted:YO,isDirty:GO,isValid:JO,isAsync:QO,get util(){return MO},get objectUtil(){return IO},ZodParsedType:DO,getParsedType:LO,ZodType:oT,datetimeRegex:kT,ZodString:ST,ZodNumber:ET,ZodBigInt:CT,ZodBoolean:OT,ZodDate:TT,ZodSymbol:AT,ZodUndefined:PT,ZodNull:RT,ZodAny:MT,ZodUnknown:IT,ZodNever:DT,ZodVoid:LT,ZodArray:FT,ZodObject:BT,ZodUnion:$T,ZodDiscriminatedUnion:HT,ZodIntersection:qT,ZodTuple:WT,ZodRecord:ZT,ZodMap:KT,ZodSet:YT,ZodFunction:GT,ZodLazy:JT,ZodLiteral:QT,ZodEnum:eA,ZodNativeEnum:tA,ZodPromise:nA,ZodEffects:rA,ZodTransformer:rA,ZodOptional:iA,ZodNullable:aA,ZodDefault:sA,ZodCatch:oA,ZodNaN:lA,BRAND:cA,ZodBranded:uA,ZodPipeline:dA,ZodReadonly:hA,custom:pA,Schema:oT,ZodSchema:oT,late:fA,get ZodFirstPartyTypeKind(){return mA},coerce:GA,any:SA,array:OA,bigint:bA,boolean:xA,date:wA,discriminatedUnion:RA,effect:qA,enum:UA,function:zA,instanceof:function(e){return pA((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:`Input not instance of ${e.name}`})},intersection:MA,lazy:BA,literal:$A,map:LA,nan:yA,nativeEnum:HA,never:EA,null:jA,nullable:ZA,number:vA,object:TA,oboolean:()=>xA().optional(),onumber:()=>vA().optional(),optional:WA,ostring:()=>gA().optional(),pipeline:YA,preprocess:KA,promise:VA,record:DA,set:FA,strictObject:AA,string:gA,symbol:_A,transformer:qA,tuple:IA,undefined:kA,union:PA,unknown:NA,void:CA,NEVER:JA,ZodIssueCode:FO,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:zO}),XA=Object.defineProperty,eP={getRandomValues:e=>new Uint8Array(e.map((()=>Math.floor(256*Math.random()))))},tP=typeof window<"u"&&typeof window.document<"u"?window.crypto:hN;tP.getRandomValues||(tP=eP);var nP=class extends Error{constructor(e,t,n,r,i,a){super(r),vf(this,"isApiError",!0),this.code=e,this.description=t,this.type=n,this.message=r,this.error=i,this.id=a,this.id||(this.id=nP.generateId())}format(){return`[${this.type}] ${this.message} (Error ID: ${this.id})`}toJSON(){return{id:this.id,code:this.code,type:this.type,message:this.message}}static generateId(){return`${this.getPrefix()}_${(new Date).toISOString().replace(/[\-:TZ]/g,"").split(".")[0]}x${Array.from(tP.getRandomValues(new Uint8Array(4))).map((e=>e.toString(16).padStart(2,"0"))).join("").toUpperCase()}`}static getPrefix(){return typeof window<"u"&&typeof window.document<"u"?"err_bwsr":"err"}},rP=e=>e instanceof nP||(e=>"object"==typeof e&&!Array.isArray(e)&&null!==e)(e)&&!0===e.isApiError,iP=class extends nP{constructor(e,t,n){super(500,"An unknown error occurred","Unknown",e,t,n)}},aP={Unknown:iP,Internal:class extends nP{constructor(e,t,n){super(500,"An internal error occurred","Internal",e,t,n)}},Unauthorized:class extends nP{constructor(e,t,n){super(401,"The request requires to be authenticated.","Unauthorized",e,t,n)}},Forbidden:class extends nP{constructor(e,t,n){super(403,"The requested action can't be peform by this resource.","Forbidden",e,t,n)}},PayloadTooLarge:class extends nP{constructor(e,t,n){super(413,"The request payload is too large.","PayloadTooLarge",e,t,n)}},InvalidPayload:class extends nP{constructor(e,t,n){super(400,"The request payload is invalid.","InvalidPayload",e,t,n)}},UnsupportedMediaType:class extends nP{constructor(e,t,n){super(415,"The request is invalid because the content-type is not supported.","UnsupportedMediaType",e,t,n)}},MethodNotFound:class extends nP{constructor(e,t,n){super(405,"The requested method does not exist.","MethodNotFound",e,t,n)}},ResourceNotFound:class extends nP{constructor(e,t,n){super(404,"The requested resource does not exist.","ResourceNotFound",e,t,n)}},InvalidJsonSchema:class extends nP{constructor(e,t,n){super(400,"The provided JSON schema is invalid.","InvalidJsonSchema",e,t,n)}},InvalidDataFormat:class extends nP{constructor(e,t,n){super(400,"The provided data doesn't respect the provided JSON schema.","InvalidDataFormat",e,t,n)}},InvalidIdentifier:class extends nP{constructor(e,t,n){super(400,"The provided identifier is not valid. An identifier must start with a lowercase letter, be between 2 and 100 characters long and use only alphanumeric characters.","InvalidIdentifier",e,t,n)}},RelationConflict:class extends nP{constructor(e,t,n){super(409,"The resource is related with a different resource that the one referenced in the request. This is usually caused when providing two resource identifiers that aren't linked together.","RelationConflict",e,t,n)}},ReferenceConstraint:class extends nP{constructor(e,t,n){super(409,"The resource cannot be deleted because it's referenced by another resource","ReferenceConstraint",e,t,n)}},ResourceLockedConflict:class extends nP{constructor(e,t,n){super(409,"The resource is current locked and cannot be operated on until the lock is released.","ResourceLockedConflict",e,t,n)}},ReferenceNotFound:class extends nP{constructor(e,t,n){super(400,"The provided resource reference is missing. This is usually caused when providing an invalid id inside the payload of a request.","ReferenceNotFound",e,t,n)}},InvalidQuery:class extends nP{constructor(e,t,n){super(400,"The provided query is invalid. This is usually caused when providing an invalid parameter for querying a resource.","InvalidQuery",e,t,n)}},Runtime:class extends nP{constructor(e,t,n){super(400,"An error happened during the execution of a runtime (bot or integration).","Runtime",e,t,n)}},AlreadyExists:class extends nP{constructor(e,t,n){super(409,"The record attempted to be created already exists.","AlreadyExists",e,t,n)}},RateLimited:class extends nP{constructor(e,t,n){super(429,"The request has been rate limited.","RateLimited",e,t,n)}},PaymentRequired:class extends nP{constructor(e,t,n){super(402,"A payment is required to perform this request.","PaymentRequired",e,t,n)}},QuotaExceeded:class extends nP{constructor(e,t,n){super(403,"The request exceeds the allowed quota. Quotas are a soft limit that can be increased.","QuotaExceeded",e,t,n)}},LimitExceeded:class extends nP{constructor(e,t,n){super(413,"The request exceeds the allowed limit. Limits are a hard limit that cannot be increased.","LimitExceeded",e,t,n)}},BreakingChanges:class extends nP{constructor(e,t,n){super(400,"Request payload contains breaking changes which is not allowed for this resource without a version increment.","BreakingChanges",e,t,n)}}},sP=e=>rP(e)?e:e instanceof Error?new iP(e.message,e):"string"==typeof e?new iP(e):function(e){if("object"==typeof e&&"code"in e&&"type"in e&&"id"in e&&"message"in e&&"string"==typeof e.type&&"string"==typeof e.message){const t=aP[e.type];return t?new t(e.message,void 0,e.id||"UNKNOWN"):new iP(`An unclassified API error occurred: ${e.message} (Type: ${e.type}, Code: ${e.code})`)}return new iP("An invalid error occurred: "+JSON.stringify(e))}(e);var oP=e=>void 0!==e[1],lP=e=>{const{method:t,path:n,query:r,headers:i,body:a}=e,s=Object.entries(i).filter(oP),o=Object.fromEntries(s),l=AO.stringify(r,{encode:!0,arrayFormat:"repeat",allowDots:!0});return{method:t,url:l?[n,l].join("?"):n,headers:o,data:a}},cP=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vf(this,"getConversation",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"createConversation",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/conversations",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{_:e._}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"deleteConversation",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"delete",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"listConversations",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/conversations",headers:{"x-user-key":e["x-user-key"]},query:{nextToken:e.nextToken},params:{},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"listenConversation",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/listen`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"listConversationMessages",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/messages`,headers:{"x-user-key":e["x-user-key"]},query:{nextToken:e.nextToken},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"addParticipant",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/participants`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{userId:e.userId}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"removeParticipant",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/participants/${encodeURIComponent(e.userId)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id,userId:e.userId},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"delete",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"getParticipant",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/participants/${encodeURIComponent(e.userId)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id,userId:e.userId},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"listParticipants",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/conversations/${encodeURIComponent(e.id)}/participants`,headers:{"x-user-key":e["x-user-key"]},query:{nextToken:e.nextToken},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"getMessage",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/messages/${encodeURIComponent(e.id)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"createMessage",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/messages",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{payload:e.payload,conversationId:e.conversationId,metadata:e.metadata}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"deleteMessage",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/messages/${encodeURIComponent(e.id)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"delete",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"getUser",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/users/me",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"createUser",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/users",headers:{},query:{},params:{},body:{name:e.name,pictureUrl:e.pictureUrl,userData:e.userData}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"updateUser",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/users/me",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{name:e.name,pictureUrl:e.pictureUrl,userData:e.userData}}))(e),a=(this.props.toAxiosRequest??lP)({method:"put",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"deleteUser",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/users/me",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"delete",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"getEvent",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:`/events/${encodeURIComponent(e.id)}`,headers:{"x-user-key":e["x-user-key"]},query:{},params:{id:e.id},body:{}}))(e),a=(this.props.toAxiosRequest??lP)({method:"get",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"createEvent",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/events",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{payload:e.payload,conversationId:e.conversationId,bindConversation:e.bindConversation,bindUser:e.bindUser}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),vf(this,"createFile",(async e=>{const{path:t,headers:n,query:r,body:i}=(e=>({path:"/files",headers:{"x-user-key":e["x-user-key"]},query:{},params:{},body:{key:e.key,size:e.size,accessPolicies:e.accessPolicies,index:e.index,contentType:e.contentType,tags:e.tags}}))(e),a=(this.props.toAxiosRequest??lP)({method:"post",path:t,headers:{...n},query:{...r},body:i});return this.axiosInstance.request(a).then((e=>e.data)).catch((e=>{throw uP(e)}))})),this.axiosInstance=e,this.props=t}};function uP(e){var t;return dN.isAxiosError(e)&&null!=(t=e.response)&&t.data?sP(e.response.data):sP(e)}var dP=class{constructor(){vf(this,"listeners",{})}emit(e,t){const n=this.listeners[e];if(n)for(const r of[...n])r(t)}onceOrMore(e,t){const n=r=>{"stop-listening"===t(r)&&this.off(e,n)};this.on(e,n)}once(e,t){const n=r=>{this.off(e,n),t(r)};this.on(e,n)}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){const n=this.listeners[e];if(!n)return;const r=n.indexOf(t);-1!==r&&n.splice(r,1)}cleanup(){this.listeners={}}},hP=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{emitter:n,source:r}=((e,t)=>{const n=new RO.EventSourcePolyfill(e,{headers:t.headers,heartbeatTimeout:t.timeout}),r=new dP;return n.onopen=e=>r.emit("open",e),n.onmessage=e=>r.emit("message",e),n.onerror=e=>r.emit("error",e),{emitter:r,source:n}})(e,t);return await new Promise(((e,t)=>{n.on("open",(()=>{e()})),n.on("error",(e=>{t(e)}))})).finally((()=>n.cleanup())),{on:n.on.bind(n),close:()=>{n.cleanup(),r.close()}}},pP={messageCreated:QA.object({type:QA.literal("message_created"),data:QA.object({id:QA.string().describe("Id of the [Message](#schema_message)"),createdAt:QA.string().datetime().describe("Creation date of the [Message](#schema_message) in ISO 8601 format"),payload:QA.union([QA.object({audioUrl:QA.string().min(1),type:QA.literal("audio")}),QA.object({title:QA.string().min(1),subtitle:QA.string().min(1).optional(),imageUrl:QA.string().min(1).optional(),actions:QA.array(QA.object({action:QA.enum(["postback","url","say"]),label:QA.string().min(1),value:QA.string().min(1)})),type:QA.literal("card")}),QA.object({items:QA.array(QA.object({title:QA.string().min(1),subtitle:QA.string().min(1).optional(),imageUrl:QA.string().min(1).optional(),actions:QA.array(QA.object({action:QA.enum(["postback","url","say"]),label:QA.string().min(1),value:QA.string().min(1)}))})),type:QA.literal("carousel")}),QA.object({text:QA.string().min(1),options:QA.array(QA.object({label:QA.string().min(1),value:QA.string().min(1)})),type:QA.literal("choice"),disableFreeText:QA.boolean().optional()}),QA.object({text:QA.string().min(1),options:QA.array(QA.object({label:QA.string().min(1),value:QA.string().min(1)})),type:QA.literal("dropdown")}),QA.object({fileUrl:QA.string().min(1),title:QA.string().min(1).optional(),type:QA.literal("file")}),QA.object({imageUrl:QA.string().min(1),type:QA.literal("image")}),QA.object({latitude:QA.number(),longitude:QA.number(),address:QA.string().optional(),title:QA.string().optional(),type:QA.literal("location")}),QA.object({text:QA.string().min(1),type:QA.literal("text"),value:QA.string().optional()}),QA.object({videoUrl:QA.string().min(1),type:QA.literal("video")}),QA.object({items:QA.array(QA.union([QA.object({type:QA.literal("text"),payload:QA.object({text:QA.string().min(1)})}),QA.object({type:QA.literal("markdown"),payload:QA.object({markdown:QA.string().min(1)})}),QA.object({type:QA.literal("image"),payload:QA.object({imageUrl:QA.string().min(1)})}),QA.object({type:QA.literal("audio"),payload:QA.object({audioUrl:QA.string().min(1)})}),QA.object({type:QA.literal("video"),payload:QA.object({videoUrl:QA.string().min(1)})}),QA.object({type:QA.literal("file"),payload:QA.object({fileUrl:QA.string().min(1),title:QA.string().min(1).optional()})}),QA.object({type:QA.literal("location"),payload:QA.object({latitude:QA.number(),longitude:QA.number(),address:QA.string().optional(),title:QA.string().optional()})})])),type:QA.literal("bloc")}),QA.object({markdown:QA.string().min(1),type:QA.literal("markdown")})]).describe("Payload is the content type of the message."),userId:QA.string().describe("ID of the [User](#schema_user)"),conversationId:QA.string().describe("ID of the [Conversation](#schema_conversation)"),metadata:QA.record(QA.union([QA.any(),QA.null()])).describe("Metadata of the message").optional()}).describe("The Message object represents a message in a [Conversation](#schema_conversation) for a specific [User](#schema_user).")}),webchatVisibility:QA.object({type:QA.literal("webchat_visibility"),data:QA.object({visibility:QA.union([QA.literal("show"),QA.literal("hide"),QA.literal("toggle")])})}),webchatConfig:QA.object({type:QA.literal("webchat_config"),data:QA.object({config:QA.record(QA.union([QA.any(),QA.null()]))})}),custom:QA.object({type:QA.literal("custom"),data:QA.object({event:QA.record(QA.union([QA.any(),QA.null()]))})}),typingStarted:QA.object({type:QA.literal("typing_started"),data:QA.object({timeout:QA.number().optional()})}),typingStopped:QA.object({type:QA.literal("typing_stopped"),data:QA.record(QA.never())})},fP="unknown error",mP=class extends dP{constructor(e){super(),vf(this,"_state",{status:"disconnected"}),vf(this,"connect",(async()=>{if("connected"===this._state.status)return;if("connecting"===this._state.status)return void await this._state.connectionPromise;const e=this._connect();this._state={status:"connecting",connectionPromise:e},await e})),vf(this,"disconnect",(async()=>{if("disconnected"===this._state.status)return;let e;e="connecting"===this._state.status?await this._state.connectionPromise:this._state.source,this._disconnectSync(e)})),vf(this,"_connect",(async()=>{const e=await hP(`${this._props.url}/conversations/${this._props.conversationId}/listen`,{headers:{"x-user-key":this._props.userKey},timeout:this._props.timeout});return e.on("message",this._handleMessage),e.on("error",this._handleError(e)),this._state={status:"connected",source:e},e})),vf(this,"_disconnectSync",(e=>{e.close(),this._state={status:"disconnected"}})),vf(this,"_handleMessage",(e=>{const t=this._parseSignal(e.data);this.emit(t.type,t.data)})),vf(this,"_handleError",(e=>t=>{this._disconnectSync(e);const n=this._toError(t);this.emit("error",n)})),vf(this,"_parseSignal",(e=>{for(const t of Object.values(pP)){const n=this._safeJsonParse(e),r=t.safeParse(n);if(r.success)return r.data}return{type:"unknown",data:e}})),vf(this,"_safeJsonParse",(e=>{try{return JSON.parse(e)}catch{return e}})),vf(this,"_toError",(e=>{if(e instanceof Error)return e;if("string"==typeof e)return new Error(e);if(null===e)return new Error(fP);if("object"==typeof e&&"message"in e)return this._toError(e.message);try{const t=JSON.stringify(e);return new Error(t)}catch{return new Error(fP)}})),this._props=e}get status(){return this._state.status}},gP=mP;((e,t,n)=>{((e,t,n)=>{t in e?XA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,t+"",n)})(gP,"listen",(async e=>{const t=new mP(e);return await t.connect(),t}));var vP=104857600,yP=vP,bP=vP,xP=class{constructor(e){vf(this,"_auto"),vf(this,"createConversation",(e=>this._auto.createConversation(e))),vf(this,"getConversation",(e=>this._auto.getConversation(e))),vf(this,"deleteConversation",(e=>this._auto.deleteConversation(e))),vf(this,"listConversations",(e=>this._auto.listConversations(e))),vf(this,"listConversationMessages",(e=>this._auto.listConversationMessages(e))),vf(this,"addParticipant",(e=>this._auto.addParticipant(e))),vf(this,"removeParticipant",(e=>this._auto.removeParticipant(e))),vf(this,"getParticipant",(e=>this._auto.getParticipant(e))),vf(this,"listParticipants",(e=>this._auto.listParticipants(e))),vf(this,"createMessage",(e=>this._auto.createMessage(e))),vf(this,"getMessage",(e=>this._auto.getMessage(e))),vf(this,"deleteMessage",(e=>this._auto.deleteMessage(e))),vf(this,"createFile",(e=>this._auto.createFile(e))),vf(this,"createUser",(e=>this._auto.createUser(e))),vf(this,"getUser",(e=>this._auto.getUser(e))),vf(this,"updateUser",(e=>this._auto.updateUser(e))),vf(this,"deleteUser",(e=>this._auto.deleteUser(e))),vf(this,"createEvent",(e=>this._auto.createEvent(e))),vf(this,"getEvent",(e=>this._auto.getEvent(e))),vf(this,"listenConversation",(async e=>{let{id:t,"x-user-key":n}=e;return await gP.listen({url:this.props.apiUrl,conversationId:t,userKey:n,timeout:this.props.sseTimeout})})),this.props=e;const{apiUrl:t}=e,n={...e.headers},r=this.props.timeout??6e4,i=dN.create({baseURL:t,headers:n,withCredentials:!0,timeout:r,maxBodyLength:yP,maxContentLength:bP});this._auto=new cP(i)}};const wP={disconnected:0,user_creating:1,user_created:2,conversation_creating:3,conversation_created:4},_P=(e,t)=>e.status===t,kP=(e,t)=>wP[e.status]<wP[t],jP=(e,t)=>wP[e.status]>=wP[t];class SP extends Error{constructor(e){super(`Unexpected state: ${e.status}`),this.state=e}}const NP=["audio","file","image","video"],EP={"application/prs.cww":["cww"],"application/prs.xsf+xml":["xsf"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["*xfdf"],"application/vnd.age":["age"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["*fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["*mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.pwg-xhtml-print+xml":["xhtm"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml","uo"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["*prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["*sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["*aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif","btf"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.cld":["cld"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.pytha.pyox":["pyo","pyox"],"model/vnd.sap.vds":["vds"],"model/vnd.usda":["usda"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.familysearch.gedcom":["ged"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]};Object.freeze(EP);const CP={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(CP);var OP,TP,AP,PP=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};OP=new WeakMap,TP=new WeakMap,AP=new WeakMap;const RP=new class{constructor(){OP.set(this,new Map),TP.set(this,new Map),AP.set(this,new Map);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)this.define(r)}define(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(let[n,r]of Object.entries(e)){n=n.toLowerCase(),r=r.map((e=>e.toLowerCase())),PP(this,AP,"f").has(n)||PP(this,AP,"f").set(n,new Set);const e=PP(this,AP,"f").get(n);let i=!0;for(let a of r){const r=a.startsWith("*");if(a=r?a.slice(1):a,null==e||e.add(a),i&&PP(this,TP,"f").set(n,a),i=!1,r)continue;const s=PP(this,OP,"f").get(a);if(s&&s!=n&&!t)throw new Error(`"${n} -> ${a}" conflicts with "${s} -> ${a}". Pass \`force=true\` to override this definition.`);PP(this,OP,"f").set(a,n)}}return this}getType(e){if("string"!=typeof e)return null;const t=e.replace(/^.*[/\\]/,"").toLowerCase(),n=t.replace(/^.*\./,"").toLowerCase(),r=t.length<e.length;return n.length<t.length-1||!r?PP(this,OP,"f").get(n)??null:null}getExtension(e){var t;return"string"!=typeof e?null:((e=null==(t=null==e?void 0:e.split)?void 0:t.call(e,";")[0])&&PP(this,TP,"f").get(e.trim().toLowerCase()))??null}getAllExtensions(e){return"string"!=typeof e?null:PP(this,AP,"f").get(e.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const e of PP(this,AP,"f").values())Object.freeze(e);return this}_getTestState(){return{types:PP(this,OP,"f"),extensions:PP(this,TP,"f")}}}(CP,EP)._freeze();class MP extends mm{constructor(e){super(),vf(this,"_client"),vf(this,"_webhookId"),vf(this,"_apiUrl"),vf(this,"_state",{status:"disconnected"}),vf(this,"mode","pushpin"),vf(this,"_initialConnect",(async e=>{let{data:t,name:n,pictureUrl:r}=e;if(jP(this._state,"user_created"))throw new Error("Client is already connected. Please disconnect first.");if(_P(this._state,"user_creating"))return;this._state={status:"user_creating"};const{user:{id:i},key:a}=await this._client.createUser({name:n,pictureUrl:r,userData:t});return this._state={status:"user_created",userId:i,userKey:a},{userId:i,userToken:a}})),vf(this,"_reConnect",(async(e,t)=>{let{data:n,name:r,pictureUrl:i}=t;if(jP(this._state,"user_created")){if(this._state.userId!==e.userId)throw new Error("Client is already connected. Please disconnect first.");return e}return _P(this._state,"user_creating")||(this._state={status:"user_created",userId:e.userId,userKey:e.userToken},await this._client.updateUser({"x-user-key":e.userToken,name:r,pictureUrl:i,userData:n})),e})),vf(this,"_mapMessage",(e=>{const{metadata:t}=e,{payload:n,disableInput:r}=Mf(e.payload);return{id:e.id,conversationId:e.conversationId,authorId:e.userId,sentOn:new Date(e.createdAt),payload:n,disableInput:r,metadata:t}}));const t=`${e.apiUrl}/${e.clientId}`;this._webhookId=e.clientId,this._apiUrl=t,this._client=new xP({apiUrl:t,sseTimeout:6e4})}get apiUrl(){return this._apiUrl}get clientId(){return this._webhookId}get userId(){if(!kP(this._state,"user_created"))return this._state.userId}async getUser(){if(kP(this._state,"user_created"))throw new SP(this._state);const{user:e}=await this._client.getUser({"x-user-key":this._state.userKey});return{data:e.data}}async updateUser(e){if(kP(this._state,"user_created"))throw new SP(this._state);const{user:t}=await this._client.updateUser({"x-user-key":this._state.userKey,name:e.name,pictureUrl:e.pictureUrl,userData:e.data});return t}get conversationId(){if(!kP(this._state,"conversation_created"))return this._state.conversationId}async connect(e,t){const n={data:t,...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};return e&&await this.userExists(e)?this._reConnect(e,n):this._initialConnect(n)}async disconnect(){_P(this._state,"conversation_created")?this._state.signalEmitter.cleanup():_P(this._state,"conversation_creating")&&console.warn("zombie conversation..."),this._state={status:"disconnected"}}async sendFile(e){if(kP(this._state,"user_created"))throw new SP(this._state);if(_P(this._state,"conversation_creating"))throw new SP(this._state);let t;_P(this._state,"conversation_created")?t=this._state:(this._state={status:"conversation_creating",userId:this._state.userId,userKey:this._state.userKey},t=await this._createNewConversation(this._state));const{size:n,name:r}=e,i=RP.getType(e.name)??"application/octet-stream",a=await(l=e,new Promise(((e,t)=>{const n=new FileReader;n.onload=t=>{var n;return e(null==(n=t.target)?void 0:n.result)},n.onerror=e=>{var n;return t(null==(n=e.target)?void 0:n.error)},n.readAsArrayBuffer(l)}))),{file:{uploadUrl:s,url:o}}=await this._client.createFile({"x-user-key":t.userKey,size:n,key:r,contentType:i,accessPolicies:["public_content"],index:!1,tags:{source:"integration",integrationName:"webchat"}});var l;await fetch(s,{method:"PUT",headers:{"x-amz-tagging":"public=true"},body:a});const c=i.split("/").shift()??"",u=(e=>NP.includes(e))(c)?c:"file",d="image"===u?{type:u,imageUrl:o}:"audio"===u?{type:u,audioUrl:o}:"video"===u?{type:u,videoUrl:o}:{type:u,fileUrl:o};return await this._client.createMessage({"x-user-key":t.userKey,conversationId:t.conversationId,payload:d}),{fileUrl:o,name:r,type:u}}async sendMessage(e){if(kP(this._state,"user_created"))throw new SP(this._state);if(_P(this._state,"conversation_creating"))throw new SP(this._state);let t;_P(this._state,"conversation_created")?t=this._state:(this._state={status:"conversation_creating",userId:this._state.userId,userKey:this._state.userKey},t=await this._createNewConversation(this._state)),await this._client.createMessage({"x-user-key":t.userKey,conversationId:t.conversationId,payload:e}),this.emit("messageSent",e)}async sendEvent(e){if(kP(this._state,"user_created"))throw new SP(this._state);if(_P(this._state,"conversation_creating"))throw new SP(this._state);let t;_P(this._state,"conversation_created")?t=this._state:(this._state={status:"conversation_creating",userId:this._state.userId,userKey:this._state.userKey},t=await this._createNewConversation(this._state)),await this._client.createEvent({"x-user-key":t.userKey,conversationId:t.conversationId,payload:{type:"custom",data:e}})}async switchConversation(e){if(kP(this._state,"user_created"))throw new SP(this._state);_P(this._state,"conversation_created")&&this._state.conversationId===e||_P(this._state,"conversation_creating")||(this._state={status:"conversation_creating",userId:this._state.userId,userKey:this._state.userKey},await this._connectConversation(this._state,e))}async conversationExists(e){if(kP(this._state,"user_created"))return!1;try{return await this._client.getConversation({"x-user-key":this._state.userKey,id:e}),!0}catch(Ie){if(rP(Ie)&&404===Ie.code)return!1;throw Ie}}async userExists(e){let{userToken:t}=e;try{return await this._client.getUser({"x-user-key":t}),!0}catch(Ie){const t=e=>404===e.code||401===e.code;if(rP(Ie)&&t(Ie))return!1;throw Ie}}async newConversation(){if(kP(this._state,"user_created"))throw new SP(this._state);_P(this._state,"conversation_creating")||(this._state={status:"conversation_creating",userId:this._state.userId,userKey:this._state.userKey},await this._createNewConversation(this._state))}async _createNewConversation(e){const{conversation:{id:t}}=await this._client.createConversation({"x-user-key":e.userKey}),n=await this._connectConversation(e,t);return await this._client.createEvent({"x-user-key":e.userKey,conversationId:t,payload:{type:"conversation_started",data:{}}}),n}async listMessages(){if(!_P(this._state,"conversation_created"))return[];const{conversationId:e,userKey:t}=this._state,n=[];let r;do{const i=await this._client.listConversationMessages({id:e,"x-user-key":t,nextToken:r});n.push(...i.messages),r=i.meta.nextToken}while(r);return n.map(this._mapMessage)}async _connectConversation(e,t){const n=await this._client.listenConversation({id:t,"x-user-key":e.userKey});return n.on("unknown",(e=>{"string"==typeof e&&"ping"===e||console.debug("unknown event",e)})),n.on("message_created",(t=>{t.userId!==e.userId&&this.emit("message",this._mapMessage(t))})),n.on("error",(t=>{this._state={status:"user_created",userId:e.userId,userKey:e.userKey},this.emit("error",new Error(`Connection to conversation lost: ${t.message}`))})),n.on("webchat_visibility",(e=>{this.emit("webchatVisibility",e.visibility)})),n.on("webchat_config",(e=>{this.emit("webchatConfig",e.config)})),n.on("typing_started",(e=>{this.emit("isTyping",{isTyping:!0,timeout:e.timeout??5e3})})),n.on("typing_stopped",(()=>{this.emit("isTyping",{isTyping:!1,timeout:0})})),n.on("custom",(e=>{this.emit("customEvent",e.event)})),this.emit("conversation",t),this._state={status:"conversation_created",userId:e.userId,userKey:e.userKey,conversationId:t,signalEmitter:n},this._state}}const IP=e=>{let{clientId:t,apiUrl:n="https://webchat.botpress.cloud"}=e;return new MP({apiUrl:n,clientId:t})};let DP,LP,FP,zP={data:""},BP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$P=/\/\*[^]*?\*\/|  +/g,UP=/\n+/g,HP=(e,t)=>{let n="",r="",i="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?HP(s,a):a+"{"+HP(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=HP(s,t?t.replace(/([^,])+/g,(e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=HP.p?HP.p(a,s):a+":"+s+";")}return n+(t&&i?t+"{"+i+"}":i)+r},VP={},qP=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+qP(e[n]);return t}return e};function WP(e){let t=this||{},n=e.call?e(t.p):e;return((e,t,n,r,i)=>{let a=qP(e),s=VP[a]||(VP[a]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(a));if(!VP[s]){let t=a!==e?e:(e=>{let t,n,r=[{}];for(;t=BP.exec(e.replace($P,""));)t[4]?r.shift():t[3]?(n=t[3].replace(UP," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(UP," ").trim();return r[0]})(e);VP[s]=HP(i?{["@keyframes "+s]:t}:t,n?"":"."+s)}let o=n&&VP.g?VP.g:null;return n&&(VP.g=VP[s]),l=VP[s],c=t,u=r,(d=o)?c.data=c.data.replace(d,l):-1===c.data.indexOf(l)&&(c.data=u?l+c.data:c.data+l),s;var l,c,u,d})(n.unshift?n.raw?((e,t,n)=>e.reduce(((e,r,i)=>{let a=t[i];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":HP(e,""):!1===e?"":e}return e+r+(a??"")}),""))(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>Object.assign(e,n&&n.call?n(t.p):n)),{}):n,(e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||zP)(t.target),t.g,t.o,t.k)}WP.bind({g:1});let ZP=WP.bind({k:1});function KP(e,t){let n=this||{};return function(){let t=arguments;return function r(i,a){let s=Object.assign({},i),o=s.className||r.className;n.p=Object.assign({theme:LP&&LP()},s),n.o=/ *go\d+/.test(o),s.className=WP.apply(n,t)+(o?" "+o:"");let l=e;return e[0]&&(l=s.as||e,delete s.as),FP&&l[0]&&FP(s),DP(l,s)}}}var YP=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,GP=(()=>{let e=0;return()=>(++e).toString()})(),JP=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),QP=new Map,XP=e=>{if(QP.has(e))return;let t=setTimeout((()=>{QP.delete(e),rR({type:4,toastId:e})}),1e3);QP.set(e,t)},eR=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&(e=>{let t=QP.get(e);t&&clearTimeout(t)})(t.toast.id),{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case 2:let{toast:n}=t;return e.toasts.find((e=>e.id===n.id))?eR(e,{type:1,toast:n}):eR(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?XP(r):e.toasts.forEach((e=>{XP(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===r||void 0===r?{...e,visible:!1}:e))};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map((e=>({...e,pauseDuration:e.pauseDuration+i})))}}},tR=[],nR={toasts:[],pausedAt:void 0},rR=e=>{nR=eR(nR,e),tR.forEach((e=>{e(nR)}))},iR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},aR=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return{createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||GP()}}(t,e,n);return rR({type:2,toast:r}),r.id},sR=(e,t)=>aR("blank")(e,t);sR.error=aR("error"),sR.success=aR("success"),sR.loading=aR("loading"),sR.custom=aR("custom"),sR.dismiss=e=>{rR({type:3,toastId:e})},sR.remove=e=>rR({type:4,toastId:e}),sR.promise=(e,t,n)=>{let r=sR.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then((e=>(sR.success(YP(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e))).catch((e=>{sR.error(YP(t.error,e),{id:r,...n,...null==n?void 0:n.error})})),e};var oR=(e,t)=>{rR({type:1,toast:{id:e,height:t}})},lR=()=>{rR({type:5,time:Date.now()})},cR=e=>{let{toasts:n,pausedAt:r}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,r]=(0,t.useState)(nR);(0,t.useEffect)((()=>(tR.push(r),()=>{let e=tR.indexOf(r);e>-1&&tR.splice(e,1)})),[n]);let i=n.toasts.map((t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||iR[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}}));return{...n,toasts:i}}(e);(0,t.useEffect)((()=>{if(r)return;let e=Date.now(),t=n.map((t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((()=>sR.dismiss(t.id)),n);t.visible&&sR.dismiss(t.id)}));return()=>{t.forEach((e=>e&&clearTimeout(e)))}}),[n,r]);let i=(0,t.useCallback)((()=>{r&&rR({type:6,time:Date.now()})}),[r]),a=(0,t.useCallback)(((e,t)=>{let{reverseOrder:r=!1,gutter:i=8,defaultPosition:a}=t||{},s=n.filter((t=>(t.position||a)===(e.position||a)&&t.height)),o=s.findIndex((t=>t.id===e.id)),l=s.filter(((e,t)=>t<o&&e.visible)).length;return s.filter((e=>e.visible)).slice(...r?[l+1]:[0,l]).reduce(((e,t)=>e+(t.height||0)+i),0)}),[n]);return{toasts:n,handlers:{updateHeight:oR,startPause:lR,endPause:i,calculateOffset:a}}},uR=ZP`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,dR=ZP`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hR=ZP`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,pR=KP("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${dR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${hR} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,fR=ZP`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,mR=KP("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${fR} 1s linear infinite;
`,gR=ZP`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,vR=ZP`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yR=KP("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${vR} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,bR=KP("div")`
  position: absolute;
`,xR=KP("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,wR=ZP`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_R=KP("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${wR} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,kR=e=>{let{toast:n}=e,{icon:r,type:i,iconTheme:a}=n;return void 0!==r?"string"==typeof r?t.createElement(_R,null,r):r:"blank"===i?null:t.createElement(xR,null,t.createElement(mR,{...a}),"loading"!==i&&t.createElement(bR,null,"error"===i?t.createElement(pR,{...a}):t.createElement(yR,{...a})))},jR=e=>`\n0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n`,SR=e=>`\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}\n`,NR=KP("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ER=KP("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,CR=t.memo((e=>{let{toast:n,position:r,style:i,children:a}=e,s=n.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,i]=JP()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[jR(n),SR(n)];return{animation:t?`${ZP(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ZP(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}})(n.position||r||"top-center",n.visible):{opacity:0},o=t.createElement(kR,{toast:n}),l=t.createElement(ER,{...n.ariaProps},YP(n.message,n));return t.createElement(NR,{className:n.className,style:{...s,...i,...n.style}},"function"==typeof a?a({icon:o,message:l}):t.createElement(t.Fragment,null,o,l))}));!function(e,t,n,r){HP.p=t,DP=e,LP=n,FP=r}(t.createElement);var OR=e=>{let{id:n,className:r,style:i,onHeightUpdate:a,children:s}=e,o=t.useCallback((e=>{if(e){let t=()=>{let t=e.getBoundingClientRect().height;a(n,t)};t(),new MutationObserver(t).observe(e,{subtree:!0,childList:!0,characterData:!0})}}),[n,a]);return t.createElement("div",{ref:o,className:r,style:i},s)},TR=WP`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,AR=e=>{let{reverseOrder:n,position:r="top-center",toastOptions:i,gutter:a,children:s,containerStyle:o,containerClassName:l}=e,{toasts:c,handlers:u}=cR(i);return t.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...o},className:l,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map((e=>{let i=e.position||r,o=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:JP()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}})(i,u.calculateOffset(e,{reverseOrder:n,gutter:a,defaultPosition:r}));return t.createElement(OR,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?TR:"",style:o},"custom"===e.type?YP(e.message,e):s?s(e):t.createElement(CR,{toast:e,position:i}))})))};function PR(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=PR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function RR(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=PR(e))&&(r&&(r+=" "),r+=t);return r}function MR(){return typeof window<"u"}function IR(e){return FR(e)?(e.nodeName||"").toLowerCase():"#document"}function DR(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function LR(e){var t;return null==(t=(FR(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function FR(e){return!!MR()&&(e instanceof Node||e instanceof DR(e).Node)}function zR(e){return!!MR()&&(e instanceof Element||e instanceof DR(e).Element)}function BR(e){return!!MR()&&(e instanceof HTMLElement||e instanceof DR(e).HTMLElement)}function $R(e){return!(!MR()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof DR(e).ShadowRoot)}function UR(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=KR(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function HR(e){return["table","td","th"].includes(IR(e))}function VR(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch{return!1}}))}function qR(e){const t=WR(),n=zR(e)?KR(e):e;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function WR(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ZR(e){return["html","body","#document"].includes(IR(e))}function KR(e){return DR(e).getComputedStyle(e)}function YR(e){return zR(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function GR(e){if("html"===IR(e))return e;const t=e.assignedSlot||e.parentNode||$R(e)&&e.host||LR(e);return $R(t)?t.host:t}function JR(e){const t=GR(e);return ZR(t)?e.ownerDocument?e.ownerDocument.body:e.body:BR(t)&&UR(t)?t:JR(t)}function QR(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=JR(e),a=i===(null==(r=e.ownerDocument)?void 0:r.body),s=DR(i);if(a){const e=XR(s);return t.concat(s,s.visualViewport||[],UR(i)?i:[],e&&n?QR(e):[])}return t.concat(i,QR(i,[],n))}function XR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const eM=Math.min,tM=Math.max,nM=Math.round,rM=Math.floor,iM=e=>({x:e,y:e});function aM(e,t,n){return tM(e,eM(t,n))}function sM(e,t){return"function"==typeof e?e(t):e}function oM(e){return e.split("-")[0]}function lM(e){return e.split("-")[1]}function cM(e){return"x"===e?"y":"x"}function uM(e){return["top","bottom"].includes(oM(e))?"y":"x"}function dM(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}var hM=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),pM=typeof Element>"u",fM=pM?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mM=!pM&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},gM=function e(t,n){var r;void 0===n&&(n=!0);var i=null==t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},vM=function e(t,n,r){for(var i=[],a=Array.from(t);a.length;){var s=a.shift();if(!gM(s,!1))if("SLOT"===s.tagName){var o=s.assignedElements(),l=e(o.length?o:s.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{fM.call(s,hM)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var c=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),u=!gM(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&u){var d=e(!0===c?s.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:s,candidates:d})}else a.unshift.apply(a,s.children)}}return i},yM=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},bM=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!yM(e)?0:e.tabIndex},xM=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},wM=function(e){return"INPUT"===e.tagName},_M=function(e){return function(e){return wM(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||mM(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if(typeof window<"u"&&typeof window.CSS<"u"&&"function"==typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},kM=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},jM=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=fM.call(e,"details>summary:first-of-type")?e.parentElement:e;if(fM.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return kM(e)}else{if("function"==typeof r){for(var a=e;e;){var s=e.parentElement,o=mM(e);if(s&&!s.shadowRoot&&!0===r(s))return kM(e);e=e.assignedSlot?e.assignedSlot:s||o===e.ownerDocument?s:o.host}e=a}if(function(e){var t,n,r,i,a=e&&mM(e),s=null===(t=a)||void 0===t?void 0:t.host,o=!1;if(a&&a!==e)for(o=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!=e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!o&&s;){var l,c,u;o=!(null===(c=s=null===(l=a=mM(s))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(s))}return o}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},SM=function(e,t){return!(t.disabled||gM(t)||function(e){return wM(e)&&"hidden"===e.type}(t)||jM(t,e)||function(e){var t="DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}));return t}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!fM.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},NM=function(e,t){return!(_M(t)||bM(t)<0||!SM(e,t))},EM=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},CM=function e(t){var n=[],r=[];return t.forEach((function(t,i){var a=!!t.scopeParent,s=a?t.scopeParent:t,o=function(e,t){var n=bM(e);return n<0&&t&&!yM(e)?0:n}(s,a),l=a?e(t.candidates):s;0===o?a?n.push.apply(n,l):n.push(s):r.push({documentOrder:i,tabIndex:o,item:t,isScope:a,content:l})})),r.sort(xM).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},OM=function(e,t){var n;return n=(t=t||{}).getShadowRoot?vM([e],t.includeContainer,{filter:NM.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:EM}):function(e,t,n){if(gM(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(hM));return t&&fM.call(e,hM)&&r.unshift(e),r.filter(n)}(e,t.includeContainer,NM.bind(null,t)),CM(n)};function TM(e,t,n){let{reference:r,floating:i}=e;const a=uM(t),s=function(e){return cM(uM(e))}(t),o=function(e){return"y"===e?"height":"width"}(s),l=oM(t),c="y"===a,u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(lM(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1)}return p}async function AM(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:p=0}=sM(t,e),f=function(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}(p),m=o[h?"floating"===d?"reference":"floating":d],g=dM(await a.getClippingRect({element:null==(n=await(null==a.isElement?void 0:a.isElement(m)))||n?m:m.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===d?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(o.floating)),b=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},x=dM(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-x.top+f.top)/b.y,bottom:(x.bottom-g.bottom+f.bottom)/b.y,left:(g.left-x.left+f.left)/b.x,right:(x.right-g.right+f.right)/b.x}}function PM(e){const t=KR(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=BR(e),a=i?e.offsetWidth:n,s=i?e.offsetHeight:r,o=nM(n)!==a||nM(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function RM(e){return zR(e)?e:e.contextElement}function MM(e){const t=RM(e);if(!BR(t))return iM(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=PM(t);let s=(a?nM(n.width):n.width)/r,o=(a?nM(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const IM=iM(0);function DM(e){const t=DR(e);return WR()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:IM}function LM(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),a=RM(e);let s=iM(1);t&&(r?zR(r)&&(s=MM(r)):s=MM(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==DR(e))&&t}(a,n,r)?DM(a):iM(0);let l=(i.left+o.x)/s.x,c=(i.top+o.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(a){const e=DR(a),t=r&&zR(r)?DR(r):r;let n=e,i=XR(n);for(;i&&r&&t!==n;){const e=MM(i),t=i.getBoundingClientRect(),r=KR(i),a=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,d*=e.y,l+=a,c+=s,n=DR(i),i=XR(n)}}return dM({width:u,height:d,x:l,y:c})}function FM(e,t){const n=YR(e).scrollLeft;return t?t.left+n:LM(LR(e)).left+n}function zM(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=DR(e),r=LR(e),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,l=0;if(i){a=i.width,s=i.height;const e=WR();(!e||e&&"fixed"===t)&&(o=i.offsetLeft,l=i.offsetTop)}return{width:a,height:s,x:o,y:l}}(e,n);else if("document"===t)r=function(e){const t=LR(e),n=YR(e),r=e.ownerDocument.body,i=tM(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=tM(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+FM(e);const o=-n.scrollTop;return"rtl"===KR(r).direction&&(s+=tM(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}(LR(e));else if(zR(t))r=function(e,t){const n=LM(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=BR(e)?MM(e):iM(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:i*a.x,y:r*a.y}}(t,n);else{const n=DM(e);r={...t,x:t.x-n.x,y:t.y-n.y}}return dM(r)}function BM(e,t){const n=GR(e);return!(n===t||!zR(n)||ZR(n))&&("fixed"===KR(n).position||BM(n,t))}function $M(e,t){const n=t.get(e);if(n)return n;let r=QR(e,[],!1).filter((e=>zR(e)&&"body"!==IR(e))),i=null;const a="fixed"===KR(e).position;let s=a?GR(e):e;for(;zR(s)&&!ZR(s);){const t=KR(s),n=qR(s);!n&&"fixed"===t.position&&(i=null),(a?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||UR(s)&&!n&&BM(e,s))?r=r.filter((e=>e!==s)):i=t,s=GR(s)}return t.set(e,r),r}function UM(e,t,n){const r=BR(t),i=LR(t),a="fixed"===n,s=LM(e,!0,a,t);let o={scrollLeft:0,scrollTop:0};const l=iM(0);if(r||!r&&!a)if(("body"!==IR(t)||UR(i))&&(o=YR(t)),r){const e=LM(t,!0,a,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&(l.x=FM(i));let c=0,u=0;if(i&&!r&&!a){const e=i.getBoundingClientRect();u=e.top+o.scrollTop,c=e.left+o.scrollLeft-FM(i,e)}return{x:s.left+o.scrollLeft-l.x-c,y:s.top+o.scrollTop-l.y-u,width:s.width,height:s.height}}function HM(e){return"static"===KR(e).position}function VM(e,t){if(!BR(e)||"fixed"===KR(e).position)return null;if(t)return t(e);let n=e.offsetParent;return LR(e)===n&&(n=n.ownerDocument.body),n}function qM(e,t){const n=DR(e);if(VR(e))return n;if(!BR(e)){let t=GR(e);for(;t&&!ZR(t);){if(zR(t)&&!HM(t))return t;t=GR(t)}return n}let r=VM(e,t);for(;r&&HR(r)&&HM(r);)r=VM(r,t);return r&&ZR(r)&&HM(r)&&!qR(r)?n:r||function(e){let t=GR(e);for(;BR(t)&&!ZR(t);){if(qR(t))return t;if(VR(t))return null;t=GR(t)}return null}(e)||n}const WM={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a="fixed"===i,s=LR(r),o=!!t&&VR(t.floating);if(r===s||o&&a)return n;let l={scrollLeft:0,scrollTop:0},c=iM(1);const u=iM(0),d=BR(r);if((d||!d&&!a)&&(("body"!==IR(r)||UR(s))&&(l=YR(r)),BR(r))){const e=LM(r);c=MM(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}},getDocumentElement:LR,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[..."clippingAncestors"===n?VR(t)?[]:$M(t,this._c):[].concat(n),r],s=a[0],o=a.reduce(((e,n)=>{const r=zM(t,n,i);return e.top=tM(r.top,e.top),e.right=eM(r.right,e.right),e.bottom=eM(r.bottom,e.bottom),e.left=tM(r.left,e.left),e}),zM(t,s,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}},getOffsetParent:qM,getElementRects:async function(e){const t=this.getOffsetParent||qM,n=this.getDimensions,r=await n(e.floating);return{reference:UM(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=PM(e);return{width:t,height:n}},getScale:MM,isElement:zR,isRTL:function(e){return"rtl"===KR(e).direction}};function ZM(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=RM(e),u=i||a?[...c?QR(c):[],...QR(t)]:[];u.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),a&&e.addEventListener("resize",n)}));const d=c&&o?function(e,t){let n,r=null;const i=LR(e);function a(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),a();const{left:c,top:u,width:d,height:h}=e.getBoundingClientRect();if(o||t(),!d||!h)return;const p={rootMargin:-rM(u)+"px "+-rM(i.clientWidth-(c+d))+"px "+-rM(i.clientHeight-(u+h))+"px "+-rM(c)+"px",threshold:tM(0,eM(1,l))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!f)return s();t?s(!1,t):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}f=!1}try{r=new IntersectionObserver(m,{...p,root:i.ownerDocument})}catch{r=new IntersectionObserver(m,p)}r.observe(e)}(!0),a}(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=p)||e.observe(t)}))),n()})),c&&!l&&p.observe(c),p.observe(t));let f,m=l?LM(e):null;return l&&function t(){const r=LM(e);m&&(r.x!==m.x||r.y!==m.y||r.width!==m.width||r.height!==m.height)&&n(),m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach((e=>{i&&e.removeEventListener("scroll",n),a&&e.removeEventListener("resize",n)})),null==d||d(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const KM=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,a=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=oM(n),o=lM(n),l="y"===uM(n),c=["left","top"].includes(s)?-1:1,u=a&&l?-1:1,d=sM(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:f}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&"number"==typeof f&&(p="end"===o?-1*f:f),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}(t,e);return s===(null==(n=o.offset)?void 0:n.placement)&&null!=(r=o.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:s}}}}},YM=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=sM(e,t),c={x:n,y:r},u=await AM(t,l),d=uM(oM(i)),h=cM(d);let p=c[h],f=c[d];if(a){const e="y"===h?"bottom":"right";p=aM(p+u["y"===h?"top":"left"],p,p-u[e])}if(s){const e="y"===d?"bottom":"right";f=aM(f+u["y"===d?"top":"left"],f,f-u[e])}const m=o.fn({...t,[h]:p,[d]:f});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[h]:a,[d]:s}}}}}},GM=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:s,elements:o}=t,{apply:l=()=>{},...c}=sM(e,t),u=await AM(t,c),d=oM(i),h=lM(i),p="y"===uM(i),{width:f,height:m}=a.floating;let g,v;"top"===d||"bottom"===d?(g=d,v=h===(await(null==s.isRTL?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(v=d,g="end"===h?"top":"bottom");const y=m-u.top-u.bottom,b=f-u.left-u.right,x=eM(m-u[g],y),w=eM(f-u[v],b),_=!t.middlewareData.shift;let k=x,j=w;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(j=b),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(k=y),_&&!h){const e=tM(u.left,0),t=tM(u.right,0),n=tM(u.top,0),r=tM(u.bottom,0);p?j=f-2*(0!==e||0!==t?e+t:tM(u.left,u.right)):k=m-2*(0!==n||0!==r?n+r:tM(u.top,u.bottom))}await l({...t,availableWidth:j,availableHeight:k});const S=await s.getDimensions(o.floating);return f!==S.width||m!==S.height?{reset:{rects:!0}}:{}}}},JM=(e,t,n)=>{const r=new Map,i={platform:WM,...n},a={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),l=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:d}=TM(c,r,l),h=r,p={},f=0;for(let m=0;m<o.length;m++){const{name:n,fn:a}=o[m],{x:g,y:v,data:y,reset:b}=await a({x:u,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=g??u,d=v??d,p={...p,[n]:{...p[n],...y}},b&&f<=50&&(f++,"object"==typeof b&&(b.placement&&(h=b.placement),b.rects&&(c=!0===b.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:u,y:d}=TM(c,h,l))),m=-1)}return{x:u,y:d,placement:h,strategy:i,middlewareData:p}})(e,t,{...i,platform:a})};var QM=typeof document<"u"?t.useLayoutEffect:t.useEffect;function XM(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!XM(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!XM(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function eI(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tI(e,t){const n=eI(e);return Math.round(t*n)/n}function nI(e){const n=t.useRef(e);return QM((()=>{n.current=e})),n}const rI=(e,t)=>({...KM(e),options:[e,t]}),iI=(e,t)=>({...YM(e),options:[e,t]}),aI=(e,t)=>({...GM(e),options:[e,t]});var sI=function(){return sI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sI.apply(this,arguments)};function oI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function lI(e,n,r){void 0===n&&(n=[]),void 0===r&&(r={loading:!1});var i=(0,t.useRef)(0),a=function(){var e=(0,t.useRef)(!1),n=(0,t.useCallback)((function(){return e.current}),[]);return(0,t.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),n}(),s=(0,t.useState)(r),o=s[0],l=s[1],c=(0,t.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=++i.current;return o.loading||l((function(e){return sI(sI({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return a()&&r===i.current&&l({value:e,loading:!1}),e}),(function(e){return a()&&r===i.current&&l({error:e,loading:!1}),e}))}),n);return[o,c]}function cI(e,n){void 0===n&&(n=[]);var r=lI(e,n,{loading:!0}),i=r[0],a=r[1];return(0,t.useEffect)((function(){a()}),[a]),i}var uI=function(e){var n=(0,t.useRef)(e);n.current=e,function(e){(0,t.useEffect)(e,[])}((function(){return function(){return n.current()}}))},dI=function(e){var n=function(e){var n=(0,t.useRef)(0),r=(0,t.useState)(e),i=r[0],a=r[1],s=(0,t.useCallback)((function(e){cancelAnimationFrame(n.current),n.current=requestAnimationFrame((function(){a(e)}))}),[]);return uI((function(){cancelAnimationFrame(n.current)})),[i,s]}({x:0,y:0}),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=function(){e.current&&i({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}(e.current,"scroll",t,{capture:!1,passive:!0}),function(){e.current&&function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}(e.current,"scroll",t)}}),[e]),r};const hI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},pI=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=r??("object"!=typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{"production"!==(hI?"production":void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,i,a);return a},fI=e=>e?pI(e):pI;var mI,gI={exports:{}},vI={},yI={exports:{}},bI={};var xI,wI;function _I(){return xI||(xI=1,yI.exports=function(){if(mI)return bI;mI=1;var e=t,n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},r=e.useState,i=e.useEffect,a=e.useLayoutEffect,s=e.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n(e,r)}catch{return!0}}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?function(e,t){return t()}:function(e,t){var n=t(),l=r({inst:{value:n,getSnapshot:t}}),c=l[0].inst,u=l[1];return a((function(){c.value=n,c.getSnapshot=t,o(c)&&u({inst:c})}),[e,n,t]),i((function(){return o(c)&&u({inst:c}),e((function(){o(c)&&u({inst:c})}))}),[e]),s(n),n};return bI.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:l,bI}()),yI.exports}gI.exports=function(){if(wI)return vI;wI=1;var e=t,n=_I(),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=n.useSyncExternalStore,a=e.useRef,s=e.useEffect,o=e.useMemo,l=e.useDebugValue;return vI.useSyncExternalStoreWithSelector=function(e,t,n,c,u){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=o((function(){function e(e){if(!s){if(s=!0,i=e,e=c(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return a=t}return a=e}if(t=a,r(i,e))return t;var n=c(e);return void 0!==u&&u(t,n)?t:(i=e,a=n)}var i,a,s=!1,o=void 0===n?null:n;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]}),[t,n,c,u]);var p=i(e,d[0],d[1]);return s((function(){h.hasValue=!0,h.value=p}),[p]),l(p),p},vI}();const kI=Lf(gI.exports),jI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},{useDebugValue:SI}=t,{useSyncExternalStoreWithSelector:NI}=kI;let EI=!1;const CI=e=>e;function OI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:CI,n=arguments.length>2?arguments[2]:void 0;"production"!==(jI?"production":void 0)&&n&&!EI&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),EI=!0);const r=NI(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return SI(r),r}const TI=e=>{"production"!==(jI?"production":void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?fI(e):e,n=(e,n)=>OI(t,e,n);return Object.assign(n,t),n},AI={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},PI=new Map,RI=e=>{const t=PI.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((e=>{let[t,n]=e;return[t,n.getState()]}))):{}},MI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,r,i)=>{const{enabled:a,anonymousActionType:s,store:o,...l}=t;let c;try{c=(a??"production"!==(AI?"production":void 0))&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return"production"!==(AI?"production":void 0)&&a&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,r,i);const{connection:u,...d}=((e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=PI.get(n.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(n),stores:{}};return PI.set(n.name,i),{type:"tracked",store:e,...i}})(o,c,l);let h=!0;i.setState=(e,t,a)=>{const c=n(e,t);if(!h)return c;const d=void 0===a?{type:s||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===o?(null==u||u.send(d,r()),c):(null==u||u.send({...d,type:`${o}/${d.type}`},{...RI(l.name),[o]:i.getState()}),c)};const p=function(){const e=h;h=!1,n(...arguments),h=e},f=e(i.setState,r,i);if("untracked"===d.type?null==u||u.init(f):(d.stores[d.store]=i,null==u||u.init(Object.fromEntries(Object.entries(d.stores).map((e=>{let[t,n]=e;return[t,t===d.store?f:n.getState()]}))))),i.dispatchFromDevtools&&"function"==typeof i.dispatch){let e=!1;const t=i.dispatch;i.dispatch=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];"production"!==(AI?"production":void 0)&&"__setState"===r[0].type&&!e&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return u.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):II(e.payload,(e=>{if("__setState"!==e.type)i.dispatchFromDevtools&&"function"==typeof i.dispatch&&i.dispatch(e);else{if(void 0===o)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[o];if(null==t)return;JSON.stringify(i.getState())!==JSON.stringify(t)&&p(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return p(f),void 0===o?null==u?void 0:u.init(i.getState()):null==u?void 0:u.init(RI(l.name));case"COMMIT":return void 0===o?void(null==u||u.init(i.getState())):null==u?void 0:u.init(RI(l.name));case"ROLLBACK":return II(e.state,(e=>{if(void 0===o)return p(e),void(null==u||u.init(i.getState()));p(e[o]),null==u||u.init(RI(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return II(e.state,(e=>{void 0!==o?JSON.stringify(i.getState())!==JSON.stringify(e[o])&&p(e[o]):p(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return p(void 0===o?r:r[o]),void(null==u||u.send(null,n))}case"PAUSE_RECORDING":return h=!h}return}})),f}},II=(e,t)=>{let n;try{n=JSON.parse(e)}catch(Ie){console.error("[zustand devtools middleware] Could not parse the received json",Ie)}void 0!==n&&t(n)};function DI(e,t){let n;try{n=e()}catch{return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),i=null!=(t=n.getItem(e))?t:null;return i instanceof Promise?i.then(r):r(i)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const LI=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>LI(e)(n),catch(e){return this}}}catch(n){return{then(e){return this},catch:e=>LI(e)(n)}}},FI=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(AI?"production":void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((e,t)=>(n,r,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const o=new Set,l=new Set;let c;try{c=a.getStorage()}catch{}if(!c)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...arguments)}),r,i);const u=LI(a.serialize),d=()=>{const e=a.partialize({...r()});let t;const n=u({state:e,version:a.version}).then((e=>c.setItem(a.name,e))).catch((e=>{t=e}));if(t)throw t;return n},h=i.setState;i.setState=(e,t)=>{h(e,t),d()};const p=e((function(){n(...arguments),d()}),r,i);let f;const m=()=>{var e;if(!c)return;s=!1,o.forEach((e=>e(r())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,r()))||void 0;return LI(c.getItem.bind(c))(a.name).then((e=>{if(e)return a.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return f=a.merge(e,null!=(t=r())?t:p),n(f,!0),d()})).then((()=>{null==t||t(f,void 0),s=!0,l.forEach((e=>e(f)))})).catch((e=>{null==t||t(void 0,e)}))};return i.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},m(),f||p})(e,t)):((e,t)=>(n,r,i)=>{let a={storage:DI((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const o=new Set,l=new Set;let c=a.storage;if(!c)return e((function(){console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...arguments)}),r,i);const u=()=>{const e=a.partialize({...r()});return c.setItem(a.name,{state:e,version:a.version})},d=i.setState;i.setState=(e,t)=>{d(e,t),u()};const h=e((function(){n(...arguments),u()}),r,i);let p;i.getInitialState=()=>h;const f=()=>{var e,t;if(!c)return;s=!1,o.forEach((e=>{var t;return e(null!=(t=r())?t:h)}));const i=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=r())?e:h))||void 0;return LI(c.getItem.bind(c))(a.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return[!1,e.state];if(a.migrate)return[!0,a.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[i,s]=e;if(p=a.merge(s,null!=(t=r())?t:h),n(p,!0),i)return u()})).then((()=>{null==i||i(p,void 0),p=r(),s=!0,l.forEach((e=>e(p)))})).catch((e=>{null==i||i(void 0,e)}))};return i.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>s,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||f(),p||h})(e,t),zI=TI(MI(FI(((e,t)=>({messageHistory:{},addMessageToHistory:t=>{let{userId:n,message:r}=t;return e((e=>({...e,messageHistory:{...e.messageHistory,[n]:[r,...(e.messageHistory[n]??[]).slice(0,100)]}})))},clientMode:"",setClientMode:n=>{const{clearAll:r,clientMode:i}=t();i!==n&&r(),e((e=>({...e,clientMode:n})))},setUser:t=>e((e=>({...e,user:t}))),setConversationId:t=>e((e=>({...e,conversationId:t}))),clearAll:()=>{e((e=>({...e,messageHistory:{},user:void 0,conversationId:void 0})))}})),{name:"botpress-webchat"}))),BI=(0,t.createContext)(null);function $I(e){const n=(0,t.useContext)(BI);if(!n)throw new Error("Missing WebchatContext.Provider in the tree");return OI(n,e)}const UI=e=>{if("link"===e.variant){const{value:t,variant:n,...r}=e;return Uf.jsx("a",{...r,href:t,target:"_blank",rel:"noopener noreferrer"})}const{variant:t,...n}=e;return Uf.jsx("button",{type:"button",...n})},HI=(0,t.forwardRef)(((e,t)=>{let{block:n,type:r,direction:i,timestamp:a,sender:s,metadata:o,...l}=e;const{message:{blocks:{bubble:c}}}=Lj;return Uf.jsx("div",{...l,...c,ref:t,children:Uf.jsx(HF,{direction:i,timestamp:a,sender:s,block:n,metadata:o})})})),VI=(0,t.createContext)(null);const qI=(0,t.createContext)(null);function WI(){const e=(0,t.useContext)(qI);if(!e)throw new Error("useModalContext must be used within a ModalProvider");return e}const ZI=(0,t.createContext)(null);function KI(){const e=(0,t.useContext)(ZI);if(!e)throw new Error("useWebchatConfig must be used within a WebchatConfigProvider");return e}const YI=(0,t.forwardRef)(((e,n)=>{let{url:r,type:i,orientation:a="auto",...s}=e;const o=(0,t.useId)(),{setIsLoading:l}=function(){const e=(0,t.useContext)(VI);if(!e)throw new Error("useMessageContext must be used within a Message");return e}(),[c,u]=(0,t.useState)(a),[d,h]=(0,t.useState)(!1),{message:{blocks:{image:p}}}=Lj;return(0,t.useLayoutEffect)((()=>{l((e=>[...e,o]))}),[]),cI((async()=>{if(r&&"auto"===c){try{const{width:e,height:t}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{if(typeof window>"u")return r("Window is not defined");if(!e)return r("Url is not defined");let i=null;const a=new Image;a.addEventListener("load",(()=>{i&&clearTimeout(i),n({width:a.naturalWidth,height:a.naturalHeight})})),a.addEventListener("error",(e=>{i&&clearTimeout(i),r(`${e.type}: ${e.message}`)})),a.src=e,t.timeout&&(i=setTimeout((()=>r("Timeout")),t.timeout))}))}(r);u(function(e,t){const n={square:1,portrait:.75,landscape:1.3333333333333333},r=e/t;return Object.keys(n).reduce(((e,t)=>Math.abs(n[t]-r)<Math.abs(n[e]-r)?t:e))}(e,t))}catch(e){u("square"),console.error(e)}l((e=>e.filter((e=>e!==o))))}}),[r]),Uf.jsxs(Uf.Fragment,{children:[d?null:Uf.jsx("div",{"data-orientation":c,...p.placeholder}),Uf.jsx("img",{"data-orientation":c,"data-loaded":d,...s,...p.image,src:r,alt:"",ref:n,loading:"lazy",onLoad:()=>{h(!0)}})]})}));const GI=(0,t.forwardRef)(((e,t)=>{let{url:n,type:r,...i}=e;const{message:{blocks:{video:a}}}=Lj;return Uf.jsx("div",{children:Uf.jsx("video",{...i,controls:!0,src:n,...a,ref:t})})})),JI=(0,t.forwardRef)(((e,t)=>{let{url:n,type:r,...i}=e;const{message:{blocks:{audio:a}}}=Lj;return Uf.jsx("div",{children:Uf.jsx("audio",{...i,controls:!0,src:n,...a,ref:t})})}));function QI(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M10 3a.75.75 0 0 1 .75.75v10.638l3.96-4.158a.75.75 0 1 1 1.08 1.04l-5.25 5.5a.75.75 0 0 1-1.08 0l-5.25-5.5a.75.75 0 1 1 1.08-1.04l3.96 4.158V3.75A.75.75 0 0 1 10 3Z",clipRule:"evenodd"}))}const XI=t.forwardRef(QI);function eD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M15.312 11.424a5.5 5.5 0 0 1-9.201 2.466l-.312-.311h2.433a.75.75 0 0 0 0-1.5H3.989a.75.75 0 0 0-.75.75v4.242a.75.75 0 0 0 1.5 0v-2.43l.31.31a7 7 0 0 0 11.712-3.138.75.75 0 0 0-1.449-.39Zm1.23-3.723a.75.75 0 0 0 .219-.53V2.929a.75.75 0 0 0-1.5 0V5.36l-.31-.31A7 7 0 0 0 3.239 8.188a.75.75 0 1 0 1.448.389A5.5 5.5 0 0 1 13.89 6.11l.311.31h-2.432a.75.75 0 0 0 0 1.5h4.243a.75.75 0 0 0 .53-.219Z",clipRule:"evenodd"}))}const tD=t.forwardRef(eD);function nD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const rD=t.forwardRef(nD);function iD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M4.5 2A1.5 1.5 0 0 0 3 3.5v13A1.5 1.5 0 0 0 4.5 18h11a1.5 1.5 0 0 0 1.5-1.5V7.621a1.5 1.5 0 0 0-.44-1.06l-4.12-4.122A1.5 1.5 0 0 0 11.378 2H4.5Zm4.75 6.75a.75.75 0 0 1 1.5 0v2.546l.943-1.048a.75.75 0 0 1 1.114 1.004l-2.25 2.5a.75.75 0 0 1-1.114 0l-2.25-2.5a.75.75 0 1 1 1.114-1.004l.943 1.048V8.75Z",clipRule:"evenodd"}))}const aD=t.forwardRef(iD);function sD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"m9.69 18.933.003.001C9.89 19.02 10 19 10 19s.11.02.308-.066l.002-.001.006-.003.018-.008a5.741 5.741 0 0 0 .281-.14c.186-.096.446-.24.757-.433.62-.384 1.445-.966 2.274-1.765C15.302 14.988 17 12.493 17 9A7 7 0 1 0 3 9c0 3.492 1.698 5.988 3.355 7.584a13.731 13.731 0 0 0 2.273 1.765 11.842 11.842 0 0 0 .976.544l.062.029.018.008.006.003ZM10 11.25a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z",clipRule:"evenodd"}))}const oD=t.forwardRef(sD),lD=(0,t.forwardRef)(((e,t)=>{let{type:n,latitude:r,longitude:i,title:a,...s}=e;const o=`https://www.google.com/maps/search/?api=1&query=${r},${i}`,{message:{blocks:{location:l}}}=Lj;return Uf.jsxs("a",{...s,...l.container,href:o,type:"_blank",rel:"noopener",ref:t,children:[Uf.jsx("p",{...l.title,children:a}),Uf.jsx(oD,{...l.icon})]})})),cD=(0,t.forwardRef)(((e,t)=>{let{blocks:n,type:r,horizontalAlignment:i,verticalAlignment:a,direction:s,sender:o,timestamp:l,metadata:c,...u}=e;const{message:{blocks:{column:d}}}=Lj;return Uf.jsx("div",{"data-horizontal":i,"data-vertical":a,...u,...d,ref:t,children:n.map(((e,t)=>Uf.jsx(HF,{block:e,direction:s,sender:o,timestamp:l,metadata:c},t)))})})),uD=(0,t.forwardRef)(((e,t)=>{let{blocks:n,type:r,horizontalAlignment:i,verticalAlignment:a,direction:s,sender:o,timestamp:l,metadata:c,...u}=e;const{message:{blocks:{row:d}}}=Lj;return Uf.jsx("div",{"data-horizontal":i,"data-vertical":a,...u,...d,ref:t,children:n.map(((e,t)=>Uf.jsx(HF,{block:e,direction:s,sender:o,timestamp:l,metadata:c},t)))})}));function dD(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function hD(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;return JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every((n=>{const r=e[n],i=t[n];return"function"==typeof r?`${r}`==`${i}`:dD(r)&&dD(i)?hD(r,i):r===i}))}function pD(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function fD(e){return"number"==typeof e}function mD(e){return"string"==typeof e}function gD(e){return"boolean"==typeof e}function vD(e){return"[object Object]"===Object.prototype.toString.call(e)}function yD(e){return Math.abs(e)}function bD(e){return Math.sign(e)}function xD(e,t){return yD(e-t)}function wD(e){return jD(e).map(Number)}function _D(e){return e[kD(e)]}function kD(e){return Math.max(0,e.length-1)}function jD(e){return Object.keys(e)}function SD(e,t){return[e,t].reduce(((e,t)=>(jD(t).forEach((n=>{const r=e[n],i=t[n],a=vD(r)&&vD(i);e[n]=a?SD(r,i):i})),e)),{})}function ND(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function ED(e,t){const n={start:function(){return 0},center:function(e){return r(e)/2},end:r};function r(e){return t-e}return{measure:function(r){return fD(e)?t*Number(e):n[e](r)}}}function CD(e,t){const n=yD(e-t);function r(t){return t<e}function i(e){return e>t}function a(e){return r(e)||i(e)}return{length:n,max:t,min:e,constrain:function(n){return a(n)?r(n)?e:t:n},reachedAny:a,reachedMax:i,reachedMin:r,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function OD(e,t,n){const{constrain:r}=CD(0,e),i=e+1;let a=s(t);function s(e){return n?yD((i+e)%i):r(e)}function o(){return a}function l(){return OD(e,o(),n)}const c={get:o,set:function(e){return a=s(e),c},add:function(e){return l().set(o()+e)},clone:l};return c}function TD(){let e=[];const t={add:function(n,r,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return n.addEventListener(r,i,a),e.push((()=>n.removeEventListener(r,i,a))),t},clear:function(){e=e.filter((e=>e()))}};return t}function AD(e,t,n,r,i,a,s,o,l,c,u,d,h,p,f,m,g,v,y){const{cross:b}=e,x=["INPUT","SELECT","TEXTAREA"],w={passive:!1},_=TD(),k=TD(),j=CD(50,225).constrain(f.measure(20)),S={mouse:300,touch:400},N={mouse:500,touch:600},E=m?43:25;let C=!1,O=0,T=0,A=!1,P=!1,R=!1,M=!1;function I(e){const n=s.readPoint(e),r=s.readPoint(e,b),i=xD(n,O),o=xD(r,T);if(!P&&!M&&(!e.cancelable||(P=i>o,!P)))return D(e);const c=s.pointerMove(e);i>g&&(R=!0),u.useFriction(.3).useDuration(1),l.start(),a.add(t.apply(c)),e.preventDefault()}function D(e){const n=d.byDistance(0,!1).index!==h.get(),r=s.pointerUp(e)*(m?N:S)[M?"mouse":"touch"],i=function(e,t){const n=h.add(-1*bD(e)),r=d.byDistance(e,!m).distance;return m||yD(e)<j?r:v&&t?.5*r:d.byIndex(n.get(),0).distance}(t.apply(r),n),a=function(e,t){if(0===e||0===t||yD(e)<=yD(t))return 0;const n=xD(yD(e),yD(t));return yD(n/e)}(r,i),o=E-10*a,l=y+a/50;P=!1,A=!1,k.clear(),u.useDuration(o).useFriction(l),c.distance(i,!m),M=!1,p.emit("pointerUp")}function L(e){R&&(e.stopPropagation(),e.preventDefault())}return{init:function(e,t){if(!t)return;function l(l){(gD(t)||t(e,l))&&function(e){const t=ND(e,i);M=t,(!t||0===e.button)&&(function(e){const t=e.nodeName||"";return x.includes(t)}(e.target)||(R=m&&t&&!e.buttons&&C,C=xD(a.get(),o.get())>=2,A=!0,s.pointerDown(e),u.useFriction(0).useDuration(0),a.set(o),function(){const e=M?r:n;k.add(e,"touchmove",I,w).add(e,"touchend",D).add(e,"mousemove",I,w).add(e,"mouseup",D)}(),O=s.readPoint(e),T=s.readPoint(e,b),p.emit("pointerDown")))}(l)}const c=n;_.add(c,"dragstart",(e=>e.preventDefault()),w).add(c,"touchmove",(()=>{}),w).add(c,"touchend",(()=>{})).add(c,"touchstart",l).add(c,"mousedown",l).add(c,"touchcancel",D).add(c,"contextmenu",D).add(c,"click",L,!0)},pointerDown:function(){return A},destroy:function(){_.clear(),k.clear()}}}function PD(e,t){let n,r;function i(e){return e.timeStamp}function a(n,r){const i="client"+("x"===(r||e.scroll)?"X":"Y");return(ND(n,t)?n:n.touches[0])[i]}return{pointerDown:function(e){return n=e,r=e,a(e)},pointerMove:function(e){const t=a(e)-a(r),s=i(e)-i(n)>170;return r=e,s&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;const t=a(r)-a(n),s=i(e)-i(n),o=i(e)-i(r)>170,l=t/s;return s&&!o&&yD(l)>.1?l:0},readPoint:a}}function RD(e,t,n,r,i){let a,s,o=[],l=!1;function c(e){return i.measureSize(e.getBoundingClientRect())}return{init:function(i,u){u&&(s=c(e),o=r.map(c),a=new ResizeObserver((a=>{l||(gD(u)||u(i,a))&&function(a){for(const l of a){const a=l.target===e,u=r.indexOf(l.target);if((a?s:o[u])!==c(a?e:r[u])){n.requestAnimationFrame((()=>{i.reInit(),t.emit("resize")}));break}}}(a)})),[e].concat(r).forEach((e=>a.observe(e))))},destroy:function(){a&&a.disconnect(),l=!0}}}function MD(e,t,n,r,i){const a=i.measure(10),s=i.measure(50),o=CD(.1,.99);let l=!1;return{constrain:function(i){if(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))return;const c=e.reachedMin(t.get())?"min":"max",u=yD(e[c]-t.get()),d=n.get()-t.get(),h=o.constrain(u/s);n.subtract(d*h),!i&&yD(d)<a&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function ID(e,t,n,r){const i=CD(-t+e,n[0]),a=n.map(i.constrain).map((e=>parseFloat(e.toFixed(3))));return{snapsContained:function(){if(t<=e)return[i.max];if("keepSnaps"===r)return a;const{min:n,max:s}=function(){const e=a[0],t=_D(a),n=a.lastIndexOf(e),r=a.indexOf(t)+1;return CD(n,r)}();return a.slice(n,s)}()}}function DD(e,t,n,r){const i=t.min+.1,a=t.max+.1,{reachedMin:s,reachedMax:o}=CD(i,a);return{loop:function(t){if(!function(e){return 1===e?o(n.get()):-1===e&&s(n.get())}(t))return;const i=e*(-1*t);r.forEach((e=>e.add(i)))}}}function LD(e){const{max:t,length:n}=e;return{get:function(e){return(e-t)/-n}}}function FD(e,t,n,r,i){const{reachedAny:a,removeOffset:s,constrain:o}=r;function l(e){return e.concat().sort(((e,t)=>yD(e)-yD(t)))[0]}function c(t,r){const i=[t,t+n,t-n];if(!e)return i[0];if(!r)return l(i);return l(i.filter((e=>bD(e)===r)))}return{byDistance:function(n,r){const l=i.get()+n,{index:u,distance:d}=function(n){const r=e?s(n):o(n),i=t.map((e=>e-r)).map((e=>c(e,0))).map(((e,t)=>({diff:e,index:t}))).sort(((e,t)=>yD(e.diff)-yD(t.diff))),{index:a}=i[0];return{index:a,distance:r}}(l),h=!e&&a(l);return!r||h?{index:u,distance:n}:{index:u,distance:n+c(t[u]-d,0)}},byIndex:function(e,n){return{index:e,distance:c(t[e]-i.get(),n)}},shortcut:c}}function zD(e){let t=e;function n(e){return fD(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function BD(e,t,n){const r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},i=n.style;let a=!1;return{clear:function(){a||(i.transform="",n.getAttribute("style")||n.removeAttribute("style"))},to:function(e){a||(i.transform=r(t.apply(e)))},toggleActive:function(e){a=!e}}}function $D(e,t,n,r,i,a,s,o,l){const c=wD(i),u=wD(i).reverse(),d=function(){const e=a[0]-1;return f(p(u,e),"end")}().concat(function(){const e=n-a[0]-1;return f(p(c,e),"start")}());function h(e,t){return e.reduce(((e,t)=>e-i[t]),t)}function p(e,t){return e.reduce(((e,n)=>h(e,t)>0?e.concat([n]):e),[])}function f(n,i){const a="start"===i,c=a?-r:r,u=s.findSlideBounds([c]);return n.map((n=>{const i=a?0:-r,s=a?r:0,c=u.filter((e=>e.index===n))[0][a?"end":"start"];return{index:n,slideLocation:zD(-1),translate:BD(e,t,l[n]),target:()=>o.get()>c?i:s}}))}return{canLoop:function(){return d.every((e=>{let{index:t}=e;return h(c.filter((e=>e!==t)),n)<=.1}))},clear:function(){d.forEach((e=>e.translate.clear()))},loop:function(){d.forEach((e=>{const{target:t,translate:n,slideLocation:r}=e,i=t();i!==r.get()&&(n.to(i),r.set(i))}))},loopPoints:d}}function UD(e,t){let n,r=!1;return{init:function(i,a){a&&(n=new MutationObserver((e=>{r||(gD(a)||a(i,e))&&function(e){for(const n of e)if("childList"===n.type){i.reInit(),t.emit("slidesChanged");break}}(e)})),n.observe(e,{childList:!0}))},destroy:function(){n&&n.disconnect(),r=!0}}}function HD(e,t,n,r,i,a,s){const{removeOffset:o,constrain:l}=i,c=a?[0,t,-t]:[0],u=d(c,s);function d(t,i){const a=t||c,s=function(e){const t=e||0;return n.map((e=>CD(.5,e-.5).constrain(e*t)))}(i);return a.reduce(((t,i)=>{const a=r.map(((t,r)=>({start:t-n[r]+s[r]+i,end:t+e-s[r]+i,index:r})));return t.concat(a)}),[])}return{check:function(e,t){const n=a?o(e):l(e);return(t||u).reduce(((e,t)=>{const{index:r,start:i,end:a}=t;return!e.includes(r)&&(i<n&&a>n)?e.concat([r]):e}),[])},findSlideBounds:d}}function VD(e,t,n){const r=fD(n);return{groupSlides:function(i){return r?function(e,t){return wD(e).filter((e=>e%t===0)).map((n=>e.slice(n,n+t)))}(i,n):function(n){return wD(n).reduce(((n,r)=>{const i=t.slice(_D(n),r+1).reduce(((e,t)=>e+t),0);return!r||i>e?n.concat(r):n}),[]).map(((e,t,r)=>n.slice(e,r[t+1])))}(i)}}}function qD(e,t,n,r,i,a,s,o){const{align:l,axis:c,direction:u,startIndex:d,inViewThreshold:h,loop:p,duration:f,dragFree:m,dragThreshold:g,slidesToScroll:v,skipSnaps:y,containScroll:b}=a,x=t.getBoundingClientRect(),w=n.map((e=>e.getBoundingClientRect())),_=function(e){const t="rtl"===e?-1:1;return{apply:function(e){return e*t}}}(u),k=function(e,t){const n="y"===e?"y":"x";return{scroll:n,cross:"y"===e?"x":"y",startEdge:"y"===n?"top":"rtl"===t?"right":"left",endEdge:"y"===n?"bottom":"rtl"===t?"left":"right",measureSize:function(e){const{width:t,height:r}=e;return"x"===n?t:r}}}(c,u),j=k.measureSize(x),S=function(e){return{measure:function(t){return e*(t/100)}}}(j),N=ED(l,j),E=!p&&!!b,C=p||!!b,{slideSizes:O,slideSizesWithGaps:T}=function(e,t,n,r,i,a){const{measureSize:s,startEdge:o,endEdge:l}=e,c=n[0]&&i,u=function(){if(!c)return 0;const e=n[0];return yD(t[o]-e[o])}(),d=function(){if(!c)return 0;const e=a.getComputedStyle(_D(r));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),h=n.map(s),p=n.map(((e,t,n)=>{const r=!t,i=t===kD(n);return r?h[t]+u:i?h[t]+d:n[t+1][o]-e[o]})).map(yD);return{slideSizes:h,slideSizesWithGaps:p}}(k,x,w,n,C,i),A=VD(j,T,v),{snaps:P,snapsAligned:R}=function(e,t,n,r,i,a,s){const{startEdge:o,endEdge:l}=e,{groupSlides:c}=a,u=c(r).map((e=>_D(e)[l]-e[0][o])).map(yD).map(t.measure),d=r.map((e=>n[o]-e[o])).map((e=>-yD(e))),h=function(){const e=_D(d)-_D(i);return c(d).map((e=>e[0])).map(((t,n,r)=>{const i=!n,a=n===kD(r);return s&&i?0:s&&a?e:t+u[n]}))}();return{snaps:d,snapsAligned:h}}(k,N,x,w,T,A,E),M=-_D(P)+_D(T),{snapsContained:I}=ID(j,M,R,b),D=E?I:R,{limit:L}=function(e,t,n){const r=t[0];return{limit:CD(n?r-e:_D(t),r)}}(M,D,p),F=OD(kD(D),d,p),z=F.clone(),B=wD(n),$={start:()=>o.start(G),stop:()=>o.stop(G),update:()=>(e=>{let{dragHandler:t,scrollBody:n,scrollBounds:r,eventHandler:i,animation:a,options:{loop:s}}=e;const o=t.pointerDown();s||r.constrain(o);const l=n.seek().settled();l&&!o&&(a.stop(),i.emit("settle")),l||i.emit("scroll")})(G),render:e=>((e,t)=>{let{scrollBody:n,translate:r,location:i,offsetLocation:a,scrollLooper:s,slideLooper:o,options:{loop:l}}=e;const c=n.velocity();a.set(i.get()-c+c*t),l&&(s.loop(n.direction()),o.loop()),r.to(a.get())})(G,e)},U=D[F.get()],H=zD(U),V=zD(U),q=zD(U),W=function(e,t,n,r){let i=!0,a=0,s=0,o=n,l=r,c=e.get(),u=0;function d(e){return o=e,p}function h(e){return l=e,p}const p={direction:function(){return s},duration:function(){return o},velocity:function(){return a},seek:function(){const n=t.get()-e.get();let r=0;return o?(a+=n/o,a*=l,c+=a,e.add(a),r=c-u):(a=0,e.set(t),r=n),s=bD(r),u=c,i=yD(n)<.001,p},settled:function(){return i},useBaseFriction:function(){return h(r)},useBaseDuration:function(){return d(n)},useFriction:h,useDuration:d};return p}(H,q,f,.68),Z=FD(p,D,M,L,q),K=function(e,t,n,r,i,a,s){function o(r){const o=r.distance,l=r.index!==t.get();a.add(o),o&&(i.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(r.index),s.emit("select"))}return{distance:function(e,t){o(r.byDistance(e,t))},index:function(e,n){const i=t.clone().set(e);o(r.byIndex(i.get(),n))}}}($,F,z,Z,W,q,s),Y=HD(j,M,O,P,L,p,h),G={ownerDocument:r,ownerWindow:i,eventHandler:s,containerRect:x,slideRects:w,animation:$,axis:k,direction:_,dragHandler:AD(k,_,e,r,i,q,PD(k,i),H,$,K,W,Z,F,s,S,m,g,y,.68),eventStore:TD(),percentOfView:S,index:F,indexPrevious:z,limit:L,location:H,offsetLocation:V,options:a,resizeHandler:RD(t,s,i,n,k),scrollBody:W,scrollBounds:MD(L,H,q,W,S),scrollLooper:DD(M,L,V,[H,V,q]),scrollProgress:LD(L),scrollSnaps:D,scrollTarget:Z,scrollTo:K,slideLooper:$D(k,_,j,M,T,D,Y,V,n),slidesHandler:UD(t,s),slidesInView:Y,slideIndexes:B,slidesToScroll:A,target:q,translate:BD(k,_,t)};return G}const WD={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,dragThreshold:10,inViewThreshold:0,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function ZD(e){function t(e,t){return SD(e,t||{})}return{mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},i=jD(r).filter((t=>e.matchMedia(t).matches)).map((e=>r[e])).reduce(((e,n)=>t(e,n)),{});return t(n,i)},optionsMediaQueries:function(t){return t.map((e=>jD(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}}}function KD(e,t,n){const r=e.ownerDocument,i=r.defaultView,a=ZD(i),s=function(e){let t=[];return{init:function(n,r){return t=n.filter((t=>{let{options:n}=t;return!1!==e.optionsAtMedia(n).active})),t.forEach((t=>t.init(r,e))),n.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}}}(a),o=TD(),l=TD(),c=function(){const e={};let t;function n(t){return e[t]||[]}const r={init:function(e){t=e},emit:function(e){return n(e).forEach((n=>n(t,e))),r},off:function(t,i){return e[t]=n(t).filter((e=>e!==i)),r},on:function(t,i){return e[t]=n(t).concat([i]),r}};return r}(),{animationRealms:u}=KD,{mergeOptions:d,optionsAtMedia:h,optionsMediaQueries:p}=a,{on:f,off:m,emit:g}=c,v=C;let y,b,x,w,_=!1,k=d(WD,KD.globalOptions),j=d(k),S=[];function N(t,n){const a=qD(e,x,w,r,i,t,c,n);if(t.loop&&!a.slideLooper.canLoop()){return N(Object.assign({},t,{loop:!1}),n)}return a}function E(t,n){if(_)return;const a=u.find((e=>e.window===i)),c=a||function(e){const t=16.666666666666668;let n=[],r=null,i=0,a=0;function s(o){r||(r=o);const l=o-r;for(r=o,i+=l;i>=t;)n.forEach((e=>{let{animation:t}=e;return t.update()})),i-=t;const c=yD(i/t);n.forEach((e=>{let{animation:t}=e;return t.render(c)})),a&&e.requestAnimationFrame(s)}return{start:function(t){n.includes(t)||n.push(t),!a&&(a=e.requestAnimationFrame(s))},stop:function(t){n=n.filter((e=>e!==t)),!n.length&&(e.cancelAnimationFrame(a),r=null,i=0,a=0)},reset:function(){r=null,i=0},window:e}}(i);a||u.push(c),k=d(k,t),j=h(k),S=n||S,function(){const{container:t,slides:n}=j;x=(mD(t)?e.querySelector(t):t)||e.children[0];const r=mD(n)?x.querySelectorAll(n):n;w=[].slice.call(r||x.children)}(),y=N(j,c),p([k,...S.map((e=>{let{options:t}=e;return t}))]).forEach((e=>o.add(e,"change",C))),j.active&&(y.translate.to(y.location.get()),y.eventHandler.init(R),y.resizeHandler.init(R,j.watchResize),y.slidesHandler.init(R,j.watchSlides),l.add(r,"visibilitychange",(()=>{r.hidden&&c.reset()})),y.options.loop&&y.slideLooper.loop(),x.offsetParent&&w.length&&y.dragHandler.init(R,j.watchDrag),b=s.init(S,R))}function C(e,t){const n=P();O(),E(d({startIndex:n},e),t),c.emit("reInit")}function O(){y.dragHandler.destroy(),y.animation.stop(),y.eventStore.clear(),y.translate.clear(),y.slideLooper.clear(),y.resizeHandler.destroy(),y.slidesHandler.destroy(),s.destroy(),o.clear(),l.clear()}function T(e){const t=y[e?"target":"location"].get(),n=j.loop?"removeOffset":"constrain";return y.slidesInView.check(y.limit[n](t))}function A(e,t,n){!j.active||_||(y.scrollBody.useBaseFriction().useDuration(t?0:j.duration),y.scrollTo.index(e,n||0))}function P(){return y.index.get()}const R={canScrollNext:function(){return y.index.add(1).get()!==P()},canScrollPrev:function(){return y.index.add(-1).get()!==P()},containerNode:function(){return x},internalEngine:function(){return y},destroy:function(){_||(_=!0,o.clear(),O(),c.emit("destroy"))},off:m,on:f,emit:g,plugins:function(){return b},previousScrollSnap:function(){return y.indexPrevious.get()},reInit:v,rootNode:function(){return e},scrollNext:function(e){A(y.index.add(1).get(),!0===e,-1)},scrollPrev:function(e){A(y.index.add(-1).get(),!0===e,1)},scrollProgress:function(){return y.scrollProgress.get(y.location.get())},scrollSnapList:function(){return y.scrollSnaps.map(y.scrollProgress.get)},scrollTo:A,selectedScrollSnap:P,slideNodes:function(){return w},slidesInView:T,slidesNotInView:function(e){const t=T(e);return y.slideIndexes.filter((e=>!t.includes(e)))}};return E(t,n),setTimeout((()=>c.emit("init")),0),R}function YD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=(0,t.useRef)(e),i=(0,t.useRef)(n),[a,s]=(0,t.useState)(),[o,l]=(0,t.useState)(),c=(0,t.useCallback)((()=>{a&&a.reInit(r.current,i.current)}),[a]);return(0,t.useEffect)((()=>{if(typeof window<"u"&&window.document&&window.document.createElement&&o){KD.globalOptions=YD.globalOptions;const e=KD(o,r.current,i.current);return s(e),()=>e.destroy()}s(void 0)}),[o,s]),(0,t.useEffect)((()=>{hD(r.current,e)||(r.current=e,c())}),[e,c]),(0,t.useEffect)((()=>{(function(e,t){if(e.length!==t.length)return!1;const n=pD(e),r=pD(t);return n.every(((e,t)=>hD(e,r[t])))})(i.current,n)||(i.current=n,c())}),[n,c]),[l,a]}function GD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M15.75 2.25H21a.75.75 0 0 1 .75.75v5.25a.75.75 0 0 1-1.5 0V4.81L8.03 17.03a.75.75 0 0 1-1.06-1.06L19.19 3.75h-3.44a.75.75 0 0 1 0-1.5Zm-10.5 4.5a1.5 1.5 0 0 0-1.5 1.5v10.5a1.5 1.5 0 0 0 1.5 1.5h10.5a1.5 1.5 0 0 0 1.5-1.5V10.5a.75.75 0 0 1 1.5 0v8.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V8.25a3 3 0 0 1 3-3h8.25a.75.75 0 0 1 0 1.5H5.25Z",clipRule:"evenodd"}))}KD.animationRealms=[],KD.globalOptions=void 0,YD.globalOptions=void 0;const JD=t.forwardRef(GD);function QD(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M7.72 12.53a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 1 1 1.06 1.06L9.31 12l6.97 6.97a.75.75 0 1 1-1.06 1.06l-7.5-7.5Z",clipRule:"evenodd"}))}const XD=t.forwardRef(QD);function eL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z",clipRule:"evenodd"}))}const tL=t.forwardRef(eL);function nL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),t.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const rL=t.forwardRef(nL);function iL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{d:"M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z"}),t.createElement("path",{d:"M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z"}))}const aL=t.forwardRef(iL);function sL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{d:"M21.721 12.752a9.711 9.711 0 0 0-.945-5.003 12.754 12.754 0 0 1-4.339 2.708 18.991 18.991 0 0 1-.214 4.772 17.165 17.165 0 0 0 5.498-2.477ZM14.634 15.55a17.324 17.324 0 0 0 .332-4.647c-.952.227-1.945.347-2.966.347-1.021 0-2.014-.12-2.966-.347a17.515 17.515 0 0 0 .332 4.647 17.385 17.385 0 0 0 5.268 0ZM9.772 17.119a18.963 18.963 0 0 0 4.456 0A17.182 17.182 0 0 1 12 21.724a17.18 17.18 0 0 1-2.228-4.605ZM7.777 15.23a18.87 18.87 0 0 1-.214-4.774 12.753 12.753 0 0 1-4.34-2.708 9.711 9.711 0 0 0-.944 5.004 17.165 17.165 0 0 0 5.498 2.477ZM21.356 14.752a9.765 9.765 0 0 1-7.478 6.817 18.64 18.64 0 0 0 1.988-4.718 18.627 18.627 0 0 0 5.49-2.098ZM2.644 14.752c1.682.971 3.53 1.688 5.49 2.099a18.64 18.64 0 0 0 1.988 4.718 9.765 9.765 0 0 1-7.478-6.816ZM13.878 2.43a9.755 9.755 0 0 1 6.116 3.986 11.267 11.267 0 0 1-3.746 2.504 18.63 18.63 0 0 0-2.37-6.49ZM12 2.276a17.152 17.152 0 0 1 2.805 7.121c-.897.23-1.837.353-2.805.353-.968 0-1.908-.122-2.805-.353A17.151 17.151 0 0 1 12 2.276ZM10.122 2.43a18.629 18.629 0 0 0-2.37 6.49 11.266 11.266 0 0 1-3.746-2.504 9.754 9.754 0 0 1 6.116-3.985Z"}))}const oL=t.forwardRef(sL);function lL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"}))}const cL=t.forwardRef(lL);function uL(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z",clipRule:"evenodd"}))}const dL=t.forwardRef(uL),hL=(0,t.forwardRef)(((e,n)=>{let{blocks:r,direction:i,sender:a,timestamp:s,metadata:o}=e;const[l,c]=YD({skipSnaps:!0,loop:!0}),[u,d]=(0,t.useState)(!0),[h,p]=(0,t.useState)(!0),f=(0,t.useCallback)((()=>null==c?void 0:c.scrollPrev()),[c]),m=(0,t.useCallback)((()=>null==c?void 0:c.scrollNext()),[c]),{message:{blocks:{carousel:g}}}=Lj,v=(0,t.useCallback)((e=>{d(!e.canScrollPrev()),p(!e.canScrollNext())}),[]);return(0,t.useEffect)((()=>{c&&(v(c),c.on("reInit",v),c.on("select",v))}),[c,v]),Uf.jsxs("div",{...null==g?void 0:g.container,"data-container":"carousel",ref:l,children:[Uf.jsx("div",{ref:n,...null==g?void 0:g.slidesContainer,children:r.map(((e,t)=>Uf.jsx(HF,{block:e,direction:i,sender:a,timestamp:s,metadata:o},t)))}),r.length>1&&Uf.jsxs(Uf.Fragment,{children:[Uf.jsx(XD,{...null==g?void 0:g.backButton,"data-disabled":u?"":void 0,onClick:f}),Uf.jsx(tL,{...null==g?void 0:g.nextButton,"data-disabled":h?"":void 0,onClick:m})]})]})})),pL=Math.floor;function fL(e){return gL(e)?(e.nodeName||"").toLowerCase():"#document"}function mL(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function gL(e){return e instanceof Node||e instanceof mL(e).Node}function vL(e){return e instanceof Element||e instanceof mL(e).Element}function yL(e){return e instanceof HTMLElement||e instanceof mL(e).HTMLElement}function bL(e){return!(typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof mL(e).ShadowRoot)}function xL(e){return["html","body","#document"].includes(fL(e))}function wL(e){if("html"===fL(e))return e;const t=e.assignedSlot||e.parentNode||bL(e)&&e.host||function(e){var t;return null==(t=(gL(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}(e);return bL(t)?t.host:t}function _L(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function kL(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&bL(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function jL(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function SL(e){if(0===e.mozInputSource&&e.isTrusted)return!0;const t=/Android/i;return(t.test(jL())||t.test(function(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}()))&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType}function NL(e){return 0===e.width&&0===e.height||1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"!==e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail}function EL(){return/apple/i.test(navigator.vendor)}function CL(e,t){return["mouse","pen"].includes(e)}function OL(e){return(null==e?void 0:e.ownerDocument)||document}function TL(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function AL(e){return"composedPath"in e?e.composedPath()[0]:e.target}function PL(e){return yL(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function RL(e){e.preventDefault(),e.stopPropagation()}const ML="ArrowUp",IL="ArrowDown",DL="ArrowLeft",LL="ArrowRight";function FL(e,t,n){return Math.floor(e/t)!==n}function zL(e,t){return t<0||t>=e.current.length}function BL(e,t){return UL(e,{disabledIndices:t})}function $L(e,t){return UL(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function UL(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:a=1}=void 0===t?{}:t;const s=e.current;let o=n;do{var l,c;o+=r?-a:a}while(o>=0&&o<=s.length-1&&(i?i.includes(o):null==s[o]||null!=(l=s[o])&&l.hasAttribute("disabled")||"true"===(null==(c=s[o])?void 0:c.getAttribute("aria-disabled"))));return o}let HL=0;function VL(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(HL);const a=()=>null==e?void 0:e.focus({preventScroll:n});i?a():HL=requestAnimationFrame(a)}var qL=typeof document<"u"?t.useLayoutEffect:t.useEffect;function WL(){return WL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WL.apply(this,arguments)}let ZL=!1,KL=0;const YL=()=>"floating-ui-"+KL++;const GL=t.useId||function(){const[e,n]=t.useState((()=>ZL?YL():void 0));return qL((()=>{null==e&&n(YL())}),[]),t.useEffect((()=>{ZL||(ZL=!0)}),[]),e};const JL=t.createContext(null),QL=t.createContext(null),XL=()=>{var e;return(null==(e=t.useContext(JL))?void 0:e.id)||null},eF=()=>t.useContext(QL);function tF(e){return"data-floating-ui-"+e}function nF(e){const n=(0,t.useRef)(e);return qL((()=>{n.current=e})),n}function rF(e,t){let n=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),r=n;for(;r.length;)r=e.filter((e=>{var t;return null==(t=r)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})),n=n.concat(r);return n}let iF=new WeakMap,aF=new WeakSet,sF={},oF=0;const lF=e=>e&&(e.host||lF(e.parentNode));function cF(e,t,n,r){const i="data-floating-ui-inert",a=r?"inert":n?"aria-hidden":null,s=((e,t)=>t.map((t=>{if(e.contains(t))return t;const n=lF(t);return e.contains(n)?n:null})).filter((e=>null!=e)))(t,e),o=new Set,l=new Set(s),c=[];sF[i]||(sF[i]=new WeakMap);const u=sF[i];return s.forEach((function e(t){!t||o.has(t)||(o.add(t),t.parentNode&&e(t.parentNode))})),function e(t){!t||l.has(t)||Array.prototype.forEach.call(t.children,(t=>{if(o.has(t))e(t);else{const e=a?t.getAttribute(a):null,n=null!==e&&"false"!==e,r=(iF.get(t)||0)+1,s=(u.get(t)||0)+1;iF.set(t,r),u.set(t,s),c.push(t),1===r&&n&&aF.add(t),1===s&&t.setAttribute(i,""),!n&&a&&t.setAttribute(a,"true")}}))}(t),o.clear(),oF++,()=>{c.forEach((e=>{const t=(iF.get(e)||0)-1,n=(u.get(e)||0)-1;iF.set(e,t),u.set(e,n),t||(!aF.has(e)&&a&&e.removeAttribute(a),aF.delete(e)),n||e.removeAttribute(i)})),oF--,oF||(iF=new WeakMap,iF=new WeakMap,aF=new WeakSet,sF={})}}function uF(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=OL(e[0]).body;return cF(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const dF=()=>({getShadowRoot:!0,displayCheck:"function"==typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function hF(e,t){const n=OM(e,dF());"prev"===t&&n.reverse();const r=n.indexOf(_L(OL(e)));return n.slice(r+1)[0]}function pF(){return hF(document.body,"next")}function fF(){return hF(document.body,"prev")}function mF(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!kL(n,r)}function gF(e){OM(e,dF()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function vF(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}const yF={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function bF(e){"Tab"===e.key&&(e.target,clearTimeout(undefined))}const xF=t.forwardRef((function(e,n){const[r,i]=t.useState();qL((()=>(EL()&&i("button"),document.addEventListener("keydown",bF),()=>{document.removeEventListener("keydown",bF)})),[]);const a={ref:n,tabIndex:0,role:r,"aria-hidden":!r||void 0,[tF("focus-guard")]:"",style:yF};return t.createElement("span",WL({},e,a))})),wF=t.createContext(null);function _F(e){let{children:n,id:r,root:i=null,preserveTabOrder:s=!0}=e;const o=function(e){let{id:n,root:r}=void 0===e?{}:e;const[i,a]=t.useState(null),s=GL(),o=kF(),l=t.useMemo((()=>({id:n,root:r,portalContext:o,uniqueId:s})),[n,r,o,s]),c=t.useRef();return qL((()=>()=>{null==i||i.remove()}),[i,l]),qL((()=>{if(c.current===l)return;c.current=l;const{id:e,root:t,portalContext:n,uniqueId:r}=l,i=e?document.getElementById(e):null,s=tF("portal");if(i){const e=document.createElement("div");e.id=r,e.setAttribute(s,""),i.appendChild(e),a(e)}else{let i=t||(null==n?void 0:n.portalNode);i&&!vL(i)&&(i=i.current),i=i||document.body;let o=null;e&&(o=document.createElement("div"),o.id=e,i.appendChild(o));const l=document.createElement("div");l.id=r,l.setAttribute(s,""),i=o||i,i.appendChild(l),a(l)}}),[l]),i}({id:r,root:i}),[l,c]=t.useState(null),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),p=t.useRef(null),f=!!l&&!l.modal&&l.open&&s&&!(!i&&!o);return t.useEffect((()=>{if(o&&s&&(null==l||!l.modal))return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){o&&mF(e)&&("focusin"===e.type?vF:gF)(o)}}),[o,s,null==l?void 0:l.modal]),t.createElement(wF.Provider,{value:t.useMemo((()=>({preserveTabOrder:s,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:p,portalNode:o,setFocusManagerState:c})),[s,o])},f&&o&&t.createElement(xF,{"data-type":"outside",ref:u,onFocus:e=>{if(mF(e,o)){var t;null==(t=h.current)||t.focus()}else{const e=fF()||(null==l?void 0:l.refs.domReference.current);null==e||e.focus()}}}),f&&o&&t.createElement("span",{"aria-owns":o.id,style:yF}),o&&(0,a.createPortal)(n,o),f&&o&&t.createElement(xF,{"data-type":"outside",ref:d,onFocus:e=>{if(mF(e,o)){var t;null==(t=p.current)||t.focus()}else{const t=pF()||(null==l?void 0:l.refs.domReference.current);null==t||t.focus(),null!=l&&l.closeOnFocusOut&&(null==l||l.onOpenChange(!1,e.nativeEvent))}}}))}const kF=()=>t.useContext(wF),jF=t.forwardRef((function(e,n){return t.createElement("button",WL({},e,{type:"button",ref:n,tabIndex:-1,style:yF}))}));function SF(e){const{context:n,children:r,disabled:i=!1,order:a=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,modal:c=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0}=e,{open:h,refs:p,nodeId:f,onOpenChange:m,events:g,dataRef:v,elements:{domReference:y,floating:b}}=n,x=!(typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype)||s,w=nF(a),_=nF(o),k=nF(l),j=eF(),S=kF(),N="number"==typeof o&&o<0,E=t.useRef(null),C=t.useRef(null),O=t.useRef(!1),T=t.useRef(null),A=t.useRef(!1),P=null!=S,R=y&&"combobox"===y.getAttribute("role")&&PL(y)&&N,M=t.useCallback((function(e){return void 0===e&&(e=b),e?OM(e,dF()):[]}),[b]),I=t.useCallback((e=>{const t=M(e);return w.current.map((e=>y&&"reference"===e?y:b&&"floating"===e?b:t)).filter(Boolean).flat()}),[y,b,w,M]);function D(e){return!i&&u&&c?t.createElement(jF,{ref:"start"===e?E:C,onClick:e=>m(!1,e.nativeEvent)},"string"==typeof u?u:"Dismiss"):null}t.useEffect((()=>{if(i||!c)return;function e(e){if("Tab"===e.key){kL(b,_L(OL(b)))&&0===M().length&&!R&&RL(e);const t=I(),n=AL(e);"reference"===w.current[0]&&n===y&&(RL(e),e.shiftKey?VL(t[t.length-1]):VL(t[1])),"floating"===w.current[1]&&n===b&&e.shiftKey&&(RL(e),VL(t[0]))}}const t=OL(b);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[i,y,b,c,w,p,R,M,I]),t.useEffect((()=>{if(!i&&d)return b&&yL(y)?(y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),!c&&b.addEventListener("focusout",t),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),!c&&b.removeEventListener("focusout",t)}):void 0;function e(){A.current=!0,setTimeout((()=>{A.current=!1}))}function t(e){const t=e.relatedTarget;queueMicrotask((()=>{const n=!(kL(y,t)||kL(b,t)||kL(t,b)||kL(null==S?void 0:S.portalNode,t)||null!=t&&t.hasAttribute(tF("focus-guard"))||j&&(rF(j.nodesRef.current,f).find((e=>{var n,r;return kL(null==(n=e.context)?void 0:n.elements.floating,t)||kL(null==(r=e.context)?void 0:r.elements.domReference,t)}))||function(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}(j.nodesRef.current,f).find((e=>{var n,r;return(null==(n=e.context)?void 0:n.elements.floating)===t||(null==(r=e.context)?void 0:r.elements.domReference)===t}))));t&&n&&!A.current&&t!==T.current&&(O.current=!0,m(!1,e))}))}}),[i,y,b,c,f,j,S,m,d]),t.useEffect((()=>{var e;if(i)return;const t=Array.from((null==S||null==(e=S.portalNode)?void 0:e.querySelectorAll("["+tF("portal")+"]"))||[]);if(b){const e=[b,...t,E.current,C.current,w.current.includes("reference")||R?y:null].filter((e=>null!=e)),n=c?uF(e,x,!x):uF(e);return()=>{n()}}}),[i,y,b,c,w,S,R,x]),qL((()=>{if(i||!b)return;const e=_L(OL(b));queueMicrotask((()=>{const t=I(b),n=_.current,r=("number"==typeof n?t[n]:n.current)||b,i=kL(b,e);!N&&!i&&h&&VL(r,{preventScroll:r===b})}))}),[i,h,b,N,I,_]),qL((()=>{if(i||!b)return;let e=!1;const t=OL(b),n=_L(t),r=v.current;function a(t){if("escapeKey"===t.type&&p.domReference.current&&(T.current=p.domReference.current),["referencePress","escapeKey"].includes(t.type))return;const n=t.data.returnFocus;"object"==typeof n?(O.current=!1,e=n.preventScroll):O.current=!n}return T.current=n,g.on("dismiss",a),()=>{g.off("dismiss",a);const n=_L(t);(kL(b,n)||j&&rF(j.nodesRef.current,f).some((e=>{var t;return kL(null==(t=e.context)?void 0:t.elements.floating,n)}))||r.openEvent&&["click","mousedown"].includes(r.openEvent.type))&&p.domReference.current&&(T.current=p.domReference.current),k.current&&yL(T.current)&&!O.current&&VL(T.current,{cancelPrevious:!1,preventScroll:e})}}),[i,b,k,v,p,g,j,f]),qL((()=>{if(!i&&S)return S.setFocusManagerState({modal:c,closeOnFocusOut:d,open:h,onOpenChange:m,refs:p}),()=>{S.setFocusManagerState(null)}}),[i,S,c,h,m,p,d]),qL((()=>{if(!i&&b&&"function"==typeof MutationObserver&&!N){const e=()=>{const e=b.getAttribute("tabindex");w.current.includes("floating")||_L(OL(b))!==p.domReference.current&&0===M().length?"0"!==e&&b.setAttribute("tabindex","0"):"-1"!==e&&b.setAttribute("tabindex","-1")};e();const t=new MutationObserver(e);return t.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{t.disconnect()}}}),[i,b,p,w,M,N]);const L=!i&&x&&!R&&(P||c);return t.createElement(t.Fragment,null,L&&t.createElement(xF,{"data-type":"inside",ref:null==S?void 0:S.beforeInsideRef,onFocus:e=>{if(c){const e=I();VL("reference"===a[0]?e[0]:e[e.length-1])}else if(null!=S&&S.preserveTabOrder&&S.portalNode)if(O.current=!1,mF(e,S.portalNode)){const e=pF()||y;null==e||e.focus()}else{var t;null==(t=S.beforeOutsideRef.current)||t.focus()}}}),!R&&D("start"),r,D("end"),L&&t.createElement(xF,{"data-type":"inside",ref:null==S?void 0:S.afterInsideRef,onFocus:e=>{if(c)VL(I()[0]);else if(null!=S&&S.preserveTabOrder&&S.portalNode)if(d&&(O.current=!0),mF(e,S.portalNode)){const e=fF()||y;null==e||e.focus()}else{var t;null==(t=S.afterOutsideRef.current)||t.focus()}}}))}function NF(e){return yL(e.target)&&"BUTTON"===e.target.tagName}function EF(e){return PL(e)}const CF=t.useInsertionEffect||(e=>e());function OF(e){const n=t.useRef((()=>{0}));return CF((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}const TF={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},AF={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"};function PF(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,events:a,nodeId:s,elements:{reference:o,domReference:l,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:h=!0,outsidePress:p=!0,outsidePressEvent:f="pointerdown",referencePress:m=!1,referencePressEvent:g="pointerdown",ancestorScroll:v=!1,bubbles:y}=n,b=eF(),x=null!=XL(),w=OF("function"==typeof p?p:()=>!1),_="function"==typeof p?w:p,k=t.useRef(!1),{escapeKeyBubbles:j,outsidePressBubbles:S}=(e=>{var t,n;return{escapeKeyBubbles:"boolean"==typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePressBubbles:"boolean"==typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}})(y),N=OF((e=>{if(!r||!d||!h||"Escape"!==e.key)return;const t=b?rF(b.nodesRef.current,s):[];if(!j&&(e.stopPropagation(),t.length>0)){let e=!0;if(t.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}a.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),i(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e)})),E=OF((e=>{const t=k.current;if(k.current=!1,t||"function"==typeof _&&!_(e))return;const n=AL(e),r="["+tF("inert")+"]",o=OL(c).querySelectorAll(r);let u=vL(n)?n:null;for(;u&&!xL(u);){const e=wL(u);if(e===OL(c).body||!vL(e))break;u=e}if(o.length&&vL(n)&&!function(e){return e.matches("html,body")}(n)&&!kL(n,c)&&Array.from(o).every((e=>!kL(u,e))))return;if(yL(n)&&c){const t=n.clientWidth>0&&n.scrollWidth>n.clientWidth,r=n.clientHeight>0&&n.scrollHeight>n.clientHeight;let i=r&&e.offsetX>n.clientWidth;if(r&&"rtl"===function(e){return mL(e).getComputedStyle(e)}(n).direction&&(i=e.offsetX<=n.offsetWidth-n.clientWidth),i||t&&e.offsetY>n.clientHeight)return}const d=b&&rF(b.nodesRef.current,s).some((t=>{var n;return TL(e,null==(n=t.context)?void 0:n.elements.floating)}));if(TL(e,c)||TL(e,l)||d)return;const h=b?rF(b.nodesRef.current,s):[];if(h.length>0){let e=!0;if(h.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}a.emit("dismiss",{type:"outsidePress",data:{returnFocus:x?{preventScroll:!0}:SL(e)||NL(e)}}),i(!1,e)}));return t.useEffect((()=>{if(!r||!d)return;function e(e){i(!1,e)}u.current.__escapeKeyBubbles=j,u.current.__outsidePressBubbles=S;const t=OL(c);h&&t.addEventListener("keydown",N),_&&t.addEventListener(f,E);let n=[];return v&&(vL(l)&&(n=QR(l)),vL(c)&&(n=n.concat(QR(c))),!vL(o)&&o&&o.contextElement&&(n=n.concat(QR(o.contextElement)))),n=n.filter((e=>{var n;return e!==(null==(n=t.defaultView)?void 0:n.visualViewport)})),n.forEach((t=>{t.addEventListener("scroll",e,{passive:!0})})),()=>{h&&t.removeEventListener("keydown",N),_&&t.removeEventListener(f,E),n.forEach((t=>{t.removeEventListener("scroll",e)}))}}),[u,c,l,o,h,_,f,r,i,v,d,j,S,N,E]),t.useEffect((()=>{k.current=!1}),[_,f]),t.useMemo((()=>d?{reference:{onKeyDown:N,[TF[g]]:e=>{m&&(a.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),i(!1,e.nativeEvent))}},floating:{onKeyDown:N,[AF[f]]:()=>{k.current=!0}}}:{}),[d,a,m,f,g,i,N])}function RF(e){var n;void 0===e&&(e={});const{open:r=!1,onOpenChange:i,nodeId:s}=e;const[o,l]=t.useState(null),c=(null==(n=e.elements)?void 0:n.reference)||o,u=function(e){void 0===e&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:s,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:u,open:d}=e,[h,p]=t.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[f,m]=t.useState(i);XM(f,i)||m(i);const[g,v]=t.useState(null),[y,b]=t.useState(null),x=t.useCallback((e=>{e!==j.current&&(j.current=e,v(e))}),[]),w=t.useCallback((e=>{e!==S.current&&(S.current=e,b(e))}),[]),_=o||g,k=l||y,j=t.useRef(null),S=t.useRef(null),N=t.useRef(h),E=null!=u,C=nI(u),O=nI(s),T=nI(d),A=t.useCallback((()=>{if(!j.current||!S.current)return;const e={placement:n,strategy:r,middleware:f};O.current&&(e.platform=O.current),JM(j.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==T.current};P.current&&!XM(N.current,t)&&(N.current=t,a.flushSync((()=>{p(t)})))}))}),[f,n,r,O,T]);QM((()=>{!1===d&&N.current.isPositioned&&(N.current.isPositioned=!1,p((e=>({...e,isPositioned:!1}))))}),[d]);const P=t.useRef(!1);QM((()=>(P.current=!0,()=>{P.current=!1})),[]),QM((()=>{if(_&&(j.current=_),k&&(S.current=k),_&&k){if(C.current)return C.current(_,k,A);A()}}),[_,k,A,C,E]);const R=t.useMemo((()=>({reference:j,floating:S,setReference:x,setFloating:w})),[x,w]),M=t.useMemo((()=>({reference:_,floating:k})),[_,k]),I=t.useMemo((()=>{const e={position:r,left:0,top:0};if(!M.floating)return e;const t=tI(M.floating,h.x),n=tI(M.floating,h.y);return c?{...e,transform:"translate("+t+"px, "+n+"px)",...eI(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}}),[r,c,M.floating,h.x,h.y]);return t.useMemo((()=>({...h,update:A,refs:R,elements:M,floatingStyles:I})),[h,A,R,M,I])}(e),d=eF(),h=OF(((e,t)=>{e&&(f.current.openEvent=t),null==i||i(e,t)})),p=t.useRef(null),f=t.useRef({}),m=t.useState((()=>function(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,(null==(r=e.get(t))?void 0:r.filter((e=>e!==n)))||[])}}}()))[0],g=GL(),v=t.useCallback((e=>{const t=vL(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e}:e;u.refs.setReference(t)}),[u.refs]),y=t.useCallback((e=>{(vL(e)||null===e)&&(p.current=e,l(e)),(vL(u.refs.reference.current)||null===u.refs.reference.current||null!==e&&!vL(e))&&u.refs.setReference(e)}),[u.refs]),b=t.useMemo((()=>({...u.refs,setReference:y,setPositionReference:v,domReference:p})),[u.refs,y,v]),x=t.useMemo((()=>({...u.elements,domReference:c})),[u.elements,c]),w=t.useMemo((()=>({...u,refs:b,elements:x,dataRef:f,nodeId:s,floatingId:g,events:m,open:r,onOpenChange:h})),[u,s,g,m,r,h,b,x]);return qL((()=>{const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===s));e&&(e.context=w)})),t.useMemo((()=>({...u,context:w,refs:b,elements:x})),[u,b,x,w])}function MF(e,t,n){const r=new Map;return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>(t&&Object.entries(t).forEach((t=>{let[n,i]=t;var a;0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"==typeof i&&(null==(a=r.get(n))||a.push(i),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=i})),e)),{})}}let IF=!1;function DF(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function LF(e,t){return DF(t,e===ML||e===IL,e===DL||e===LL)}function FF(e,t,n){return DF(t,e===IL,n?e===DL:e===LL)||"Enter"===e||" "==e||""===e}function zF(e,t,n){return DF(t,n?e===LL:e===DL,e===ML)}function BF(e,n){const{open:r,onOpenChange:i,refs:a,elements:{domReference:s,floating:o}}=e,{listRef:l,activeIndex:c,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:h=null,allowEscape:p=!1,loop:f=!1,nested:m=!1,rtl:g=!1,virtual:v=!1,focusItemOnOpen:y="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:x=!0,disabledIndices:w,orientation:_="vertical",cols:k=1,scrollItemIntoView:j=!0,virtualItemRef:S}=n,N=XL(),E=eF(),C=OF(u),O=t.useRef(y),T=t.useRef(h??-1),A=t.useRef(null),P=t.useRef(!0),R=t.useRef(C),M=t.useRef(!!o),I=t.useRef(!1),D=t.useRef(!1),L=nF(w),F=nF(r),z=nF(j),[B,$]=t.useState(),[U,H]=t.useState(),V=OF((function(e,t,n){void 0===n&&(n=!1);const r=e.current[t.current];r&&(v?($(r.id),null==E||E.events.emit("virtualfocus",r),S&&(S.current=r)):VL(r,{preventScroll:!0,sync:!(!jL().toLowerCase().startsWith("mac")||navigator.maxTouchPoints||!EL())&&(IF||I.current)}),requestAnimationFrame((()=>{const e=z.current;e&&r&&(n||!P.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"==typeof e?{block:"nearest",inline:"nearest"}:e))})))}));qL((()=>{document.createElement("div").focus({get preventScroll(){return IF=!0,!1}})}),[]),qL((()=>{d&&(r&&o?O.current&&null!=h&&(D.current=!0,C(h)):M.current&&(T.current=-1,R.current(null)))}),[d,r,o,h,C]),qL((()=>{if(d&&r&&o)if(null==c){if(I.current=!1,null!=h)return;if(M.current&&(T.current=-1,V(l,T)),!M.current&&O.current&&(null!=A.current||!0===O.current&&null==A.current)){let e=0;const t=()=>{null==l.current[0]?(e<2&&(e?requestAnimationFrame:queueMicrotask)(t),e++):(T.current=null==A.current||FF(A.current,_,g)||m?BL(l,L.current):$L(l,L.current),A.current=null,C(T.current))};t()}}else zL(l,c)||(T.current=c,V(l,T,D.current),D.current=!1)}),[d,r,o,c,h,m,l,_,g,C,V,L]),qL((()=>{var e,t;if(!d||o||!E||v||!M.current)return;const n=E.nodesRef.current,r=null==(e=n.find((e=>e.id===N)))||null==(t=e.context)?void 0:t.elements.floating,i=_L(OL(o)),a=n.some((e=>e.context&&kL(e.context.elements.floating,i)));r&&!a&&P.current&&r.focus({preventScroll:!0})}),[d,o,E,N,v]),qL((()=>{if(d&&E&&v&&!N)return E.events.on("virtualfocus",e),()=>{E.events.off("virtualfocus",e)};function e(e){H(e.id),S&&(S.current=e)}}),[d,E,v,N,S]),qL((()=>{R.current=C,M.current=!!o})),qL((()=>{r||(A.current=null)}),[r]);const q=null!=c,W=t.useMemo((()=>{function e(e){if(!r)return;const t=l.current.indexOf(e);-1!==t&&C(t)}return{onFocus(t){let{currentTarget:n}=t;e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...b&&{onMouseMove(t){let{currentTarget:n}=t;e(n)},onPointerLeave(e){let{pointerType:t}=e;!P.current||"touch"===t||(T.current=-1,V(l,T),C(null),v||VL(a.floating.current,{preventScroll:!0}))}}}}),[r,a,V,b,l,C,v]);return t.useMemo((()=>{if(!d)return{};const e=L.current;function t(t){if(P.current=!1,I.current=!0,!F.current&&t.currentTarget===a.floating.current)return;if(m&&zF(t.key,_,g))return RL(t),i(!1,t.nativeEvent),void(yL(s)&&!v&&s.focus());const n=T.current,o=BL(l,e),c=$L(l,e);if("Home"===t.key&&(RL(t),T.current=o,C(T.current)),"End"===t.key&&(RL(t),T.current=c,C(T.current)),!(k>1&&(T.current=function(e,t){let{event:n,orientation:r,loop:i,cols:a,disabledIndices:s,minIndex:o,maxIndex:l,prevIndex:c,stopEvent:u=!1}=t,d=c;if(n.key===ML){if(u&&RL(n),-1===c)d=l;else if(d=UL(e,{startingIndex:d,amount:a,decrement:!0,disabledIndices:s}),i&&(c-a<o||d<0)){const e=c%a,t=l%a,n=l-(t-e);d=t===e?l:t>e?n:n-a}zL(e,d)&&(d=c)}if(n.key===IL&&(u&&RL(n),-1===c?d=o:(d=UL(e,{startingIndex:c,amount:a,disabledIndices:s}),i&&c+a>l&&(d=UL(e,{startingIndex:c%a-a,amount:a,disabledIndices:s}))),zL(e,d)&&(d=c)),"both"===r){const t=pL(c/a);n.key===LL&&(u&&RL(n),c%a!==a-1?(d=UL(e,{startingIndex:c,disabledIndices:s}),i&&FL(d,a,t)&&(d=UL(e,{startingIndex:c-c%a-1,disabledIndices:s}))):i&&(d=UL(e,{startingIndex:c-c%a-1,disabledIndices:s})),FL(d,a,t)&&(d=c)),n.key===DL&&(u&&RL(n),c%a!==0?(d=UL(e,{startingIndex:c,disabledIndices:s,decrement:!0}),i&&FL(d,a,t)&&(d=UL(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s}))):i&&(d=UL(e,{startingIndex:c+(a-c%a),decrement:!0,disabledIndices:s})),FL(d,a,t)&&(d=c));const r=pL(l/a)===t;zL(e,d)&&(d=i&&r?n.key===DL?l:UL(e,{startingIndex:c-c%a-1,disabledIndices:s}):c)}return d}(l,{event:t,orientation:_,loop:f,cols:k,disabledIndices:e,minIndex:o,maxIndex:c,prevIndex:T.current,stopEvent:!0}),C(T.current),"both"===_))&&LF(t.key,_)){if(RL(t),r&&!v&&_L(t.currentTarget.ownerDocument)===t.currentTarget)return T.current=FF(t.key,_,g)?o:c,void C(T.current);FF(t.key,_,g)?T.current=f?n>=c?p&&n!==l.current.length?-1:o:UL(l,{startingIndex:n,disabledIndices:e}):Math.min(c,UL(l,{startingIndex:n,disabledIndices:e})):T.current=f?n<=o?p&&-1!==n?l.current.length:c:UL(l,{startingIndex:n,decrement:!0,disabledIndices:e}):Math.max(o,UL(l,{startingIndex:n,decrement:!0,disabledIndices:e})),zL(l,T.current)?C(null):C(T.current)}}function n(e){"auto"===y&&SL(e.nativeEvent)&&(O.current=!0)}const o=v&&r&&q&&{"aria-activedescendant":U||B},c=l.current.find((e=>(null==e?void 0:e.id)===B));return{reference:{...o,onKeyDown(n){P.current=!1;const a=0===n.key.indexOf("Arrow"),s=function(e,t,n){return DF(t,n?e===DL:e===LL,e===IL)}(n.key,_,g),o=zF(n.key,_,g),u=LF(n.key,_),d=(m?s:u)||"Enter"===n.key||""===n.key.trim();if(v&&r){const e=null==E?void 0:E.nodesRef.current.find((e=>null==e.parentId)),r=E&&e?function(e,t){let n,r=-1;return function t(i,a){a>r&&(n=i,r=a),rF(e,i).forEach((e=>{t(e.id,a+1)}))}(t,0),e.find((e=>e.id===n))}(E.nodesRef.current,e.id):null;if(a&&r&&S){const e=new KeyboardEvent("keydown",{key:n.key,bubbles:!0});if(s||o){var p,f;const t=(null==(p=r.context)?void 0:p.elements.domReference)===n.currentTarget,i=o&&!t?null==(f=r.context)?void 0:f.elements.domReference:s?c:null;i&&(RL(n),i.dispatchEvent(e),H(void 0))}var y;if(u&&r.context&&r.context.open&&r.parentId&&n.currentTarget!==r.context.elements.domReference)return RL(n),void(null==(y=r.context.elements.domReference)||y.dispatchEvent(e))}return t(n)}if(r||x||!a){if(d&&(A.current=m&&u?null:n.key),m)return void(s&&(RL(n),r?(T.current=BL(l,e),C(T.current)):i(!0,n.nativeEvent)));u&&(null!=h&&(T.current=h),RL(n),!r&&x?i(!0,n.nativeEvent):t(n),r&&C(T.current))}},onFocus(){r&&C(null)},onPointerDown:function(e){O.current=y,"auto"===y&&NL(e.nativeEvent)&&(O.current=!0)},onMouseDown:n,onClick:n},floating:{"aria-orientation":"both"===_?void 0:_,...o,onKeyDown:t,onPointerMove(){P.current=!0}},item:W}}),[s,a,B,U,L,F,l,d,_,g,v,r,q,m,h,x,p,k,f,y,C,i,W,E,S])}const $F=(0,t.forwardRef)(((e,t)=>{let{type:n,title:r,url:i,...a}=e;const{message:{blocks:{file:s}}}=Lj;return Uf.jsxs("a",{...a,...s.container,href:i,download:!0,ref:t,target:"_blank",rel:"noreferrer",children:[Uf.jsx("p",{...s.title,children:r||i}),Uf.jsx(aD,{...s.icon})]})})),UF={audio:JI,bubble:HI,button:e=>{let{text:n,buttonValue:r,type:i,variant:a,groupId:s,reusable:o,...l}=e;const c=$I((e=>e.eventEmitter)),u=$I((e=>e.sendTextMessage)),d=$I((e=>e.isReadOnly)),[h,p]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(!1),{message:{blocks:{button:y}}}=Lj;return(0,t.useEffect)((()=>{if(s)return c.on(`button-group-${s}-click`,(()=>{m(!0),o||v(!0)}))}),[c,s,o]),Uf.jsx(UI,{...l,variant:a,onClick:function(){s&&c.emit(`button-group-${s}-click`),p(!0),o||v(!0),"link"!==a&&u(n,r)},disabled:g||d,"data-activated":h?"":void 0,"data-group-activated":f?"":void 0,"data-type":a,value:r,...y,children:n})},carousel:hL,column:cD,dropdown:e=>{let{options:n,label:r,reusable:i}=e;var a,s,o,l,c;const u=$I((e=>e.sendTextMessage)),d=$I((e=>e.messageContainerRef)),h=$I((e=>e.isReadOnly)),[p,f]=t.useState(!1),[m,g]=t.useState(null),[v,y]=t.useState(null),{message:{blocks:{dropdown:b}}}=Lj,x=n.reduce(((e,t)=>(e[t.label]=t.value,e)),{}),w=x?Object.keys(x):[],{refs:_,floatingStyles:k,context:j}=RF({placement:"bottom-start",open:p,onOpenChange:e=>{f(!(null!==v&&!i)&&e)},whileElementsMounted:ZM,middleware:[rI(5),iI({padding:10,boundary:(null==d?void 0:d.current)??void 0,crossAxis:!0}),aI({apply(e){let{rects:t,elements:n,availableHeight:r}=e;Object.assign(n.floating.style,{maxHeight:`${r}px`,minWidth:`${t.reference.width}px`})},padding:10})]}),S=t.useRef([]),N=t.useRef(w),E=t.useRef(!1),C=function(e,n){void 0===n&&(n={});const{open:r,onOpenChange:i,dataRef:a,elements:{domReference:s}}=e,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0}=n,h=t.useRef(),p=t.useRef(!1);return t.useMemo((()=>o?{reference:{onPointerDown(e){h.current=e.pointerType},onMouseDown(e){0===e.button&&(CL(h.current)&&u||"click"!==l&&(!r||!c||a.current.openEvent&&"mousedown"!==a.current.openEvent.type?(e.preventDefault(),i(!0,e.nativeEvent)):i(!1,e.nativeEvent)))},onClick(e){"mousedown"===l&&h.current?h.current=void 0:CL(h.current)&&u||(!r||!c||a.current.openEvent&&"click"!==a.current.openEvent.type?i(!0,e.nativeEvent):i(!1,e.nativeEvent))},onKeyDown(e){h.current=void 0,!e.defaultPrevented&&d&&!NF(e)&&(" "===e.key&&!EF(s)&&(e.preventDefault(),p.current=!0),"Enter"===e.key&&i(!(r&&c),e.nativeEvent))},onKeyUp(e){e.defaultPrevented||!d||NF(e)||EF(s)||" "===e.key&&p.current&&(p.current=!1,i(!(r&&c),e.nativeEvent))}}}:{}),[o,a,l,u,d,s,c,r,i])}(j,{event:"mousedown"}),O=PF(j),T=function(e,n){void 0===n&&(n={});const{open:r,floatingId:i}=e,{enabled:a=!0,role:s="dialog"}=n,o=GL();return t.useMemo((()=>{const e={id:i,role:s};return a?"tooltip"===s?{reference:{"aria-describedby":r?i:void 0},floating:e}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===s?"dialog":s,"aria-controls":r?i:void 0,..."listbox"===s&&{role:"combobox"},..."menu"===s&&{id:o}},floating:{...e,..."menu"===s&&{"aria-labelledby":o}}}:{}}),[a,s,r,i,o])}(j,{role:"listbox"}),A=BF(j,{listRef:S,activeIndex:m,selectedIndex:v,onNavigate:g,loop:!0}),P=function(e,n){var r;const{open:i,dataRef:a}=e,{listRef:s,activeIndex:o,onMatch:l,onTypingChange:c,enabled:u=!0,findMatch:d=null,resetMs:h=750,ignoreKeys:p=[],selectedIndex:f=null}=n,m=t.useRef(),g=t.useRef(""),v=t.useRef(null!=(r=f??o)?r:-1),y=t.useRef(null),b=OF(l),x=OF(c),w=nF(d),_=nF(p);return qL((()=>{i&&(clearTimeout(m.current),y.current=null,g.current="")}),[i]),qL((()=>{var e;i&&""===g.current&&(v.current=null!=(e=f??o)?e:-1)}),[i,f,o]),t.useMemo((()=>{if(!u)return{};function e(e){e?a.current.typing||(a.current.typing=e,x(e)):a.current.typing&&(a.current.typing=e,x(e))}function t(e,t,n){const r=w.current?w.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}function n(n){const r=s.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(r,r,g.current)?e(!1):" "===n.key&&RL(n)),null==r||_.current.includes(n.key)||1!==n.key.length||n.ctrlKey||n.metaKey||n.altKey)return;i&&" "!==n.key&&(RL(n),e(!0)),r.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&g.current===n.key&&(g.current="",v.current=y.current),g.current+=n.key,clearTimeout(m.current),m.current=setTimeout((()=>{g.current="",v.current=y.current,e(!1)}),h);const a=v.current,o=t(r,[...r.slice((a||0)+1),...r.slice(0,(a||0)+1)],g.current);-1!==o?(b(o),y.current=o):" "!==n.key&&(g.current="",e(!1))}return{reference:{onKeyDown:n},floating:{onKeyDown:n,onKeyUp(t){" "===t.key&&e(!1)}}}}),[u,i,a,s,h,_,w,b,x])}(j,{listRef:N,activeIndex:m,selectedIndex:v,onMatch:p?g:y,onTypingChange(e){E.current=e}}),{getReferenceProps:R,getFloatingProps:M,getItemProps:I}=function(e){void 0===e&&(e=[]);const n=e,r=t.useCallback((t=>MF(t,e,"reference")),n),i=t.useCallback((t=>MF(t,e,"floating")),n),a=t.useCallback((t=>MF(t,e,"item")),e.map((e=>null==e?void 0:e.item)));return t.useMemo((()=>({getReferenceProps:r,getFloatingProps:i,getItemProps:a})),[r,i,a])}([O,T,A,P,C]),D=e=>{y(e),void 0!==w[e]&&u(w[e],x[w[e]]),f(!1)};return null!==v&&w[v],Uf.jsxs(Uf.Fragment,{children:[Uf.jsxs("div",{tabIndex:0,ref:_.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none","data-disabled":null===v||i?void 0:"",...null==(a=b.button)?void 0:a.container,...R(),children:[Uf.jsx("span",{...null==(s=b.button)?void 0:s.text,children:"Select..."}),Uf.jsx(rD,{...null==(o=b.button)?void 0:o.icon})]}),p&&Uf.jsx(_F,{children:Uf.jsx(SF,{context:j,modal:!1,children:Uf.jsx("div",{ref:_.setFloating,className:null==(c=null==(l=b.content)?void 0:l.container)?void 0:c.className,style:{...k},...M(),children:w.map(((e,t)=>{var n;return Uf.jsx("div",{ref:e=>{S.current[t]=e},role:"option",tabIndex:t===m?0:-1,"aria-selected":t===v&&t===m,"data-active":t===m?"":void 0,...null==(n=b.content)?void 0:n.item,...I({onClick(){h||D(t)},onKeyDown(e){h||("Enter"===e.key&&(e.preventDefault(),D(t))," "===e.key&&!E.current&&(e.preventDefault(),D(t)))}}),children:e},e)}))})})})]})},file:$F,image:YI,location:lD,row:uD,text:e=>{let{text:t}=e;const{message:{blocks:{text:n}}}=Lj,r={h1:e=>{let{node:t,...r}=e;return Uf.jsx("h1",{...r,...null==n?void 0:n.heading1})},h2:e=>{let{node:t,...r}=e;return Uf.jsx("h2",{...r,...null==n?void 0:n.heading2})},h3:e=>{let{node:t,...r}=e;return Uf.jsx("h3",{...r,...null==n?void 0:n.heading3})},h4:"h3",h5:"h3",h6:"h3",em:e=>{let{node:t,...r}=e;return Uf.jsx("em",{...r,...null==n?void 0:n.italic})},strong:e=>{let{node:t,...r}=e;return Uf.jsx("strong",{...r,...null==n?void 0:n.bold})},p:e=>{let{node:t,...r}=e;return Uf.jsx("p",{...r,...null==n?void 0:n.text})},hr:e=>{let{node:t,...r}=e;return Uf.jsx("hr",{...r,...null==n?void 0:n.horizontalRule})},a:e=>{let{node:t,...r}=e;return Uf.jsx("a",{...r,...null==n?void 0:n.link,target:"_blank"})},ol:e=>{let{node:t,...r}=e;return Uf.jsx("ol",{...r,...null==n?void 0:n.orderedList})},ul:e=>{let{node:t,...r}=e;return Uf.jsx("ul",{...r,...null==n?void 0:n.unorderedList})},li:e=>{let{node:t,...r}=e;return Uf.jsx("li",{...r,...null==n?void 0:n.listItem})},br:e=>{let{node:t,...r}=e;return Uf.jsx("br",{...r,...null==n?void 0:n.lineBreak})},pre:e=>{let{node:t,...r}=e;return Uf.jsx("pre",{...r,...null==n?void 0:n.pre})}};return Uf.jsx(H_,{components:r,remarkPlugins:[Dj,Y_],children:t})},video:GI},HF=e=>{let{block:t,...n}=e;const r=$I((e=>e.renderers))[t.type]??UF[t.type],i={...n,...t};return Uf.jsx(r,{...i})};function VF(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{fillRule:"evenodd",d:"M8 14a.75.75 0 0 1-.75-.75V4.56L4.03 7.78a.75.75 0 0 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1-1.06 1.06L8.75 4.56v8.69A.75.75 0 0 1 8 14Z",clipRule:"evenodd"}))}const qF=t.forwardRef(VF);function WF(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{d:"M8 1a2 2 0 0 0-2 2v4a2 2 0 1 0 4 0V3a2 2 0 0 0-2-2Z"}),t.createElement("path",{d:"M4.5 7A.75.75 0 0 0 3 7a5.001 5.001 0 0 0 4.25 4.944V13.5h-1.5a.75.75 0 0 0 0 1.5h4.5a.75.75 0 0 0 0-1.5h-1.5v-1.556A5.001 5.001 0 0 0 13 7a.75.75 0 0 0-1.5 0 3.5 3.5 0 1 1-7 0Z"}))}const ZF=t.forwardRef(WF);function KF(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{d:"M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"}))}const YF=t.forwardRef(KF);function GF(){return GF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GF.apply(null,arguments)}var JF=t.useLayoutEffect,QF=function(e,t){"function"!=typeof e?e.current=t:e(t)},XF={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},ez=function(e){Object.keys(XF).forEach((function(t){e.style.setProperty(t,XF[t],"important")}))},tz=null,nz=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var rz=function(){},iz=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],az=!!document.documentElement.currentStyle,sz=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n=function(e,t){return e.reduce((function(e,n){return e[n]=t[n],e}),{})}(iz,t),r=n.boxSizing;return""===r?null:(az&&"border-box"===r&&(n.width=parseFloat(n.width)+parseFloat(n.borderRightWidth)+parseFloat(n.borderLeftWidth)+parseFloat(n.paddingRight)+parseFloat(n.paddingLeft)+"px"),{sizingStyle:n,paddingSize:parseFloat(n.paddingBottom)+parseFloat(n.paddingTop),borderSize:parseFloat(n.borderBottomWidth)+parseFloat(n.borderTopWidth)})};function oz(e,n,r){var i=function(e){var n=t.useRef(e);return JF((function(){n.current=e})),n}(r);t.useLayoutEffect((function(){var t=function(e){return i.current(e)};if(e)return e.addEventListener(n,t),function(){return e.removeEventListener(n,t)}}),[])}var lz=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],cz=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,a=e.minRows,s=e.onChange,o=void 0===s?rz:s,l=e.onHeightChange,c=void 0===l?rz:l,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,lz),d=void 0!==u.value,h=t.useRef(null),p=function(e,n){var r=(0,t.useRef)();return(0,t.useCallback)((function(t){e.current=t,r.current&&QF(r.current,null),r.current=n,n&&QF(n,t)}),[n])}(h,n),f=t.useRef(0),m=t.useRef(),g=function(){var e=h.current,t=r&&m.current?m.current:sz(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),tz||((tz=document.createElement("textarea")).setAttribute("tabindex","-1"),tz.setAttribute("aria-hidden","true"),ez(tz)),null===tz.parentNode&&document.body.appendChild(tz);var i=e.paddingSize,a=e.borderSize,s=e.sizingStyle,o=s.boxSizing;Object.keys(s).forEach((function(e){var t=e;tz.style[t]=s[t]})),ez(tz),tz.value=t;var l=nz(tz,e);tz.value=t,l=nz(tz,e),tz.value="x";var c=tz.scrollHeight-i,u=c*n;"border-box"===o&&(u=u+i+a),l=Math.max(u,l);var d=c*r;return"border-box"===o&&(d=d+i+a),[l=Math.min(d,l),c]}(t,e.value||e.placeholder||"x",a,i),s=n[0],o=n[1];f.current!==s&&(f.current=s,e.style.setProperty("height",s+"px","important"),c(s,{rowHeight:o}))}};return t.useLayoutEffect(g),function(e){oz(window,"resize",e)}(g),function(e){oz(document.fonts,"loadingdone",e)}(g),t.createElement("textarea",GF({},u,{onChange:function(e){d||g(),o(e)},ref:p}))},uz=t.forwardRef(cz);const dz=(0,t.memo)((0,t.forwardRef)(((e,n)=>{let{children:r,className:i,inputRef:a,...s}=e;const{composer:o}=Lj,l=$I((e=>e.disableComposer)),c=$I((e=>e.setIsTyping)),u=$I((e=>e.isReadOnly)),d=$I((e=>e.sendFile)),h=$I((e=>e.addMessage)),p=$I((e=>e.sendTextMessage)),f=$I((e=>e.allowFileUpload)),m=$I((e=>e.connected)),{composerPlaceholder:g,showPoweredBy:v}=KI(),[y,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(-1),[_,k]=(0,t.useState)(!1),j=(0,t.useRef)(null),S=(0,t.useRef)(null),N=zI((e=>e.user)),E=zI((e=>e.messageHistory));if(u)return null;const C=l||u||!m,O=window.SpeechRecognition||window.webkitSpeechRecognition,T=()=>{y&&(p(y),setTimeout((()=>c(!0,9e3)),500),b(""),w(-1))};return Uf.jsxs(Uf.Fragment,{children:[Uf.jsxs("div",{"data-disabled":C,...s,className:RR(o.container.className,i),ref:n,children:[f&&Uf.jsxs(Uf.Fragment,{children:[Uf.jsx("button",{type:"button",disabled:C,...o.uploadButton.container,onClick:()=>{var e;j.current&&(null==(e=j.current)||e.click())},children:Uf.jsx(YF,{...o.uploadButton.icon})}),Uf.jsx("input",{type:"file",ref:j,style:{display:"none"},onChange:async e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n)try{const{fileUrl:e,type:t}=await d(n)??"";h({direction:"outgoing",sender:{name:"You"},timestamp:new Date,disableInput:!1,block:{type:t,url:e}})}catch(r){console.error("Error sending file:",r)}}})]}),Uf.jsx(uz,{...null==o?void 0:o.input,ref:a,placeholder:g??"Type your message...",disabled:C,value:y,"data-has-value":!!y,onChange:e=>b(e.target.value),maxRows:5,onKeyDown:e=>{if(!C){if("Enter"===e.key&&e.shiftKey?(e.preventDefault(),b(`${y}\n`)):"Enter"===e.key&&(e.preventDefault(),T()),"ArrowUp"===e.key){e.preventDefault();const t=E[(null==N?void 0:N.userId)??""]??[];x<t.length-1&&b(t[x+1]??""),w((()=>Math.min(x+1,t.length-1)))}if("ArrowDown"===e.key){e.preventDefault();const t=E[(null==N?void 0:N.userId)??""]??[];b(0===x?"":t[x-1]??""),w((()=>Math.max(x-1,-1)))}}}}),y&&Uf.jsx("button",{type:"button","aria-label":"Send message",...o.button.container,disabled:!y||C,onClick:T,children:Uf.jsx(qF,{...o.button.icon})}),!y&&O&&Uf.jsx("button",{type:"button","aria-label":"Activate voice input",...o.voiceButton.container,disabled:!!y,onClick:()=>{S.current||(S.current=new O);const e=S.current;e&&(e.continuous=!0,e.onresult=t=>{var n,r,i;const a=(null==(i=null==(r=null==(n=t.results)?void 0:n[0])?void 0:r[0])?void 0:i.transcript)??"";b(a??""),e.stop(),k(!1)},_?(e.stop(),k(!1)):(e.start(),k(!0)))},"data-listens":!!_,children:Uf.jsx(ZF,{...o.voiceButton.icon})})]}),Uf.jsx("a",{...o.poweredBy,"data-hidden":!1===v,hidden:!1===v,href:"https://botpress.com/?from=webchat",target:"_blank",rel:"noopener noreferrer",children:"\u26a1 by Botpress"})]})}))),hz=e=>{let{children:n}=e;const[r,i]=(0,t.useState)(!1),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(null);return Uf.jsxs(qI.Provider,{value:{hideModal:()=>{i(!1)},showModal:e=>{let{title:t,content:n}=e;s(t),l(n),i(!0)},title:a,content:o,open:r},children:[Uf.jsx(WW,{open:r,onOpenChange:i,children:Uf.jsx(WW.Content,{title:a,children:o})}),n]})};var pz={},fz={},mz=Df&&Df.__assign||function(){return mz=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},mz.apply(this,arguments)};Object.defineProperty(fz,"__esModule",{value:!0});var gz={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};fz.getSanitizedOptions=function(e){var t=mz(mz({},gz),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t};var vz={},yz={},bz={},xz={},wz={};Object.defineProperty(wz,"__esModule",{value:!0}),wz.fullJitter=function(e){var t=Math.random()*e;return Math.round(t)};var _z={};Object.defineProperty(_z,"__esModule",{value:!0}),_z.noJitter=function(e){return e},Object.defineProperty(xz,"__esModule",{value:!0});var kz=wz,jz=_z;xz.JitterFactory=function(e){return"full"===e.jitter?kz.fullJitter:jz.noJitter},Object.defineProperty(bz,"__esModule",{value:!0});var Sz=xz,Nz=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise((function(t){return setTimeout(t,e.jitteredDelay)}))},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return Sz.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=e*Math.pow(t,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();bz.Delay=Nz;var Ez=Df&&Df.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Cz=Df&&Df.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Oz=Df&&Df.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(yz,"__esModule",{value:!0});var Tz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ez(t,e),t.prototype.apply=function(){return Cz(this,void 0,void 0,(function(){return Oz(this,(function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]}))}))},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(bz.Delay);yz.SkipFirstDelay=Tz;var Az={},Pz=Df&&Df.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(Az,"__esModule",{value:!0});var Rz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Pz(t,e),t}(bz.Delay);Az.AlwaysDelay=Rz,Object.defineProperty(vz,"__esModule",{value:!0});var Mz=yz,Iz=Az;vz.DelayFactory=function(e,t){var n=function(e){return e.delayFirstAttempt?new Iz.AlwaysDelay(e):new Mz.SkipFirstDelay(e)}(e);return n.setAttemptNumber(t),n};var Dz=Df&&Df.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function s(e){try{l(r.next(e))}catch(t){a(t)}}function o(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(s,o)}l((r=r.apply(e,t||[])).next())}))},Lz=Df&&Df.__generator||function(e,t){var n,r,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(o){a=[6,o],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}};Object.defineProperty(pz,"__esModule",{value:!0});var Fz=fz,zz=vz;var Bz,$z,Uz=pz.backOff=function(e,t){return void 0===t&&(t={}),Dz(this,void 0,void 0,(function(){var n;return Lz(this,(function(r){switch(r.label){case 0:return n=Fz.getSanitizedOptions(t),[4,new Hz(e,n).execute()];case 1:return[2,r.sent()]}}))}))},Hz=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return Dz(this,void 0,void 0,(function(){var e;return Lz(this,(function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return Dz(this,void 0,void 0,(function(){return Lz(this,(function(e){switch(e.label){case 0:return[4,zz.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}}))}))},e}(),Vz=Object.prototype.toString,qz=function(e){var t=Vz.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===Vz.call(e.callee)),n};var Wz=Array.prototype.slice,Zz=qz,Kz=Object.keys,Yz=Kz?function(e){return Kz(e)}:function(){if($z)return Bz;var e;if($z=1,!Object.keys){var t=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=qz,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),s=i.call((function(){}),"prototype"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window>"u")return!1;for(var e in window)try{if(!c["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{l(window[e])}catch{return!0}}catch{return!0}return!1}();e=function(e){var i=null!==e&&"object"==typeof e,c="[object Function]"===n.call(e),d=r(e),h=i&&"[object String]"===n.call(e),p=[];if(!i&&!c&&!d)throw new TypeError("Object.keys called on a non-object");var f=s&&c;if(h&&e.length>0&&!t.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(d&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var v in e)(!f||"prototype"!==v)&&t.call(e,v)&&p.push(String(v));if(a)for(var y=function(e){if(typeof window>"u"||!u)return l(e);try{return l(e)}catch{return!1}}(e),b=0;b<o.length;++b)(!y||"constructor"!==o[b])&&t.call(e,o[b])&&p.push(o[b]);return p}}return Bz=e}(),Gz=Object.keys;Yz.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Zz(e)?Gz(Wz.call(e)):Gz(e)})}else Object.keys=Yz;return Object.keys||Yz};var Jz=Yz,Qz=Jz,Xz="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),eB=Object.prototype.toString,tB=Array.prototype.concat,nB=jE,rB=EE(),iB=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if(!function(e){return"function"==typeof e&&"[object Function]"===eB.call(e)}(r)||!r())return;rB?nB(e,t,n,!0):nB(e,t,n)},aB=function(e,t){var n=arguments.length>2?arguments[2]:{},r=Qz(t);Xz&&(r=tB.call(r,Object.getOwnPropertySymbols(t)));for(var i=0;i<r.length;i+=1)iB(e,r[i],t[r[i]],n[r[i]])};aB.supportsDescriptors=!!rB;var sB=aB,oB=Jz,lB=_N(),cB=zE,uB=Object,dB=cB("Array.prototype.push"),hB=cB("Object.prototype.propertyIsEnumerable"),pB=lB?Object.getOwnPropertySymbols:null,fB=function(e,t){if(null==e)throw new TypeError("target must be an object");var n=uB(e);if(1===arguments.length)return n;for(var r=1;r<arguments.length;++r){var i=uB(arguments[r]),a=oB(i),s=lB&&(Object.getOwnPropertySymbols||pB);if(s)for(var o=s(i),l=0;l<o.length;++l){var c=o[l];hB(i,c)&&dB(a,c)}for(var u=0;u<a.length;++u){var d=a[u];if(hB(i,d)){var h=i[d];n[d]=h}}}return n},mB=fB,gB=function(){return!Object.assign||function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),n={},r=0;r<t.length;++r)n[t[r]]=t[r];var i=Object.assign({},n),a="";for(var s in i)a+=s;return e!==a}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch{return"y"===e[1]}return!1}()?mB:Object.assign},vB=sB,yB=gB,bB=sB,xB=fB,wB=gB,_B=function(){var e=yB();return vB(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e},kB=IE.apply(wB()),jB=function(e,t){return kB(Object,arguments)};bB(jB,{getPolyfill:wB,implementation:xB,shim:_B});var SB=jB,NB=function(){return"string"==typeof function(){}.name},EB=Object.getOwnPropertyDescriptor;if(EB)try{EB([],"length")}catch{EB=null}NB.functionsHaveConfigurableNames=function(){if(!NB()||!EB)return!1;var e=EB((function(){}),"name");return!!e&&!!e.configurable};var CB=Function.prototype.bind;NB.boundFunctionsHaveNames=function(){return NB()&&"function"==typeof CB&&""!==function(){}.bind().name};var OB=NB,TB=jE,AB=EE(),PB=OB.functionsHaveConfigurableNames(),RB=xN,MB=xN,IB=Object,DB=function(e,t){if("function"!=typeof e)throw new RB("`fn` is not a function");return(!(arguments.length>2&&!!arguments[2])||PB)&&(AB?TB(e,"name",t,!0,!0):TB(e,"name",t)),e}((function(){if(null==this||this!==IB(this))throw new MB("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e}),"get flags",!0),LB=DB,FB=sB.supportsDescriptors,zB=Object.getOwnPropertyDescriptor,BB=function(){if(FB&&"gim"===/a/gim.flags){var e=zB(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return LB},$B=sB.supportsDescriptors,UB=BB,HB=Object.getOwnPropertyDescriptor,VB=Object.defineProperty,qB=TypeError,WB=Object.getPrototypeOf,ZB=/a/,KB=sB,YB=DB,GB=BB,JB=function(){if(!$B||!WB)throw new qB("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=UB(),t=WB(ZB),n=HB(t,"flags");return(!n||n.get!==e)&&VB(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},QB=IE(GB());KB(QB,{getPolyfill:GB,implementation:YB,shim:JB});var XB=QB,e$={exports:{}},t$=_N,n$=function(){return t$()&&!!Symbol.toStringTag},r$=n$(),i$=zE("Object.prototype.toString"),a$=function(e){return!(r$&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i$(e)},s$=function(e){return!!a$(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i$(e)&&"[object Function]"===i$(e.callee)},o$=function(){return a$(arguments)}();a$.isLegacyArguments=s$;var l$=o$?a$:s$,c$=IN,u$=JC(),d$=xN,h$={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new d$("`O` is not an object");if("string"!=typeof t)throw new d$("`slot` must be a string");if(u$.assert(e),!h$.has(e,t))throw new d$("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new d$("`O` is not an object");if("string"!=typeof t)throw new d$("`slot` must be a string");var n=u$.get(e);return n&&n["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new d$("`O` is not an object");if("string"!=typeof t)throw new d$("`slot` must be a string");var n=u$.get(e);return!!n&&c$(n,"$"+t)},set:function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new d$("`O` is not an object");if("string"!=typeof t)throw new d$("`slot` must be a string");var r=u$.get(e);r||(r={},u$.set(e,r)),r["$"+t]=n}};Object.freeze&&Object.freeze(h$);var p$,f$=h$,m$=SyntaxError,g$="object"==typeof StopIteration?StopIteration:null,v$={}.toString,y$=Array.isArray||function(e){return"[object Array]"==v$.call(e)},b$=String.prototype.valueOf,x$=Object.prototype.toString,w$=n$(),_$=function(e){return"string"==typeof e||"object"==typeof e&&(w$?function(e){try{return b$.call(e),!0}catch{return!1}}(e):"[object String]"===x$.call(e))},k$="function"==typeof Map&&Map.prototype?Map:null,j$="function"==typeof Set&&Set.prototype?Set:null;k$||(p$=function(e){return!1});var S$=k$?Map.prototype.has:null,N$=j$?Set.prototype.has:null;!p$&&!S$&&(p$=function(e){return!1});var E$,C$=p$||function(e){if(!e||"object"!=typeof e)return!1;try{if(S$.call(e),N$)try{N$.call(e)}catch{return!0}return e instanceof k$}catch{}return!1},O$="function"==typeof Map&&Map.prototype?Map:null,T$="function"==typeof Set&&Set.prototype?Set:null;T$||(E$=function(e){return!1});var A$=O$?Map.prototype.has:null,P$=T$?Set.prototype.has:null;!E$&&!P$&&(E$=function(e){return!1});var R$=E$||function(e){if(!e||"object"!=typeof e)return!1;try{if(P$.call(e),A$)try{A$.call(e)}catch{return!0}return e instanceof T$}catch{}return!1},M$=l$,I$=function(e){if(!g$)throw new m$("this environment lacks StopIteration");f$.set(e,"[[Done]]",!1);var t={next:function(){var e=f$.get(this,"[[Iterator]]"),t=f$.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(n){if(f$.set(e,"[[Done]]",!0),n!==g$)throw n;return{done:!0,value:void 0}}}};return f$.set(t,"[[Iterator]]",e),t};if(SN()||_N()){var D$=Symbol.iterator;e$.exports=function(e){return null!=e&&typeof e[D$]<"u"?e[D$]():M$(e)?Array.prototype[D$].call(e):void 0}}else{var L$=y$,F$=_$,z$=mE,B$=z$("%Map%",!0),$$=z$("%Set%",!0),U$=zE,H$=U$("Array.prototype.push"),V$=U$("String.prototype.charCodeAt"),q$=U$("String.prototype.slice"),W$=function(e){var t=0;return{next:function(){var n,r=t>=e.length;return r||(n=e[t],t+=1),{done:r,value:n}}}},Z$=function(e,t){if(L$(e)||M$(e))return W$(e);if(F$(e)){var n=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var n=V$(e,t);if(n<55296||n>56319)return t+1;var r=V$(e,t+1);return r<56320||r>57343?t+1:t+2}(e,n),r=q$(e,n,t);return n=t,{done:t>e.length,value:r}}}}return t&&typeof e["_es6-shim iterator_"]<"u"?e["_es6-shim iterator_"]():void 0};if(B$||$$){var K$=C$,Y$=R$,G$=U$("Map.prototype.forEach",!0),J$=U$("Set.prototype.forEach",!0);if(typeof process>"u"||!process.versions||!process.versions.node)var Q$=U$("Map.prototype.iterator",!0),X$=U$("Set.prototype.iterator",!0);var eU=U$("Map.prototype.@@iterator",!0)||U$("Map.prototype._es6-shim iterator_",!0),tU=U$("Set.prototype.@@iterator",!0)||U$("Set.prototype._es6-shim iterator_",!0);e$.exports=function(e){return function(e){if(K$(e)){if(Q$)return I$(Q$(e));if(eU)return eU(e);if(G$){var t=[];return G$(e,(function(e,n){H$(t,[n,e])})),W$(t)}}if(Y$(e)){if(X$)return I$(X$(e));if(tU)return tU(e);if(J$){var n=[];return J$(e,(function(e){H$(n,e)})),W$(n)}}}(e)||Z$(e)}}else e$.exports=function(e){if(null!=e)return Z$(e,!0)}}var nU=e$.exports,rU=function(e){return e!==e},iU=function(e,t){return 0===e&&0===t?1/e===1/t:!!(e===t||rU(e)&&rU(t))},aU=iU,sU=function(){return"function"==typeof Object.is?Object.is:aU},oU=sU,lU=sB,cU=sB,uU=iU,dU=sU,hU=function(){var e=oU();return lU(Object,{is:e},{is:function(){return Object.is!==e}}),e},pU=IE(dU(),Object);cU(pU,{getPolyfill:dU,implementation:uU,shim:hU});var fU,mU,gU,vU,yU=pU,bU=IE,xU=zE,wU=mE("%ArrayBuffer%",!0),_U=xU("ArrayBuffer.prototype.byteLength",!0),kU=xU("Object.prototype.toString"),jU=!!wU&&!_U&&new wU(0).slice,SU=!!jU&&bU(jU),NU=_U||SU?function(e){if(!e||"object"!=typeof e)return!1;try{return _U?_U(e):SU(e,0),!0}catch{return!1}}:wU?function(e){return"[object ArrayBuffer]"===kU(e)}:function(e){return!1},EU=Date.prototype.getDay,CU=Object.prototype.toString,OU=n$(),TU=zE,AU=n$();if(AU){fU=TU("Object.prototype.hasOwnProperty"),mU=TU("RegExp.prototype.exec"),gU={};var PU=function(){throw gU};vU={toString:PU,valueOf:PU},"symbol"==typeof Symbol.toPrimitive&&(vU[Symbol.toPrimitive]=PU)}var RU=TU("Object.prototype.toString"),MU=Object.getOwnPropertyDescriptor,IU=AU?function(e){if(!e||"object"!=typeof e)return!1;var t=MU(e,"lastIndex");if(!(t&&fU(t,"value")))return!1;try{mU(e,vU)}catch(n){return n===gU}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===RU(e)},DU=zE("SharedArrayBuffer.prototype.byteLength",!0),LU=DU?function(e){if(!e||"object"!=typeof e)return!1;try{return DU(e),!0}catch{return!1}}:function(e){return!1},FU=Number.prototype.toString,zU=Object.prototype.toString,BU=n$(),$U=zE,UU=$U("Boolean.prototype.toString"),HU=$U("Object.prototype.toString"),VU=n$(),qU={exports:{}},WU=Object.prototype.toString;if(SN()){var ZU=Symbol.prototype.toString,KU=/^Symbol\(.*\)$/;qU.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==WU.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&KU.test(ZU.call(e))}(e)}catch{return!1}}}else qU.exports=function(e){return!1};var YU=qU.exports,GU={exports:{}},JU=typeof BigInt<"u"&&BigInt;if("function"==typeof JU&&"function"==typeof BigInt&&"bigint"==typeof JU(42)&&"bigint"==typeof BigInt(42)){var QU=BigInt.prototype.valueOf;GU.exports=function(e){return!(null===e||typeof e>"u"||"boolean"==typeof e||"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"function"==typeof e)&&("bigint"==typeof e||function(e){try{return QU.call(e),!0}catch{}return!1}(e))}}else GU.exports=function(e){return!1};var XU,eH=GU.exports,tH=_$,nH=function(e){return"number"==typeof e||"object"==typeof e&&(BU?function(e){try{return FU.call(e),!0}catch{return!1}}(e):"[object Number]"===zU.call(e))},rH=function(e){return"boolean"==typeof e||null!==e&&"object"==typeof e&&(VU&&Symbol.toStringTag in e?function(e){try{return UU(e),!0}catch{return!1}}(e):"[object Boolean]"===HU(e))},iH=YU,aH=eH,sH="function"==typeof WeakMap&&WeakMap.prototype?WeakMap:null,oH="function"==typeof WeakSet&&WeakSet.prototype?WeakSet:null;sH||(XU=function(e){return!1});var lH=sH?sH.prototype.has:null,cH=oH?oH.prototype.has:null;!XU&&!lH&&(XU=function(e){return!1});var uH=XU||function(e){if(!e||"object"!=typeof e)return!1;try{if(lH.call(e,lH),cH)try{cH.call(e,cH)}catch{return!0}return e instanceof sH}catch{}return!1},dH={exports:{}},hH=zE,pH=mE("%WeakSet%",!0),fH=hH("WeakSet.prototype.has",!0);if(fH){var mH=hH("WeakMap.prototype.has",!0);dH.exports=function(e){if(!e||"object"!=typeof e)return!1;try{if(fH(e,fH),mH)try{mH(e,mH)}catch{return!0}return e instanceof pH}catch{}return!1}}else dH.exports=function(e){return!1};var gH,vH,yH=dH.exports,bH=C$,xH=R$,wH=uH,_H=yH,kH=Function.prototype.toString,jH="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof jH&&"function"==typeof Object.defineProperty)try{gH=Object.defineProperty({},"length",{get:function(){throw vH}}),vH={},jH((function(){throw 42}),null,gH)}catch(bm){bm!==vH&&(jH=null)}else jH=null;var SH=/^\s*class\b/,NH=function(e){try{var t=kH.call(e);return SH.test(t)}catch{return!1}},EH=function(e){try{return!NH(e)&&(kH.call(e),!0)}catch{return!1}},CH=Object.prototype.toString,OH="function"==typeof Symbol&&!!Symbol.toStringTag,TH=!(0 in[,]),AH=function(){return!1};if("object"==typeof document){var PH=document.all;CH.call(PH)===CH.call(document.all)&&(AH=function(e){if((TH||!e)&&(typeof e>"u"||"object"==typeof e))try{var t=CH.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch{}return!1})}var RH=jH?function(e){if(AH(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{jH(e,null,gH)}catch(t){if(t!==vH)return!1}return!NH(e)&&EH(e)}:function(e){if(AH(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(OH)return EH(e);if(NH(e))return!1;var t=CH.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&EH(e)},MH=Object.prototype.toString,IH=Object.prototype.hasOwnProperty,DH=function(e,t,n){if(!RH(t))throw new TypeError("iterator must be a function");var r;arguments.length>=3&&(r=n),"[object Array]"===MH.call(e)?function(e,t,n){for(var r=0,i=e.length;r<i;r++)IH.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,r):"string"==typeof e?function(e,t,n){for(var r=0,i=e.length;r<i;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,r):function(e,t,n){for(var r in e)IH.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,r)},LH=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],FH=typeof globalThis>"u"?Df:globalThis,zH=DH,BH=function(){for(var e=[],t=0;t<LH.length;t++)"function"==typeof FH[LH[t]]&&(e[e.length]=LH[t]);return e},$H=IE,UH=zE,HH=bE,VH=UH("Object.prototype.toString"),qH=n$(),WH=typeof globalThis>"u"?Df:globalThis,ZH=BH(),KH=UH("String.prototype.slice"),YH=Object.getPrototypeOf,GH=UH("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},JH={__proto__:null};zH(ZH,qH&&HH&&YH?function(e){var t=new WH[e];if(Symbol.toStringTag in t){var n=YH(t),r=HH(n,Symbol.toStringTag);if(!r){var i=YH(n);r=HH(i,Symbol.toStringTag)}JH["$"+e]=$H(r.get)}}:function(e){var t=new WH[e],n=t.slice||t.set;n&&(JH["$"+e]=$H(n))});var QH=zE("ArrayBuffer.prototype.byteLength",!0),XH=NU,eV=SB,tV=zE,nV=XB,rV=mE,iV=nU,aV=JC,sV=yU,oV=l$,lV=y$,cV=NU,uV=function(e){return"object"==typeof e&&null!==e&&(OU?function(e){try{return EU.call(e),!0}catch{return!1}}(e):"[object Date]"===CU.call(e))},dV=IU,hV=LU,pV=Jz,fV=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e?null:tH(e)?"String":nH(e)?"Number":rH(e)?"Boolean":iH(e)?"Symbol":aH(e)?"BigInt":void 0},mV=function(e){if(e&&"object"==typeof e){if(bH(e))return"Map";if(xH(e))return"Set";if(wH(e))return"WeakMap";if(_H(e))return"WeakSet"}return!1},gV=function(e){if(!e||"object"!=typeof e)return!1;if(!qH){var t=KH(VH(e),8,-1);return GH(ZH,t)>-1?t:"Object"===t&&function(e){var t=!1;return zH(JH,(function(n,r){if(!t)try{n(e),t=KH(r,1)}catch{}})),t}(e)}return HH?function(e){var t=!1;return zH(JH,(function(n,r){if(!t)try{"$"+n(e)===r&&(t=KH(r,1))}catch{}})),t}(e):null},vV=function(e){return XH(e)?QH?QH(e):e.byteLength:NaN},yV=tV("SharedArrayBuffer.prototype.byteLength",!0),bV=tV("Date.prototype.getTime"),xV=Object.getPrototypeOf,wV=tV("Object.prototype.toString"),_V=rV("%Set%",!0),kV=tV("Map.prototype.has",!0),jV=tV("Map.prototype.get",!0),SV=tV("Map.prototype.size",!0),NV=tV("Set.prototype.add",!0),EV=tV("Set.prototype.delete",!0),CV=tV("Set.prototype.has",!0),OV=tV("Set.prototype.size",!0);function TV(e,t,n,r){for(var i,a=iV(e);(i=a.next())&&!i.done;)if(IV(t,i.value,n,r))return EV(e,i.value),!0;return!1}function AV(e){return typeof e>"u"?null:"object"!=typeof e?"symbol"!=typeof e&&("string"!=typeof e&&"number"!=typeof e||+e==+e):void 0}function PV(e,t,n,r,i,a){var s=AV(n);if(null!=s)return s;var o=jV(t,s),l=eV({},i,{strict:!1});return!(typeof o>"u"&&!kV(t,s)||!IV(r,o,l,a))&&(!kV(e,s)&&IV(r,o,l,a))}function RV(e,t,n){var r=AV(n);return r??(CV(t,r)&&!CV(e,r))}function MV(e,t,n,r,i,a){for(var s,o,l=iV(e);(s=l.next())&&!s.done;)if(IV(n,o=s.value,i,a)&&IV(r,jV(t,o),i,a))return EV(e,o),!0;return!1}function IV(e,t,n,r){var i=n||{};if(i.strict?sV(e,t):e===t)return!0;if(fV(e)!==fV(t))return!1;if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return i.strict?sV(e,t):e==t;var a,s=r.has(e),o=r.has(t);if(s&&o){if(r.get(e)===r.get(t))return!0}else a={};return s||r.set(e,a),o||r.set(t,a),function(e,t,n,r){var i,a;if(typeof e!=typeof t||null==e||null==t||wV(e)!==wV(t)||oV(e)!==oV(t))return!1;var s=lV(e),o=lV(t);if(s!==o)return!1;var l=e instanceof Error,c=t instanceof Error;if(l!==c||(l||c)&&(e.name!==t.name||e.message!==t.message))return!1;var u=dV(e),d=dV(t);if(u!==d||(u||d)&&(e.source!==t.source||nV(e)!==nV(t)))return!1;var h=uV(e),p=uV(t);if(h!==p||(h||p)&&bV(e)!==bV(t)||n.strict&&xV&&xV(e)!==xV(t))return!1;var f=gV(e),m=gV(t);if(f!==m)return!1;if(f||m){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var g=DV(e),v=DV(t);if(g!==v)return!1;if(g||v){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}var y=cV(e),b=cV(t);if(y!==b)return!1;if(y||b)return vV(e)===vV(t)&&("function"==typeof Uint8Array&&IV(new Uint8Array(e),new Uint8Array(t),n,r));var x=hV(e),w=hV(t);if(x!==w)return!1;if(x||w)return yV(e)===yV(t)&&("function"==typeof Uint8Array&&IV(new Uint8Array(e),new Uint8Array(t),n,r));if(typeof e!=typeof t)return!1;var _=pV(e),k=pV(t);if(_.length!==k.length)return!1;for(_.sort(),k.sort(),i=_.length-1;i>=0;i--)if(_[i]!=k[i])return!1;for(i=_.length-1;i>=0;i--)if(a=_[i],!IV(e[a],t[a],n,r))return!1;var j=mV(e),S=mV(t);return j===S&&("Set"===j||"Set"===S?function(e,t,n,r){if(OV(e)!==OV(t))return!1;for(var i,a,s,o=iV(e),l=iV(t);(i=o.next())&&!i.done;)if(i.value&&"object"==typeof i.value)s||(s=new _V),NV(s,i.value);else if(!CV(t,i.value)){if(n.strict||!RV(e,t,i.value))return!1;s||(s=new _V),NV(s,i.value)}if(s){for(;(a=l.next())&&!a.done;)if(a.value&&"object"==typeof a.value){if(!TV(s,a.value,n.strict,r))return!1}else if(!n.strict&&!CV(e,a.value)&&!TV(s,a.value,n.strict,r))return!1;return 0===OV(s)}return!0}(e,t,n,r):"Map"!==j||function(e,t,n,r){if(SV(e)!==SV(t))return!1;for(var i,a,s,o,l,c,u=iV(e),d=iV(t);(i=u.next())&&!i.done;)if(o=i.value[0],l=i.value[1],o&&"object"==typeof o)s||(s=new _V),NV(s,o);else if(typeof(c=jV(t,o))>"u"&&!kV(t,o)||!IV(l,c,n,r)){if(n.strict||!PV(e,t,o,l,n,r))return!1;s||(s=new _V),NV(s,o)}if(s){for(;(a=d.next())&&!a.done;)if(o=a.value[0],c=a.value[1],o&&"object"==typeof o){if(!MV(s,e,o,c,n,r))return!1}else if(!n.strict&&(!e.has(o)||!IV(jV(e,o),c,n,r))&&!MV(s,e,o,c,eV({},n,{strict:!1}),r))return!1;return 0===OV(s)}return!0}(e,t,n,r))}(e,t,i,r)}function DV(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}var LV=function(e,t,n){return IV(e,t,n,aV())};const FV=Lf(LV),zV=e=>{let{children:n,...r}=e;const i=(0,t.useRef)(),a=(0,t.useRef)(null),s=(e=>{const n={configuration:{},messages:{},connected:!0,disableComposer:!1,renderers:{},isReadOnly:!1,userData:{},userName:void 0,userPictureUrl:void 0,closeWindow:void 0,messageContainerRef:{current:null},isTyping:!1,lastTypingHeartbeat:null,allowFileUpload:!1,conversationId:void 0,disableRestartConversation:!1},r=null==e?void 0:e.client,i=null==e?void 0:e.conversationId,a=zI.getState().setClientMode,s=zI.getState().setConversationId;return r&&a(r.mode),(0,t.useEffect)((()=>{i&&s(i)}),[i]),fI()(MI(((t,i)=>{const a=e=>{const n=zI.getState().conversationId;if(n)return t((t=>{const r=t.messages[n]??[];return{...t,messages:{...t.messages,[n]:[...r.filter((t=>t.id!==e.id)),{id:jf(),...e}]}}}))},s=zI.getState().addMessageToHistory;return{...n,...e,eventEmitter:gm,client:r,sendFile:e=>i().client.sendFile(e),sendTextMessage:async(e,t)=>{const n=i().client;a({id:jf(),direction:"outgoing",sender:{name:"You"},timestamp:new Date,disableInput:!1,block:{type:"bubble",block:{type:"text",text:e,value:t}}}),n&&await n.sendMessage({type:"text",text:e,value:t}),null!=n&&n.userId&&s({message:e,userId:n.userId})},sendMessage:async e=>{const t=i().client;a({id:jf(),direction:"outgoing",sender:{name:"You"},timestamp:new Date,disableInput:!1,block:Mf(e).payload}),t&&await t.sendMessage(e),null!=t&&t.userId&&"text"===e.type&&s({message:e.text,userId:t.userId})},on:(e,t)=>{const n=i().client;return n?n.on(e,t):()=>{}},getClientId:()=>{var e;return null==(e=i().client)?void 0:e.clientId},setHeaderMessage:e=>t({headerMessage:e}),setDisableComposer:e=>t({disableComposer:e}),setState:e=>t((t=>({...t,...e}))),setMessages:e=>{const n=zI.getState().conversationId;if(n)return t((t=>({...t,messages:{...t.messages,[n]:e}})))},getMessages:()=>i().messages[zI.getState().conversationId??""]??[],setIsTyping:(e,n)=>{t((t=>({...t,isTyping:e}))),e&&(t((e=>({...e,lastTypingHeartbeat:new Date}))),n&&setTimeout((()=>{const e=i().lastTypingHeartbeat;e&&(new Date).getTime()-e.getTime()>n&&t((e=>({...e,isTyping:!1})))}),n+100))},setLastTypingHeartbeat:e=>t((t=>({...t,lastTypingHeartbeat:e}))),addMessage:a,setConnected:e=>t((t=>({...t,connected:e}))),restartConversation:async()=>{const e=i().client,t=i().setMessages;e&&(await e.newConversation(),t([]))}}}),{name:"webchatStore"}))})({...r,messageContainerRef:a});return i.current||(i.current=s),Uf.jsx(ZI.Provider,{value:{...r.configuration},children:Uf.jsx(BI.Provider,{value:i.current,children:Uf.jsx(BV,{children:n})})})},BV=e=>{let{children:n}=e;const r=$I((e=>e.client)),i=$I((e=>e.addMessage)),a=$I((e=>e.setMessages)),s=$I((e=>e.configuration)),o=$I((e=>e.setConnected)),l=$I((e=>e.userData)),c=$I((e=>e.userName)),u=$I((e=>e.userPictureUrl)),d=$I((e=>e.setIsTyping)),h=$I((e=>e.getMessages)),p=$I((e=>e.setHeaderMessage)),f=$I((e=>e.setDisableComposer)),m=zI((e=>e.setConversationId)),g=zI((e=>e.user)),v=zI((e=>e.conversationId)),y=zI((e=>e.setUser)),[b,x]=(0,t.useState)(0);return(0,t.useEffect)((()=>{if(r)return r.on("messageSent",(e=>{const t=h(),n=t[t.length-1];(0===t.length||!FV(null==n?void 0:n.block,Mf(e).payload))&&i({direction:"outgoing",sender:{name:"You"},timestamp:new Date,block:Mf(e).payload,disableInput:!1})}))}),[v]),(0,t.useEffect)((()=>{if(r)return r.on("message",(e=>{try{const{payload:t,disableInput:n,conversationId:r,sentOn:a,...o}=e;if(v!==r)return;d(!1,0),i({...o,direction:"incoming",sender:{name:s.botName??"Bot",avatar:s.botAvatar},timestamp:new Date(a),block:t,disableInput:n})}catch{console.error("Invalid message payload")}}))}),[v]),(0,t.useEffect)((()=>{if(r)return r.on("conversation",(e=>{m(e)}))}),[]),cI((async()=>{if(r)return r.on("error",(e=>{console.error("Connection Error",e),x((e=>e+1))}))})),cI((async()=>{if(!r||v&&r.conversationId===v)return;let e;try{p("Connecting..."),f(!0),e=await Uz((()=>r.connect(g,l,{name:c,pictureUrl:u})),{maxDelay:1e4,numOfAttempts:1/0}),p(void 0),f(!1),o(!0)}catch(n){return console.warn(n),p("Connection failed. Please try again later."),void o(!1)}y(e),v&&await r.conversationExists(v)?await r.switchConversation(v):await r.newConversation();const t=[];for(const i of await r.listMessages())try{const{payload:e,authorId:n,sentOn:a,disableInput:o,...l}=i,c=n===r.userId?"outgoing":"incoming";t.push({...l,direction:c,sender:"outgoing"===c?{name:"You"}:{name:s.botName??"Bot",avatar:s.botAvatar},timestamp:new Date(a),block:e,disableInput:o})}catch{console.error("Invalid message payload")}return a(t.reverse()),()=>{r.disconnect()}}),[b,v]),Uf.jsx(Uf.Fragment,{children:n})};function $V(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(null==e||e(r),!1===n||!r.defaultPrevented)return null==t?void 0:t(r)}}function UV(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const i=()=>{const n=r.map((e=>t.createContext(e)));return function(r){const i=(null==r?void 0:r[e])||n;return t.useMemo((()=>({[`__scope${e}`]:{...r,[e]:i}})),[r,i])}};return i.scopeName=e,[function(n,i){const a=t.createContext(i),s=r.length;r=[...r,i];const o=n=>{var r;const{scope:i,children:o,...l}=n,c=(null==(r=null==i?void 0:i[e])?void 0:r[s])||a,u=t.useMemo((()=>l),Object.values(l));return Uf.jsx(c.Provider,{value:u,children:o})};return o.displayName=n+"Provider",[o,function(r,o){var l;const c=(null==(l=null==o?void 0:o[e])?void 0:l[s])||a,u=t.useContext(c);if(u)return u;if(void 0!==i)return i;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},HV(i,...n)]}function HV(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n[0];if(1===n.length)return i;const a=()=>{const e=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=e.reduce(((e,t)=>{let{useScope:r,scopeName:i}=t;return{...e,...r(n)[`__scope${i}`]}}),{});return t.useMemo((()=>({[`__scope${i.scopeName}`]:r})),[r])}};return a.scopeName=i.scopeName,a}var VV=t.useId||(()=>{}),qV=0;function WV(e){const[n,r]=t.useState(VV());return qf((()=>{e||r((e=>e??String(qV++)))}),[e]),e||(n?`radix-${n}`:"")}function ZV(e){let{prop:n,defaultProp:r,onChange:i=()=>{}}=e;const[a,s]=function(e){let{defaultProp:n,onChange:r}=e;const i=t.useState(n),[a]=i,s=t.useRef(a),o=Vf(r);return t.useEffect((()=>{s.current!==a&&(o(a),s.current=a)}),[a,s,o]),i}({defaultProp:r,onChange:i}),o=void 0!==n,l=o?n:a,c=Vf(i);return[l,t.useCallback((e=>{if(o){const t="function"==typeof e?e(n):e;t!==n&&c(t)}else s(e)}),[o,n,s,c])]}var KV,YV="dismissableLayer.update",GV="dismissableLayer.pointerDownOutside",JV="dismissableLayer.focusOutside",QV=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XV=t.forwardRef(((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=t.useContext(QV),[d,h]=t.useState(null),p=(null==d?void 0:d.ownerDocument)??(null==globalThis?void 0:globalThis.document),[,f]=t.useState({}),m=Zf(n,(e=>h(e))),g=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),b=d?g.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,w=b>=y,_=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const r=Vf(e),i=t.useRef(!1),a=t.useRef((()=>{}));return t.useEffect((()=>{const e=e=>{if(e.target&&!i.current){let t=function(){nq(GV,r,i,{discrete:!0})};const i={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",a.current),a.current=t,n.addEventListener("click",a.current,{once:!0})):t()}else n.removeEventListener("click",a.current);i.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",a.current)}}),[n,r]),{onPointerDownCapture:()=>i.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));!w||n||(null==a||a(e),null==o||o(e),e.defaultPrevented||null==l||l())}),p),k=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const r=Vf(e),i=t.useRef(!1);return t.useEffect((()=>{const e=e=>{e.target&&!i.current&&nq(JV,r,{originalEvent:e},{discrete:!1})};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(null==s||s(e),null==o||o(e),e.defaultPrevented||null==l||l())}),p);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null==globalThis?void 0:globalThis.document;const r=Vf(e);t.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})}),[r,n])}((e=>{b===u.layers.size-1&&(null==i||i(e),!e.defaultPrevented&&l&&(e.preventDefault(),l()))}),p),t.useEffect((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(KV=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),tq(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(p.body.style.pointerEvents=KV)}}),[d,p,r,u]),t.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),tq())}),[d,u]),t.useEffect((()=>{const e=()=>f({});return document.addEventListener(YV,e),()=>document.removeEventListener(YV,e)}),[]),Uf.jsx(Xf.div,{...c,ref:m,style:{pointerEvents:x?w?"auto":"none":void 0,...e.style},onFocusCapture:$V(e.onFocusCapture,k.onFocusCapture),onBlurCapture:$V(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:$V(e.onPointerDownCapture,_.onPointerDownCapture)})}));XV.displayName="DismissableLayer";var eq=t.forwardRef(((e,n)=>{const r=t.useContext(QV),i=t.useRef(null),a=Zf(n,i);return t.useEffect((()=>{const e=i.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),Uf.jsx(Xf.div,{...e,ref:a})}));function tq(){const e=new CustomEvent(YV);document.dispatchEvent(e)}function nq(e,t,n,r){let{discrete:i}=r;const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),i?function(e,t){e&&a.flushSync((()=>e.dispatchEvent(t)))}(s,o):s.dispatchEvent(o)}eq.displayName="DismissableLayerBranch";var rq="focusScope.autoFocusOnMount",iq="focusScope.autoFocusOnUnmount",aq={bubbles:!1,cancelable:!0},sq=t.forwardRef(((e,n)=>{const{loop:r=!1,trapped:i=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...o}=e,[l,c]=t.useState(null),u=Vf(a),d=Vf(s),h=t.useRef(null),p=Zf(n,(e=>c(e))),f=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect((()=>{if(i){let e=function(e){if(f.paused||!l)return;const t=e.target;l.contains(t)?h.current=t:uq(h.current,{select:!0})},t=function(e){if(f.paused||!l)return;const t=e.relatedTarget;null!==t&&(l.contains(t)||uq(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&uq(l)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return l&&r.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[i,l,f.paused]),t.useEffect((()=>{if(l){dq.add(f);const e=document.activeElement;if(!l.contains(e)){const t=new CustomEvent(rq,aq);l.addEventListener(rq,u),l.dispatchEvent(t),t.defaultPrevented||(function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(uq(r,{select:t}),document.activeElement!==n)return}(function(e){return e.filter((e=>"A"!==e.tagName))}(oq(l)),{select:!0}),document.activeElement===e&&uq(l))}return()=>{l.removeEventListener(rq,u),setTimeout((()=>{const t=new CustomEvent(iq,aq);l.addEventListener(iq,d),l.dispatchEvent(t),t.defaultPrevented||uq(e??document.body,{select:!0}),l.removeEventListener(iq,d),dq.remove(f)}),0)}}}),[l,u,d,f]);const m=t.useCallback((e=>{if(!r&&!i||f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[i,a]=function(e){const t=oq(e),n=lq(t,e),r=lq(t.reverse(),e);return[n,r]}(t);i&&a?e.shiftKey||n!==a?e.shiftKey&&n===i&&(e.preventDefault(),r&&uq(a,{select:!0})):(e.preventDefault(),r&&uq(i,{select:!0})):n===t&&e.preventDefault()}}),[r,i,f.paused]);return Uf.jsx(Xf.div,{tabIndex:-1,...o,ref:p,onKeyDown:m})}));function oq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function lq(e,t){for(const n of e)if(!cq(n,{upTo:t}))return n}function cq(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function uq(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}sq.displayName="FocusScope";var dq=function(){let e=[];return{add(t){const n=e[0];t!==n&&(null==n||n.pause()),e=hq(e,t),e.unshift(t)},remove(t){var n;e=hq(e,t),null==(n=e[0])||n.resume()}}}();function hq(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var pq=e=>{const{present:n,children:r}=e,i=function(e){const[n,r]=t.useState(),i=t.useRef({}),a=t.useRef(e),s=t.useRef("none"),o=e?"mounted":"unmounted",[l,c]=function(e,n){return t.useReducer(((e,t)=>n[e][t]??e),e)}(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect((()=>{const e=fq(i.current);s.current="mounted"===l?e:"none"}),[l]),qf((()=>{const t=i.current,n=a.current;if(n!==e){const r=s.current,i=fq(t);e?c("MOUNT"):"none"===i||"none"===(null==t?void 0:t.display)?c("UNMOUNT"):c(n&&r!==i?"ANIMATION_OUT":"UNMOUNT"),a.current=e}}),[e,c]),qf((()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,r=r=>{const s=fq(i.current).includes(r.animationName);if(r.target===n&&s&&(c("ANIMATION_END"),!a.current)){const r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)}))}},o=e=>{e.target===n&&(s.current=fq(i.current))};return n.addEventListener("animationstart",o),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",o),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}c("ANIMATION_END")}),[n,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:t.useCallback((e=>{e&&(i.current=getComputedStyle(e)),r(e)}),[])}}(n),a="function"==typeof r?r({present:i.isPresent}):t.Children.only(r),s=Zf(i.ref,function(e){var t,n;let r=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,i=r&&"isReactWarning"in r&&r.isReactWarning;return i?e.ref:(r=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get,i=r&&"isReactWarning"in r&&r.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}(a));return"function"==typeof r||i.isPresent?t.cloneElement(a,{ref:s}):null};function fq(e){return(null==e?void 0:e.animationName)||"none"}pq.displayName="Presence";var mq=0;function gq(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var vq="right-scroll-bar-position",yq="width-before-scroll-bar";function bq(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var xq=typeof window<"u"?t.useLayoutEffect:t.useEffect,wq=new WeakMap;function _q(e,n){var r=function(e,n){var r=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(null,(function(t){return e.forEach((function(e){return bq(e,t)}))}));return xq((function(){var t=wq.get(r);if(t){var n=new Set(t),i=new Set(e),a=r.current;n.forEach((function(e){i.has(e)||bq(e,null)})),i.forEach((function(e){n.has(e)||bq(e,a)}))}wq.set(r,e)}),[e]),r}function kq(e){return e}var jq=function(e){var n=e.sideCar,r=oI(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=n.read();if(!i)throw new Error("Sidecar medium not found");return t.createElement(i,sI({},r))};jq.isSideCarExport=!0;var Sq=function(e){void 0===e&&(e={});var t=function(e,t){void 0===t&&(t=kq);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(a)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}(null);return t.options=sI({async:!0,ssr:!1},e),t}(),Nq=function(){},Eq=t.forwardRef((function(e,n){var r=t.useRef(null),i=t.useState({onScrollCapture:Nq,onWheelCapture:Nq,onTouchMoveCapture:Nq}),a=i[0],s=i[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noIsolation,m=e.inert,g=e.allowPinchZoom,v=e.as,y=void 0===v?"div":v,b=e.gapMode,x=oI(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=p,_=_q([r,n]),k=sI(sI({},x),a);return t.createElement(t.Fragment,null,d&&t.createElement(w,{sideCar:Sq,removeScrollBar:u,shards:h,noIsolation:f,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:b}),o?t.cloneElement(t.Children.only(l),sI(sI({},k),{ref:_})):t.createElement(y,sI({},k,{className:c,ref:_}),l))}));Eq.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Eq.classNames={fullWidth:yq,zeroRight:vq};function Cq(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n.nc;return t&&e.setAttribute("nonce",t),e}var Oq=function(){var e=0,t=null;return{add:function(n){0==e&&(t=Cq())&&(function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Tq=function(){var e=function(){var e=Oq();return function(n,r){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Aq={left:0,top:0,right:0,gap:0},Pq=function(e){return parseInt(e||"",10)||0},Rq=function(e){if(void 0===e&&(e="margin"),typeof window>"u")return Aq;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[Pq(n),Pq(r),Pq(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Mq=Tq(),Iq="data-scroll-locked",Dq=function(e,t,n,r){var i=e.left,a=e.top,s=e.right,o=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(o,"px ").concat(r,";\n  }\n  body[").concat(Iq,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(a,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(o,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(vq," {\n    right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(yq," {\n    margin-right: ").concat(o,"px ").concat(r,";\n  }\n  \n  .").concat(vq," .").concat(vq," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(yq," .").concat(yq," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Iq,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(o,"px;\n  }\n")},Lq=function(){var e=parseInt(document.body.getAttribute(Iq)||"0",10);return isFinite(e)?e:0},Fq=function(e){var n=e.noRelative,r=e.noImportant,i=e.gapMode,a=void 0===i?"margin":i;t.useEffect((function(){return document.body.setAttribute(Iq,(Lq()+1).toString()),function(){var e=Lq()-1;e<=0?document.body.removeAttribute(Iq):document.body.setAttribute(Iq,e.toString())}}),[]);var s=t.useMemo((function(){return Rq(a)}),[a]);return t.createElement(Mq,{styles:Dq(s,!n,a,r?"":"!important")})},zq=!1;if(typeof window<"u")try{var Bq=Object.defineProperty({},"passive",{get:function(){return zq=!0,!0}});window.addEventListener("test",Bq,Bq),window.removeEventListener("test",Bq,Bq)}catch{zq=!1}var $q=!!zq&&{passive:!1},Uq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Hq=function(e,t){var n=t.ownerDocument,r=t;do{if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host),Vq(e,r)){var i=qq(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Vq=function(e,t){return"v"===e?function(e){return Uq(e,"overflowY")}(t):function(e){return Uq(e,"overflowX")}(t)},qq=function(e,t){return"v"===e?function(e){return[e.scrollTop,e.scrollHeight,e.clientHeight]}(t):function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t)},Wq=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zq=function(e){return[e.deltaX,e.deltaY]},Kq=function(e){return e&&"current"in e?e.current:e},Yq=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},Gq=0,Jq=[];function Qq(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Xq=function(e,t){return e.useMedium(t),jq}(Sq,(function(e){var n=t.useRef([]),r=t.useRef([0,0]),i=t.useRef(),a=t.useState(Gq++)[0],s=t.useState(Tq)[0],o=t.useRef(e);t.useEffect((function(){o.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var t=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,a=t.length;i<a;i++)(r||!(i in t))&&(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}([e.lockRef.current],(e.shards||[]).map(Kq),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(a))}))}}}),[e.inert,e.lockRef.current,e.shards]);var l=t.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var n,a=Wq(e),s=r.current,l="deltaX"in e?e.deltaX:s[0]-a[0],c="deltaY"in e?e.deltaY:s[1]-a[1],u=e.target,d=Math.abs(l)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Hq(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=Hq(d,u)),!h)return!1;if(!i.current&&"changedTouches"in e&&(l||c)&&(i.current=n),!n)return!0;var p=i.current||n;return function(e,t,n,r,i){var a=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=a*r,o=n.target,l=t.contains(o),c=!1,u=s>0,d=0,h=0;do{var p=qq(e,o),f=p[0],m=p[1]-p[2]-a*f;(f||m)&&Vq(e,o)&&(d+=m,h+=f),o=o instanceof ShadowRoot?o.host:o.parentNode}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(h)<1||!i))&&(c=!0),c}(p,t,e,"h"===p?l:c,!0)}),[]),c=t.useCallback((function(e){var t=e;if(Jq.length&&Jq[Jq.length-1]===s){var r="deltaY"in t?Zq(t):Wq(t),i=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&function(e,t){return e[0]===t[0]&&e[1]===t[1]}(e.delta,r)}))[0];if(i&&i.should)return void(t.cancelable&&t.preventDefault());if(!i){var a=(o.current.shards||[]).map(Kq).filter(Boolean).filter((function(e){return e.contains(t.target)}));(a.length>0?l(t,a[0]):!o.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),u=t.useCallback((function(e,t,r,i){var a={name:e,delta:t,target:r,should:i,shadowParent:Qq(r)};n.current.push(a),setTimeout((function(){n.current=n.current.filter((function(e){return e!==a}))}),1)}),[]),d=t.useCallback((function(e){r.current=Wq(e),i.current=void 0}),[]),h=t.useCallback((function(t){u(t.type,Zq(t),t.target,l(t,e.lockRef.current))}),[]),p=t.useCallback((function(t){u(t.type,Wq(t),t.target,l(t,e.lockRef.current))}),[]);t.useEffect((function(){return Jq.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,$q),document.addEventListener("touchmove",c,$q),document.addEventListener("touchstart",d,$q),function(){Jq=Jq.filter((function(e){return e!==s})),document.removeEventListener("wheel",c,$q),document.removeEventListener("touchmove",c,$q),document.removeEventListener("touchstart",d,$q)}}),[]);var f=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(s,{styles:Yq(a)}):null,f?t.createElement(Fq,{gapMode:e.gapMode}):null)}));var eW=t.forwardRef((function(e,n){return t.createElement(Eq,sI({},e,{ref:n,sideCar:Xq}))}));eW.classNames=Eq.classNames;var tW=new WeakMap,nW=new WeakMap,rW={},iW=0,aW=function(e){return e&&(e.host||aW(e.parentNode))},sW=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=aW(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return!!e}))}(t,Array.isArray(e)?e:[e]);rW[n]||(rW[n]=new WeakMap);var a=rW[n],s=[],o=new Set,l=new Set(i),c=function(e){!e||o.has(e)||(o.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,(function(e){if(o.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(tW.get(e)||0)+1,c=(a.get(e)||0)+1;tW.set(e,l),a.set(e,c),s.push(e),1===l&&i&&nW.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}}))};return u(t),o.clear(),iW++,function(){s.forEach((function(e){var t=tW.get(e)-1,i=a.get(e)-1;tW.set(e,t),a.set(e,i),t||(nW.has(e)||e.removeAttribute(r),nW.delete(e)),i||e.removeAttribute(n)})),--iW||(tW=new WeakMap,tW=new WeakMap,nW=new WeakMap,rW={})}},oW=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return typeof document>"u"?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),sW(r,i,n,"aria-hidden")):function(){return null}},lW="Dialog",[cW,uW]=UV(lW),[dW,hW]=cW(lW),pW=e=>{const{__scopeDialog:n,children:r,open:i,defaultOpen:a,onOpenChange:s,modal:o=!0}=e,l=t.useRef(null),c=t.useRef(null),[u=!1,d]=ZV({prop:i,defaultProp:a,onChange:s});return Uf.jsx(dW,{scope:n,triggerRef:l,contentRef:c,contentId:WV(),titleId:WV(),descriptionId:WV(),open:u,onOpenChange:d,onOpenToggle:t.useCallback((()=>d((e=>!e))),[d]),modal:o,children:r})};pW.displayName=lW;var fW="DialogTrigger",mW=t.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=hW(fW,n),a=Zf(t,i.triggerRef);return Uf.jsx(Xf.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":PW(i.open),...r,ref:a,onClick:$V(e.onClick,i.onOpenToggle)})}));mW.displayName=fW;var[gW,vW]=cW("DialogPortal",{forceMount:void 0}),yW="DialogOverlay",bW=t.forwardRef(((e,t)=>{const n=vW(yW,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=hW(yW,e.__scopeDialog);return a.modal?Uf.jsx(pq,{present:r||a.open,children:Uf.jsx(xW,{...i,ref:t})}):null}));bW.displayName=yW;var xW=t.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=hW(yW,n);return Uf.jsx(eW,{as:Kf,allowPinchZoom:!0,shards:[i.contentRef],children:Uf.jsx(Xf.div,{"data-state":PW(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})})),wW="DialogContent",_W=t.forwardRef(((e,t)=>{const n=vW(wW,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=hW(wW,e.__scopeDialog);return Uf.jsx(pq,{present:r||a.open,children:a.modal?Uf.jsx(kW,{...i,ref:t}):Uf.jsx(jW,{...i,ref:t})})}));_W.displayName=wW;var kW=t.forwardRef(((e,n)=>{const r=hW(wW,e.__scopeDialog),i=t.useRef(null),a=Zf(n,r.contentRef,i);return t.useEffect((()=>{const e=i.current;if(e)return oW(e)}),[]),Uf.jsx(SW,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$V(e.onCloseAutoFocus,(e=>{var t;e.preventDefault(),null==(t=r.triggerRef.current)||t.focus()})),onPointerDownOutside:$V(e.onPointerDownOutside,(e=>{const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;(2===t.button||n)&&e.preventDefault()})),onFocusOutside:$V(e.onFocusOutside,(e=>e.preventDefault()))})})),jW=t.forwardRef(((e,n)=>{const r=hW(wW,e.__scopeDialog),i=t.useRef(!1),a=t.useRef(!1);return Uf.jsx(SW,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,s;null==(n=e.onCloseAutoFocus)||n.call(e,t),t.defaultPrevented||(i.current||null==(s=r.triggerRef.current)||s.focus(),t.preventDefault()),i.current=!1,a.current=!1},onInteractOutside:t=>{var n,s;null==(n=e.onInteractOutside)||n.call(e,t),t.defaultPrevented||(i.current=!0,"pointerdown"===t.detail.originalEvent.type&&(a.current=!0));const o=t.target;(null==(s=r.triggerRef.current)?void 0:s.contains(o))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&a.current&&t.preventDefault()}})})),SW=t.forwardRef(((e,n)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:s,...o}=e,l=hW(wW,r),c=t.useRef(null),u=Zf(n,c);return t.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gq()),document.body.insertAdjacentElement("beforeend",e[1]??gq()),mq++,()=>{1===mq&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),mq--}}),[]),Uf.jsxs(Uf.Fragment,{children:[Uf.jsx(sq,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:a,onUnmountAutoFocus:s,children:Uf.jsx(XV,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":PW(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),Uf.jsxs(Uf.Fragment,{children:[Uf.jsx(DW,{titleId:l.titleId}),Uf.jsx(LW,{contentRef:c,descriptionId:l.descriptionId})]})]})})),NW="DialogTitle",EW=t.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=hW(NW,n);return Uf.jsx(Xf.h2,{id:i.titleId,...r,ref:t})}));EW.displayName=NW;var CW="DialogDescription",OW=t.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=hW(CW,n);return Uf.jsx(Xf.p,{id:i.descriptionId,...r,ref:t})}));OW.displayName=CW;var TW="DialogClose",AW=t.forwardRef(((e,t)=>{const{__scopeDialog:n,...r}=e,i=hW(TW,n);return Uf.jsx(Xf.button,{type:"button",...r,ref:t,onClick:$V(e.onClick,(()=>i.onOpenChange(!1)))})}));function PW(e){return e?"open":"closed"}AW.displayName=TW;var RW="DialogTitleWarning",[MW,IW]=function(e,n){const r=t.createContext(n),i=e=>{const{children:n,...i}=e,a=t.useMemo((()=>i),Object.values(i));return Uf.jsx(r.Provider,{value:a,children:n})};return i.displayName=e+"Provider",[i,function(i){const a=t.useContext(r);if(a)return a;if(void 0!==n)return n;throw new Error(`\`${i}\` must be used within \`${e}\``)}]}(RW,{contentName:wW,titleName:NW,docsSlug:"dialog"}),DW=e=>{let{titleId:n}=e;const r=IW(RW),i=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.\n\nIf you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return t.useEffect((()=>{n&&(document.getElementById(n)||console.error(i))}),[i,n]),null},LW=e=>{let{contentRef:n,descriptionId:r}=e;const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IW("DialogDescriptionWarning").contentName}}.`;return t.useEffect((()=>{var e;const t=null==(e=n.current)?void 0:e.getAttribute("aria-describedby");r&&t&&(document.getElementById(r)||console.warn(i))}),[i,n,r]),null},FW=pW,zW=mW,BW=bW,$W=_W,UW=EW,HW=AW;function VW(e,n){let{title:r,titleId:i,...a}=e;return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qW=t.forwardRef(VW);function WW(e){let{open:t,onOpenChange:n,children:r}=e;return Uf.jsx(FW,{open:t,onOpenChange:n,children:r})}WW.Button=zW,WW.Close=HW,WW.Content=function(e){let{title:t,children:n}=e;var r,i,a,s,o,l,c,u;const{modal:d}=Lj;return Uf.jsxs(Uf.Fragment,{children:[Uf.jsx(BW,{...null==d?void 0:d.overlay}),Uf.jsx("div",{...null==d?void 0:d.container,children:Uf.jsxs($W,{...null==(r=null==d?void 0:d.dialog)?void 0:r.container,children:[Uf.jsxs("div",{...null==(a=null==(i=null==d?void 0:d.dialog)?void 0:i.title)?void 0:a.container,children:[Uf.jsx(UW,{...null==(o=null==(s=null==d?void 0:d.dialog)?void 0:s.title)?void 0:o.text,children:t}),Uf.jsx(HW,{children:Uf.jsx(qW,{role:"button",tabIndex:0,...null==(c=null==(l=null==d?void 0:d.dialog)?void 0:l.title)?void 0:c.closeIcon})})]}),Uf.jsx("div",{...null==(u=null==d?void 0:d.dialog)?void 0:u.content,children:n})]})})]})};const ZW=(0,t.forwardRef)(((e,t)=>{let{children:n,className:r,...i}=e;const{container:{className:a}}=Lj;return Uf.jsxs("div",{...i,className:RR(a,r),ref:t,children:[Uf.jsx(AR,{}),Uf.jsxs(hz,{children:[Uf.jsx(KW,{}),n]})]})})),KW=()=>{const{modal:e}=Lj,n=$I((e=>e.connected)),{showModal:r}=WI();return(0,t.useEffect)((()=>{var t,i,a,s;n||r({title:"Connection Error",content:Uf.jsxs(Uf.Fragment,{children:[Uf.jsx("p",{...null==(i=null==(t=null==e?void 0:e.dialog)?void 0:t.newConversation)?void 0:i.text,children:"There was an error connecting to the server. Please check your internet connection and try again."}),Uf.jsx(WW.Close,{asChild:!0,children:Uf.jsx("button",{type:"button",...null==(s=null==(a=null==e?void 0:e.dialog)?void 0:a.newConversation)?void 0:s.button,onClick:()=>window.location.reload(),children:"Restart"})})]})})}),[n]),Uf.jsx(Uf.Fragment,{})};(0,t.forwardRef)(((e,t)=>{let{children:n,onClick:r,...i}=e;const{fab:a}=Lj,{container:s,icon:o}=a??{};return Uf.jsx("div",{...i,...s,ref:t,onClick:r,children:Uf.jsx("div",{...o})})}));var YW="Collapsible",[GW,JW]=UV(YW),[QW,XW]=GW(YW),eZ=t.forwardRef(((e,n)=>{const{__scopeCollapsible:r,open:i,defaultOpen:a,disabled:s,onOpenChange:o,...l}=e,[c=!1,u]=ZV({prop:i,defaultProp:a,onChange:o});return Uf.jsx(QW,{scope:r,disabled:s,contentId:WV(),open:c,onOpenToggle:t.useCallback((()=>u((e=>!e))),[u]),children:Uf.jsx(Xf.div,{"data-state":sZ(c),"data-disabled":s?"":void 0,...l,ref:n})})}));eZ.displayName=YW;var tZ="CollapsibleTrigger",nZ=t.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=XW(tZ,n);return Uf.jsx(Xf.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":sZ(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:$V(e.onClick,i.onOpenToggle)})}));nZ.displayName=tZ;var rZ="CollapsibleContent",iZ=t.forwardRef(((e,t)=>{const{forceMount:n,...r}=e,i=XW(rZ,e.__scopeCollapsible);return Uf.jsx(pq,{present:n||i.open,children:e=>{let{present:n}=e;return Uf.jsx(aZ,{...r,ref:t,present:n})}})}));iZ.displayName=rZ;var aZ=t.forwardRef(((e,n)=>{const{__scopeCollapsible:r,present:i,children:a,...s}=e,o=XW(rZ,r),[l,c]=t.useState(i),u=t.useRef(null),d=Zf(n,u),h=t.useRef(0),p=h.current,f=t.useRef(0),m=f.current,g=o.open||l,v=t.useRef(g),y=t.useRef();return t.useEffect((()=>{const e=requestAnimationFrame((()=>v.current=!1));return()=>cancelAnimationFrame(e)}),[]),qf((()=>{const e=u.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();h.current=t.height,f.current=t.width,v.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),c(i)}}),[o.open,i]),Uf.jsx(Xf.div,{"data-state":sZ(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...s,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:g&&a})}));function sZ(e){return e?"open":"closed"}var oZ=eZ,lZ=iZ;const cZ=e=>{let{...t}=e;var n,r;const{header:i,modal:a}=Lj,s=$I((e=>e.restartConversation)),{showModal:o}=WI(),l=e=>{var t,n,r,i;e.stopPropagation(),o({title:"Restart Conversation",content:Uf.jsxs(Uf.Fragment,{children:[Uf.jsx("p",{...null==(n=null==(t=null==a?void 0:a.dialog)?void 0:t.newConversation)?void 0:n.text,children:"Are you sure you want to restart a new conversation?"}),Uf.jsx(WW.Close,{asChild:!0,children:Uf.jsx("button",{type:"button",...null==(i=null==(r=null==a?void 0:a.dialog)?void 0:r.newConversation)?void 0:i.button,onClick:s,children:"Restart"})})]})})};return Uf.jsx(tD,{...t,...null==(r=null==(n=null==i?void 0:i.content)?void 0:n.actions)?void 0:r.icons,role:"button",tabIndex:0,onClick:l,onKeyDown:e=>{"Enter"===e.key&&l(e)}})},uZ=e=>{let{...t}=e;const{header:n}=Lj,r=$I((e=>e.closeWindow)),i=e=>{e.stopPropagation(),null==r||r()};return Uf.jsx(qW,{...t,...n.content.actions.icons,role:"button",tabIndex:0,onClick:i,onKeyDown:e=>{"Enter"===e.key&&i(e)}})},dZ=e=>{let{icon:t,title:n,link:r,...i}=e;var a,s,o,l,c,u,d,h,p,f,m,g;const{header:v}=Lj,y=t??JD;return n?r?Uf.jsxs("a",{...i,...null==(s=null==(a=v.expandedContent)?void 0:a.descriptionItems)?void 0:s.container,href:r,target:"_blank",rel:"noreferrer noopener",children:[Uf.jsx(y,{...null==(l=null==(o=v.expandedContent)?void 0:o.descriptionItems)?void 0:l.icon}),Uf.jsx("p",{...null==(u=null==(c=v.expandedContent)?void 0:c.descriptionItems)?void 0:u.link,children:n})]}):Uf.jsxs("div",{...i,...null==(h=null==(d=v.expandedContent)?void 0:d.descriptionItems)?void 0:h.container,children:[Uf.jsx(y,{...null==(f=null==(p=v.expandedContent)?void 0:p.descriptionItems)?void 0:f.icon}),Uf.jsx("p",{...null==(g=null==(m=v.expandedContent)?void 0:m.descriptionItems)?void 0:g.text,children:n})]}):null},hZ=e=>{let{defaultOpen:n,disabled:r,onOpenChange:i,...a}=e;var s,o,l,c,u,d,h,p,f,m,g,v,y,b,x,w,_,k,j,S,N,E;const{header:C}=Lj,O=$I((e=>e.configuration)),T=$I((e=>e.closeWindow)),A=$I((e=>e.getClientId))(),P=$I((e=>!e.disableRestartConversation)),[R,M]=(0,t.useState)(!!n),I=!(null==(s=O.email)||!s.title)||!(null==(o=O.phone)||!o.title)||!(null==(l=O.website)||!l.title)||!(null==(c=O.termsOfService)||!c.link)||!(null==(u=O.privacyPolicy)||!u.link);return Uf.jsxs(oZ,{open:!!I&&R,onOpenChange:M,"data-disabled":I?void 0:"",...C.container,...a,children:[Uf.jsxs(nZ,{...C.content.container,children:[Uf.jsx(Xv,{...a,userId:A,src:O.botAvatar,...C.content.avatar,children:O.botName||"Bot"}),Uf.jsx("h2",{...C.content.title,children:O.botName||"Bot"}),O.botDescription&&Uf.jsx("p",{...C.content.description,children:O.botDescription}),Uf.jsxs("div",{...C.content.actions.container,children:[P&&Uf.jsx(cZ,{}),T&&Uf.jsx(uZ,{})]})]}),Uf.jsxs(lZ,{...C.expandedContent.container,children:[Uf.jsxs("div",{"data-links":"",...C.expandedContent.group,children:[Uf.jsx(dZ,{"data-email":"",icon:aL,title:null==(d=O.email)?void 0:d.title,link:null!=(p=null==(h=O.email)?void 0:h.link)&&p.startsWith("mailto:")?null==(f=O.email)?void 0:f.link:`mailto:${null==(m=O.email)?void 0:m.link}`}),Uf.jsx(dZ,{"data-phone":"",icon:dL,title:null==(g=O.phone)?void 0:g.title,link:null!=(y=null==(v=O.phone)?void 0:v.link)&&y.startsWith("tel:")?null==(b=O.phone)?void 0:b.link:`tel:${null==(x=O.phone)?void 0:x.link}`}),Uf.jsx(dZ,{"data-website":"",link:null==(w=O.website)?void 0:w.link,icon:oL,title:null==(_=O.website)?void 0:_.title})]}),Uf.jsxs("div",{"data-legal":"",...null==(k=C.expandedContent)?void 0:k.group,children:[Uf.jsx(dZ,{"data-terms":"",link:null==(j=O.termsOfService)?void 0:j.link,icon:rL,title:null==(S=O.termsOfService)?void 0:S.title}),Uf.jsx(dZ,{"data-privacy":"",link:null==(N=O.privacyPolicy)?void 0:N.link,icon:cL,title:null==(E=O.privacyPolicy)?void 0:E.title})]})]})]})},pZ=(0,t.memo)((e=>{let{...t}=e;const{typingIndicator:n}=Lj;return Uf.jsx("div",{...t,...null==n?void 0:n.container,children:Uf.jsx("div",{...null==n?void 0:n.loader})})})),fZ=(0,t.memo)((0,t.forwardRef)(((e,n)=>{let{direction:r,block:i,scroll:a,disableInput:s,children:o,sender:l,id:c,metadata:u,...d}=e;var h,p,f,m;const[g,v]=(0,t.useState)([]),{message:y}=Lj,{botAvatar:b,botName:x}=$I((e=>e.configuration)),w=ym($I((e=>e.getClientId))()??"",15);return Uf.jsx(VI.Provider,{value:{isLoading:g,setIsLoading:v},children:Uf.jsxs("div",{...d,...null==y?void 0:y.container,"data-loaded":0===g.length,"data-disable-input":!!s,"data-direction":r,ref:n,children:[Uf.jsxs(am,{"data-color":w,...null==(h=null==y?void 0:y.avatar)?void 0:h.container,children:[Uf.jsx(om,{...null==(p=null==y?void 0:y.avatar)?void 0:p.image,src:(null==l?void 0:l.avatar)??b}),Uf.jsx(cm,{...null==(f=null==y?void 0:y.avatar)?void 0:f.fallback,children:(null==l?void 0:l.name[0])??(null==(m=x??"Bot")?void 0:m[0])})]}),i&&Uf.jsx(HF,{block:i,direction:r,sender:l,timestamp:d.timestamp,messageId:c,metadata:u}),o]})})})));function mZ(){const e=$I((e=>e.getClientId))(),t=$I((e=>e.configuration)),{messageList:{marquee:n}}=Lj;return Uf.jsxs("li",{...n.container,children:[Uf.jsx(Xv,{userId:e,src:t.botAvatar,...n.avatar,children:(t.botName||"Bot").slice(0,1)}),Uf.jsxs("div",{...n.content,children:[Uf.jsx("h1",{...n.title,children:t.botName||"Bot"}),Uf.jsx("p",{...n.description,children:t.botDescription})]})]})}var gZ=function(e){return e&&e.Math===Math&&e},vZ=gZ("object"==typeof globalThis&&globalThis)||gZ("object"==typeof window&&window)||gZ("object"==typeof self&&self)||gZ("object"==typeof Df&&Df)||gZ("object"==typeof Df&&Df)||function(){return this}()||Function("return this")(),yZ=function(e){try{return!!e()}catch{return!0}},bZ=!yZ((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),xZ=bZ,wZ=Function.prototype,_Z=wZ.apply,kZ=wZ.call,jZ="object"==typeof Reflect&&Reflect.apply||(xZ?kZ.bind(_Z):function(){return kZ.apply(_Z,arguments)}),SZ=bZ,NZ=Function.prototype,EZ=NZ.call,CZ=SZ&&NZ.bind.bind(EZ,EZ),OZ=SZ?CZ:function(e){return function(){return EZ.apply(e,arguments)}},TZ=OZ,AZ=TZ({}.toString),PZ=TZ("".slice),RZ=function(e){return PZ(AZ(e),8,-1)},MZ=RZ,IZ=OZ,DZ=function(e){if("Function"===MZ(e))return IZ(e)},LZ="object"==typeof document&&document.all,FZ=typeof LZ>"u"&&void 0!==LZ?function(e){return"function"==typeof e||e===LZ}:function(e){return"function"==typeof e},zZ={},BZ=!yZ((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),$Z=bZ,UZ=Function.prototype.call,HZ=$Z?UZ.bind(UZ):function(){return UZ.apply(UZ,arguments)},VZ={},qZ={}.propertyIsEnumerable,WZ=Object.getOwnPropertyDescriptor,ZZ=WZ&&!qZ.call({1:2},1);VZ.f=ZZ?function(e){var t=WZ(this,e);return!!t&&t.enumerable}:qZ;var KZ,YZ,GZ=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},JZ=yZ,QZ=RZ,XZ=Object,eK=OZ("".split),tK=JZ((function(){return!XZ("z").propertyIsEnumerable(0)}))?function(e){return"String"===QZ(e)?eK(e,""):XZ(e)}:XZ,nK=function(e){return null==e},rK=nK,iK=TypeError,aK=function(e){if(rK(e))throw new iK("Can't call method on "+e);return e},sK=tK,oK=aK,lK=function(e){return sK(oK(e))},cK=FZ,uK=function(e){return"object"==typeof e?null!==e:cK(e)},dK={},hK=dK,pK=vZ,fK=FZ,mK=function(e){return fK(e)?e:void 0},gK=function(e,t){return arguments.length<2?mK(hK[e])||mK(pK[e]):hK[e]&&hK[e][t]||pK[e]&&pK[e][t]},vK=OZ({}.isPrototypeOf),yK=vZ.navigator,bK=yK&&yK.userAgent,xK=bK?String(bK):"",wK=vZ,_K=xK,kK=wK.process,jK=wK.Deno,SK=kK&&kK.versions||jK&&jK.version,NK=SK&&SK.v8;NK&&(YZ=(KZ=NK.split("."))[0]>0&&KZ[0]<4?1:+(KZ[0]+KZ[1])),!YZ&&_K&&((!(KZ=_K.match(/Edge\/(\d+)/))||KZ[1]>=74)&&((KZ=_K.match(/Chrome\/(\d+)/))&&(YZ=+KZ[1])));var EK=YZ,CK=EK,OK=yZ,TK=vZ.String,AK=!!Object.getOwnPropertySymbols&&!OK((function(){var e=Symbol("symbol detection");return!TK(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&CK&&CK<41})),PK=AK&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,RK=gK,MK=FZ,IK=vK,DK=Object,LK=PK?function(e){return"symbol"==typeof e}:function(e){var t=RK("Symbol");return MK(t)&&IK(t.prototype,DK(e))},FK=String,zK=function(e){try{return FK(e)}catch{return"Object"}},BK=FZ,$K=zK,UK=TypeError,HK=function(e){if(BK(e))return e;throw new UK($K(e)+" is not a function")},VK=HK,qK=nK,WK=function(e,t){var n=e[t];return qK(n)?void 0:VK(n)},ZK=HZ,KK=FZ,YK=uK,GK=TypeError,JK={exports:{}},QK=vZ,XK=Object.defineProperty,eY=vZ,tY=function(e,t){try{XK(QK,e,{value:t,configurable:!0,writable:!0})}catch{QK[e]=t}return t},nY="__core-js_shared__",rY=JK.exports=eY[nY]||tY(nY,{});(rY.versions||(rY.versions=[])).push({version:"3.38.1",mode:"pure",copyright:"\xa9 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"});var iY=JK.exports,aY=iY,sY=function(e,t){return aY[e]||(aY[e]=t||{})},oY=aK,lY=Object,cY=function(e){return lY(oY(e))},uY=cY,dY=OZ({}.hasOwnProperty),hY=Object.hasOwn||function(e,t){return dY(uY(e),t)},pY=OZ,fY=0,mY=Math.random(),gY=pY(1..toString),vY=function(e){return"Symbol("+(void 0===e?"":e)+")_"+gY(++fY+mY,36)},yY=sY,bY=hY,xY=vY,wY=AK,_Y=PK,kY=vZ.Symbol,jY=yY("wks"),SY=_Y?kY.for||kY:kY&&kY.withoutSetter||xY,NY=function(e){return bY(jY,e)||(jY[e]=wY&&bY(kY,e)?kY[e]:SY("Symbol."+e)),jY[e]},EY=HZ,CY=uK,OY=LK,TY=WK,AY=function(e,t){var n,r;if("string"===t&&KK(n=e.toString)&&!YK(r=ZK(n,e))||KK(n=e.valueOf)&&!YK(r=ZK(n,e))||"string"!==t&&KK(n=e.toString)&&!YK(r=ZK(n,e)))return r;throw new GK("Can't convert object to primitive value")},PY=TypeError,RY=NY("toPrimitive"),MY=function(e,t){if(!CY(e)||OY(e))return e;var n,r=TY(e,RY);if(r){if(void 0===t&&(t="default"),n=EY(r,e,t),!CY(n)||OY(n))return n;throw new PY("Can't convert object to primitive value")}return void 0===t&&(t="number"),AY(e,t)},IY=LK,DY=function(e){var t=MY(e,"string");return IY(t)?t:t+""},LY=uK,FY=vZ.document,zY=LY(FY)&&LY(FY.createElement),BY=function(e){return zY?FY.createElement(e):{}},$Y=BY,UY=!BZ&&!yZ((function(){return 7!==Object.defineProperty($Y("div"),"a",{get:function(){return 7}}).a})),HY=BZ,VY=HZ,qY=VZ,WY=GZ,ZY=lK,KY=DY,YY=hY,GY=UY,JY=Object.getOwnPropertyDescriptor;zZ.f=HY?JY:function(e,t){if(e=ZY(e),t=KY(t),GY)try{return JY(e,t)}catch{}if(YY(e,t))return WY(!VY(qY.f,e,t),e[t])};var QY=yZ,XY=FZ,eG=/#|\.prototype\./,tG=function(e,t){var n=rG[nG(e)];return n===aG||n!==iG&&(XY(t)?QY(t):!!t)},nG=tG.normalize=function(e){return String(e).replace(eG,".").toLowerCase()},rG=tG.data={},iG=tG.NATIVE="N",aG=tG.POLYFILL="P",sG=tG,oG=HK,lG=bZ,cG=DZ(DZ.bind),uG=function(e,t){return oG(e),void 0===t?e:lG?cG(e,t):function(){return e.apply(t,arguments)}},dG={},hG=BZ&&yZ((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),pG=uK,fG=String,mG=TypeError,gG=function(e){if(pG(e))return e;throw new mG(fG(e)+" is not an object")},vG=BZ,yG=UY,bG=hG,xG=gG,wG=DY,_G=TypeError,kG=Object.defineProperty,jG=Object.getOwnPropertyDescriptor,SG="enumerable",NG="configurable",EG="writable";dG.f=vG?bG?function(e,t,n){if(xG(e),t=wG(t),xG(n),"function"==typeof e&&"prototype"===t&&"value"in n&&EG in n&&!n[EG]){var r=jG(e,t);r&&r[EG]&&(e[t]=n.value,n={configurable:NG in n?n[NG]:r[NG],enumerable:SG in n?n[SG]:r[SG],writable:!1})}return kG(e,t,n)}:kG:function(e,t,n){if(xG(e),t=wG(t),xG(n),yG)try{return kG(e,t,n)}catch{}if("get"in n||"set"in n)throw new _G("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var CG=dG,OG=GZ,TG=BZ?function(e,t,n){return CG.f(e,t,OG(1,n))}:function(e,t,n){return e[t]=n,e},AG=vZ,PG=jZ,RG=DZ,MG=FZ,IG=zZ.f,DG=sG,LG=dK,FG=uG,zG=TG,BG=hY,$G=function(e){var t=function(n,r,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,r)}return new e(n,r,i)}return PG(e,this,arguments)};return t.prototype=e.prototype,t},UG=function(e,t){var n,r,i,a,s,o,l,c,u,d=e.target,h=e.global,p=e.stat,f=e.proto,m=h?AG:p?AG[d]:AG[d]&&AG[d].prototype,g=h?LG:LG[d]||zG(LG,d,{})[d],v=g.prototype;for(a in t)r=!(n=DG(h?a:d+(p?".":"#")+a,e.forced))&&m&&BG(m,a),o=g[a],r&&(e.dontCallGetSet?l=(u=IG(m,a))&&u.value:l=m[a]),s=r&&l?l:t[a],(n||f||typeof o!=typeof s)&&(c=e.bind&&r?FG(s,AG):e.wrap&&r?$G(s):f&&MG(s)?RG(s):s,(e.sham||s&&s.sham||o&&o.sham)&&zG(c,"sham",!0),zG(g,a,c),f&&(BG(LG,i=d+"Prototype")||zG(LG,i,{}),zG(LG[i],a,s),e.real&&v&&(n||!v[a])&&zG(v,a,s)))},HG=RZ,VG=Array.isArray||function(e){return"Array"===HG(e)};UG({target:"Array",stat:!0},{isArray:VG});var qG=dK.Array.isArray;const WG=Lf(qG);var ZG=Math.ceil,KG=Math.floor,YG=Math.trunc||function(e){var t=+e;return(t>0?KG:ZG)(t)},GG=function(e){var t=+e;return t!==t||0===t?0:YG(t)},JG=GG,QG=Math.min,XG=function(e){var t=JG(e);return t>0?QG(t,9007199254740991):0},eJ=function(e){return XG(e.length)},tJ=TypeError,nJ=function(e){if(e>9007199254740991)throw tJ("Maximum allowed index exceeded");return e},rJ=BZ,iJ=dG,aJ=GZ,sJ=function(e,t,n){rJ?iJ.f(e,t,aJ(0,n)):e[t]=n},oJ={};oJ[NY("toStringTag")]="z";var lJ="[object z]"===String(oJ),cJ=lJ,uJ=FZ,dJ=RZ,hJ=NY("toStringTag"),pJ=Object,fJ="Arguments"===dJ(function(){return arguments}()),mJ=cJ?dJ:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch{}}(t=pJ(e),hJ))?n:fJ?dJ(t):"Object"===(r=dJ(t))&&uJ(t.callee)?"Arguments":r},gJ=FZ,vJ=iY,yJ=OZ(Function.toString);gJ(vJ.inspectSource)||(vJ.inspectSource=function(e){return yJ(e)});var bJ=vJ.inspectSource,xJ=OZ,wJ=yZ,_J=FZ,kJ=mJ,jJ=bJ,SJ=function(){},NJ=gK("Reflect","construct"),EJ=/^\s*(?:class|function)\b/,CJ=xJ(EJ.exec),OJ=!EJ.test(SJ),TJ=function(e){if(!_J(e))return!1;try{return NJ(SJ,[],e),!0}catch{return!1}},AJ=function(e){if(!_J(e))return!1;switch(kJ(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return OJ||!!CJ(EJ,jJ(e))}catch{return!0}};AJ.sham=!0;var PJ=!NJ||wJ((function(){var e;return TJ(TJ.call)||!TJ(Object)||!TJ((function(){e=!0}))||e}))?AJ:TJ,RJ=VG,MJ=PJ,IJ=uK,DJ=NY("species"),LJ=Array,FJ=function(e){var t;return RJ(e)&&(t=e.constructor,MJ(t)&&(t===LJ||RJ(t.prototype))?t=void 0:IJ(t)&&(null===(t=t[DJ])&&(t=void 0))),void 0===t?LJ:t},zJ=function(e,t){return new(FJ(e))(0===t?0:t)},BJ=yZ,$J=EK,UJ=NY("species"),HJ=function(e){return $J>=51||!BJ((function(){var t=[];return(t.constructor={})[UJ]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},VJ=UG,qJ=yZ,WJ=VG,ZJ=uK,KJ=cY,YJ=eJ,GJ=nJ,JJ=sJ,QJ=zJ,XJ=HJ,eQ=EK,tQ=NY("isConcatSpreadable"),nQ=eQ>=51||!qJ((function(){var e=[];return e[tQ]=!1,e.concat()[0]!==e})),rQ=function(e){if(!ZJ(e))return!1;var t=e[tQ];return void 0!==t?!!t:WJ(e)};VJ({target:"Array",proto:!0,arity:1,forced:!nQ||!XJ("concat")},{concat:function(e){var t,n,r,i,a,s=KJ(this),o=QJ(s,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(rQ(a=-1===t?s:arguments[t]))for(i=YJ(a),GJ(l+i),n=0;n<i;n++,l++)n in a&&JJ(o,l,a[n]);else GJ(l+1),JJ(o,l++,a);return o.length=l,o}});var iQ=mJ,aQ=String,sQ=function(e){if("Symbol"===iQ(e))throw new TypeError("Cannot convert a Symbol value to a string");return aQ(e)},oQ={},lQ=GG,cQ=Math.max,uQ=Math.min,dQ=function(e,t){var n=lQ(e);return n<0?cQ(n+t,0):uQ(n,t)},hQ=lK,pQ=dQ,fQ=eJ,mQ=function(e){return function(t,n,r){var i=hQ(t),a=fQ(i);if(0===a)return!e&&-1;var s,o=pQ(r,a);if(e&&n!==n){for(;a>o;)if((s=i[o++])!==s)return!0}else for(;a>o;o++)if((e||o in i)&&i[o]===n)return e||o||0;return!e&&-1}},gQ={includes:mQ(!0),indexOf:mQ(!1)},vQ={},yQ=hY,bQ=lK,xQ=gQ.indexOf,wQ=vQ,_Q=OZ([].push),kQ=function(e,t){var n,r=bQ(e),i=0,a=[];for(n in r)!yQ(wQ,n)&&yQ(r,n)&&_Q(a,n);for(;t.length>i;)yQ(r,n=t[i++])&&(~xQ(a,n)||_Q(a,n));return a},jQ=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],SQ=kQ,NQ=jQ,EQ=Object.keys||function(e){return SQ(e,NQ)},CQ=BZ,OQ=hG,TQ=dG,AQ=gG,PQ=lK,RQ=EQ;oQ.f=CQ&&!OQ?Object.defineProperties:function(e,t){AQ(e);for(var n,r=PQ(t),i=RQ(t),a=i.length,s=0;a>s;)TQ.f(e,n=i[s++],r[n]);return e};var MQ,IQ=gK("document","documentElement"),DQ=vY,LQ=sY("keys"),FQ=function(e){return LQ[e]||(LQ[e]=DQ(e))},zQ=gG,BQ=oQ,$Q=jQ,UQ=vQ,HQ=IQ,VQ=BY,qQ="prototype",WQ="script",ZQ=FQ("IE_PROTO"),KQ=function(){},YQ=function(e){return"<"+WQ+">"+e+"</"+WQ+">"},GQ=function(e){e.write(YQ("")),e.close();var t=e.parentWindow.Object;return e=null,t},JQ=function(){try{MQ=new ActiveXObject("htmlfile")}catch{}JQ=typeof document<"u"?document.domain&&MQ?GQ(MQ):function(){var e,t=VQ("iframe"),n="java"+WQ+":";return t.style.display="none",HQ.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(YQ("document.F=Object")),e.close(),e.F}():GQ(MQ);for(var e=$Q.length;e--;)delete JQ[qQ][$Q[e]];return JQ()};UQ[ZQ]=!0;var QQ=Object.create||function(e,t){var n;return null!==e?(KQ[qQ]=zQ(e),n=new KQ,KQ[qQ]=null,n[ZQ]=e):n=JQ(),void 0===t?n:BQ.f(n,t)},XQ={},eX=kQ,tX=jQ.concat("length","prototype");XQ.f=Object.getOwnPropertyNames||function(e){return eX(e,tX)};var nX={},rX=OZ([].slice),iX=RZ,aX=lK,sX=XQ.f,oX=rX,lX="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];nX.f=function(e){return lX&&"Window"===iX(e)?function(e){try{return sX(e)}catch{return oX(lX)}}(e):sX(aX(e))};var cX={};cX.f=Object.getOwnPropertySymbols;var uX=TG,dX=function(e,t,n,r){return r&&r.enumerable?e[t]=n:uX(e,t,n),e},hX=dG,pX={},fX=NY;pX.f=fX;var mX,gX,vX,yX=dK,bX=hY,xX=pX,wX=dG.f,_X=function(e){var t=yX.Symbol||(yX.Symbol={});bX(t,e)||wX(t,e,{value:xX.f(e)})},kX=HZ,jX=gK,SX=NY,NX=dX,EX=function(){var e=jX("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=SX("toPrimitive");t&&!t[r]&&NX(t,r,(function(e){return kX(n,this)}),{arity:1})},CX=mJ,OX=lJ?{}.toString:function(){return"[object "+CX(this)+"]"},TX=lJ,AX=dG.f,PX=TG,RX=hY,MX=OX,IX=NY("toStringTag"),DX=function(e,t,n,r){var i=n?e:e&&e.prototype;i&&(RX(i,IX)||AX(i,IX,{configurable:!0,value:t}),r&&!TX&&PX(i,"toString",MX))},LX=FZ,FX=vZ.WeakMap,zX=LX(FX)&&/native code/.test(String(FX)),BX=vZ,$X=uK,UX=TG,HX=hY,VX=iY,qX=FQ,WX=vQ,ZX="Object already initialized",KX=BX.TypeError,YX=BX.WeakMap;if(zX||VX.state){var GX=VX.state||(VX.state=new YX);GX.get=GX.get,GX.has=GX.has,GX.set=GX.set,mX=function(e,t){if(GX.has(e))throw new KX(ZX);return t.facade=e,GX.set(e,t),t},gX=function(e){return GX.get(e)||{}},vX=function(e){return GX.has(e)}}else{var JX=qX("state");WX[JX]=!0,mX=function(e,t){if(HX(e,JX))throw new KX(ZX);return t.facade=e,UX(e,JX,t),t},gX=function(e){return HX(e,JX)?e[JX]:{}},vX=function(e){return HX(e,JX)}}var QX={set:mX,get:gX,has:vX,enforce:function(e){return vX(e)?gX(e):mX(e,{})},getterFor:function(e){return function(t){var n;if(!$X(t)||(n=gX(t)).type!==e)throw new KX("Incompatible receiver, "+e+" required");return n}}},XX=uG,e0=tK,t0=cY,n0=eJ,r0=zJ,i0=OZ([].push),a0=function(e){var t=1===e,n=2===e,r=3===e,i=4===e,a=6===e,s=7===e,o=5===e||a;return function(l,c,u,d){for(var h,p,f=t0(l),m=e0(f),g=n0(m),v=XX(c,u),y=0,b=d||r0,x=t?b(l,g):n||s?b(l,0):void 0;g>y;y++)if((o||y in m)&&(p=v(h=m[y],y,f),e))if(t)x[y]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:i0(x,h)}else switch(e){case 4:return!1;case 7:i0(x,h)}return a?-1:r||i?i:x}},s0={forEach:a0(0),map:a0(1),filter:a0(2),some:a0(3),every:a0(4),find:a0(5),findIndex:a0(6),filterReject:a0(7)},o0=UG,l0=vZ,c0=HZ,u0=OZ,d0=BZ,h0=AK,p0=yZ,f0=hY,m0=vK,g0=gG,v0=lK,y0=DY,b0=sQ,x0=GZ,w0=QQ,_0=EQ,k0=XQ,j0=nX,S0=cX,N0=zZ,E0=dG,C0=oQ,O0=VZ,T0=dX,A0=function(e,t,n){return hX.f(e,t,n)},P0=sY,R0=vQ,M0=vY,I0=NY,D0=pX,L0=_X,F0=EX,z0=DX,B0=QX,$0=s0.forEach,U0=FQ("hidden"),H0="Symbol",V0="prototype",q0=B0.set,W0=B0.getterFor(H0),Z0=Object[V0],K0=l0.Symbol,Y0=K0&&K0[V0],G0=l0.RangeError,J0=l0.TypeError,Q0=l0.QObject,X0=N0.f,e1=E0.f,t1=j0.f,n1=O0.f,r1=u0([].push),i1=P0("symbols"),a1=P0("op-symbols"),s1=P0("wks"),o1=!Q0||!Q0[V0]||!Q0[V0].findChild,l1=function(e,t,n){var r=X0(Z0,t);r&&delete Z0[t],e1(e,t,n),r&&e!==Z0&&e1(Z0,t,r)},c1=d0&&p0((function(){return 7!==w0(e1({},"a",{get:function(){return e1(this,"a",{value:7}).a}})).a}))?l1:e1,u1=function(e,t){var n=i1[e]=w0(Y0);return q0(n,{type:H0,tag:e,description:t}),d0||(n.description=t),n},d1=function(e,t,n){e===Z0&&d1(a1,t,n),g0(e);var r=y0(t);return g0(n),f0(i1,r)?(n.enumerable?(f0(e,U0)&&e[U0][r]&&(e[U0][r]=!1),n=w0(n,{enumerable:x0(0,!1)})):(f0(e,U0)||e1(e,U0,x0(1,w0(null))),e[U0][r]=!0),c1(e,r,n)):e1(e,r,n)},h1=function(e,t){g0(e);var n=v0(t),r=_0(n).concat(g1(n));return $0(r,(function(t){(!d0||c0(p1,n,t))&&d1(e,t,n[t])})),e},p1=function(e){var t=y0(e),n=c0(n1,this,t);return!(this===Z0&&f0(i1,t)&&!f0(a1,t))&&(!(n||!f0(this,t)||!f0(i1,t)||f0(this,U0)&&this[U0][t])||n)},f1=function(e,t){var n=v0(e),r=y0(t);if(n!==Z0||!f0(i1,r)||f0(a1,r)){var i=X0(n,r);return i&&f0(i1,r)&&!(f0(n,U0)&&n[U0][r])&&(i.enumerable=!0),i}},m1=function(e){var t=t1(v0(e)),n=[];return $0(t,(function(e){!f0(i1,e)&&!f0(R0,e)&&r1(n,e)})),n},g1=function(e){var t=e===Z0,n=t1(t?a1:v0(e)),r=[];return $0(n,(function(e){f0(i1,e)&&(!t||f0(Z0,e))&&r1(r,i1[e])})),r};h0||(K0=function(){if(m0(Y0,this))throw new J0("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?b0(arguments[0]):void 0,t=M0(e),n=function(e){var r=void 0===this?l0:this;r===Z0&&c0(n,a1,e),f0(r,U0)&&f0(r[U0],t)&&(r[U0][t]=!1);var i=x0(1,e);try{c1(r,t,i)}catch(a){if(!(a instanceof G0))throw a;l1(r,t,i)}};return d0&&o1&&c1(Z0,t,{configurable:!0,set:n}),u1(t,e)},T0(Y0=K0[V0],"toString",(function(){return W0(this).tag})),T0(K0,"withoutSetter",(function(e){return u1(M0(e),e)})),O0.f=p1,E0.f=d1,C0.f=h1,N0.f=f1,k0.f=j0.f=m1,S0.f=g1,D0.f=function(e){return u1(I0(e),e)},d0&&A0(Y0,"description",{configurable:!0,get:function(){return W0(this).description}})),o0({global:!0,constructor:!0,wrap:!0,forced:!h0,sham:!h0},{Symbol:K0}),$0(_0(s1),(function(e){L0(e)})),o0({target:H0,stat:!0,forced:!h0},{useSetter:function(){o1=!0},useSimple:function(){o1=!1}}),o0({target:"Object",stat:!0,forced:!h0,sham:!d0},{create:function(e,t){return void 0===t?w0(e):h1(w0(e),t)},defineProperty:d1,defineProperties:h1,getOwnPropertyDescriptor:f1}),o0({target:"Object",stat:!0,forced:!h0},{getOwnPropertyNames:m1}),F0(),z0(K0,H0),R0[U0]=!0;var v1=AK&&!!Symbol.for&&!!Symbol.keyFor,y1=UG,b1=gK,x1=hY,w1=sQ,_1=sY,k1=v1,j1=_1("string-to-symbol-registry"),S1=_1("symbol-to-string-registry");y1({target:"Symbol",stat:!0,forced:!k1},{for:function(e){var t=w1(e);if(x1(j1,t))return j1[t];var n=b1("Symbol")(t);return j1[t]=n,S1[n]=t,n}});var N1=UG,E1=hY,C1=LK,O1=zK,T1=v1,A1=sY("symbol-to-string-registry");N1({target:"Symbol",stat:!0,forced:!T1},{keyFor:function(e){if(!C1(e))throw new TypeError(O1(e)+" is not a symbol");if(E1(A1,e))return A1[e]}});var P1=VG,R1=FZ,M1=RZ,I1=sQ,D1=OZ([].push),L1=UG,F1=gK,z1=jZ,B1=HZ,$1=OZ,U1=yZ,H1=FZ,V1=LK,q1=rX,W1=function(e){if(R1(e))return e;if(P1(e)){for(var t=e.length,n=[],r=0;r<t;r++){var i=e[r];"string"==typeof i?D1(n,i):("number"==typeof i||"Number"===M1(i)||"String"===M1(i))&&D1(n,I1(i))}var a=n.length,s=!0;return function(e,t){if(s)return s=!1,t;if(P1(this))return t;for(var r=0;r<a;r++)if(n[r]===e)return t}}},Z1=AK,K1=String,Y1=F1("JSON","stringify"),G1=$1(/./.exec),J1=$1("".charAt),Q1=$1("".charCodeAt),X1=$1("".replace),e2=$1(1..toString),t2=/[\uD800-\uDFFF]/g,n2=/^[\uD800-\uDBFF]$/,r2=/^[\uDC00-\uDFFF]$/,i2=!Z1||U1((function(){var e=F1("Symbol")("stringify detection");return"[null]"!==Y1([e])||"{}"!==Y1({a:e})||"{}"!==Y1(Object(e))})),a2=U1((function(){return'"\\udf06\\ud834"'!==Y1("\udf06\ud834")||'"\\udead"'!==Y1("\udead")})),s2=function(e,t){var n=q1(arguments),r=W1(t);if(H1(r)||void 0!==e&&!V1(e))return n[1]=function(e,t){if(H1(r)&&(t=B1(r,this,K1(e),t)),!V1(t))return t},z1(Y1,null,n)},o2=function(e,t,n){var r=J1(n,t-1),i=J1(n,t+1);return G1(n2,e)&&!G1(r2,i)||G1(r2,e)&&!G1(n2,r)?"\\u"+e2(Q1(e,0),16):e};Y1&&L1({target:"JSON",stat:!0,arity:3,forced:i2||a2},{stringify:function(e,t,n){var r=q1(arguments),i=z1(i2?s2:Y1,null,r);return a2&&"string"==typeof i?X1(i,t2,o2):i}});var l2=cX,c2=cY;UG({target:"Object",stat:!0,forced:!AK||yZ((function(){l2.f(1)}))},{getOwnPropertySymbols:function(e){var t=l2.f;return t?t(c2(e)):[]}}),_X("asyncIterator"),_X("hasInstance"),_X("isConcatSpreadable"),_X("iterator"),_X("match"),_X("matchAll"),_X("replace"),_X("search"),_X("species"),_X("split");var u2=EX;_X("toPrimitive"),u2();var d2=gK,h2=DX;_X("toStringTag"),h2(d2("Symbol"),"Symbol"),_X("unscopables"),DX(vZ.JSON,"JSON",!0);var p2,f2,m2,g2=dK.Symbol,v2={},y2=BZ,b2=hY,x2=Function.prototype,w2=y2&&Object.getOwnPropertyDescriptor,_2=b2(x2,"name"),k2={EXISTS:_2,PROPER:_2&&"something"===function(){}.name,CONFIGURABLE:_2&&(!y2||y2&&w2(x2,"name").configurable)},j2=!yZ((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),S2=hY,N2=FZ,E2=cY,C2=j2,O2=FQ("IE_PROTO"),T2=Object,A2=T2.prototype,P2=C2?T2.getPrototypeOf:function(e){var t=E2(e);if(S2(t,O2))return t[O2];var n=t.constructor;return N2(n)&&t instanceof n?n.prototype:t instanceof T2?A2:null},R2=yZ,M2=FZ,I2=uK,D2=QQ,L2=P2,F2=dX,z2=NY("iterator"),B2=!1;[].keys&&("next"in(m2=[].keys())?(f2=L2(L2(m2)))!==Object.prototype&&(p2=f2):B2=!0);var $2=!I2(p2)||R2((function(){var e={};return p2[z2].call(e)!==e}));M2((p2=$2?{}:D2(p2))[z2])||F2(p2,z2,(function(){return this}));var U2={IteratorPrototype:p2,BUGGY_SAFARI_ITERATORS:B2},H2=U2.IteratorPrototype,V2=QQ,q2=GZ,W2=DX,Z2=v2,K2=function(){return this},Y2=UG,G2=HZ,J2=k2,Q2=function(e,t,n,r){var i=t+" Iterator";return e.prototype=V2(H2,{next:q2(+!r,n)}),W2(e,i,!1,!0),Z2[i]=K2,e},X2=P2,e4=DX,t4=dX,n4=v2,r4=U2,i4=J2.PROPER,a4=r4.BUGGY_SAFARI_ITERATORS,s4=NY("iterator"),o4="keys",l4="values",c4="entries",u4=function(){return this},d4=function(e,t,n,r,i,a,s){Q2(n,t,r);var o,l,c,u=function(e){if(e===i&&m)return m;if(!a4&&e&&e in p)return p[e];switch(e){case o4:case l4:case c4:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",h=!1,p=e.prototype,f=p[s4]||p["@@iterator"]||i&&p[i],m=!a4&&f||u(i),g="Array"===t&&p.entries||f;if(g&&((o=X2(g.call(new e)))!==Object.prototype&&o.next&&(e4(o,d,!0,!0),n4[d]=u4)),i4&&i===l4&&f&&f.name!==l4&&(h=!0,m=function(){return G2(f,this)}),i)if(l={values:u(l4),keys:a?m:u(o4),entries:u(c4)},s)for(c in l)(a4||h||!(c in p))&&t4(p,c,l[c]);else Y2({target:t,proto:!0,forced:a4||h},l);return s&&p[s4]!==m&&t4(p,s4,m,{name:i}),n4[t]=m,l},h4=function(e,t){return{value:e,done:t}},p4=lK,f4=v2,m4=QX;dG.f;var g4=d4,v4=h4,y4="Array Iterator",b4=m4.set,x4=m4.getterFor(y4);g4(Array,"Array",(function(e,t){b4(this,{type:y4,target:p4(e),index:0,kind:t})}),(function(){var e=x4(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=null,v4(void 0,!0);switch(e.kind){case"keys":return v4(n,!1);case"values":return v4(t[n],!1)}return v4([n,t[n]],!1)}),"values"),f4.Arguments=f4.Array;var w4={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},_4=vZ,k4=DX,j4=v2;for(var S4 in w4)k4(_4[S4],S4),j4[S4]=j4.Array;var N4=g2,E4=NY,C4=dG.f,O4=E4("metadata"),T4=Function.prototype;void 0===T4[O4]&&C4(T4,O4,{value:null}),_X("asyncDispose"),_X("dispose"),_X("metadata");var A4=N4,P4=OZ,R4=gK("Symbol"),M4=R4.keyFor,I4=P4(R4.prototype.valueOf),D4=R4.isRegisteredSymbol||function(e){try{return void 0!==M4(I4(e))}catch{return!1}};UG({target:"Symbol",stat:!0},{isRegisteredSymbol:D4});for(var L4=sY,F4=gK,z4=OZ,B4=LK,$4=NY,U4=F4("Symbol"),H4=U4.isWellKnownSymbol,V4=F4("Object","getOwnPropertyNames"),q4=z4(U4.prototype.valueOf),W4=L4("wks"),Z4=0,K4=V4(U4),Y4=K4.length;Z4<Y4;Z4++)try{var G4=K4[Z4];B4(U4[G4])&&$4(G4)}catch{}var J4=function(e){if(H4&&H4(e))return!0;try{for(var t=q4(e),n=0,r=V4(W4),i=r.length;n<i;n++)if(W4[r[n]]==t)return!0}catch{}return!1};UG({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:J4}),_X("customMatcher"),_X("observable"),UG({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:D4}),UG({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:J4}),_X("matcher"),_X("metadataKey"),_X("patternMatch"),_X("replaceAll");const Q4=Lf(A4);var X4=OZ,e3=GG,t3=sQ,n3=aK,r3=X4("".charAt),i3=X4("".charCodeAt),a3=X4("".slice),s3=function(e){return function(t,n){var r,i,a=t3(n3(t)),s=e3(n),o=a.length;return s<0||s>=o?e?"":void 0:(r=i3(a,s))<55296||r>56319||s+1===o||(i=i3(a,s+1))<56320||i>57343?e?r3(a,s):r:e?a3(a,s,s+2):i-56320+(r-55296<<10)+65536}},o3={codeAt:s3(!1),charAt:s3(!0)}.charAt,l3=sQ,c3=QX,u3=d4,d3=h4,h3="String Iterator",p3=c3.set,f3=c3.getterFor(h3);u3(String,"String",(function(e){p3(this,{type:h3,string:l3(e),index:0})}),(function(){var e,t=f3(this),n=t.string,r=t.index;return r>=n.length?d3(void 0,!0):(e=o3(n,r),t.index+=e.length,d3(e,!1))}));var m3=mJ,g3=WK,v3=nK,y3=v2,b3=NY("iterator"),x3=function(e){if(!v3(e))return g3(e,b3)||g3(e,"@@iterator")||y3[m3(e)]};const w3=Lf(x3);var _3=BZ,k3=VG,j3=TypeError,S3=Object.getOwnPropertyDescriptor,N3=_3&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(bm){return bm instanceof TypeError}}(),E3=N3?function(e,t){if(k3(e)&&!S3(e,"length").writable)throw new j3("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t},C3=UG,O3=cY,T3=eJ,A3=E3,P3=nJ,R3=yZ((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(bm){return bm instanceof TypeError}}();C3({target:"Array",proto:!0,arity:1,forced:R3},{push:function(e){var t=O3(this),n=T3(t),r=arguments.length;P3(n+r);for(var i=0;i<r;i++)t[n]=arguments[i],n++;return A3(t,n),n}});var M3=vZ,I3=dK,D3=function(e,t){var n=I3[e+"Prototype"],r=n&&n[t];if(r)return r;var i=M3[e],a=i&&i.prototype;return a&&a[t]},L3=D3("Array","push"),F3=vK,z3=L3,B3=Array.prototype,$3=function(e){var t=e.push;return e===B3||F3(B3,e)&&t===B3.push?z3:t};const U3=Lf($3);var H3=UG,V3=VG,q3=PJ,W3=uK,Z3=dQ,K3=eJ,Y3=lK,G3=sJ,J3=NY,Q3=rX,X3=HJ("slice"),e5=J3("species"),t5=Array,n5=Math.max;H3({target:"Array",proto:!0,forced:!X3},{slice:function(e,t){var n,r,i,a=Y3(this),s=K3(a),o=Z3(e,s),l=Z3(void 0===t?s:t,s);if(V3(a)&&(n=a.constructor,q3(n)&&(n===t5||V3(n.prototype))?n=void 0:W3(n)&&(null===(n=n[e5])&&(n=void 0)),n===t5||void 0===n))return Q3(a,o,l);for(r=new(void 0===n?t5:n)(n5(l-o,0)),i=0;o<l;o++,i++)o in a&&G3(r,i,a[o]);return r.length=i,r}});var r5=D3("Array","slice"),i5=vK,a5=r5,s5=Array.prototype,o5=function(e){var t=e.slice;return e===s5||i5(s5,e)&&t===s5.slice?a5:t};const l5=Lf(o5);var c5=HZ,u5=gG,d5=WK,h5=gG,p5=function(e,t,n){var r,i;u5(e);try{if(!(r=d5(e,"return"))){if("throw"===t)throw n;return n}r=c5(r,e)}catch(a){i=!0,r=a}if("throw"===t)throw n;if(i)throw r;return u5(r),n},f5=v2,m5=NY("iterator"),g5=Array.prototype,v5=HZ,y5=HK,b5=gG,x5=zK,w5=x3,_5=TypeError,k5=uG,j5=HZ,S5=cY,N5=function(e,t,n,r){try{return r?t(h5(n)[0],n[1]):t(n)}catch(i){p5(e,"throw",i)}},E5=function(e){return void 0!==e&&(f5.Array===e||g5[m5]===e)},C5=PJ,O5=eJ,T5=sJ,A5=function(e,t){var n=arguments.length<2?w5(e):t;if(y5(n))return b5(v5(n,e));throw new _5(x5(e)+" is not iterable")},P5=x3,R5=Array,M5=NY("iterator"),I5=!1;try{var D5=0,L5={next:function(){return{done:!!D5++}},return:function(){I5=!0}};L5[M5]=function(){return this},Array.from(L5,(function(){throw 2}))}catch{}var F5=UG,z5=function(e){var t=S5(e),n=C5(this),r=arguments.length,i=r>1?arguments[1]:void 0,a=void 0!==i;a&&(i=k5(i,r>2?arguments[2]:void 0));var s,o,l,c,u,d,h=P5(t),p=0;if(!h||this===R5&&E5(h))for(s=O5(t),o=n?new this(s):R5(s);s>p;p++)d=a?i(t[p],p):t[p],T5(o,p,d);else for(o=n?new this:[],u=(c=A5(t,h)).next;!(l=j5(u,c)).done;p++)d=a?N5(c,i,[l.value,p],!0):l.value,T5(o,p,d);return o.length=p,o},B5=function(e,t){try{if(!t&&!I5)return!1}catch{return!1}var n=!1;try{var r={};r[M5]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch{}return n},$5=!B5((function(e){Array.from(e)}));F5({target:"Array",stat:!0,forced:$5},{from:z5});const U5=Lf(dK.Array.from);function H5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V5(e,t){if(e){var n;if("string"==typeof e)return H5(e,t);var r=l5(n={}.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?U5(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H5(e,t):void 0}}function q5(e,t){return function(e){if(WG(e))return e}(e)||function(e,t){var n=null==e?null:typeof Q4<"u"&&w3(e)||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(U3(o).call(o,r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}(e,t)||V5(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var W5={exports:{}};!function(e){!function(){var t={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var i=arguments[r];if(i){var a=typeof i;if("string"===a||"number"===a)e.push(i);else if(Array.isArray(i)){if(i.length){var s=n.apply(null,i);s&&e.push(s)}}else if("object"===a)if(i.toString===Object.prototype.toString)for(var o in i)t.call(i,o)&&i[o]&&e.push(o);else e.push(i.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(W5);const Z5=Lf(W5.exports);var K5={exports:{}};var Y5,G5,J5,Q5;function X5(){if(G5)return Y5;G5=1;return Y5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}K5.exports=function(){if(Q5)return J5;Q5=1;var e=X5();function t(){}function n(){}return n.resetWarningCache=t,J5=function(){function r(t,n,r,i,a,s){if(s!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function i(){return r}r.isRequired=r;var a={array:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},J5}()();const e6=Lf(K5.exports);var t6=t.createContext({scrollTo:function(){return 0},scrollToBottom:function(){return 0},scrollToEnd:function(){return 0},scrollToStart:function(){return 0},scrollToTop:function(){return 0}});function n6(){return(0,t.useContext)(t6)}t6.displayName="ScrollToBottomFunctionContext";var r6=t.createContext({atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom"});r6.displayName="ScrollToBottomState1Context";var i6=t.createContext({animating:!1,animatingToEnd:!1,sticky:!0});i6.displayName="ScrollToBottomState2Context";var a6=t.createContext({animating:!1,animatingToEnd:!1,atBottom:!0,atEnd:!0,atStart:!1,atTop:!0,mode:"bottom",sticky:!0});a6.displayName="ScrollToBottomStateContext";var s6=[a6,r6,i6];function o6(){return[function(e){return(0,t.useContext)(s6[e]||s6[0])}(2).sticky]}var l6=t.createContext({offsetHeight:0,scrollHeight:0,setTarget:function(){return 0},styleToClassName:function(){return""}});function c6(){return(0,t.useContext)(l6).styleToClassName}l6.displayName="ScrollToBottomInternalContext";var u6={backgroundColor:"rgba(0, 0, 0, .2)",borderRadius:10,borderWidth:0,bottom:5,cursor:"pointer",height:20,outline:0,position:"absolute",right:20,width:20,"&:hover":{backgroundColor:"rgba(0, 0, 0, .4)"},"&:active":{backgroundColor:"rgba(0, 0, 0, .6)"}},d6=function(e){var n=e.children,r=e.className,i=q5(o6(),1)[0],a=c6()(u6),s=n6().scrollToEnd;return!i&&t.createElement("button",{className:Z5(a,(r||"")+""),onClick:s,type:"button"},n)};d6.defaultProps={children:void 0,className:""},d6.propTypes={children:e6.any,className:e6.string};var h6={exports:{}},p6=UG,f6=BZ,m6=dG.f;p6({target:"Object",stat:!0,forced:Object.defineProperty!==m6,sham:!f6},{defineProperty:m6});var g6=dK.Object,v6=h6.exports=function(e,t,n){return g6.defineProperty(e,t,n)};g6.defineProperty.sham&&(v6.sham=!0);var y6=h6.exports;const b6=Lf(y6);const x6=Lf(pX.f("iterator"));function w6(e){return(w6="function"==typeof Q4&&"symbol"==typeof x6?function(e){return typeof e}:function(e){return e&&"function"==typeof Q4&&e.constructor===Q4&&e!==Q4.prototype?"symbol":typeof e})(e)}const _6=Lf(pX.f("toPrimitive"));function k6(e){var t=function(e,t){if("object"!=w6(e)||!e)return e;var n=e[_6];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w6(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w6(t)?t:t+""}function j6(e,t,n){return(t=k6(t))in e?b6(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S6(e){return function(e){if(WG(e))return H5(e)}(e)||function(e){if(typeof Q4<"u"&&null!=w3(e)||null!=e["@@iterator"])return U5(e)}(e)||V5(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N6=function(e){return e&&e.Math==Math&&e},E6=N6("object"==typeof globalThis&&globalThis)||N6("object"==typeof window&&window)||N6("object"==typeof self&&self)||N6("object"==typeof Df&&Df)||function(){return this}()||Function("return this")(),C6={},O6=function(e){try{return!!e()}catch{return!0}},T6=!O6((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),A6={},P6={}.propertyIsEnumerable,R6=Object.getOwnPropertyDescriptor,M6=R6&&!P6.call({1:2},1);A6.f=M6?function(e){var t=R6(this,e);return!!t&&t.enumerable}:P6;var I6,D6,L6=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},F6={}.toString,z6=function(e){return F6.call(e).slice(8,-1)},B6=z6,$6="".split,U6=O6((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==B6(e)?$6.call(e,""):Object(e)}:Object,H6=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},V6=U6,q6=H6,W6=function(e){return V6(q6(e))},Z6=function(e){return"function"==typeof e},K6=Z6,Y6=function(e){return"object"==typeof e?null!==e:K6(e)},G6=E6,J6=Z6,Q6=function(e,t){return arguments.length<2?function(e){return J6(e)?e:void 0}(G6[e]):G6[e]&&G6[e][t]},X6=E6,e8=Q6("navigator","userAgent")||"",t8=X6.process,n8=X6.Deno,r8=t8&&t8.versions||n8&&n8.version,i8=r8&&r8.v8;i8?D6=(I6=i8.split("."))[0]<4?1:I6[0]+I6[1]:e8&&((!(I6=e8.match(/Edge\/(\d+)/))||I6[1]>=74)&&((I6=e8.match(/Chrome\/(\d+)/))&&(D6=I6[1])));var a8=D6&&+D6,s8=O6,o8=!!Object.getOwnPropertySymbols&&!s8((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a8&&a8<41})),l8=o8&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,c8=Z6,u8=Q6,d8=l8?function(e){return"symbol"==typeof e}:function(e){var t=u8("Symbol");return c8(t)&&Object(e)instanceof t},h8=Z6,p8=function(e){try{return String(e)}catch{return"Object"}},f8=function(e){if(h8(e))return e;throw TypeError(p8(e)+" is not a function")},m8=function(e,t){var n=e[t];return null==n?void 0:f8(n)},g8=Z6,v8=Y6,y8={exports:{}},b8=E6,x8=function(e,t){try{Object.defineProperty(b8,e,{value:t,configurable:!0,writable:!0})}catch{b8[e]=t}return t},w8=x8,_8="__core-js_shared__",k8=E6[_8]||w8(_8,{}),j8=k8;(y8.exports=function(e,t){return j8[e]||(j8[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.18.3",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"});var S8=y8.exports,N8=H6,E8=function(e){return Object(N8(e))},C8=E8,O8={}.hasOwnProperty,T8=Object.hasOwn||function(e,t){return O8.call(C8(e),t)},A8=0,P8=Math.random(),R8=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++A8+P8).toString(36)},M8=E6,I8=T8,D8=R8,L8=o8,F8=l8,z8=S8("wks"),B8=M8.Symbol,$8=F8?B8:B8&&B8.withoutSetter||D8,U8=function(e){return(!I8(z8,e)||!(L8||"string"==typeof z8[e]))&&(L8&&I8(B8,e)?z8[e]=B8[e]:z8[e]=$8("Symbol."+e)),z8[e]},H8=Y6,V8=d8,q8=m8,W8=function(e,t){var n,r;if("string"===t&&g8(n=e.toString)&&!v8(r=n.call(e))||g8(n=e.valueOf)&&!v8(r=n.call(e))||"string"!==t&&g8(n=e.toString)&&!v8(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Z8=U8("toPrimitive"),K8=function(e,t){if(!H8(e)||V8(e))return e;var n,r=q8(e,Z8);if(r){if(void 0===t&&(t="default"),n=r.call(e,t),!H8(n)||V8(n))return n;throw TypeError("Can't convert object to primitive value")}return void 0===t&&(t="number"),W8(e,t)},Y8=d8,G8=function(e){var t=K8(e,"string");return Y8(t)?t:String(t)},J8=Y6,Q8=E6.document,X8=J8(Q8)&&J8(Q8.createElement),e7=function(e){return X8?Q8.createElement(e):{}},t7=e7,n7=!T6&&!O6((function(){return 7!=Object.defineProperty(t7("div"),"a",{get:function(){return 7}}).a})),r7=T6,i7=A6,a7=L6,s7=W6,o7=G8,l7=T8,c7=n7,u7=Object.getOwnPropertyDescriptor;C6.f=r7?u7:function(e,t){if(e=s7(e),t=o7(t),c7)try{return u7(e,t)}catch{}if(l7(e,t))return a7(!i7.f.call(e,t),e[t])};var d7={},h7=Y6,p7=function(e){if(h7(e))return e;throw TypeError(String(e)+" is not an object")},f7=T6,m7=n7,g7=p7,v7=G8,y7=Object.defineProperty;d7.f=f7?y7:function(e,t,n){if(g7(e),t=v7(t),g7(n),m7)try{return y7(e,t,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var b7=d7,x7=L6,w7=T6?function(e,t,n){return b7.f(e,t,x7(1,n))}:function(e,t,n){return e[t]=n,e},_7={exports:{}},k7=Z6,j7=k8,S7=Function.toString;k7(j7.inspectSource)||(j7.inspectSource=function(e){return S7.call(e)});var N7,E7,C7,O7=j7.inspectSource,T7=Z6,A7=O7,P7=E6.WeakMap,R7=T7(P7)&&/native code/.test(A7(P7)),M7=R8,I7=S8("keys"),D7=function(e){return I7[e]||(I7[e]=M7(e))},L7={},F7=R7,z7=Y6,B7=w7,$7=T8,U7=k8,H7=D7,V7=L7,q7="Object already initialized",W7=E6.WeakMap;if(F7||U7.state){var Z7=U7.state||(U7.state=new W7),K7=Z7.get,Y7=Z7.has,G7=Z7.set;N7=function(e,t){if(Y7.call(Z7,e))throw new TypeError(q7);return t.facade=e,G7.call(Z7,e,t),t},E7=function(e){return K7.call(Z7,e)||{}},C7=function(e){return Y7.call(Z7,e)}}else{var J7=H7("state");V7[J7]=!0,N7=function(e,t){if($7(e,J7))throw new TypeError(q7);return t.facade=e,B7(e,J7,t),t},E7=function(e){return $7(e,J7)?e[J7]:{}},C7=function(e){return $7(e,J7)}}var Q7={set:N7,get:E7,has:C7,enforce:function(e){return C7(e)?E7(e):N7(e,{})},getterFor:function(e){return function(t){var n;if(!z7(t)||(n=E7(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},X7=T6,e9=T8,t9=Function.prototype,n9=X7&&Object.getOwnPropertyDescriptor,r9=e9(t9,"name"),i9={EXISTS:r9,PROPER:r9&&"something"===function(){}.name,CONFIGURABLE:r9&&(!X7||X7&&n9(t9,"name").configurable)},a9=E6,s9=Z6,o9=T8,l9=w7,c9=x8,u9=O7,d9=i9.CONFIGURABLE,h9=Q7.get,p9=Q7.enforce,f9=String(String).split("String");(_7.exports=function(e,t,n,r){var i,a=!!r&&!!r.unsafe,s=!!r&&!!r.enumerable,o=!!r&&!!r.noTargetGet,l=r&&void 0!==r.name?r.name:t;s9(n)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o9(n,"name")||d9&&n.name!==l)&&l9(n,"name",l),(i=p9(n)).source||(i.source=f9.join("string"==typeof l?l:""))),e!==a9?(a?!o&&e[t]&&(s=!0):delete e[t],s?e[t]=n:l9(e,t,n)):s?e[t]=n:c9(t,n)})(Function.prototype,"toString",(function(){return s9(this)&&h9(this).source||u9(this)}));var m9=_7.exports,g9={},v9=Math.ceil,y9=Math.floor,b9=function(e){var t=+e;return t!==t||0===t?0:(t>0?y9:v9)(t)},x9=b9,w9=Math.max,_9=Math.min,k9=b9,j9=Math.min,S9=function(e){return e>0?j9(k9(e),9007199254740991):0},N9=S9,E9=W6,C9=function(e,t){var n=x9(e);return n<0?w9(n+t,0):_9(n,t)},O9=function(e){return N9(e.length)},T9=function(e){return function(t,n,r){var i,a=E9(t),s=O9(a),o=C9(r,s);if(e&&n!=n){for(;s>o;)if((i=a[o++])!=i)return!0}else for(;s>o;o++)if((e||o in a)&&a[o]===n)return e||o||0;return!e&&-1}},A9={includes:T9(!0),indexOf:T9(!1)},P9=T8,R9=W6,M9=A9.indexOf,I9=L7,D9=function(e,t){var n,r=R9(e),i=0,a=[];for(n in r)!P9(I9,n)&&P9(r,n)&&a.push(n);for(;t.length>i;)P9(r,n=t[i++])&&(~M9(a,n)||a.push(n));return a},L9=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],F9=D9,z9=L9.concat("length","prototype");g9.f=Object.getOwnPropertyNames||function(e){return F9(e,z9)};var B9={};B9.f=Object.getOwnPropertySymbols;var $9=g9,U9=B9,H9=p7,V9=Q6("Reflect","ownKeys")||function(e){var t=$9.f(H9(e)),n=U9.f;return n?t.concat(n(e)):t},q9=T8,W9=V9,Z9=C6,K9=d7,Y9=O6,G9=Z6,J9=/#|\.prototype\./,Q9=function(e,t){var n=eee[X9(e)];return n==nee||n!=tee&&(G9(t)?Y9(t):!!t)},X9=Q9.normalize=function(e){return String(e).replace(J9,".").toLowerCase()},eee=Q9.data={},tee=Q9.NATIVE="N",nee=Q9.POLYFILL="P",ree=Q9,iee=E6,aee=C6.f,see=w7,oee=m9,lee=x8,cee=function(e,t){for(var n=W9(t),r=K9.f,i=Z9.f,a=0;a<n.length;a++){var s=n[a];q9(e,s)||r(e,s,i(t,s))}},uee=ree,dee={};dee[U8("toStringTag")]="z";var hee="[object z]"===String(dee),pee=hee,fee=Z6,mee=z6,gee=U8("toStringTag"),vee="Arguments"==mee(function(){return arguments}()),yee=pee?mee:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch{}}(t=Object(e),gee))?n:vee?mee(t):"Object"==(r=mee(t))&&fee(t.callee)?"Arguments":r},bee=yee,xee=function(e){if("Symbol"===bee(e))throw TypeError("Cannot convert a Symbol value to a string");return String(e)},wee=p7,_ee=function(){var e=wee(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t},kee={},jee=O6,See=E6.RegExp;kee.UNSUPPORTED_Y=jee((function(){var e=See("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),kee.BROKEN_CARET=jee((function(){var e=See("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));var Nee,Eee=D9,Cee=L9,Oee=Object.keys||function(e){return Eee(e,Cee)},Tee=d7,Aee=p7,Pee=Oee,Ree=T6?Object.defineProperties:function(e,t){Aee(e);for(var n,r=Pee(t),i=r.length,a=0;i>a;)Tee.f(e,n=r[a++],t[n]);return e},Mee=Q6("document","documentElement"),Iee=p7,Dee=Ree,Lee=L9,Fee=L7,zee=Mee,Bee=e7,$ee="prototype",Uee="script",Hee=D7("IE_PROTO"),Vee=function(){},qee=function(e){return"<"+Uee+">"+e+"</"+Uee+">"},Wee=function(e){e.write(qee("")),e.close();var t=e.parentWindow.Object;return e=null,t},Zee=function(){try{Nee=new ActiveXObject("htmlfile")}catch{}Zee=typeof document<"u"?document.domain&&Nee?Wee(Nee):function(){var e,t=Bee("iframe"),n="java"+Uee+":";return t.style.display="none",zee.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(qee("document.F=Object")),e.close(),e.F}():Wee(Nee);for(var e=Lee.length;e--;)delete Zee[$ee][Lee[e]];return Zee()};Fee[Hee]=!0;var Kee=Object.create||function(e,t){var n;return null!==e?(Vee[$ee]=Iee(e),n=new Vee,Vee[$ee]=null,n[Hee]=e):n=Zee(),void 0===t?n:Dee(n,t)},Yee=O6,Gee=E6.RegExp,Jee=Yee((function(){var e=Gee(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Qee=O6,Xee=E6.RegExp,ete=Qee((function(){var e=Xee("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),tte=xee,nte=_ee,rte=kee,ite=S8,ate=Kee,ste=Q7.get,ote=Jee,lte=ete,cte=RegExp.prototype.exec,ute=ite("native-string-replace",String.prototype.replace),dte=cte,hte=function(){var e=/a/,t=/b*/g;return cte.call(e,"a"),cte.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),pte=rte.UNSUPPORTED_Y||rte.BROKEN_CARET,fte=void 0!==/()??/.exec("")[1];(hte||fte||pte||ote||lte)&&(dte=function(e){var t,n,r,i,a,s,o,l=this,c=ste(l),u=tte(e),d=c.raw;if(d)return d.lastIndex=l.lastIndex,t=dte.call(d,u),l.lastIndex=d.lastIndex,t;var h=c.groups,p=pte&&l.sticky,f=nte.call(l),m=l.source,g=0,v=u;if(p&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),v=u.slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==u.charAt(l.lastIndex-1))&&(m="(?: "+m+")",v=" "+v,g++),n=new RegExp("^(?:"+m+")",f)),fte&&(n=new RegExp("^"+m+"$(?!\\s)",f)),hte&&(r=l.lastIndex),i=cte.call(p?n:l,v),p?i?(i.input=i.input.slice(g),i[0]=i[0].slice(g),i.index=l.lastIndex,l.lastIndex+=i[0].length):l.lastIndex=0:hte&&i&&(l.lastIndex=l.global?i.index+i[0].length:r),fte&&i&&i.length>1&&ute.call(i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&h)for(i.groups=s=ate(null),a=0;a<h.length;a++)s[(o=h[a])[0]]=i[o[1]];return i});var mte=dte,gte=function(e,t){var n,r,i,a,s,o=e.target,l=e.global,c=e.stat;if(n=l?iee:c?iee[o]||lee(o,{}):(iee[o]||{}).prototype)for(r in t){if(a=t[r],e.noTargetGet?i=(s=aee(n,r))&&s.value:i=n[r],!uee(l?r:o+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;cee(a,i)}(e.sham||i&&i.sham)&&see(a,"sham",!0),oee(n,r,a,e)}};gte({target:"RegExp",proto:!0,forced:/./.exec!==mte},{exec:mte});var vte=m9,yte=mte,bte=O6,xte=U8,wte=w7,_te=xte("species"),kte=RegExp.prototype,jte=b9,Ste=xee,Nte=H6,Ete=function(e){return function(t,n){var r,i,a=Ste(Nte(t)),s=jte(n),o=a.length;return s<0||s>=o?e?"":void 0:(r=a.charCodeAt(s))<55296||r>56319||s+1===o||(i=a.charCodeAt(s+1))<56320||i>57343?e?a.charAt(s):r:e?a.slice(s,s+2):i-56320+(r-55296<<10)+65536}},Cte={codeAt:Ete(!1),charAt:Ete(!0)}.charAt,Ote=E8,Tte=Math.floor,Ate="".replace,Pte=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Rte=/\$([$&'`]|\d{1,2})/g,Mte=p7,Ite=Z6,Dte=z6,Lte=mte,Fte=function(e,t,n,r){var i=xte(e),a=!bte((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),s=a&&!bte((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[_te]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t}));if(!a||!s||n){var o=/./[i],l=t(i,""[e],(function(e,t,n,r,i){var s=t.exec;return s===yte||s===kte.exec?a&&!i?{done:!0,value:o.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}));vte(String.prototype,e,l[0]),vte(kte,i,l[1])}r&&wte(kte[i],"sham",!0)},zte=O6,Bte=p7,$te=Z6,Ute=b9,Hte=S9,Vte=xee,qte=H6,Wte=function(e,t,n){return t+(n?Cte(e,t).length:1)},Zte=m8,Kte=function(e,t,n,r,i,a){var s=n+e.length,o=r.length,l=Rte;return void 0!==i&&(i=Ote(i),l=Pte),Ate.call(a,l,(function(a,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(s);case"<":c=i[l.slice(1,-1)];break;default:var u=+l;if(0===u)return a;if(u>o){var d=Tte(u/10);return 0===d?a:d<=o?void 0===r[d-1]?l.charAt(1):r[d-1]+l.charAt(1):a}c=r[u-1]}return void 0===c?"":c}))},Yte=function(e,t){var n=e.exec;if(Ite(n)){var r=n.call(e,t);return null!==r&&Mte(r),r}if("RegExp"===Dte(e))return Lte.call(e,t);throw TypeError("RegExp#exec called on incompatible receiver")},Gte=U8("replace"),Jte=Math.max,Qte=Math.min,Xte=function(e){return void 0===e?e:String(e)},ene="$0"==="a".replace(/./,"$0"),tne=!!/./[Gte]&&""===/./[Gte]("a","$0"),nne=!zte((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));Fte("replace",(function(e,t,n){var r=tne?"$":"$0";return[function(e,n){var r=qte(this),i=null==e?void 0:Zte(e,Gte);return i?i.call(e,r,n):t.call(Vte(r),e,n)},function(e,i){var a=Bte(this),s=Vte(e);if("string"==typeof i&&-1===i.indexOf(r)&&-1===i.indexOf("$<")){var o=n(t,a,s,i);if(o.done)return o.value}var l=$te(i);l||(i=Vte(i));var c=a.global;if(c){var u=a.unicode;a.lastIndex=0}for(var d=[];;){var h=Yte(a,s);if(null===h||(d.push(h),!c))break;""===Vte(h[0])&&(a.lastIndex=Wte(s,Hte(a.lastIndex),u))}for(var p="",f=0,m=0;m<d.length;m++){h=d[m];for(var g=Vte(h[0]),v=Jte(Qte(Ute(h.index),s.length),0),y=[],b=1;b<h.length;b++)y.push(Xte(h[b]));var x=h.groups;if(l){var w=[g].concat(y,v,s);void 0!==x&&w.push(x);var _=Vte(i.apply(void 0,w))}else _=Kte(g,s,v,y,x,i);v>=f&&(p+=s.slice(f,v)+_,f=v+g.length)}return p+s.slice(f)}]}),!nne||!ene||tne);var rne=vZ,ine=xK,ane=RZ,sne=function(e){return ine.slice(0,e.length)===e},one=sne("Bun/")?"BUN":sne("Cloudflare-Workers")?"CLOUDFLARE":sne("Deno/")?"DENO":sne("Node.js/")?"NODE":rne.Bun&&"string"==typeof Bun.version?"BUN":rne.Deno&&"object"==typeof Deno.version?"DENO":"process"===ane(rne.process)?"NODE":rne.window&&rne.document?"BROWSER":"REST",lne=TypeError,cne=vZ,une=jZ,dne=FZ,hne=one,pne=xK,fne=rX,mne=function(e,t){if(e<t)throw new lne("Not enough arguments");return e},gne=cne.Function,vne=/MSIE .\./.test(pne)||"BUN"===hne&&function(){var e=cne.Bun.version.split(".");return e.length<3||"0"===e[0]&&(e[1]<3||"3"===e[1]&&"0"===e[2])}(),yne=function(e,t){var n=t?2:1;return vne?function(r,i){var a=mne(arguments.length,1)>n,s=dne(r)?r:gne(r),o=a?fne(arguments,n):[],l=a?function(){une(s,this,o)}:s;return t?e(l,i):e(l)}:e},bne=UG,xne=vZ,wne=yne(xne.setInterval,!0);bne({global:!0,bind:!0,forced:xne.setInterval!==wne},{setInterval:wne});var _ne=UG,kne=vZ,jne=yne(kne.setTimeout,!0);_ne({global:!0,bind:!0,forced:kne.setTimeout!==jne},{setTimeout:jne});const Sne=Lf(dK.setInterval);var Nne=yZ,Ene=function(e,t){var n=[][e];return!!n&&Nne((function(){n.call(null,t||function(){return 1},1)}))},Cne=UG,One=gQ.indexOf,Tne=Ene,Ane=DZ([].indexOf),Pne=!!Ane&&1/Ane([1],1,-0)<0;Cne({target:"Array",proto:!0,forced:Pne||!Tne("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Pne?Ane(this,e,t)||0:One(this,e,t)}});var Rne=D3("Array","indexOf"),Mne=vK,Ine=Rne,Dne=Array.prototype,Lne=function(e){var t=e.indexOf;return e===Dne||Mne(Dne,e)&&t===Dne.indexOf?Ine:t};const Fne=Lf(Lne);var zne=zK,Bne=TypeError,$ne=UG,Une=cY,Hne=dQ,Vne=GG,qne=eJ,Wne=E3,Zne=nJ,Kne=zJ,Yne=sJ,Gne=function(e,t){if(!delete e[t])throw new Bne("Cannot delete property "+zne(t)+" of "+zne(e))},Jne=HJ("splice"),Qne=Math.max,Xne=Math.min;$ne({target:"Array",proto:!0,forced:!Jne},{splice:function(e,t){var n,r,i,a,s,o,l=Une(this),c=qne(l),u=Hne(e,c),d=arguments.length;for(0===d?n=r=0:1===d?(n=0,r=c-u):(n=d-2,r=Xne(Qne(Vne(t),0),c-u)),Zne(c+n-r),i=Kne(l,r),a=0;a<r;a++)(s=u+a)in l&&Yne(i,a,l[s]);if(i.length=r,n<r){for(a=u;a<c-r;a++)o=a+n,(s=a+r)in l?l[o]=l[s]:Gne(l,o);for(a=c;a>c-r+n;a--)Gne(l,a-1)}else if(n>r)for(a=c-r;a>u;a--)o=a+n-1,(s=a+r-1)in l?l[o]=l[s]:Gne(l,o);for(a=0;a<n;a++)l[a+u]=arguments[a+2];return Wne(l,c-r+n),i}});var ere=D3("Array","splice"),tre=vK,nre=ere,rre=Array.prototype,ire=function(e){var t=e.splice;return e===rre||tre(rre,e)&&t===rre.splice?nre:t};const are=Lf(ire);var sre=D3("Array","concat"),ore=vK,lre=sre,cre=Array.prototype,ure=function(e){var t=e.concat;return e===cre||ore(cre,e)&&t===cre.concat?lre:t};const dre=Lf(ure);var hre=UG,pre=Date,fre=OZ(pre.prototype.getTime);hre({target:"Date",stat:!0},{now:function(){return fre(new pre)}});const mre=Lf(dK.Date.now);var gre=s0.forEach,vre=Ene("forEach")?[].forEach:function(e){return gre(this,e,arguments.length>1?arguments[1]:void 0)};UG({target:"Array",proto:!0,forced:[].forEach!==vre},{forEach:vre});var yre=D3("Array","forEach"),bre=mJ,xre=hY,wre=vK,_re=yre,kre=Array.prototype,jre={DOMTokenList:!0,NodeList:!0},Sre=function(e){var t=e.forEach;return e===kre||wre(kre,e)&&t===kre.forEach||xre(jre,bre(e))?_re:t};const Nre=Lf(Sre);var Ere=cY,Cre=EQ;UG({target:"Object",stat:!0,forced:yZ((function(){Cre(1)}))},{keys:function(e){return Cre(Ere(e))}});const Ore=Lf(dK.Object.keys);const Tre=Lf(dK.Object.getOwnPropertySymbols);var Are=s0.filter;UG({target:"Array",proto:!0,forced:!HJ("filter")},{filter:function(e){return Are(this,e,arguments.length>1?arguments[1]:void 0)}});var Pre=D3("Array","filter"),Rre=vK,Mre=Pre,Ire=Array.prototype,Dre=function(e){var t=e.filter;return e===Ire||Rre(Ire,e)&&t===Ire.filter?Mre:t};const Lre=Lf(Dre);var Fre={exports:{}},zre=UG,Bre=yZ,$re=lK,Ure=zZ.f,Hre=BZ;zre({target:"Object",stat:!0,forced:!Hre||Bre((function(){Ure(1)})),sham:!Hre},{getOwnPropertyDescriptor:function(e,t){return Ure($re(e),t)}});var Vre=dK.Object,qre=Fre.exports=function(e,t){return Vre.getOwnPropertyDescriptor(e,t)};Vre.getOwnPropertyDescriptor.sham&&(qre.sham=!0);const Wre=Lf(Fre.exports);var Zre=gK,Kre=XQ,Yre=cX,Gre=gG,Jre=OZ([].concat),Qre=Zre("Reflect","ownKeys")||function(e){var t=Kre.f(Gre(e)),n=Yre.f;return n?Jre(t,n(e)):t},Xre=Qre,eie=lK,tie=zZ,nie=sJ;UG({target:"Object",stat:!0,sham:!BZ},{getOwnPropertyDescriptors:function(e){for(var t,n,r=eie(e),i=tie.f,a=Xre(r),s={},o=0;a.length>o;)void 0!==(n=i(r,t=a[o++]))&&nie(s,t,n);return s}});const rie=Lf(dK.Object.getOwnPropertyDescriptors);var iie={exports:{}},aie=UG,sie=BZ,oie=oQ.f;aie({target:"Object",stat:!0,forced:Object.defineProperties!==oie,sham:!sie},{defineProperties:oie});var lie=dK.Object,cie=iie.exports=function(e,t){return lie.defineProperties(e,t)};lie.defineProperties.sham&&(cie.sham=!0);const uie=Lf(iie.exports);const die=Lf(y6);var hie=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch{}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),pie="-ms-",fie="-moz-",mie="-webkit-",gie="comm",vie="rule",yie="decl",bie="@keyframes",xie=Math.abs,wie=String.fromCharCode,_ie=Object.assign;function kie(e){return e.trim()}function jie(e,t,n){return e.replace(t,n)}function Sie(e,t){return e.indexOf(t)}function Nie(e,t){return 0|e.charCodeAt(t)}function Eie(e,t,n){return e.slice(t,n)}function Cie(e){return e.length}function Oie(e){return e.length}function Tie(e,t){return t.push(e),e}var Aie=1,Pie=1,Rie=0,Mie=0,Iie=0,Die="";function Lie(e,t,n,r,i,a,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Aie,column:Pie,length:s,return:""}}function Fie(e,t){return _ie(Lie("",null,null,"",null,null,0),e,{length:-e.length},t)}function zie(){return Iie=Mie<Rie?Nie(Die,Mie++):0,Pie++,10===Iie&&(Pie=1,Aie++),Iie}function Bie(){return Nie(Die,Mie)}function $ie(){return Mie}function Uie(e,t){return Eie(Die,e,t)}function Hie(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vie(e){return Aie=Pie=1,Rie=Cie(Die=e),Mie=0,[]}function qie(e){return Die="",e}function Wie(e){return kie(Uie(Mie-1,Yie(91===e?e+2:40===e?e+1:e)))}function Zie(e){for(;(Iie=Bie())&&Iie<33;)zie();return Hie(e)>2||Hie(Iie)>3?"":" "}function Kie(e,t){for(;--t&&zie()&&!(Iie<48||Iie>102||Iie>57&&Iie<65||Iie>70&&Iie<97););return Uie(e,$ie()+(t<6&&32==Bie()&&32==zie()))}function Yie(e){for(;zie();)switch(Iie){case e:return Mie;case 34:case 39:34!==e&&39!==e&&Yie(Iie);break;case 40:41===e&&Yie(e);break;case 92:zie()}return Mie}function Gie(e,t){for(;zie()&&e+Iie!==57&&(e+Iie!==84||47!==Bie()););return"/*"+Uie(t,Mie-1)+"*"+wie(47===e?e:zie())}function Jie(e){for(;!Hie(Bie());)zie();return Uie(e,Mie)}function Qie(e){return qie(Xie("",null,null,null,[""],e=Vie(e),0,[0],e))}function Xie(e,t,n,r,i,a,s,o,l){for(var c=0,u=0,d=s,h=0,p=0,f=0,m=1,g=1,v=1,y=0,b="",x=i,w=a,_=r,k=b;g;)switch(f=y,y=zie()){case 40:if(108!=f&&58==Nie(k,d-1)){-1!=Sie(k+=jie(Wie(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:k+=Wie(y);break;case 9:case 10:case 13:case 32:k+=Zie(f);break;case 92:k+=Kie($ie()-1,7);continue;case 47:switch(Bie()){case 42:case 47:Tie(tae(Gie(zie(),$ie()),t,n),l);break;default:k+="/"}break;case 123*m:o[c++]=Cie(k)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+u:-1==v&&(k=jie(k,/\f/g,"")),p>0&&Cie(k)-d&&Tie(p>32?nae(k+";",r,n,d-1):nae(jie(k," ","")+";",r,n,d-2),l);break;case 59:k+=";";default:if(Tie(_=eae(k,t,n,c,u,i,o,b,x=[],w=[],d),a),123===y)if(0===u)Xie(k,t,_,_,x,a,d,o,w);else switch(99===h&&110===Nie(k,3)?100:h){case 100:case 108:case 109:case 115:Xie(e,_,_,r&&Tie(eae(e,_,_,0,0,i,o,b,i,x=[],d),w),i,w,d,o,r?x:w);break;default:Xie(k,_,_,_,[""],w,0,o,w)}}c=u=p=0,m=v=1,b=k="",d=s;break;case 58:d=1+Cie(k),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==(Iie=Mie>0?Nie(Die,--Mie):0,Pie--,10===Iie&&(Pie=1,Aie--),Iie))continue;switch(k+=wie(y),y*m){case 38:v=u>0?1:(k+="\f",-1);break;case 44:o[c++]=(Cie(k)-1)*v,v=1;break;case 64:45===Bie()&&(k+=Wie(zie())),h=Bie(),u=d=Cie(b=k+=Jie($ie())),y++;break;case 45:45===f&&2==Cie(k)&&(m=0)}}return a}function eae(e,t,n,r,i,a,s,o,l,c,u){for(var d=i-1,h=0===i?a:[""],p=Oie(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=Eie(e,d+1,d=xie(m=s[f])),b=e;v<p;++v)(b=kie(m>0?h[v]+" "+y:jie(y,/&\f/g,h[v])))&&(l[g++]=b);return Lie(e,t,n,0===i?vie:o,l,c,u)}function tae(e,t,n){return Lie(e,t,n,gie,wie(Iie),Eie(e,2,-2),0)}function nae(e,t,n,r){return Lie(e,t,n,yie,Eie(e,0,r),Eie(e,r+1,-1),r)}function rae(e,t){for(var n="",r=Oie(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function iae(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case yie:return e.return=e.return||e.value;case gie:return"";case bie:return e.return=e.value+"{"+rae(e.children,r)+"}";case vie:e.value=e.props.join(",")}return Cie(n=rae(e.children,r))?e.return=e.value+"{"+n+"}":""}function aae(e){return function(t){t.root||(t=t.return)&&e(t)}}function sae(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var oae=function(e,t,n){for(var r=0,i=0;r=i,i=Bie(),38===r&&12===i&&(t[n]=1),!Hie(i);)zie();return Uie(e,Mie)},lae=function(e,t){return qie(function(e,t){var n=-1,r=44;do{switch(Hie(r)){case 0:38===r&&12===Bie()&&(t[n]=1),e[n]+=oae(Mie-1,t,n);break;case 2:e[n]+=Wie(r);break;case 4:if(44===r){e[++n]=58===Bie()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=wie(r)}}while(r=zie());return e}(Vie(e),t))},cae=new WeakMap,uae=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||cae.get(n))&&!r){cae.set(e,!0);for(var i=[],a=lae(t,i),s=n.props,o=0,l=0;o<a.length;o++)for(var c=0;c<s.length;c++,l++)e.props[l]=i[o]?a[o].replace(/&\f/g,s[c]):s[c]+" "+a[o]}}},dae=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function hae(e,t){switch(function(e,t){return 45^Nie(e,0)?(((t<<2^Nie(e,0))<<2^Nie(e,1))<<2^Nie(e,2))<<2^Nie(e,3):0}(e,t)){case 5103:return mie+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return mie+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return mie+e+fie+e+pie+e+e;case 6828:case 4268:return mie+e+pie+e+e;case 6165:return mie+e+pie+"flex-"+e+e;case 5187:return mie+e+jie(e,/(\w+).+(:[^]+)/,mie+"box-$1$2"+pie+"flex-$1$2")+e;case 5443:return mie+e+pie+"flex-item-"+jie(e,/flex-|-self/,"")+e;case 4675:return mie+e+pie+"flex-line-pack"+jie(e,/align-content|flex-|-self/,"")+e;case 5548:return mie+e+pie+jie(e,"shrink","negative")+e;case 5292:return mie+e+pie+jie(e,"basis","preferred-size")+e;case 6060:return mie+"box-"+jie(e,"-grow","")+mie+e+pie+jie(e,"grow","positive")+e;case 4554:return mie+jie(e,/([^-])(transform)/g,"$1"+mie+"$2")+e;case 6187:return jie(jie(jie(e,/(zoom-|grab)/,mie+"$1"),/(image-set)/,mie+"$1"),e,"")+e;case 5495:case 3959:return jie(e,/(image-set\([^]*)/,mie+"$1$`$1");case 4968:return jie(jie(e,/(.+:)(flex-)?(.*)/,mie+"box-pack:$3"+pie+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+mie+e+e;case 4095:case 3583:case 4068:case 2532:return jie(e,/(.+)-inline(.+)/,mie+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Cie(e)-1-t>6)switch(Nie(e,t+1)){case 109:if(45!==Nie(e,t+4))break;case 102:return jie(e,/(.+:)(.+)-([^]+)/,"$1"+mie+"$2-$3$1"+fie+(108==Nie(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Sie(e,"stretch")?hae(jie(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Nie(e,t+1))break;case 6444:switch(Nie(e,Cie(e)-3-(~Sie(e,"!important")&&10))){case 107:return jie(e,":",":"+mie)+e;case 101:return jie(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+mie+(45===Nie(e,14)?"inline-":"")+"box$3$1"+mie+"$2$3$1"+pie+"$2box$3")+e}break;case 5936:switch(Nie(e,t+11)){case 114:return mie+e+pie+jie(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return mie+e+pie+jie(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return mie+e+pie+jie(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return mie+e+pie+e+e}return e}var pae=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case yie:e.return=hae(e.value,e.length);break;case bie:return rae([Fie(e,{value:jie(e.value,"@","@"+mie)})],r);case vie:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rae([Fie(e,{props:[jie(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return rae([Fie(e,{props:[jie(t,/:(plac\w+)/,":"+mie+"input-$1")]}),Fie(e,{props:[jie(t,/:(plac\w+)/,":-moz-$1")]}),Fie(e,{props:[jie(t,/:(plac\w+)/,pie+"input-$1")]})],r)}return""}))}}],fae=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i=e.stylisPlugins||pae,a={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var o,l,c=[uae,dae],u=[iae,aae((function(e){l.insert(e)}))],d=function(e){var t=Oie(e);return function(n,r,i,a){for(var s="",o=0;o<t;o++)s+=e[o](n,r,i,a)||"";return s}}(c.concat(i,u));o=function(e,t,n,r){l=n,function(e){rae(Qie(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new hie({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return h.sheet.hydrate(s),h};var mae={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},gae=/[A-Z]|^ms/g,vae=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yae=function(e){return 45===e.charCodeAt(1)},bae=function(e){return null!=e&&"boolean"!=typeof e},xae=sae((function(e){return yae(e)?e:e.replace(gae,"-$&").toLowerCase()})),wae=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(vae,(function(e,t,n){return kae={name:t,styles:n,next:kae},t}))}return 1===mae[e]||yae(e)||"number"!=typeof t||0===t?t:t+"px"};function _ae(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return kae={name:i.name,styles:i.styles,next:kae},i.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)kae={name:s.name,styles:s.styles,next:kae},s=s.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=_ae(e,t,n[i])+";";else for(var a in n){var s=n[a];if("object"!=typeof s){var o=s;null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":bae(o)&&(r+=xae(a)+":"+wae(a,o)+";")}else if(!Array.isArray(s)||"string"!=typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=_ae(e,t,s);switch(a){case"animation":case"animationName":r+=xae(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var c=0;c<s.length;c++)bae(s[c])&&(r+=xae(a)+":"+wae(a,s[c])+";")}return r}(e,t,n)}var o=n;if(null==t)return o;var l=t[o];return void 0!==l?l:o}var kae,jae=/label:\s*([^\s;{]+)\s*(;|$)/g;function Sae(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";kae=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=_ae(n,t,a)):i+=a[0];for(var s=1;s<e.length;s++)if(i+=_ae(n,t,e[s]),r){i+=a[s]}jae.lastIndex=0;for(var o,l="";null!==(o=jae.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:kae}}function Nae(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}function Eae(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function Cae(e,t,n){var r=[],i=Nae(e,r,n);return r.length<2?n:i+t(r)}var Oae=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var s in a="",i)i[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},Tae=m9,Aae=Date.prototype,Pae="Invalid Date",Rae="toString",Mae=Aae[Rae],Iae=Aae.getTime;String(new Date(NaN))!=Pae&&Tae(Aae,Rae,(function(){var e=Iae.call(this);return e===e?Mae.call(this):Pae}));var Dae=yee,Lae=hee?{}.toString:function(){return"[object "+Dae(this)+"]"};hee||m9(Object.prototype,"toString",Lae,{unsafe:!0});var Fae=i9.PROPER,zae=m9,Bae=p7,$ae=xee,Uae=O6,Hae=_ee,Vae="toString",qae=RegExp.prototype,Wae=qae[Vae],Zae=Uae((function(){return"/a/b"!=Wae.call({source:"a",flags:"b"})})),Kae=Fae&&Wae.name!=Vae;(Zae||Kae)&&zae(RegExp.prototype,Vae,(function(){var e=Bae(this),t=$ae(e.source),n=e.flags;return"/"+t+"/"+$ae(void 0===n&&e instanceof RegExp&&!("flags"in qae)?Hae.call(e):n)}),{unsafe:!0});var Yae=typeof window<"u"?window:self,Gae=function(e){if(!e)return Math.random;var t=Math.pow(2,32),n=new Uint32Array(1);return function(){return e.getRandomValues(n)[0]/t}}(Yae.crypto||Yae.msCrypto);const Jae=Lf(Gae);const Qae=Lf(qG);function Xae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",n="background-color: ".concat(e,"; border-radius: 4px; padding: 2px 4px;");return t&&(n+=" color: ".concat(t,";")),[n,""]}function ese(e,t){for(var n,r,i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];return dre(n=[dre(r="%c".concat(e,"%c ")).call(r,t)]).call(n,S6(Xae("green","white")),a)}var tse=T6,nse=i9.EXISTS,rse=d7.f,ise=Function.prototype,ase=ise.toString,sse=/^\s*function ([^ (]*)/;tse&&!nse&&rse(ise,"name",{configurable:!0,get:function(){try{return ase.call(this).match(sse)[1]}catch{return""}}});const ose=Lf(dK.setTimeout);var lse=function(e){var n=e.debounce,r=e.name,i=e.onEvent,a=e.target,s=(0,t.useRef)();s.current=i;var o=(0,t.useMemo)((function(){return function(e,t){if(!t)return e;var n=0,r=null;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=mre();o-n>t?(e.apply(void 0,a),n=o):(clearTimeout(r),r=ose((function(){e.apply(void 0,a),n=mre()}),Math.max(0,t-o+n)))}}((function(e){var t=s.current;t&&t(e)}),n)}),[n,s]),l=(0,t.useCallback)((function(e){e.timeStampLow=mre(),o(e)}),[o]);return(0,t.useLayoutEffect)((function(){return a.addEventListener(r,l,{passive:!0}),l({target:a,type:r}),function(){return a.removeEventListener(r,l)}}),[r,l,a]),!1};lse.defaultProps={debounce:200},UG({target:"Math",stat:!0},{sign:Math.sign||function(e){var t=+e;return 0===t||t!==t?t:t<0?-1:1}});const cse=Lf(dK.Math.sign);function use(e,t){var n=cse(t-e),r=e+Math.sqrt(Math.abs(t-e))*n;return n>0?Math.min(t,r):Math.max(t,r)}var dse=function(e){var n=e.name,r=e.onEnd,i=e.target,a=e.value,s=(0,t.useRef)(),o=(0,t.useCallback)((function(e,t,n,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:mre();("100%"===n||"number"==typeof n)&&(cancelAnimationFrame(s.current),s.current=requestAnimationFrame((function(){if(i){var s="100%"===n?i.scrollHeight-i.offsetHeight:n,c=function(e,t,n,r){for(var i=e,a=0;a<r;a++)i=n(i,t);return i}(t,s,use,(mre()-l)/5);Math.abs(s-c)<1.5&&(c=s),i[e]=c,s===c?r&&r(!0):o(e,t,n,a+1,l)}})))}),[s,r,i]),l=(0,t.useCallback)((function(){cancelAnimationFrame(s.current),r&&r(!1)}),[r]);return(0,t.useLayoutEffect)((function(){return o(n,i[n],a,1),i?(i.addEventListener("pointerdown",l,{passive:!0}),i.addEventListener("wheel",l,{passive:!0}),function(){i.removeEventListener("pointerdown",l),i.removeEventListener("wheel",l),cancelAnimationFrame(s.current)}):function(){return cancelAnimationFrame(s.current)}}),[o,s,l,n,i,a]),!1};function hse(e){var n=q5((0,t.useState)(e),2),r=n[0],i=n[1],a=(0,t.useRef)(),s=(0,t.useCallback)((function(e){"function"==typeof e?s((function(t){return e=e(t),a.current=e,e})):(a.current=e,s(e))}),[a]);return a.current=r,[r,i,a]}function pse(e,t){var n=Ore(e);if(Tre){var r=Tre(e);t&&(r=Lre(r).call(r,(function(t){return Wre(e,t).enumerable}))),n.push.apply(n,r)}return n}function fse(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)Nre(n=pse(Object(r),!0)).call(n,(function(t){j6(e,t,r[t])}));else if(rie)uie(e,rie(r));else{var i;Nre(i=pse(Object(r))).call(i,(function(t){die(e,t,Wre(r,t))}))}}return e}dse.propTypes={name:e6.string.isRequired,onEnd:e6.func,target:e6.any.isRequired,value:e6.oneOfType([e6.number,e6.oneOf(["100%"])]).isRequired};var mse="top",gse={};function vse(e){var t=e.mode,n=e.target,r=n.offsetHeight,i=n.scrollHeight,a=n.scrollTop,s=i-a-r<1,o=a<1;return{atBottom:s,atEnd:t===mse?o:s,atStart:t!==mse?o:s,atTop:o}}function yse(e,t){return e===(t===mse?0:"100%")}var bse=function(e){var n=e.checkInterval,r=e.children,i=e.debounce,a=e.debug,s=e.initialScrollBehavior,o=e.mode,l=e.nonce,c=e.scroller,u=(0,t.useMemo)((function(){return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).force;return void 0!==t&&t?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length){var i=q5(n,1)[0];"function"==typeof i&&(n=i());var a=Qae(n[0])?n:[n],s=1===a.length;Nre(a).call(a,(function(t,n){var r,i;if(s)(r=console).log.apply(r,S6(ese.apply(void 0,dre(i=[e]).call(i,S6(t)))));else if(n){var a;(a=console).log.apply(a,S6(Qae(t)?t:[t]))}else{var o,l;(o=console).groupCollapsed.apply(o,S6(ese.apply(void 0,dre(l=[e]).call(l,S6(t)))))}})),s||console.groupEnd()}}:function(){return 0}}("<ScrollToBottom>",{force:a})}),[a]);o=o===mse?mse:"bottom";var d=(0,t.useRef)(0),h=(0,t.useRef)(s),p=q5(hse(o===mse?0:"100%"),3),f=p[0],m=p[1],g=p[2],v=q5(hse(null),3),y=v[0],b=v[1],x=v[2],w=(0,t.useRef)(0),_=(0,t.useRef)(0),k=(0,t.useRef)(0),j=q5((0,t.useState)(!0),2),S=j[0],N=j[1],E=q5((0,t.useState)(!0),2),C=E[0],O=E[1],T=q5((0,t.useState)(!0),2),A=T[0],P=T[1],R=q5((0,t.useState)(!1),2),M=R[0],I=R[1],D=q5(hse(!0),3),L=D[0],F=D[1],z=D[2],B=(0,t.useRef)([]),$=(0,t.useCallback)((function(e){var t=x.current;return B.current.push(e),t&&e({scrollTop:t.scrollTop}),function(){var t=B.current,n=Fne(t).call(t,e);~n&&are(t).call(t,n,1)}}),[B,x]),U=(0,t.useCallback)((function(){var e=g.current;u((function(){var t;return dre(t=["%cSpineTo%c: %conEnd%c is fired."]).call(t,S6(Xae("magenta")),S6(Xae("orange")),[{animateTo:e}])})),d.current=mre(),yse(e,o)||F(!1),m(null)}),[g,u,d,o,m,F]),H=(0,t.useCallback)((function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).behavior,n=x.current;if("number"!=typeof e&&"100%"!==e)return console.warn('react-scroll-to-bottom: Arguments passed to scrollTo() must be either number or "100%".');u((function(){var r;return[dre(r=["%cscrollTo%c: Will scroll to %c".concat("number"==typeof e?e+"px":e.replace(/%/g,"%%"),"%c")]).call(r,S6(Xae("lime","")),S6(Xae("purple"))),{behavior:t,nextAnimateTo:e,target:n}]})),"auto"===t?(U(),n&&(n.scrollTop="100%"===e?n.scrollHeight-n.offsetHeight:e)):("smooth"!==t&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollTo". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),m(e)),yse(e,o)&&(u((function(){var t;return[dre(t=["%cscrollTo%c: Scrolling to end, will set sticky to %ctrue%c."]).call(t,S6(Xae("lime","")),S6(Xae("purple"))),[{mode:o,nextAnimateTo:e}]]})),F(!0))}),[u,U,o,m,F,x]),V=(0,t.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;u((function(){var e;return dre(e=["%cscrollToBottom%c: Called"]).call(e,S6(Xae("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToBottom". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),H("100%",{behavior:e||"smooth"})}),[u,H]),q=(0,t.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;u((function(){var e;return dre(e=["%cscrollToTop%c: Called"]).call(e,S6(Xae("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToTop". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.'),H(0,{behavior:e||"smooth"})}),[u,H]),W=(0,t.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;u((function(){var e;return dre(e=["%cscrollToEnd%c: Called"]).call(e,S6(Xae("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToEnd". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var t={behavior:e||"smooth"};o===mse?q(t):V(t)}),[u,o,V,q]),Z=(0,t.useCallback)((function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).behavior;u((function(){var e;return dre(e=["%cscrollToStart%c: Called"]).call(e,S6(Xae("yellow","")))})),"smooth"!==e&&console.warn('react-scroll-to-bottom: Please set "behavior" when calling "scrollToStart". In future versions, the default behavior will be changed from smooth scrolling to discrete scrolling to align with HTML Standard.');var t={behavior:e||"smooth"};o===mse?V(t):q(t)}),[u,o,V,q]),K=(0,t.useCallback)((function(){var e=x.current;if(e){if("auto"===h.current)return u((function(){var e;return dre(e=["%ctarget changed%c: Initial scroll"]).call(e,S6(Xae("blue")))})),e.scrollTop=o===mse?0:e.scrollHeight-e.offsetHeight,void(h.current=!1);var t,n=w.current,r=e.offsetHeight,i=e.scrollHeight,a=e.scrollTop,s=o===mse?0:Math.max(0,i-r-a),l=Math.max(0,n-a),d=c({maxValue:s,minValue:l,offsetHeight:r,scrollHeight:i,scrollTop:a}),p=Math.max(0,Math.min(s,d));t=o===mse||p!==s?a+p:"100%",u((function(){var e,o,c;return[dre(e=[dre(o=dre(c="%cscrollToSticky%c: Will animate from %c".concat(n,"px%c to %c")).call(c,"number"==typeof t?t+"px":t.replace(/%/g,"%%"),"%c (%c")).call(o,("100%"===t?s:t)+n,"px%c)")]).call(e,S6(Xae("orange")),S6(Xae("purple")),S6(Xae("purple")),S6(Xae("purple"))),{animateFrom:n,maxValue:s,minValue:l,nextAnimateTo:t,nextValue:p,offsetHeight:r,rawNextValue:d,scrollHeight:i,scrollTop:a}]})),H(t,{behavior:"smooth"})}}),[w,u,o,c,H,x]),Y=(0,t.useCallback)((function(e){var t,n=e.timeStampLow,r=g.current,i=x.current,a=null!==r;if(!(n<=d.current)&&i){var s=vse({mode:o,target:i}),l=s.atBottom,c=s.atEnd,h=s.atStart,p=s.atTop;N(l),O(c),I(h),P(p);var f=i.offsetHeight,m=i.scrollHeight,v=_.current,y=k.current,b=f!==v,w=m!==y;if(b&&(_.current=f),w&&(k.current=m),b||w)z.current&&(u((function(){var e;return[dre(e=["%conScroll%c: Size changed while sticky, calling %cscrollToSticky()%c"]).call(e,S6(Xae("red")),S6(Xae("orange")),[{offsetHeightChanged:b,scrollHeightChanged:w}]),{nextOffsetHeight:f,prevOffsetHeight:v,nextScrollHeight:m,prevScrollHeight:y}]})),K());else{var j=a&&yse(r,o)||c;z.current!==j&&(u((function(){var e,t,n,s;return[dre(e=["%conScroll%c: %csetSticky%c(%c".concat(j,"%c)")]).call(e,S6(Xae("red")),S6(Xae("red")),S6(Xae("purple"))),dre(t=[dre(n=dre(s="(animating = %c".concat(a,"%c && isEnd = %c")).call(s,yse(r,o),"%c) || atEnd = %c")).call(n,c,"%c")]).call(t,S6(Xae("purple")),S6(Xae("purple")),S6(Xae("purple")),[{animating:a,animateTo:r,atEnd:c,mode:o,offsetHeight:i.offsetHeight,scrollHeight:i.scrollHeight,sticky:z.current,nextSticky:j}])]})),F(j))}var S=i.scrollTop;Nre(t=B.current).call(t,(function(e){return e({scrollTop:S})}))}}),[g,u,d,o,_,k,B,K,N,O,I,P,F,z,x]);(0,t.useEffect)((function(){if(y){var e=!1,t=function(e,t){return e(),Sne(e,t)}((function(){var t=x.current,n=null!==g.current;z.current?vse({mode:o,target:t}).atEnd?e=!1:e?mre()-e>34&&(n||(w.current=t.scrollTop,u((function(){var e;return dre(e=["%cInterval check%c: Should sticky but not at end, calling %cscrollToSticky()%c to scroll"]).call(e,S6(Xae("navy")),S6(Xae("orange")))})),K()),e=!1):e=mre():t.scrollHeight<=t.offsetHeight&&!z.current&&(u((function(){var e;return[dre(e=["%cInterval check%c: Container is emptied, setting sticky back to %ctrue%c"]).call(e,S6(Xae("navy")),S6(Xae("purple"))),[{offsetHeight:t.offsetHeight,scrollHeight:t.scrollHeight,sticky:z.current}]]})),F(!0))}),Math.max(17,n)||17);return function(){return clearInterval(t)}}}),[g,n,u,o,K,F,z,y,x]);var G=(0,t.useMemo)((function(){var e=gse[l]||(gse[l]=function(e){var t=fae(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Sae(n,t.registered,void 0);return function(e,t){!function(e,t){var n=e.key+"-"+t.name;void 0===e.registered[n]&&(e.registered[n]=t.styles)}(e,t);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+n:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,i),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Cae(t.registered,n,Oae(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Sae(n,t.registered);Eae(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Sae(n,t.registered),a="animation-"+i.name;return Eae(t,{name:i.name,styles:"@keyframes "+a+"{"+i.styles+"}"}),a},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:Nae.bind(null,t.registered),merge:Cae.bind(null,t.registered,n)}}({key:"react-scroll-to-bottom--css-"+Jae().toString(26).substr(2,5).replace(/[0-9]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+65)})),nonce:l}));return function(t){return e.css(t)+""}}),[l]),J=(0,t.useMemo)((function(){return{observeScrollPosition:$,setTarget:b,styleToClassName:G}}),[$,b,G]),Q=(0,t.useMemo)((function(){return{atBottom:S,atEnd:C,atStart:M,atTop:A,mode:o}}),[S,C,M,A,o]),X=(0,t.useMemo)((function(){var e=null!==f;return{animating:e,animatingToEnd:e&&yse(f,o),sticky:L}}),[f,o,L]),ee=(0,t.useMemo)((function(){return fse(fse({},Q),X)}),[Q,X]),te=(0,t.useMemo)((function(){return{scrollTo:H,scrollToBottom:V,scrollToEnd:W,scrollToStart:Z,scrollToTop:q}}),[H,V,W,Z,q]);return(0,t.useEffect)((function(){if(y){var e=function(){k.current=y.scrollHeight};return y.addEventListener("focus",e,{capture:!0,passive:!0}),function(){return y.removeEventListener("focus",e)}}}),[y]),u((function(){var e;return[dre(e=["%cRender%c: Render"]).call(e,S6(Xae("cyan",""))),{animateTo:f,animating:null!==f,sticky:L,target:y}]})),t.createElement(l6.Provider,{value:J},t.createElement(t6.Provider,{value:te},t.createElement(a6.Provider,{value:ee},t.createElement(r6.Provider,{value:Q},t.createElement(i6.Provider,{value:X},r,y&&t.createElement(lse,{debounce:i,name:"scroll",onEvent:Y,target:y}),y&&null!==f&&t.createElement(dse,{name:"scrollTop",onEnd:U,target:y,value:f}))))))};bse.defaultProps={checkInterval:100,children:void 0,debounce:17,debug:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:function(){return 1/0}},bse.propTypes={checkInterval:e6.number,children:e6.any,debounce:e6.number,debug:e6.bool,initialScrollBehavior:e6.oneOf(["auto","smooth"]),mode:e6.oneOf(["bottom","top"]),nonce:e6.string,scroller:e6.func};var xse={height:"100%",overflowY:"auto",width:"100%"},wse=function(e){var n=e.children,r=e.className,i=(0,t.useContext)(l6).setTarget,a=c6()(xse);return t.createElement("div",{className:Z5(a,(r||"")+""),ref:i},n)};wse.defaultProps={children:void 0,className:void 0},wse.propTypes={children:e6.any,className:e6.string};var _se={position:"relative"},kse=function(e){var n=e.children,r=e.className,i=e.followButtonClassName,a=e.scrollViewClassName,s=c6()(_se);return t.createElement("div",{className:Z5(s,(r||"")+"")},t.createElement(wse,{className:(a||"")+""},n),t.createElement(d6,{className:(i||"")+""}))};kse.defaultProps={children:void 0,className:void 0,followButtonClassName:void 0,scrollViewClassName:void 0},kse.propTypes={children:e6.any,className:e6.string,followButtonClassName:e6.string,scrollViewClassName:e6.string};var jse=function(e){var n=e.checkInterval,r=e.children,i=e.className,a=e.debounce,s=e.debug,o=e.followButtonClassName,l=e.initialScrollBehavior,c=e.mode,u=e.nonce,d=e.scroller,h=e.scrollViewClassName;return t.createElement(bse,{checkInterval:n,debounce:a,debug:s,initialScrollBehavior:l,mode:c,nonce:u,scroller:d},t.createElement(kse,{className:i,followButtonClassName:o,scrollViewClassName:h},r))};jse.defaultProps={checkInterval:void 0,children:void 0,className:void 0,debounce:void 0,debug:void 0,followButtonClassName:void 0,initialScrollBehavior:"smooth",mode:void 0,nonce:void 0,scroller:void 0,scrollViewClassName:void 0},jse.propTypes={checkInterval:e6.number,children:e6.any,className:e6.string,debounce:e6.number,debug:e6.bool,followButtonClassName:e6.string,initialScrollBehavior:e6.oneOf(["auto","smooth"]),mode:e6.oneOf(["bottom","top"]),nonce:e6.string,scroller:e6.func,scrollViewClassName:e6.string},function(e,t){try{var n=global.document;if(typeof n<"u"&&n.createElement&&n.head&&n.head.appendChild){var r=n.querySelector('html meta[name="'.concat(encodeURI(e),'"]'))||n.createElement("meta");r.setAttribute("name",e),r.setAttribute("content",t),n.head.appendChild(r)}}catch{}}("react-scroll-to-bottom:version","4.2.0");const Sse=(0,t.memo)((e=>{let{scrollDownButton:n,className:r,...i}=e;const{messageList:a}=Lj,s=zI((e=>e.conversationId)),o=$I((e=>e.messages))[s??""]??[],l=$I((e=>e.setState)),c=$I((e=>e.client)),u=$I((e=>e.messageContainerRef)),d=$I((e=>e.isTyping)),h=$I((e=>e.setIsTyping)),p=$I((e=>e.headerMessage)),f=(0,t.useMemo)((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"day";var n,r,i;if(!e||0===e.length)return[];const a=[];null!=(n=e[0])&&n.timestamp&&a.push(Nm(e[0].timestamp));for(let s=0;s<e.length;s++)if(e[s]&&a.push(e[s]),s+1<e.length){const n=null==(r=e[s])?void 0:r.timestamp,o=null==(i=e[s+1])?void 0:i.timestamp;!wm(n).isSame(o,t)&&o&&a.push(Nm(o))}return a}(o)),[o]),[m,g]=(0,t.useState)(!0),{y:v}=dI(u),y=(0,t.useCallback)((()=>{if(!u.current)return;const{scrollHeight:e}=u.current;m&&u.current.scrollTo({top:e})}),[]);(0,t.useEffect)((()=>null==c?void 0:c.on("isTyping",(e=>{let{isTyping:t,timeout:n}=e;h(t,n)}))),[]),(0,t.useEffect)((()=>{const e=o[o.length-1];l({disableComposer:!(null==e||!e.disableInput)})}),[o.length]),(0,t.useEffect)((()=>{if(!u.current)return;const{offsetHeight:e,scrollHeight:t,scrollTop:n}=u.current;g(t<=n+e+100)}),[v]);const b=null!=n&&n.icon?null==n?void 0:n.icon:XI;return Uf.jsxs(jse,{...i,className:RR(a.container.className,r),followButtonClassName:"bpHidden",scrollViewClassName:a.viewPort.className,children:[p&&Uf.jsx("span",{...a.headerMessage,children:p}),Uf.jsx(mZ,{}),f.map((e=>Uf.jsx(fZ,{scroll:y,...e},e.id))),d&&Uf.jsx(fZ,{scroll:y,direction:"incoming",children:Uf.jsx(pZ,{})}),Uf.jsx("li",{"data-is-at-bottom":m,...a.scrollDownButton.container,children:Uf.jsxs(Nse,{children:[(null==n?void 0:n.text)??"Back"," ",Uf.jsx(b,{...a.scrollDownButton.icon})]})})]})})),Nse=e=>{const[t]=o6(),n=n6().scrollToBottom,{messageList:{scrollDownButton:r}}=Lj;return!t&&Uf.jsx("button",{type:"button",...r.button,onClick:()=>n(),...e})},Ese=()=>{const{color:e,fontFamily:n,radius:r,themeMode:i,variant:a}=KI(),s=(0,t.useMemo)((()=>Qv({color:e,fontFamily:n,radius:r,themeMode:i,variant:a})),[e,n,r,i,a]);return Uf.jsxs(Uf.Fragment,{children:[Uf.jsxs(ZW,{children:[Uf.jsx(hZ,{}),Uf.jsx(Sse,{}),Uf.jsx(dz,{})]}),Uf.jsx("style",{children:s})]})},Cse=()=>{const e=IP({clientId:"db5d7072-0246-43bb-b509-14e1d2d15530",hostUrl:"https://cdn.botpress.cloud/webchat/v2.4",messagingUrl:"https://messaging.botpress.cloud"});return(0,Ae.jsxs)("div",{style:{width:"100%",maxWidth:"1000px",margin:"20px auto",height:"calc(100vh - 140px)",display:"flex",flexDirection:"column",backgroundColor:"#fff",borderRadius:"10px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflow:"hidden"},children:[(0,Ae.jsx)(zV,{client:e,configuration:{showPoweredBy:!1,showConversationButton:!1,enableReset:!0,composerPlaceholder:"Start asking for help related to Diet, First Aid and Emergency...",botName:"DiGiHealth Assistant",botConversationDescription:"I am here to assist you with medical related queries",backgroundColor:"#ffffff",textColor:"#000000",foregroundColor:"#000000",useSessionStorage:!0,showCloseButton:!1,hideWidget:!0,disableAnimations:!0,className:"health-assistant-chat",containerWidth:"100%",layoutWidth:"100%",layoutHeight:"100%",theme:{style:{background:"#ffffff",fontFamily:"ibm",headerBackground:"#0091ff",headerText:"#ffffff",botMessageBackground:"#f5f8ff",botMessageText:"#000000",userMessageBackground:"#0091ff",userMessageText:"#ffffff",borderRadius:"10px"}}},children:(0,Ae.jsx)("div",{style:{flex:1,width:"100%",height:"100%",position:"relative",border:"1px solid #e2e8f0",borderRadius:"10px",overflow:"hidden"},children:(0,Ae.jsx)(Ese,{})})}),(0,Ae.jsx)("style",{children:'\n          .health-assistant-chat {\n            width: 100% !important;\n            height: 100% !important;\n            max-width: 100% !important;\n            max-height: 100% !important;\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            right: 0 !important;\n            bottom: 0 !important;\n            border-radius: 10px !important;\n            border: none !important;\n            background: #ffffff !important;\n          }\n          .health-assistant-chat > div {\n            width: 100% !important;\n            height: 100% !important;\n            max-width: 100% !important;\n            max-height: 100% !important;\n            border-radius: 10px !important;\n          }\n          .bpw-widget-btn,\n          .bpw-floating-button,\n          .bpw-widget-button,\n          .bpw-float-bubble,\n          button[type="button"].bpw-widget-btn {\n            display: none !important;\n            opacity: 0 !important;\n            visibility: hidden !important;\n            pointer-events: none !important;\n          }\n          .bpw-layout {\n            border: none !important;\n            border-radius: 10px !important;\n            width: 100% !important;\n            height: 100% !important;\n          }\n          .bpw-header {\n            border-top-left-radius: 10px !important;\n            border-top-right-radius: 10px !important;\n          }\n          .bpw-chat-container {\n            height: calc(100% - 52px) !important;\n          }\n          .bpw-composer {\n            border-bottom-left-radius: 10px !important;\n            border-bottom-right-radius: 10px !important;\n          }\n        '})]})};jh.register(gp,xp,Hh,$h,Gh,Ph,Ap,tp,fp,Xh);const Ose=()=>{const{user:e}=Re(),[n,r]=(0,t.useState)({healthTrends:[],imageAnalyses:[],chatHistory:[],recommendations:[]}),[i,a]=(0,t.useState)("week"),[s,o]=(0,t.useState)("all");(0,t.useEffect)((()=>{l()}),[e,i,s]);const l=async()=>{try{const[t,n,i,a]=await Promise.all([Te.supabase.from("health_metrics").select("*").eq("user_id",e.id).order("recorded_at",{ascending:!1}),Te.supabase.from("medical_analyses").select("*").eq("user_id",e.id).order("analyzed_at",{ascending:!1}),Te.supabase.from("chat_history").select("*").eq("user_id",e.id).order("created_at",{ascending:!1}),Te.supabase.from("ai_recommendations").select("*").eq("user_id",e.id).order("created_at",{ascending:!1})]);r({healthTrends:t.data||[],imageAnalyses:n.data||[],chatHistory:i.data||[],recommendations:a.data||[]})}catch(t){console.error("Error fetching AI insights:",t)}};return(0,Ae.jsxs)("div",{className:"ai-insights-container",children:[(0,Ae.jsx)("h1",{className:"text-center mb-4",children:"AI Health Insights Dashboard"}),(0,Ae.jsxs)("div",{className:"controls-section mb-4",children:[(0,Ae.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"form-select me-2",children:[(0,Ae.jsx)("option",{value:"week",children:"Last Week"}),(0,Ae.jsx)("option",{value:"month",children:"Last Month"}),(0,Ae.jsx)("option",{value:"year",children:"Last Year"})]}),(0,Ae.jsxs)("select",{value:s,onChange:e=>o(e.target.value),className:"form-select",children:[(0,Ae.jsx)("option",{value:"all",children:"All Metrics"}),(0,Ae.jsx)("option",{value:"vitals",children:"Vital Signs"}),(0,Ae.jsx)("option",{value:"lab",children:"Lab Results"}),(0,Ae.jsx)("option",{value:"lifestyle",children:"Lifestyle"})]})]}),(0,Ae.jsxs)("div",{className:"card mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h3",{children:[(0,Ae.jsx)(Ht,{})," Health Trends Analysis"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)(Gp,{data:{labels:n.healthTrends.map((e=>new Date(e.recorded_at).toLocaleDateString())),datasets:[{label:"Health Score",data:n.healthTrends.map((e=>e.value)),borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{responsive:!0,plugins:{title:{display:!0,text:"Health Metrics Over Time"}}}})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)(Qp,{data:{labels:["Blood Pressure","Heart Rate","Blood Sugar","Sleep","Exercise","Diet"],datasets:[{label:"Current Status",data:[65,75,70,80,60,85],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgb(75, 192, 192)",pointBackgroundColor:"rgb(75, 192, 192)"}]}})})]})})]}),(0,Ae.jsxs)("div",{className:"card mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h3",{children:[(0,Ae.jsx)(an,{})," Medical Image Analysis History"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsx)("div",{className:"table-responsive",children:(0,Ae.jsxs)("table",{className:"table",children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{children:"Date"}),(0,Ae.jsx)("th",{children:"Image Type"}),(0,Ae.jsx)("th",{children:"Analysis Result"}),(0,Ae.jsx)("th",{children:"Confidence"})]})}),(0,Ae.jsx)("tbody",{children:n.imageAnalyses.map(((e,t)=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{children:new Date(e.analyzed_at).toLocaleDateString()}),(0,Ae.jsx)("td",{children:e.image_type}),(0,Ae.jsx)("td",{children:e.result}),(0,Ae.jsxs)("td",{children:[e.confidence,"%"]})]},t)))})]})})})]}),(0,Ae.jsxs)("div",{className:"card mb-4",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h3",{children:[(0,Ae.jsx)(Bt,{})," AI Health Recommendations"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsxs)("div",{className:"row",children:[(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)(Xp,{data:{labels:["Diet","Exercise","Sleep","Medication","Lifestyle"],datasets:[{data:[30,25,20,15,10],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},options:{plugins:{title:{display:!0,text:"Recommendation Categories"}}}})}),(0,Ae.jsx)("div",{className:"col-md-6",children:(0,Ae.jsx)("div",{className:"recommendations-list",children:n.recommendations.slice(0,5).map(((e,t)=>(0,Ae.jsxs)("div",{className:"recommendation-item",children:[(0,Ae.jsx)("h5",{children:e.category}),(0,Ae.jsx)("p",{children:e.recommendation})]},t)))})})]})})]}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{className:"card-header",children:(0,Ae.jsxs)("h3",{children:[(0,Ae.jsx)(Cn,{})," Health Assistant Interactions"]})}),(0,Ae.jsx)("div",{className:"card-body",children:(0,Ae.jsx)(Jp,{data:{labels:["Diet Queries","Symptom Analysis","Medical Terms","First Aid","General Health"],datasets:[{label:"Interaction Distribution",data:[45,32,28,15,30],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgb(75, 192, 192)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})})]})]})},Tse=()=>{const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),c=(0,t.useCallback)((async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)throw new Error("No user logged in");const t={weight:[{date:"2024-01-01",value:70},{date:"2024-02-01",value:69},{date:"2024-03-01",value:68}],bloodPressure:[{date:"2024-01-01",systolic:120,diastolic:80},{date:"2024-02-01",systolic:118,diastolic:78},{date:"2024-03-01",systolic:122,diastolic:82}],heartRate:[{date:"2024-01-01",value:72},{date:"2024-02-01",value:70},{date:"2024-03-01",value:71}]};s(t),u(t)}catch(r){console.error("Error fetching health metrics:",r),i("Failed to load health metrics")}finally{n(!1)}}),[]);(0,t.useEffect)((()=>{c()}),[c]);const u=e=>{l({weight:{trend:"decreasing",change:-2,recommendation:"Your weight shows a healthy decreasing trend. Keep up the good work!"},bloodPressure:{trend:"stable",recommendation:"Your blood pressure remains within normal range. Continue monitoring regularly."},heartRate:{trend:"stable",recommendation:"Your heart rate is consistent and within healthy range."},overall:{status:"Good",recommendations:["Maintain current lifestyle habits","Continue regular exercise","Keep monitoring your metrics"]}})};return e?(0,Ae.jsx)("div",{className:"text-center py-4",children:(0,Ae.jsx)(Kn,{})}):r?(0,Ae.jsx)("div",{className:"alert alert-danger m-4",children:r}):(0,Ae.jsx)("div",{className:"container py-4",children:(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsxs)("div",{className:"col-12",children:[(0,Ae.jsx)("h2",{className:"mb-4",children:"AI Health Metrics Analysis"}),a&&o&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h4",{children:["Overall Health Status: ",(0,Ae.jsx)("span",{className:"text-success",children:o.overall.status})]}),(0,Ae.jsxs)("div",{className:"mt-3",children:[(0,Ae.jsx)("h5",{children:"Key Findings:"}),(0,Ae.jsxs)("ul",{className:"list-group list-group-flush",children:[(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("strong",{children:"Weight:"})," ",o.weight.recommendation]}),(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("strong",{children:"Blood Pressure:"})," ",o.bloodPressure.recommendation]}),(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("strong",{children:"Heart Rate:"})," ",o.heartRate.recommendation]})]})]})]})}),(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h4",{children:"Recommendations"}),(0,Ae.jsx)("ul",{className:"list-group list-group-flush",children:o.overall.recommendations.map(((e,t)=>(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e]},t)))})]})}),(0,Ae.jsxs)("div",{className:"alert alert-info",children:[(0,Ae.jsx)("i",{className:"fas fa-info-circle me-2"}),"This analysis is based on your recorded health metrics. For personalized medical advice, please consult with your healthcare provider."]})]})]})})})},Ase=()=>{const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[a,s]=(0,t.useState)("moderate"),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null);return(0,Ae.jsx)("div",{className:"container py-4",children:(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsxs)("div",{className:"col-12",children:[(0,Ae.jsx)("h2",{className:"mb-4",children:"AI Symptom Checker"}),(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.trim()){u(!0),h(null),l(null);try{l({possibleConditions:[{condition:"Common Cold",probability:.8,description:"A viral infection causing runny nose, sore throat, and cough",recommendations:["Rest and hydration","Over-the-counter cold medications","Monitor symptoms"]},{condition:"Seasonal Allergies",probability:.6,description:"An allergic response to environmental triggers",recommendations:["Antihistamines","Avoid known triggers","Consider consulting an allergist"]}],urgencyLevel:"Low",generalAdvice:"Based on the symptoms described, immediate medical attention is not required. However, if symptoms worsen or persist, please consult a healthcare provider.",whenToSeekHelp:["Symptoms persist beyond 7 days","Development of high fever","Difficulty breathing","Severe pain"]})}catch(d){console.error("Error analyzing symptoms:",d),h("Failed to analyze symptoms. Please try again.")}finally{u(!1)}}},children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"symptoms",className:"form-label",children:"Describe your symptoms"}),(0,Ae.jsx)("textarea",{className:"form-control",id:"symptoms",rows:"3",value:e,onChange:e=>n(e.target.value),placeholder:"Example: I have a headache, fever, and sore throat..."})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"duration",className:"form-label",children:"How long have you had these symptoms?"}),(0,Ae.jsx)("input",{type:"text",className:"form-control",id:"duration",value:r,onChange:e=>i(e.target.value),placeholder:"Example: 2 days"})]}),(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"severity",className:"form-label",children:"Severity of symptoms"}),(0,Ae.jsxs)("select",{className:"form-select",id:"severity",value:a,onChange:e=>s(e.target.value),children:[(0,Ae.jsx)("option",{value:"mild",children:"Mild"}),(0,Ae.jsx)("option",{value:"moderate",children:"Moderate"}),(0,Ae.jsx)("option",{value:"severe",children:"Severe"})]})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c||!e.trim(),children:c?(0,Ae.jsx)(Kn,{}):"Analyze Symptoms"})]}),d&&(0,Ae.jsx)("div",{className:"alert alert-danger mt-3",children:d}),o&&(0,Ae.jsxs)("div",{className:"mt-4",children:[(0,Ae.jsx)("h4",{children:"Analysis Results"}),(0,Ae.jsxs)("div",{className:"alert alert-info mb-3",children:[(0,Ae.jsx)("strong",{children:"Urgency Level:"})," ",o.urgencyLevel]}),(0,Ae.jsx)("h5",{children:"Possible Conditions:"}),o.possibleConditions.map(((e,t)=>(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("h6",{className:"card-title",children:[e.condition,(0,Ae.jsxs)("span",{className:"badge bg-primary ms-2",children:[(100*e.probability).toFixed(0),"% match"]})]}),(0,Ae.jsx)("p",{className:"card-text",children:e.description}),(0,Ae.jsx)("h6",{children:"Recommendations:"}),(0,Ae.jsx)("ul",{children:e.recommendations.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]})},t))),(0,Ae.jsx)("div",{className:"card mb-3",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h5",{children:"When to Seek Medical Help:"}),(0,Ae.jsx)("ul",{children:o.whenToSeekHelp.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]})}),(0,Ae.jsxs)("div",{className:"alert alert-warning",children:[(0,Ae.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),"This is an AI-powered analysis and should not replace professional medical advice. If you're concerned about your symptoms, please consult a healthcare provider."]})]})]})})]})})})},Pse=()=>{const[e,n]=(0,t.useState)(!1),[r,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)("general"),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(null),v=ee(),y=[{id:"general",label:"General Health"},{id:"nutrition",label:"Nutrition & Diet"},{id:"fitness",label:"Fitness & Exercise"},{id:"sleep",label:"Sleep Improvement"},{id:"stress",label:"Stress Management"},{id:"chronic",label:"Chronic Condition Management"}];(0,t.useEffect)((()=>{(async()=>{try{const{data:{user:e}}=await Te.supabase.auth.getUser();if(!e)return void v("/login");i(e.id),b(e.id),x(e.id)}catch(m){console.error("Error checking authentication",m)}})()}),[v]);const b=async e=>{try{var t,n;const{data:r,error:i}=await Te.supabase.from("profiles").select("\n          first_name, \n          last_name, \n          date_of_birth, \n          gender, \n          height, \n          weight,\n          user_conditions (\n            condition_name\n          ),\n          user_medications (\n            medication_name,\n            dosage\n          ),\n          health_metrics (*)\n        ").eq("id",e).single();if(i)throw i;let a=null;if(r.height&&r.weight){const e=r.height/100;a=(r.weight/(e*e)).toFixed(1)}s({...r,bmi:a,conditions:(null===(t=r.user_conditions)||void 0===t?void 0:t.map((e=>e.condition_name)))||[],medications:(null===(n=r.user_medications)||void 0===n?void 0:n.map((e=>e.medication_name)))||[]})}catch(m){console.error("Error fetching profile",m)}},x=async e=>{try{const{data:t,error:n}=await Te.supabase.from("health_recommendations").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(n)throw n;u(t||[])}catch(m){console.error("Error fetching recommendation history",m)}},w=async e=>{try{const{error:t}=await Te.supabase.from("health_recommendations").insert([{user_id:r,focus_area:e.focus_area,recommendations:JSON.stringify(e),created_at:e.created_at}]);if(t)throw t}catch(m){console.error("Error saving recommendations:",m)}},_=e=>{if(!e)return"Unknown";const t=new Date,n=new Date(e);let r=t.getFullYear()-n.getFullYear();const i=t.getMonth()-n.getMonth();return(i<0||0===i&&t.getDate()<n.getDate())&&r--,r};return(0,Ae.jsxs)("div",{className:"health-recommendations",children:[(0,Ae.jsx)("h1",{children:"Health Recommendations"}),m&&(0,Ae.jsx)("div",{className:"error-message",children:m}),(0,Ae.jsxs)("div",{className:"recommendations-form",children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Focus Area:"}),(0,Ae.jsx)("select",{value:d,onChange:e=>h(e.target.value),children:y.map((e=>(0,Ae.jsx)("option",{value:e.id,children:e.label},e.id)))})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{children:"Additional Context (optional):"}),(0,Ae.jsx)("textarea",{value:p,onChange:e=>f(e.target.value),placeholder:"Add any additional information or specific concerns..."})]}),(0,Ae.jsx)("button",{onClick:async()=>{if(n(!0),g(null),!a)return g("Please complete your health profile first."),void n(!1);try{const e=`Generate health recommendations for a ${_(a.date_of_birth)} year old ${a.gender||"person"} with the following profile:\n      Height: ${a.height?`${a.height} cm`:"Not provided"}\n      Weight: ${a.weight?`${a.weight} kg`:"Not provided"}\n      BMI: ${a.bmi||"Not calculated"}\n      Medical Conditions: ${a.conditions.length>0?a.conditions.join(", "):"None"}\n      Medications: ${a.medications.length>0?a.medications.join(", "):"None"}\n      \n      Focus Area: ${d}\n      \n      ${p?`Additional Context: ${p}`:""}\n      \n      Please provide recommendations in the following categories:\n      - General health recommendations\n      - Lifestyle changes\n      - Dietary advice\n      - Exercise plan\n      - Follow-up actions\n      \n      Format the response as a JSON object with these fields:\n      - recommendations: array of specific health recommendations\n      - lifestyleChanges: array of lifestyle modifications\n      - dietaryAdvice: array of dietary recommendations\n      - exercisePlan: array of exercise recommendations\n      - followUpActions: array of follow-up actions\n      - summary: a brief summary of all recommendations`,t=await fetch("https://digihealth-backend.onrender.com/api/analyze-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,analysisType:"recommendations"})});if(!t.ok){const e=await t.json();throw new Error(e.error||"Failed to generate recommendations")}const n=await t.json(),i={focus_area:d,summary:n.summary||"No specific recommendations generated.",recommendations:n.recommendations||[],lifestyleChanges:n.lifestyleChanges||[],dietaryAdvice:n.dietaryAdvice||[],exercisePlan:n.exercisePlan||[],followUpActions:n.followUpActions||[],created_at:(new Date).toISOString()};l(i),await w(i),x(r)}catch(m){console.error("Error generating recommendations:",m);const t={focus_area:d,summary:"Based on your profile, here are some general health recommendations:",recommendations:["Maintain a balanced diet with plenty of fruits and vegetables","Stay physically active with regular exercise","Get adequate sleep (7-9 hours per night)","Stay hydrated by drinking plenty of water","Schedule regular check-ups with your healthcare provider"],lifestyleChanges:["Incorporate regular physical activity into your daily routine","Practice stress management techniques","Maintain a consistent sleep schedule","Limit alcohol consumption and avoid smoking"],dietaryAdvice:["Eat a variety of nutrient-rich foods","Limit processed foods and added sugars","Include lean proteins in your diet","Stay hydrated throughout the day"],exercisePlan:["Aim for at least 150 minutes of moderate exercise per week","Include both cardio and strength training","Start slowly and gradually increase intensity","Find activities you enjoy to stay motivated"],followUpActions:["Schedule a follow-up with your healthcare provider","Track your progress and adjust as needed","Join a support group or find an accountability partner","Set specific, measurable health goals"],created_at:(new Date).toISOString()};l(t),g("Note: These are general recommendations as the AI service is currently unavailable. Please consult with your healthcare provider for personalized advice."),await w(t),x(r)}finally{n(!1)}},disabled:e,className:"generate-button",children:e?(0,Ae.jsx)(Kn,{}):"Generate Recommendations"})]}),o&&(0,Ae.jsxs)("div",{className:"recommendations-results",children:[(0,Ae.jsx)("h2",{children:"Your Personalized Recommendations"}),(0,Ae.jsxs)("div",{className:"summary-section",children:[(0,Ae.jsx)("h3",{children:"Summary"}),(0,Ae.jsx)("p",{children:o.summary})]}),(0,Ae.jsxs)("div",{className:"recommendations-grid",children:[(0,Ae.jsxs)("div",{className:"recommendation-category",children:[(0,Ae.jsx)("h3",{children:"General Recommendations"}),(0,Ae.jsx)("ul",{children:o.recommendations.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]}),(0,Ae.jsxs)("div",{className:"recommendation-category",children:[(0,Ae.jsx)("h3",{children:"Lifestyle Changes"}),(0,Ae.jsx)("ul",{children:o.lifestyleChanges.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]}),(0,Ae.jsxs)("div",{className:"recommendation-category",children:[(0,Ae.jsx)("h3",{children:"Dietary Advice"}),(0,Ae.jsx)("ul",{children:o.dietaryAdvice.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]}),(0,Ae.jsxs)("div",{className:"recommendation-category",children:[(0,Ae.jsx)("h3",{children:"Exercise Plan"}),(0,Ae.jsx)("ul",{children:o.exercisePlan.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]}),(0,Ae.jsxs)("div",{className:"recommendation-category",children:[(0,Ae.jsx)("h3",{children:"Follow-up Actions"}),(0,Ae.jsx)("ul",{children:o.followUpActions.map(((e,t)=>(0,Ae.jsx)("li",{children:e},t)))})]})]})]}),c.length>0&&(0,Ae.jsxs)("div",{className:"recommendation-history",children:[(0,Ae.jsx)("h2",{children:"Previous Recommendations"}),(0,Ae.jsx)("div",{className:"history-list",children:c.map((e=>{var t;return(0,Ae.jsxs)("div",{className:"history-item",children:[(0,Ae.jsx)("h3",{children:(null===(t=y.find((t=>t.id===e.focus_area)))||void 0===t?void 0:t.label)||e.focus_area}),(0,Ae.jsx)("p",{children:new Date(e.created_at).toLocaleDateString()}),(0,Ae.jsx)("button",{onClick:()=>(async e=>{try{const t=c.find((t=>t.id===e));t&&l(JSON.parse(t.recommendations))}catch(m){console.error("Error viewing historical recommendation:",m)}})(e.id),children:"View Details"})]},e.id)}))})]})]})},Rse=()=>{const{user:e}=Re(),[n,r]=(0,t.useState)(null),[i,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),u=async(t,n)=>{try{var r;const{data:i,error:a}=await Te.supabase.storage.from("health-reports").upload(`${e.id}/${Date.now()}-${t.name}`,t);if(a)throw new Error("Failed to save document: "+a.message);const{data:{publicUrl:s}}=Te.supabase.storage.from("health-reports").getPublicUrl(i.path),{error:o}=await Te.supabase.from("healthrecords").insert({user_id:e.id,document_url:s,document_name:t.name,document_type:t.type,ai_summary:(null===(r=n.aiAnalysis)||void 0===r?void 0:r.summary)||"No summary available",created_at:(new Date).toISOString()});if(o)throw new Error("Failed to save document record: "+o.message);return!0}catch(s){return console.error("Error saving document:",s),!1}};return(0,Ae.jsx)("div",{className:"container py-4",children:(0,Ae.jsx)("div",{className:"row",children:(0,Ae.jsx)("div",{className:"col-12",children:(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h2",{className:"mb-4",children:"AI Document Scanner"}),(0,Ae.jsxs)("div",{className:"row mb-4",children:[(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-center p-3",children:[(0,Ae.jsx)(Cn,{className:"fa-3x text-primary mb-2"}),(0,Ae.jsx)("h5",{children:"AI Analysis"}),(0,Ae.jsx)("p",{className:"small text-muted",children:"Smart extraction of medical information"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-center p-3",children:[(0,Ae.jsx)(Ht,{className:"fa-3x text-success mb-2"}),(0,Ae.jsx)("h5",{children:"Health Insights"}),(0,Ae.jsx)("p",{className:"small text-muted",children:"Track your health metrics over time"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-center p-3",children:[(0,Ae.jsx)(gn,{className:"fa-3x text-warning mb-2"}),(0,Ae.jsx)("h5",{children:"Smart Recommendations"}),(0,Ae.jsx)("p",{className:"small text-muted",children:"Personalized health advice"})]})}),(0,Ae.jsx)("div",{className:"col-md-3",children:(0,Ae.jsxs)("div",{className:"text-center p-3",children:[(0,Ae.jsx)(dn,{className:"fa-3x text-info mb-2"}),(0,Ae.jsx)("h5",{children:"Health History"}),(0,Ae.jsx)("p",{className:"small text-muted",children:"Build your complete health profile"})]})})]}),(0,Ae.jsxs)("div",{className:"alert alert-info mb-4",children:[(0,Ae.jsx)("h5",{className:"alert-heading",children:"How it works:"}),(0,Ae.jsxs)("ol",{className:"mb-0",children:[(0,Ae.jsx)("li",{children:"Upload your medical document (PDF, DOC, DOCX, TXT)"}),(0,Ae.jsx)("li",{children:"Our AI analyzes the content and extracts key information"}),(0,Ae.jsx)("li",{children:"Get instant insights about conditions, medications, and recommendations"}),(0,Ae.jsx)("li",{children:"Track your health metrics and build your health history"})]})]}),(0,Ae.jsx)("div",{className:"card mb-4",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("label",{htmlFor:"documentUpload",className:"form-label",children:"Upload Medical Document"}),(0,Ae.jsxs)("div",{className:"input-group",children:[(0,Ae.jsx)("input",{type:"file",className:"form-control",id:"documentUpload",accept:".pdf,.doc,.docx,.txt",onChange:e=>{const t=e.target.files[0];t&&(r(t),o(null),c(null))}}),(0,Ae.jsx)("label",{className:"input-group-text",htmlFor:"documentUpload",children:(0,Ae.jsx)(Kt,{})})]}),(0,Ae.jsx)("small",{className:"text-muted",children:"Supported formats: PDF, DOC, DOCX, TXT"}),n&&(0,Ae.jsx)("div",{className:"mt-2",children:(0,Ae.jsxs)("span",{className:"badge bg-light text-dark p-2",children:[(()=>{if(!n)return(0,Ae.jsx)(nn,{});const e=n.name.split(".").pop().toLowerCase();return"pdf"===e?(0,Ae.jsx)(sn,{}):["doc","docx"].includes(e)?(0,Ae.jsx)(on,{}):(0,Ae.jsx)(nn,{})})()," ",n.name]})})]}),(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(n){a(!0),o(null);try{const e=new FormData;e.append("file",n);const t=await fetch("https://digihealth-backend.onrender.com/api/process-file",{method:"POST",body:e});if(!t.ok){let e,r="Error processing file";try{if(e=await t.json(),console.error("Backend error response:",e),r=e.error||r,e.details&&(e.details.includes("API key")||e.details.includes("authentication")||e.details.includes("401"))){o("The AI service is temporarily unavailable. Your file will be uploaded but not analyzed.");const e={parameters:{},aiAnalysis:{conditions:[],medications:[],recommendations:"AI analysis unavailable. Please review the document manually.",summary:"This document was uploaded but could not be analyzed by AI due to service unavailability."}};return await u(n,e),c(e),void a(!1)}}catch(bm){console.error("Failed to parse error response",bm)}throw new Error(r)}const r=await t.json();await u(n,r),c(r)}catch(e){console.error("Error processing document:",e),o("An error occurred while processing the file. Using basic analysis.");try{const t=await(async t=>new Promise(((n,r)=>{const i=new FileReader;i.onload=t=>{try{const e=t.target.result;n(e)}catch(e){r(e)}},i.onerror=e=>r(e),"application/pdf"===t.type?i.readAsArrayBuffer(t):i.readAsText(t)})))(n),r=((e,t)=>{try{let n="";if("application/pdf"===t)return{parameters:{documentType:t,pageCount:"Unknown",wordCount:"Unknown"},aiAnalysis:{conditions:[],medications:[],summary:"PDF files require server-side processing. Please try again later.",recommendations:"Please consult with your healthcare provider for a complete analysis of this document."}};n="string"===typeof e?e:"";const r=n.split("\n"),i=[],a=[];let s="";return r.forEach((e=>{(e.toLowerCase().includes("condition")||e.toLowerCase().includes("diagnosis"))&&i.push(e.trim()),(e.toLowerCase().includes("medication")||e.toLowerCase().includes("prescription"))&&a.push(e.trim()),e.length>50&&(s+=e+" ")})),{parameters:{documentType:t,pageCount:Math.ceil(n.length/2e3),wordCount:n.split(/\s+/).length},aiAnalysis:{conditions:i.slice(0,5),medications:a.slice(0,5),summary:s.slice(0,200)+"...",recommendations:"Please consult with your healthcare provider for a complete analysis of this document."}}}catch(s){return console.error("Error in local processing:",s),{parameters:{documentType:t,pageCount:"Error",wordCount:"Error"},aiAnalysis:{conditions:[],medications:[],summary:"Error processing document locally.",recommendations:"Please try again later or contact support."}}}})(t,n.type),i=await u(n,r);c(r),i||o("Document analysis complete, but failed to save to storage. Results are still available.")}catch(t){o("Failed to process document. Please try again later.")}}finally{a(!1)}}else o("Please select a file first")},disabled:!n||i,children:i?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Processing..."]}):"Analyze Document"}),s&&(0,Ae.jsxs)("div",{className:"alert alert-warning mt-3",children:[(0,Ae.jsx)("i",{className:"fas fa-exclamation-triangle me-2"}),s]})]})}),l&&(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"card-body",children:[(0,Ae.jsx)("h5",{className:"card-title",children:"Analysis Results"}),l.parameters&&Object.keys(l.parameters).length>0&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("h6",{children:"Document Information:"}),(0,Ae.jsx)("ul",{className:"list-group",children:Object.entries(l.parameters).map((e=>{let[t,n]=e;return(0,Ae.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,Ae.jsx)("span",{children:t}),(0,Ae.jsx)("span",{className:"badge bg-primary rounded-pill",children:n})]},t)}))})]}),l.aiAnalysis&&(0,Ae.jsxs)("div",{children:[l.aiAnalysis.conditions&&l.aiAnalysis.conditions.length>0&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("h6",{children:"Identified Conditions:"}),(0,Ae.jsx)("ul",{className:"list-group",children:l.aiAnalysis.conditions.map(((e,t)=>(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("i",{className:"fas fa-check-circle text-success me-2"}),e]},t)))})]}),l.aiAnalysis.medications&&l.aiAnalysis.medications.length>0&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("h6",{children:"Medications:"}),(0,Ae.jsx)("ul",{className:"list-group",children:l.aiAnalysis.medications.map(((e,t)=>(0,Ae.jsxs)("li",{className:"list-group-item",children:[(0,Ae.jsx)("i",{className:"fas fa-pills text-primary me-2"}),e]},t)))})]}),l.aiAnalysis.recommendations&&(0,Ae.jsxs)("div",{className:"mb-3",children:[(0,Ae.jsx)("h6",{children:"AI Recommendations:"}),(0,Ae.jsx)("div",{className:"alert alert-info",children:l.aiAnalysis.recommendations})]}),l.aiAnalysis.summary&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h6",{children:"Document Summary:"}),(0,Ae.jsx)("div",{className:"alert alert-light",children:l.aiAnalysis.summary})]})]}),(0,Ae.jsxs)("div",{className:"alert alert-success mt-3",children:[(0,Ae.jsx)("i",{className:"fas fa-check-circle me-2"}),"This document has been analyzed and saved to your health records. You can access it from your health overview page."]})]})})]})})})})})};const Mse=function(){return(0,Ae.jsx)(je,{basename:"/DiGiHealthAdv",future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:(0,Ae.jsxs)(Me,{children:[(0,Ae.jsx)(ct,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored",transition:"Bounce",limit:3}),(0,Ae.jsxs)(ye,{children:[(0,Ae.jsx)(ge,{path:"/",element:(0,Ae.jsx)(Nt,{})}),(0,Ae.jsx)(ge,{path:"/register",element:(0,Ae.jsx)(Zn,{})}),(0,Ae.jsx)(ge,{path:"/dashboard",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Ja,{})})}),(0,Ae.jsx)(ge,{path:"/health-overview",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Xs,{})})}),(0,Ae.jsx)(ge,{path:"/medical-history",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(eo,{})})}),(0,Ae.jsx)(ge,{path:"/chronic-disease-management",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(to,{})})}),(0,Ae.jsx)(ge,{path:"/vaccination-history",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(no,{})})}),(0,Ae.jsx)(ge,{path:"/medication-tracker",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(ro,{})})}),(0,Ae.jsx)(ge,{path:"/health-analytics",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(ef,{})})}),(0,Ae.jsx)(ge,{path:"/appointments/upcoming",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(tf,{})})}),(0,Ae.jsx)(ge,{path:"/appointments/history",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(nf,{})})}),(0,Ae.jsx)(ge,{path:"/appointments/telehealth",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(rf,{})})}),(0,Ae.jsx)(ge,{path:"/appointments/reminders",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(af,{})})}),(0,Ae.jsx)(ge,{path:"/help-center",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(sf,{})})}),(0,Ae.jsx)(ge,{path:"/support/contact",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(of,{})})}),(0,Ae.jsx)(ge,{path:"/support/chat",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(lf,{})})}),(0,Ae.jsx)(ge,{path:"/profile",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(cf,{})})}),(0,Ae.jsx)(ge,{path:"/settings/security",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(uf,{})})}),(0,Ae.jsx)(ge,{path:"/settings/backup",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(df,{})})}),(0,Ae.jsx)(ge,{path:"/admin/database-setup",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(ff,{})})}),(0,Ae.jsx)(ge,{path:"/health-metrics",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(mf,{})})}),(0,Ae.jsx)(ge,{path:"/ai-insights",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Ose,{})})}),(0,Ae.jsx)(ge,{path:"/health-metrics/upload",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(mf,{mode:"upload"})})}),(0,Ae.jsx)(ge,{path:"/health-assistant/recommendations",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Cse,{mode:"recommendations"})})}),(0,Ae.jsx)(ge,{path:"/ai/health-metrics",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Tse,{})})}),(0,Ae.jsx)(ge,{path:"/ai/health-assistant",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Cse,{})})}),(0,Ae.jsx)(ge,{path:"/ai/health-recommendations",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Pse,{})})}),(0,Ae.jsx)(ge,{path:"/ai/symptom-checker",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Ase,{})})}),(0,Ae.jsx)(ge,{path:"/ai/document-scanner",element:(0,Ae.jsx)(St,{children:(0,Ae.jsx)(Rse,{})})})]})]})})},Ise=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Dse(e,t){navigator.serviceWorker.register(e).then((e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((e=>{console.error("Error during service worker registration:",e)}))}const Lse=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)}))};i.createRoot(document.getElementById("root")).render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(Mse,{})})),function(e){if("serviceWorker"in navigator){if(new URL("/DiGiHealthAdv",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(()=>{const t="/DiGiHealthAdv/service-worker.js";Ise?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((n=>{const r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((e=>{e.unregister().then((()=>{window.location.reload()}))})):Dse(e,t)})).catch((()=>{console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Dse(t,e)}))}}(),Lse()})()})();
//# sourceMappingURL=main.45487077.js.map